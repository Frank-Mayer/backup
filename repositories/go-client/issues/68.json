{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "In the plug.Nvim.subscribe(event) i can subscribe to the events like CurrentLine or CurrentBuffer, but i don't think it is clear where i am going to receive the notifications about the changes?\r\n\r\nE.g.\r\n```\r\n\tplugin.Main(func(p *plugin.Plugin) error {\r\n\t\terr := p.Nvim.Subscribe(\"CurrentLine\")\r\n        }\r\n```\r\nThe documentation on the Nvim Client API is very extensive, but i have not found a easy to follow tutorial or anything like that which indicates how exactly this can be used. \r\n\r\nI was also looking at the Batch struct:\r\n```\r\n\t\tb := p.Nvim.NewBatch()\r\n\t\tb.Subscribe(\"CurrentLine\")\r\n```\r\nBut it is hard to tell when looking at the remaining methods how to get the changes, i was hoping for a definition with a callback function like:\r\n```\r\np.Nvim.Subscribe(\"CurrentLine\", func(changes){\r\n   // handle changes\r\n}) \r\n```\r\n",
    "closed_at": "2020-04-01T20:32:55Z",
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "I figured it out :) ",
            "created_at": "2020-04-01T20:32:55Z",
            "html_url": "https://github.com/neovim/go-client/issues/68#issuecomment-607475349",
            "id": 607475349,
            "issue_url": "https://api.github.com/repos/neovim/go-client/issues/68",
            "node_id": "MDEyOklzc3VlQ29tbWVudDYwNzQ3NTM0OQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/go-client/issues/comments/607475349/reactions"
            },
            "updated_at": "2020-04-01T20:32:55Z",
            "url": "https://api.github.com/repos/neovim/go-client/issues/comments/607475349",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8144937?v=4",
                "events_url": "https://api.github.com/users/DenLilleMand/events{/privacy}",
                "followers_url": "https://api.github.com/users/DenLilleMand/followers",
                "following_url": "https://api.github.com/users/DenLilleMand/following{/other_user}",
                "gists_url": "https://api.github.com/users/DenLilleMand/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/DenLilleMand",
                "id": 8144937,
                "login": "DenLilleMand",
                "node_id": "MDQ6VXNlcjgxNDQ5Mzc=",
                "organizations_url": "https://api.github.com/users/DenLilleMand/orgs",
                "received_events_url": "https://api.github.com/users/DenLilleMand/received_events",
                "repos_url": "https://api.github.com/users/DenLilleMand/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/DenLilleMand/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/DenLilleMand/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/DenLilleMand"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "@DenLilleMand please share your solution here for others finding this via search.",
            "created_at": "2020-04-04T13:48:09Z",
            "html_url": "https://github.com/neovim/go-client/issues/68#issuecomment-609031314",
            "id": 609031314,
            "issue_url": "https://api.github.com/repos/neovim/go-client/issues/68",
            "node_id": "MDEyOklzc3VlQ29tbWVudDYwOTAzMTMxNA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/go-client/issues/comments/609031314/reactions"
            },
            "updated_at": "2020-04-04T13:48:09Z",
            "url": "https://api.github.com/repos/neovim/go-client/issues/comments/609031314",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "author_association": "NONE",
            "body": "Yeah, \"figured it out' was an exaggeration, i actually gave up because\r\nit threw some undefined function error, but listening for the AutoCMD should be done with something like this i suppose:\r\n```\r\npackage main\r\n\r\nimport (\r\n\t\"github.com/neovim/go-client/nvim\"\r\n\t\"github.com/neovim/go-client/nvim/plugin\"\r\n)\r\n\r\nfunc somethingChanged(vim *nvim.Nvim, fileName string) error {\r\n\terr := vim.WriteOut(fmt.Sprintf(\"File name:%s\\n\", fileName))\r\n\tif err != nil {\r\n\t\treturn err\r\n\t}\r\n\treturn nil\r\n}\r\n\r\n\r\nfunc main() {\r\n\tplugin.Main(func(p *plugin.Plugin) error {\r\n\t\tp.HandleAutocmd(&plugin.AutocmdOptions{Event: \"BufEnter\", Group: \"\", Pattern: \"\", Nested: false, Eval: \"expand(\\\"<afile>\\\")\"}, somethingChanged)\r\n\t\treturn nil\r\n\t})\r\n}\r\n```\r\nBut when this event was triggered it threw a unknown function kind of error.\r\n\r\nI was also trying to listen to the autocmd in vimscript, with something like:\r\n```\r\nautocmd BufEnter * :call rpcnotify(<channel id>, <method>, <args> )\r\n```\r\n------\r\nI think that defining it in VimScript or in the Go code listening for a `event` is okay, but both at the same time is not necessary. I learned that from playing around with the `pynvim` plugin that just seemed to work with AutoCmd annotations, i had that one working pretty easily.\r\nSo at the end of the day i actually dropped this one, and used `pynvim` instead.\r\n\r\nWhat i especially found challenging trying to figure this out is which arguments my function 'someChanged' should take in as argument.\r\nI tried to look at the code, but the function given in to the AutoCmdHandler is just a `fn interface{}` so something happens with reflection, but i am not sure how it knows to give in ` *nvim.Nvim` in my case, or if it doesn't and that is why my code fails. \r\n----\r\nEDIT: Arg yeah, and i never figured out why there is a `SubscribeEvent` method that seems like it does nothing. ",
            "created_at": "2020-04-04T14:11:22Z",
            "html_url": "https://github.com/neovim/go-client/issues/68#issuecomment-609034423",
            "id": 609034423,
            "issue_url": "https://api.github.com/repos/neovim/go-client/issues/68",
            "node_id": "MDEyOklzc3VlQ29tbWVudDYwOTAzNDQyMw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/go-client/issues/comments/609034423/reactions"
            },
            "updated_at": "2020-04-04T14:14:21Z",
            "url": "https://api.github.com/repos/neovim/go-client/issues/comments/609034423",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8144937?v=4",
                "events_url": "https://api.github.com/users/DenLilleMand/events{/privacy}",
                "followers_url": "https://api.github.com/users/DenLilleMand/followers",
                "following_url": "https://api.github.com/users/DenLilleMand/following{/other_user}",
                "gists_url": "https://api.github.com/users/DenLilleMand/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/DenLilleMand",
                "id": 8144937,
                "login": "DenLilleMand",
                "node_id": "MDQ6VXNlcjgxNDQ5Mzc=",
                "organizations_url": "https://api.github.com/users/DenLilleMand/orgs",
                "received_events_url": "https://api.github.com/users/DenLilleMand/received_events",
                "repos_url": "https://api.github.com/users/DenLilleMand/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/DenLilleMand/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/DenLilleMand/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/DenLilleMand"
            }
        },
        {
            "author_association": "NONE",
            "body": "In case this is still of interest to you, I managed to work out a way to subscribe to autocmds from within a go client, \r\nand using only the facilities offered by `nvim.Nvim`.  No plugins. \r\n\r\nThe link below has an example for the `LspAttach` autocmd, but it should be fairly easy to make your own.\r\n\r\nhttps://github.com/neovim/neovim/discussions/27371#discussioncomment-8405144\r\n",
            "created_at": "2024-02-08T09:15:36Z",
            "html_url": "https://github.com/neovim/go-client/issues/68#issuecomment-1933649420",
            "id": 1933649420,
            "issue_url": "https://api.github.com/repos/neovim/go-client/issues/68",
            "node_id": "IC_kwDOAZWux85zQSYM",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/go-client/issues/comments/1933649420/reactions"
            },
            "updated_at": "2024-02-08T09:15:36Z",
            "url": "https://api.github.com/repos/neovim/go-client/issues/comments/1933649420",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/246576?v=4",
                "events_url": "https://api.github.com/users/filmil/events{/privacy}",
                "followers_url": "https://api.github.com/users/filmil/followers",
                "following_url": "https://api.github.com/users/filmil/following{/other_user}",
                "gists_url": "https://api.github.com/users/filmil/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/filmil",
                "id": 246576,
                "login": "filmil",
                "node_id": "MDQ6VXNlcjI0NjU3Ng==",
                "organizations_url": "https://api.github.com/users/filmil/orgs",
                "received_events_url": "https://api.github.com/users/filmil/received_events",
                "repos_url": "https://api.github.com/users/filmil/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/filmil/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/filmil/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/filmil"
            }
        }
    ],
    "comments": 4,
    "comments_url": "https://api.github.com/repos/neovim/go-client/issues/68/comments",
    "created_at": "2020-03-19T18:35:07Z",
    "events_url": "https://api.github.com/repos/neovim/go-client/issues/68/events",
    "html_url": "https://github.com/neovim/go-client/issues/68",
    "id": 584617278,
    "labels": [],
    "labels_url": "https://api.github.com/repos/neovim/go-client/issues/68/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWU1ODQ2MTcyNzg=",
    "number": 68,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/go-client/issues/68/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/go-client",
    "state": "closed",
    "state_reason": "completed",
    "timeline_url": "https://api.github.com/repos/neovim/go-client/issues/68/timeline",
    "title": "Question: How can you subscribe to events ?",
    "updated_at": "2024-02-08T09:15:38Z",
    "url": "https://api.github.com/repos/neovim/go-client/issues/68",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/8144937?v=4",
        "events_url": "https://api.github.com/users/DenLilleMand/events{/privacy}",
        "followers_url": "https://api.github.com/users/DenLilleMand/followers",
        "following_url": "https://api.github.com/users/DenLilleMand/following{/other_user}",
        "gists_url": "https://api.github.com/users/DenLilleMand/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/DenLilleMand",
        "id": 8144937,
        "login": "DenLilleMand",
        "node_id": "MDQ6VXNlcjgxNDQ5Mzc=",
        "organizations_url": "https://api.github.com/users/DenLilleMand/orgs",
        "received_events_url": "https://api.github.com/users/DenLilleMand/received_events",
        "repos_url": "https://api.github.com/users/DenLilleMand/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/DenLilleMand/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/DenLilleMand/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/DenLilleMand"
    }
}