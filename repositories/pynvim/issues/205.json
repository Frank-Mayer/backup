{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "I should be able to use `eval(mode(1))` to see if a normal mode operation is pending or not. However, if that operation is a number, neovim hangs. For example, I typed this in my REPL:\n\n```\nimport neovim\nn = neovim.attach(\"child\", argv=['/usr/bin/nvim', '--embed'])\nn.input('2')\nn.eval(\"mode(1)\")\n```\n\nIt never makes it past that line. I have also tested this with a non-embedded version. \n\n```\nimport neovim\nn = neovim.attach(\"socket\", path=\"/tmp/nvim\")\nn.input(\"2\")\nn.eval(\"mode(1)\")\n```\n\nThis hangs until I move my mouse over the nvim window, after which it responds with `n`. This seems to be clearing the pending number. For example, if I do\n\n```\nimport neovim\nn = neovim.attach(\"socket\", path=\"/tmp/nvim\")\nn.input(\"2\")\nn.eval(\"mode(1)\")\nn.input(\"dw\")\n```\n\nIt deletes a single word, rather than 2 words like I would expect.\n",
    "closed_at": "2016-05-16T20:12:24Z",
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "This is a know limitation in nvim (not the python-client). Right now many wait-for-input states (like a incomplete normal command or pending-operator mode) are not yet proper states where events are processed (except for `input` and ui events, needed by an external ui), but it is planned they will be eventually. (I might look into this myself soon, to the extent it is needed for enhanced ui work)\n",
            "created_at": "2016-05-16T20:12:24Z",
            "html_url": "https://github.com/neovim/pynvim/issues/205#issuecomment-219533350",
            "id": 219533350,
            "issue_url": "https://api.github.com/repos/neovim/pynvim/issues/205",
            "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTUzMzM1MA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/pynvim/issues/comments/219533350/reactions"
            },
            "updated_at": "2016-05-16T20:12:24Z",
            "url": "https://api.github.com/repos/neovim/pynvim/issues/comments/219533350",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1363104?v=4",
                "events_url": "https://api.github.com/users/bfredl/events{/privacy}",
                "followers_url": "https://api.github.com/users/bfredl/followers",
                "following_url": "https://api.github.com/users/bfredl/following{/other_user}",
                "gists_url": "https://api.github.com/users/bfredl/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/bfredl",
                "id": 1363104,
                "login": "bfredl",
                "node_id": "MDQ6VXNlcjEzNjMxMDQ=",
                "organizations_url": "https://api.github.com/users/bfredl/orgs",
                "received_events_url": "https://api.github.com/users/bfredl/received_events",
                "repos_url": "https://api.github.com/users/bfredl/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/bfredl/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/bfredl/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/bfredl"
            }
        },
        {
            "author_association": "NONE",
            "body": "OK, thanks for letting me know. Do you know which states are like that, or where I can find a list?\n",
            "created_at": "2016-05-16T20:15:28Z",
            "html_url": "https://github.com/neovim/pynvim/issues/205#issuecomment-219534131",
            "id": 219534131,
            "issue_url": "https://api.github.com/repos/neovim/pynvim/issues/205",
            "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTUzNDEzMQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/pynvim/issues/comments/219534131/reactions"
            },
            "updated_at": "2016-05-16T20:15:28Z",
            "url": "https://api.github.com/repos/neovim/pynvim/issues/comments/219534131",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/12721641?v=4",
                "events_url": "https://api.github.com/users/DJMcMayhem/events{/privacy}",
                "followers_url": "https://api.github.com/users/DJMcMayhem/followers",
                "following_url": "https://api.github.com/users/DJMcMayhem/following{/other_user}",
                "gists_url": "https://api.github.com/users/DJMcMayhem/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/DJMcMayhem",
                "id": 12721641,
                "login": "DJMcMayhem",
                "node_id": "MDQ6VXNlcjEyNzIxNjQx",
                "organizations_url": "https://api.github.com/users/DJMcMayhem/orgs",
                "received_events_url": "https://api.github.com/users/DJMcMayhem/received_events",
                "repos_url": "https://api.github.com/users/DJMcMayhem/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/DJMcMayhem/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/DJMcMayhem/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/DJMcMayhem"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I don't think there is a list but the common cases should be: any incomplete command that shows the command to bottom right when `showcmd` is set  and \"press ENTER\" prompts doesn't support events right now. (command line modes like  `:` and `/` (and `i<C-R>=` I think...) support events)\n",
            "created_at": "2016-05-16T20:26:09Z",
            "html_url": "https://github.com/neovim/pynvim/issues/205#issuecomment-219537040",
            "id": 219537040,
            "issue_url": "https://api.github.com/repos/neovim/pynvim/issues/205",
            "node_id": "MDEyOklzc3VlQ29tbWVudDIxOTUzNzA0MA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/pynvim/issues/comments/219537040/reactions"
            },
            "updated_at": "2016-05-16T20:26:09Z",
            "url": "https://api.github.com/repos/neovim/pynvim/issues/comments/219537040",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1363104?v=4",
                "events_url": "https://api.github.com/users/bfredl/events{/privacy}",
                "followers_url": "https://api.github.com/users/bfredl/followers",
                "following_url": "https://api.github.com/users/bfredl/following{/other_user}",
                "gists_url": "https://api.github.com/users/bfredl/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/bfredl",
                "id": 1363104,
                "login": "bfredl",
                "node_id": "MDQ6VXNlcjEzNjMxMDQ=",
                "organizations_url": "https://api.github.com/users/bfredl/orgs",
                "received_events_url": "https://api.github.com/users/bfredl/received_events",
                "repos_url": "https://api.github.com/users/bfredl/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/bfredl/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/bfredl/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/bfredl"
            }
        },
        {
            "author_association": "NONE",
            "body": "There is probably still no progress on this from neovim side? Is there at least some api call to check whether we are in a pending input mode? I guess that would help me.",
            "created_at": "2023-07-30T11:32:46Z",
            "html_url": "https://github.com/neovim/pynvim/issues/205#issuecomment-1657115605",
            "id": 1657115605,
            "issue_url": "https://api.github.com/repos/neovim/pynvim/issues/205",
            "node_id": "IC_kwDOASpKTs5ixZPV",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/pynvim/issues/comments/1657115605/reactions"
            },
            "updated_at": "2023-07-30T11:32:46Z",
            "url": "https://api.github.com/repos/neovim/pynvim/issues/comments/1657115605",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/29997904?v=4",
                "events_url": "https://api.github.com/users/Dimfred/events{/privacy}",
                "followers_url": "https://api.github.com/users/Dimfred/followers",
                "following_url": "https://api.github.com/users/Dimfred/following{/other_user}",
                "gists_url": "https://api.github.com/users/Dimfred/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Dimfred",
                "id": 29997904,
                "login": "Dimfred",
                "node_id": "MDQ6VXNlcjI5OTk3OTA0",
                "organizations_url": "https://api.github.com/users/Dimfred/orgs",
                "received_events_url": "https://api.github.com/users/Dimfred/received_events",
                "repos_url": "https://api.github.com/users/Dimfred/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Dimfred/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Dimfred/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Dimfred"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> Is there at least some api call to check whether we are in a pending input mode?\r\n\r\n[nvim_get_mode](https://neovim.io/doc/user/api.html#nvim_get_mode()) is the (imperfect but useful) answer to that.",
            "created_at": "2023-07-30T13:43:16Z",
            "html_url": "https://github.com/neovim/pynvim/issues/205#issuecomment-1657177203",
            "id": 1657177203,
            "issue_url": "https://api.github.com/repos/neovim/pynvim/issues/205",
            "node_id": "IC_kwDOASpKTs5ixoRz",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/pynvim/issues/comments/1657177203/reactions"
            },
            "updated_at": "2023-07-30T13:43:16Z",
            "url": "https://api.github.com/repos/neovim/pynvim/issues/comments/1657177203",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "author_association": "NONE",
            "body": "I think I actually tried that, but the action was blocking too. While I am in operator pending / my socket hasn't closed I couldn't perform a second action like this with pynvim. ",
            "created_at": "2023-08-14T18:34:09Z",
            "html_url": "https://github.com/neovim/pynvim/issues/205#issuecomment-1677868071",
            "id": 1677868071,
            "issue_url": "https://api.github.com/repos/neovim/pynvim/issues/205",
            "node_id": "IC_kwDOASpKTs5kAjwn",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/pynvim/issues/comments/1677868071/reactions"
            },
            "updated_at": "2023-08-14T18:34:09Z",
            "url": "https://api.github.com/repos/neovim/pynvim/issues/comments/1677868071",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/29997904?v=4",
                "events_url": "https://api.github.com/users/Dimfred/events{/privacy}",
                "followers_url": "https://api.github.com/users/Dimfred/followers",
                "following_url": "https://api.github.com/users/Dimfred/following{/other_user}",
                "gists_url": "https://api.github.com/users/Dimfred/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Dimfred",
                "id": 29997904,
                "login": "Dimfred",
                "node_id": "MDQ6VXNlcjI5OTk3OTA0",
                "organizations_url": "https://api.github.com/users/Dimfred/orgs",
                "received_events_url": "https://api.github.com/users/Dimfred/received_events",
                "repos_url": "https://api.github.com/users/Dimfred/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Dimfred/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Dimfred/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Dimfred"
            }
        }
    ],
    "comments": 6,
    "comments_url": "https://api.github.com/repos/neovim/pynvim/issues/205/comments",
    "created_at": "2016-05-11T07:58:58Z",
    "events_url": "https://api.github.com/repos/neovim/pynvim/issues/205/events",
    "html_url": "https://github.com/neovim/pynvim/issues/205",
    "id": 154182278,
    "labels": [],
    "labels_url": "https://api.github.com/repos/neovim/pynvim/issues/205/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWUxNTQxODIyNzg=",
    "number": 205,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/pynvim/issues/205/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/pynvim",
    "state": "closed",
    "state_reason": "completed",
    "timeline_url": "https://api.github.com/repos/neovim/pynvim/issues/205/timeline",
    "title": "eval(mode(1)) hangs when a number is pending",
    "updated_at": "2023-08-14T18:34:09Z",
    "url": "https://api.github.com/repos/neovim/pynvim/issues/205",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/12721641?v=4",
        "events_url": "https://api.github.com/users/DJMcMayhem/events{/privacy}",
        "followers_url": "https://api.github.com/users/DJMcMayhem/followers",
        "following_url": "https://api.github.com/users/DJMcMayhem/following{/other_user}",
        "gists_url": "https://api.github.com/users/DJMcMayhem/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/DJMcMayhem",
        "id": 12721641,
        "login": "DJMcMayhem",
        "node_id": "MDQ6VXNlcjEyNzIxNjQx",
        "organizations_url": "https://api.github.com/users/DJMcMayhem/orgs",
        "received_events_url": "https://api.github.com/users/DJMcMayhem/received_events",
        "repos_url": "https://api.github.com/users/DJMcMayhem/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/DJMcMayhem/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/DJMcMayhem/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/DJMcMayhem"
    }
}