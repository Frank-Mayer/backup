{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\r\n\r\nI've configured `lua_ls` to include the vim runtime files, so I can get LSP support for the vim API and my plugins, with the config shown below:\r\n```lua\r\nrequire(\"lspconfig\").lua_ls.setup({\r\n    settings = {\r\n        Lua = {\r\n            runtime = {\r\n                -- Tell the language server which version of Lua you're using (most likely LuaJIT in the case of Neovim)\r\n                version = \"LuaJIT\",\r\n            },\r\n            diagnostics = {\r\n                -- Get the language server to recognize the `vim` global\r\n                globals = { \"vim\" },\r\n            },\r\n            workspace = {\r\n                -- Make the server aware of Neovim runtime files\r\n                library = vim.api.nvim_get_runtime_file(\"\", true),\r\n            },\r\n            -- Do not send telemetry data containing a randomized but unique identifier\r\n            telemetry = {\r\n                enable = false,\r\n            },\r\n        },\r\n    },\r\n})\r\n```\r\nHowever, this inclusion is incomplete. I can see that through the below, where the very function I am calling is not a member of the object I am using:\r\n<img width=\"729\" alt=\"Screenshot 2024-01-17 at 10 29 36â€¯AM\" src=\"https://github.com/neovim/neovim/assets/114779675/e6fba11d-7314-4142-9092-3919526ec92e\">\r\n\r\nI can go to definition to various parts of the neovim source code, and can even go to references of various functions. However, I can't go to the definition of the functions that are not in the definition, which leads me to believe that these are parts of the neovim API written in C. I want more complete annotations and LSP definitions for the neovim API, as using `:help` can become tedious at times.\r\n\r\nSo, is there some way to create some sort of header file, written in lua, which can be fed to the `vim.api.nvim_get_runtime_file` function, to get lsp definitions and annotations for the C-specific functions as well?\r\n\r\n### Expected behavior\r\n\r\nThe files fed to the LSP library by the `vim.api.nvim_get_runtime_file` should include some definition for Neovim lua modules written in C. This would make it easier for people to use the neovim API, which can only be a good thing. Without knowing too much about embedded programming and Neovim in general, I think that this shouldn't be TOO hard to implement, as you're annotating preexisting functions in some way.",
    "closed_at": "2024-01-17T22:32:49Z",
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "This is already done in #24523, available in Nvim 0.10-nightly.\r\n\r\nOn Nvim 0.9, you can use some external plugins like https://github.com/folke/neodev.nvim. Our plan is to include Lua typings for all the other neovim APIs (options, vendored Lua libs, commands, etc.) by 0.10.0 so that one does not need to use external plugins for LSP completion.\r\n\r\n<img width=\"1542\" alt=\"image\" src=\"https://github.com/neovim/neovim/assets/1009873/4b9a3a9c-7f54-42e9-b66e-c7b4771ddbae\">\r\n",
            "created_at": "2024-01-17T22:32:49Z",
            "html_url": "https://github.com/neovim/neovim/issues/27069#issuecomment-1897177372",
            "id": 1897177372,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27069",
            "node_id": "IC_kwDOAPphoM5xFKEc",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1897177372/reactions"
            },
            "updated_at": "2024-01-17T22:40:05Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1897177372",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1009873?v=4",
                "events_url": "https://api.github.com/users/wookayin/events{/privacy}",
                "followers_url": "https://api.github.com/users/wookayin/followers",
                "following_url": "https://api.github.com/users/wookayin/following{/other_user}",
                "gists_url": "https://api.github.com/users/wookayin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/wookayin",
                "id": 1009873,
                "login": "wookayin",
                "node_id": "MDQ6VXNlcjEwMDk4NzM=",
                "organizations_url": "https://api.github.com/users/wookayin/orgs",
                "received_events_url": "https://api.github.com/users/wookayin/received_events",
                "repos_url": "https://api.github.com/users/wookayin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/wookayin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/wookayin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/wookayin"
            }
        },
        {
            "author_association": "NONE",
            "body": "@wookayin Okay, thanks!",
            "created_at": "2024-01-17T22:35:37Z",
            "html_url": "https://github.com/neovim/neovim/issues/27069#issuecomment-1897191532",
            "id": 1897191532,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27069",
            "node_id": "IC_kwDOAPphoM5xFNhs",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1897191532/reactions"
            },
            "updated_at": "2024-01-17T22:35:37Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1897191532",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/114779675?v=4",
                "events_url": "https://api.github.com/users/theKnightsOfRohan/events{/privacy}",
                "followers_url": "https://api.github.com/users/theKnightsOfRohan/followers",
                "following_url": "https://api.github.com/users/theKnightsOfRohan/following{/other_user}",
                "gists_url": "https://api.github.com/users/theKnightsOfRohan/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/theKnightsOfRohan",
                "id": 114779675,
                "login": "theKnightsOfRohan",
                "node_id": "U_kgDOBtdmGw",
                "organizations_url": "https://api.github.com/users/theKnightsOfRohan/orgs",
                "received_events_url": "https://api.github.com/users/theKnightsOfRohan/received_events",
                "repos_url": "https://api.github.com/users/theKnightsOfRohan/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/theKnightsOfRohan/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/theKnightsOfRohan/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/theKnightsOfRohan"
            }
        }
    ],
    "comments": 2,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/27069/comments",
    "created_at": "2024-01-17T21:42:57Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/27069/events",
    "html_url": "https://github.com/neovim/neovim/issues/27069",
    "id": 2087037709,
    "labels": [
        {
            "color": "e6e6e6",
            "default": false,
            "description": "issues that are closed as duplicates of other issues",
            "id": 3221613764,
            "name": "closed:duplicate",
            "node_id": "MDU6TGFiZWwzMjIxNjEzNzY0",
            "url": "https://api.github.com/repos/neovim/neovim/labels/closed:duplicate"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/27069/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM58ZasN",
    "number": 27069,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/27069/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "completed",
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/27069/timeline",
    "title": "Expose parts of Neovim API written in C to vim.api.nvim_get_runtime_files",
    "updated_at": "2024-01-17T22:40:05Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/27069",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/114779675?v=4",
        "events_url": "https://api.github.com/users/theKnightsOfRohan/events{/privacy}",
        "followers_url": "https://api.github.com/users/theKnightsOfRohan/followers",
        "following_url": "https://api.github.com/users/theKnightsOfRohan/following{/other_user}",
        "gists_url": "https://api.github.com/users/theKnightsOfRohan/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/theKnightsOfRohan",
        "id": 114779675,
        "login": "theKnightsOfRohan",
        "node_id": "U_kgDOBtdmGw",
        "organizations_url": "https://api.github.com/users/theKnightsOfRohan/orgs",
        "received_events_url": "https://api.github.com/users/theKnightsOfRohan/received_events",
        "repos_url": "https://api.github.com/users/theKnightsOfRohan/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/theKnightsOfRohan/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/theKnightsOfRohan/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/theKnightsOfRohan"
    }
}