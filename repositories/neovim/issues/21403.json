{
    "active_lock_reason": "resolved",
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Neovim version (nvim -v)\r\n\r\nNVIM v0.9.0-dev-470+g50ffb8d7f4\r\n\r\n### Vim (not Nvim) behaves the same?\r\n\r\nYes (9.0.0910)\r\n\r\n### Operating system/version\r\n\r\nArch GNU/Linux\r\n\r\n### Terminal name/version\r\n\r\nfoot `foot version: 1.13.1 +pgo +ime +graphemes -assertions`\r\n\r\n### $TERM environment variable\r\n\r\nfoot\r\n\r\n### Installation\r\n\r\nAUR\r\n\r\n### How to reproduce the issue\r\n1. `nvim--clean`\r\n1. `:terminal`\r\n1. Confirm the output of `tput lines` is less than 10.\r\n1. Inside the terminal do `echo \"hello\"; clear`.\r\n1. Scroll up to confirm that clearing works. (in vim, use `C-w` `N` then navigate in normal mode)\r\n1. Echo something longer than 10 lines. In fish: `for i in (seq 0 20); echo $i; end; clear`.\r\n1. Scroll up again and see the output of the last command.\r\n\r\n### Expected behavior\r\n\r\nTerminal gets cleared every time.\r\n\r\n### Actual behavior\r\n\r\nThe output from every single command before (maybe with some of it cut off or corrupted in some way) remains.\r\n\r\n[recording.webm](https://user-images.githubusercontent.com/77174844/207610703-57f60cd0-c8b4-42b5-acc5-1a03a9306ce4.webm)\r\n\r\n### Extra information\r\n\r\nI had a conversation with someone else as I was troubleshooting, and they recommended I report the issue here. I believe the relevant line is [here](https://github.com/neovim/neovim/blob/d311c5481dede47d752fa39cb00d728ba18ef5bc/src/nvim/terminal.c#L163). Something about not being able to handle `.sb_clear` or `ED3`.",
    "closed_at": "2023-01-11T17:26:18Z",
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "I'll keep iterating on the instructions to reproduce the bug to simplify testing.",
            "created_at": "2022-12-13T16:43:48Z",
            "html_url": "https://github.com/neovim/neovim/issues/21403#issuecomment-1349029213",
            "id": 1349029213,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/21403",
            "node_id": "IC_kwDOAPphoM5QaI1d",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1349029213/reactions"
            },
            "updated_at": "2022-12-13T16:43:48Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1349029213",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/77174844?v=4",
                "events_url": "https://api.github.com/users/wildwestrom/events{/privacy}",
                "followers_url": "https://api.github.com/users/wildwestrom/followers",
                "following_url": "https://api.github.com/users/wildwestrom/following{/other_user}",
                "gists_url": "https://api.github.com/users/wildwestrom/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/wildwestrom",
                "id": 77174844,
                "login": "wildwestrom",
                "node_id": "MDQ6VXNlcjc3MTc0ODQ0",
                "organizations_url": "https://api.github.com/users/wildwestrom/orgs",
                "received_events_url": "https://api.github.com/users/wildwestrom/received_events",
                "repos_url": "https://api.github.com/users/wildwestrom/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/wildwestrom/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/wildwestrom/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/wildwestrom"
            }
        },
        {
            "author_association": "NONE",
            "body": "Why is this annoying? Often when I'm debugging, I use `cargo watch` to get the output of println debugging. When I do `gg` to get to the top (custom config), I'm moved to an output of a previous iteration which I don't care about.\r\n\r\nThis doesn't only happen in Neovim within [`foot`](https://codeberg.org/dnkl/foot), it also happens with Neovide and Alacritty.",
            "created_at": "2022-12-13T16:52:25Z",
            "html_url": "https://github.com/neovim/neovim/issues/21403#issuecomment-1349052809",
            "id": 1349052809,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/21403",
            "node_id": "IC_kwDOAPphoM5QaOmJ",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1349052809/reactions"
            },
            "updated_at": "2022-12-13T16:54:27Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1349052809",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/77174844?v=4",
                "events_url": "https://api.github.com/users/wildwestrom/events{/privacy}",
                "followers_url": "https://api.github.com/users/wildwestrom/followers",
                "following_url": "https://api.github.com/users/wildwestrom/following{/other_user}",
                "gists_url": "https://api.github.com/users/wildwestrom/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/wildwestrom",
                "id": 77174844,
                "login": "wildwestrom",
                "node_id": "MDQ6VXNlcjc3MTc0ODQ0",
                "organizations_url": "https://api.github.com/users/wildwestrom/orgs",
                "received_events_url": "https://api.github.com/users/wildwestrom/received_events",
                "repos_url": "https://api.github.com/users/wildwestrom/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/wildwestrom/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/wildwestrom/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/wildwestrom"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Just `printf '\\x1b[3J'` to reproduce",
            "created_at": "2022-12-13T22:58:52Z",
            "html_url": "https://github.com/neovim/neovim/issues/21403#issuecomment-1349972517",
            "id": 1349972517,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/21403",
            "node_id": "IC_kwDOAPphoM5QdvIl",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1349972517/reactions"
            },
            "updated_at": "2022-12-14T13:13:04Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1349972517",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Hmm, pangoterm doesn't implement this either?",
            "created_at": "2022-12-13T23:06:36Z",
            "html_url": "https://github.com/neovim/neovim/issues/21403#issuecomment-1349990259",
            "id": 1349990259,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/21403",
            "node_id": "IC_kwDOAPphoM5Qdzdz",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1349990259/reactions"
            },
            "updated_at": "2022-12-13T23:06:36Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1349990259",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "author_association": "NONE",
            "body": "> Just `printf '\\x1b[3J'`\r\n\r\nNot sure how this is supposed to help.\r\nEven so, it has no effect. (Notice the duplicate \"Compiling\"/\"Finished\" messages at the top.)\r\n![image](https://user-images.githubusercontent.com/77174844/207604252-f81cc87b-ba64-4ca3-b3b7-89440c85d6fe.png)\r\n\r\nEven when I type the clear command, I can still scroll back to previous outputs. Is this standard behavior?\r\n![image](https://user-images.githubusercontent.com/77174844/207604489-df23c95f-3d1d-4add-b010-a20f98197b39.png)",
            "created_at": "2022-12-14T13:06:48Z",
            "html_url": "https://github.com/neovim/neovim/issues/21403#issuecomment-1351322778",
            "id": 1351322778,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/21403",
            "node_id": "IC_kwDOAPphoM5Qi4ya",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1351322778/reactions"
            },
            "updated_at": "2022-12-14T13:16:05Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1351322778",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/77174844?v=4",
                "events_url": "https://api.github.com/users/wildwestrom/events{/privacy}",
                "followers_url": "https://api.github.com/users/wildwestrom/followers",
                "following_url": "https://api.github.com/users/wildwestrom/following{/other_user}",
                "gists_url": "https://api.github.com/users/wildwestrom/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/wildwestrom",
                "id": 77174844,
                "login": "wildwestrom",
                "node_id": "MDQ6VXNlcjc3MTc0ODQ0",
                "organizations_url": "https://api.github.com/users/wildwestrom/orgs",
                "received_events_url": "https://api.github.com/users/wildwestrom/received_events",
                "repos_url": "https://api.github.com/users/wildwestrom/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/wildwestrom/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/wildwestrom/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/wildwestrom"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I mean to reproduce",
            "created_at": "2022-12-14T13:12:22Z",
            "html_url": "https://github.com/neovim/neovim/issues/21403#issuecomment-1351331360",
            "id": 1351331360,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/21403",
            "node_id": "IC_kwDOAPphoM5Qi64g",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1351331360/reactions"
            },
            "updated_at": "2022-12-14T13:16:11Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1351331360",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "author_association": "NONE",
            "body": "I updated the repro instructions to something much simpler.",
            "created_at": "2022-12-14T13:21:46Z",
            "html_url": "https://github.com/neovim/neovim/issues/21403#issuecomment-1351345212",
            "id": 1351345212,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/21403",
            "node_id": "IC_kwDOAPphoM5Qi-Q8",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1351345212/reactions"
            },
            "updated_at": "2022-12-14T13:21:46Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1351345212",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/77174844?v=4",
                "events_url": "https://api.github.com/users/wildwestrom/events{/privacy}",
                "followers_url": "https://api.github.com/users/wildwestrom/followers",
                "following_url": "https://api.github.com/users/wildwestrom/following{/other_user}",
                "gists_url": "https://api.github.com/users/wildwestrom/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/wildwestrom",
                "id": 77174844,
                "login": "wildwestrom",
                "node_id": "MDQ6VXNlcjc3MTc0ODQ0",
                "organizations_url": "https://api.github.com/users/wildwestrom/orgs",
                "received_events_url": "https://api.github.com/users/wildwestrom/received_events",
                "repos_url": "https://api.github.com/users/wildwestrom/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/wildwestrom/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/wildwestrom/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/wildwestrom"
            }
        },
        {
            "author_association": "NONE",
            "body": "In my experience, that's how all terminal emulators work. Scroll back buffer is not deleted by `clear`. Kitty has explicit command to trash it, but that's not standard.",
            "created_at": "2023-01-10T00:41:15Z",
            "html_url": "https://github.com/neovim/neovim/issues/21403#issuecomment-1376555072",
            "id": 1376555072,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/21403",
            "node_id": "IC_kwDOAPphoM5SDJBA",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1376555072/reactions"
            },
            "updated_at": "2023-01-10T00:41:15Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1376555072",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/13090277?v=4",
                "events_url": "https://api.github.com/users/vlada-dudr/events{/privacy}",
                "followers_url": "https://api.github.com/users/vlada-dudr/followers",
                "following_url": "https://api.github.com/users/vlada-dudr/following{/other_user}",
                "gists_url": "https://api.github.com/users/vlada-dudr/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/vlada-dudr",
                "id": 13090277,
                "login": "vlada-dudr",
                "node_id": "MDQ6VXNlcjEzMDkwMjc3",
                "organizations_url": "https://api.github.com/users/vlada-dudr/orgs",
                "received_events_url": "https://api.github.com/users/vlada-dudr/received_events",
                "repos_url": "https://api.github.com/users/vlada-dudr/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/vlada-dudr/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/vlada-dudr/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/vlada-dudr"
            }
        },
        {
            "author_association": "NONE",
            "body": "If this is standard/expected behavior, this sucks.",
            "created_at": "2023-01-10T00:44:28Z",
            "html_url": "https://github.com/neovim/neovim/issues/21403#issuecomment-1376557951",
            "id": 1376557951,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/21403",
            "node_id": "IC_kwDOAPphoM5SDJt_",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1376557951/reactions"
            },
            "updated_at": "2023-01-10T00:44:28Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1376557951",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/77174844?v=4",
                "events_url": "https://api.github.com/users/wildwestrom/events{/privacy}",
                "followers_url": "https://api.github.com/users/wildwestrom/followers",
                "following_url": "https://api.github.com/users/wildwestrom/following{/other_user}",
                "gists_url": "https://api.github.com/users/wildwestrom/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/wildwestrom",
                "id": 77174844,
                "login": "wildwestrom",
                "node_id": "MDQ6VXNlcjc3MTc0ODQ0",
                "organizations_url": "https://api.github.com/users/wildwestrom/orgs",
                "received_events_url": "https://api.github.com/users/wildwestrom/received_events",
                "repos_url": "https://api.github.com/users/wildwestrom/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/wildwestrom/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/wildwestrom/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/wildwestrom"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I have PR #21412 that seems to fix this, but it sometimes behaves strangely and doesn't seem to work on Windows.",
            "created_at": "2023-01-10T00:45:39Z",
            "html_url": "https://github.com/neovim/neovim/issues/21403#issuecomment-1376558928",
            "id": 1376558928,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/21403",
            "node_id": "IC_kwDOAPphoM5SDJ9Q",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1376558928/reactions"
            },
            "updated_at": "2023-01-10T00:45:59Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1376558928",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "author_association": "NONE",
            "body": "Kitty's special clear clears everything, even current prompt. I don't see it as a big deal especially for \"tailing\" commands. Maybe it would be simplest solution for Neovim also - just erase everything in the buffer using single command.",
            "created_at": "2023-01-10T00:48:54Z",
            "html_url": "https://github.com/neovim/neovim/issues/21403#issuecomment-1376561751",
            "id": 1376561751,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/21403",
            "node_id": "IC_kwDOAPphoM5SDKpX",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1376561751/reactions"
            },
            "updated_at": "2023-01-10T00:48:54Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1376561751",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/13090277?v=4",
                "events_url": "https://api.github.com/users/vlada-dudr/events{/privacy}",
                "followers_url": "https://api.github.com/users/vlada-dudr/followers",
                "following_url": "https://api.github.com/users/vlada-dudr/following{/other_user}",
                "gists_url": "https://api.github.com/users/vlada-dudr/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/vlada-dudr",
                "id": 13090277,
                "login": "vlada-dudr",
                "node_id": "MDQ6VXNlcjEzMDkwMjc3",
                "organizations_url": "https://api.github.com/users/vlada-dudr/orgs",
                "received_events_url": "https://api.github.com/users/vlada-dudr/received_events",
                "repos_url": "https://api.github.com/users/vlada-dudr/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/vlada-dudr/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/vlada-dudr/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/vlada-dudr"
            }
        },
        {
            "author_association": "NONE",
            "body": "Thinking about it more, `clear` should not ever delete scroll back. It just emits ansi sequence, which anything can do. Therefore anything could mask what it did, which stinks.\n\nSo my take on this would be Neovim command to erase it. Something like `:TermClear` or whatever.",
            "created_at": "2023-01-10T00:56:09Z",
            "html_url": "https://github.com/neovim/neovim/issues/21403#issuecomment-1376567665",
            "id": 1376567665,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/21403",
            "node_id": "IC_kwDOAPphoM5SDMFx",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1376567665/reactions"
            },
            "updated_at": "2023-01-10T00:56:09Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1376567665",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/13090277?v=4",
                "events_url": "https://api.github.com/users/vlada-dudr/events{/privacy}",
                "followers_url": "https://api.github.com/users/vlada-dudr/followers",
                "following_url": "https://api.github.com/users/vlada-dudr/following{/other_user}",
                "gists_url": "https://api.github.com/users/vlada-dudr/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/vlada-dudr",
                "id": 13090277,
                "login": "vlada-dudr",
                "node_id": "MDQ6VXNlcjEzMDkwMjc3",
                "organizations_url": "https://api.github.com/users/vlada-dudr/orgs",
                "received_events_url": "https://api.github.com/users/vlada-dudr/received_events",
                "repos_url": "https://api.github.com/users/vlada-dudr/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/vlada-dudr/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/vlada-dudr/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/vlada-dudr"
            }
        },
        {
            "author_association": "NONE",
            "body": "What the hell is the point of `clear` if it still allows you to scroll back? @vlada-dudr ",
            "created_at": "2023-01-10T01:12:31Z",
            "html_url": "https://github.com/neovim/neovim/issues/21403#issuecomment-1376582956",
            "id": 1376582956,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/21403",
            "node_id": "IC_kwDOAPphoM5SDP0s",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1376582956/reactions"
            },
            "updated_at": "2023-01-10T01:12:31Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1376582956",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/77174844?v=4",
                "events_url": "https://api.github.com/users/wildwestrom/events{/privacy}",
                "followers_url": "https://api.github.com/users/wildwestrom/followers",
                "following_url": "https://api.github.com/users/wildwestrom/following{/other_user}",
                "gists_url": "https://api.github.com/users/wildwestrom/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/wildwestrom",
                "id": 77174844,
                "login": "wildwestrom",
                "node_id": "MDQ6VXNlcjc3MTc0ODQ0",
                "organizations_url": "https://api.github.com/users/wildwestrom/orgs",
                "received_events_url": "https://api.github.com/users/wildwestrom/received_events",
                "repos_url": "https://api.github.com/users/wildwestrom/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/wildwestrom/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/wildwestrom/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/wildwestrom"
            }
        },
        {
            "author_association": "NONE",
            "body": "It usually works by scrolling down and pretending there is nothing above the first line until user scrolls up.",
            "created_at": "2023-01-10T06:45:19Z",
            "html_url": "https://github.com/neovim/neovim/issues/21403#issuecomment-1376803120",
            "id": 1376803120,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/21403",
            "node_id": "IC_kwDOAPphoM5SEFkw",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1376803120/reactions"
            },
            "updated_at": "2023-01-10T06:45:19Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1376803120",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/13090277?v=4",
                "events_url": "https://api.github.com/users/vlada-dudr/events{/privacy}",
                "followers_url": "https://api.github.com/users/vlada-dudr/followers",
                "following_url": "https://api.github.com/users/vlada-dudr/following{/other_user}",
                "gists_url": "https://api.github.com/users/vlada-dudr/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/vlada-dudr",
                "id": 13090277,
                "login": "vlada-dudr",
                "node_id": "MDQ6VXNlcjEzMDkwMjc3",
                "organizations_url": "https://api.github.com/users/vlada-dudr/orgs",
                "received_events_url": "https://api.github.com/users/vlada-dudr/received_events",
                "repos_url": "https://api.github.com/users/vlada-dudr/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/vlada-dudr/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/vlada-dudr/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/vlada-dudr"
            }
        },
        {
            "author_association": "NONE",
            "body": "By the way it looks like you can emulate deleting scroll back buffer by `set scrollback=1` and resetting it back after. For some reason the option doesn't accept 0.\n\nTerminal is effectively composed of two parts - screen and scrollback. Clear only works with screen part. So clear is basically \"send everything to scrollback\". Point is that when applications want to use whole screen, they can ensure there is no garbage on their workspace.",
            "created_at": "2023-01-10T08:25:17Z",
            "html_url": "https://github.com/neovim/neovim/issues/21403#issuecomment-1376892836",
            "id": 1376892836,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/21403",
            "node_id": "IC_kwDOAPphoM5SEbek",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1376892836/reactions"
            },
            "updated_at": "2023-01-10T08:25:17Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1376892836",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/13090277?v=4",
                "events_url": "https://api.github.com/users/vlada-dudr/events{/privacy}",
                "followers_url": "https://api.github.com/users/vlada-dudr/followers",
                "following_url": "https://api.github.com/users/vlada-dudr/following{/other_user}",
                "gists_url": "https://api.github.com/users/vlada-dudr/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/vlada-dudr",
                "id": 13090277,
                "login": "vlada-dudr",
                "node_id": "MDQ6VXNlcjEzMDkwMjc3",
                "organizations_url": "https://api.github.com/users/vlada-dudr/orgs",
                "received_events_url": "https://api.github.com/users/vlada-dudr/received_events",
                "repos_url": "https://api.github.com/users/vlada-dudr/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/vlada-dudr/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/vlada-dudr/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/vlada-dudr"
            }
        },
        {
            "author_association": "NONE",
            "body": "By the way proof of concept works like this:\r\n```lua\r\nlocal term_clear = function()\r\n  vim.fn.feedkeys(\"\f^L\", 'n')\r\n  local sb = vim.bo.scrollback\r\n  vim.bo.scrollback = 1\r\n  vim.bo.scrollback = sb\r\nend\r\n\r\nvim.keymap.set('t', '<C-l>', term_clear)\r\n```\r\nWhich repurposes Ctrl-L (which most shells bind to clear) by sending Ctrl-L to terminal program and truncates scrollback by setting it to 1 and resets in back afterwards.\r\n\r\nBTW, copy paste likely won't work, one should replace ^L with the real thing by typing Ctrl-V and Ctrl-L which inserts exactly the sequence to send.",
            "created_at": "2023-01-10T08:38:01Z",
            "html_url": "https://github.com/neovim/neovim/issues/21403#issuecomment-1376905921",
            "id": 1376905921,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/21403",
            "node_id": "IC_kwDOAPphoM5SEerB",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1376905921/reactions"
            },
            "updated_at": "2023-01-10T08:38:01Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1376905921",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/13090277?v=4",
                "events_url": "https://api.github.com/users/vlada-dudr/events{/privacy}",
                "followers_url": "https://api.github.com/users/vlada-dudr/followers",
                "following_url": "https://api.github.com/users/vlada-dudr/following{/other_user}",
                "gists_url": "https://api.github.com/users/vlada-dudr/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/vlada-dudr",
                "id": 13090277,
                "login": "vlada-dudr",
                "node_id": "MDQ6VXNlcjEzMDkwMjc3",
                "organizations_url": "https://api.github.com/users/vlada-dudr/orgs",
                "received_events_url": "https://api.github.com/users/vlada-dudr/received_events",
                "repos_url": "https://api.github.com/users/vlada-dudr/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/vlada-dudr/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/vlada-dudr/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/vlada-dudr"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "https://github.com/neovim/neovim/issues/4413 would open the door for custom handling of `clear` and other terminal requests.",
            "created_at": "2023-01-11T17:26:18Z",
            "html_url": "https://github.com/neovim/neovim/issues/21403#issuecomment-1379233829",
            "id": 1379233829,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/21403",
            "node_id": "IC_kwDOAPphoM5SNXAl",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1379233829/reactions"
            },
            "updated_at": "2023-01-11T17:26:18Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1379233829",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "author_association": "NONE",
            "body": "You can clear with ^L but there's still the last scrollback line to deal with - OCD screams... :(",
            "created_at": "2024-06-12T12:23:26Z",
            "html_url": "https://github.com/neovim/neovim/issues/21403#issuecomment-2162875498",
            "id": 2162875498,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/21403",
            "node_id": "IC_kwDOAPphoM6A6txq",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2162875498/reactions"
            },
            "updated_at": "2024-06-12T12:23:26Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2162875498",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10890089?v=4",
                "events_url": "https://api.github.com/users/rafaelpirolla/events{/privacy}",
                "followers_url": "https://api.github.com/users/rafaelpirolla/followers",
                "following_url": "https://api.github.com/users/rafaelpirolla/following{/other_user}",
                "gists_url": "https://api.github.com/users/rafaelpirolla/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/rafaelpirolla",
                "id": 10890089,
                "login": "rafaelpirolla",
                "node_id": "MDQ6VXNlcjEwODkwMDg5",
                "organizations_url": "https://api.github.com/users/rafaelpirolla/orgs",
                "received_events_url": "https://api.github.com/users/rafaelpirolla/received_events",
                "repos_url": "https://api.github.com/users/rafaelpirolla/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/rafaelpirolla/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rafaelpirolla/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/rafaelpirolla"
            }
        }
    ],
    "comments": 18,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/21403/comments",
    "created_at": "2022-12-13T16:37:08Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/21403/events",
    "html_url": "https://github.com/neovim/neovim/issues/21403",
    "id": 1494656843,
    "labels": [
        {
            "color": "c2e0c6",
            "default": true,
            "description": "feature request",
            "id": 77997476,
            "name": "enhancement",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3Ng==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/enhancement"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "built-in :terminal or :shell",
            "id": 212696822,
            "name": "terminal",
            "node_id": "MDU6TGFiZWwyMTI2OTY4MjI=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/terminal"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/21403/labels{/name}",
    "locked": true,
    "milestone": null,
    "node_id": "I_kwDOAPphoM5ZFqdL",
    "number": 21403,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/21403/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "not_planned",
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/21403/timeline",
    "title": ":terminal \"clear\" should clear scrollback, not just the screen",
    "updated_at": "2024-06-12T12:35:31Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/21403",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/77174844?v=4",
        "events_url": "https://api.github.com/users/wildwestrom/events{/privacy}",
        "followers_url": "https://api.github.com/users/wildwestrom/followers",
        "following_url": "https://api.github.com/users/wildwestrom/following{/other_user}",
        "gists_url": "https://api.github.com/users/wildwestrom/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/wildwestrom",
        "id": 77174844,
        "login": "wildwestrom",
        "node_id": "MDQ6VXNlcjc3MTc0ODQ0",
        "organizations_url": "https://api.github.com/users/wildwestrom/orgs",
        "received_events_url": "https://api.github.com/users/wildwestrom/received_events",
        "repos_url": "https://api.github.com/users/wildwestrom/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/wildwestrom/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/wildwestrom/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/wildwestrom"
    }
}