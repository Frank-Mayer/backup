{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\n\nI have issuse cross-compiling neovim for my synology nas, when I tried to build prerequisites, it failed when compiling luajit.\r\n```shell\r\n$ make luajit\r\n[ 16%] Performing install step for 'luajit'\r\n==== Building LuaJIT 2.1 ====\r\nVERSION   luajit.h\r\nDYNASM    host/buildvm_arch.h\r\nhost/minilua: host/minilua: cannot execute binary file\r\nmake[5]: *** [Makefile:663: host/buildvm_arch.h] Error 126\r\nmake[5]: *** Waiting for unfinished jobs....\r\nhost/minilua: host/minilua: cannot execute binary file\r\nmake[5]: *** [Makefile:659: luajit.h] Error 126\r\nmake[4]: *** [Makefile:125: src/luajit] Error 2\r\nmake[3]: *** [CMakeFiles/luajit.dir/build.make:106: build/src/luajit-stamp/luajit-install] Error 2\r\nmake[2]: *** [CMakeFiles/Makefile2:219: CMakeFiles/luajit.dir/all] Error 2\r\nmake[1]: *** [CMakeFiles/Makefile2:226: CMakeFiles/luajit.dir/rule] Error 2\r\nmake: *** [Makefile:176: luajit] Error 2\r\n```\n\n### Steps to reproduce\n\nHost:\r\n```shell\r\n$ uname -srm\r\nLinux 5.15.146.1-microsoft-standard-WSL2 x86_64\r\n```\r\n\r\nTarget:\r\n```shell\r\n$ uname -srm\r\nLinux 3.10.108 armv7\r\n```\r\n\r\nThis is what I used to cross-compile: [DSM Tool Chain](https://global.synologydownload.com/download/ToolChain/toolchain/7.2-63134/Marvell%20Armada%2038x%20Linux%203.10.108/armada38x-gcc1220_glibc236_hard-GPL.txz).\r\n\r\nMy toolchain file:\r\n\r\n``````cmake\r\nset(CMAKE_SYSTEM_NAME Linux)\r\nset(CMAKE_SYSTEM_PROCESSOR arm)\r\n\r\nset(CMAKE_C_COMPILER \"arm-unknown-linux-gnueabi-gcc\")\r\nset(CMAKE_CXX_COMPILER \"arm-unknown-linux-gnueabi-g++\")\r\n\r\nset(CMAKE_FIND_ROOT_PATH \"/home/chumeng/cross_compile/arm-unknown-linux-gnueabi/arm-unknown-linux-gnueabi/lib\")\r\n\r\nset(CMAKE_FIND_ROOT_PATH_MODE_PROGRAM NEVER)\r\n\r\nset(CMAKE_FIND_ROOT_PATH_MODE_LIBRARY ONLY)\r\nset(CMAKE_FIND_ROOT_PATH_MODE_INCLUDE ONLY)\r\n``````\r\n\r\n\r\n\r\nHere's what i did:\r\n\r\n``````shell\r\n$ mkdir deps\r\n\r\n$ cd deps\r\n\r\n$ cmake -DCMAKE_TOOLCHAIN_FILE=~/cross_compile/arm-unknown-linux-gnueabi.toolchain.cmake  ../cmake.deps/\r\n-- The C compiler identification is GNU 12.2.0\r\n-- Detecting C compiler ABI info\r\n-- Detecting C compiler ABI info - done\r\n-- Check for working C compiler: /home/chumeng/cross_compile/arm-unknown-linux-gnueabi/bin/arm-unknown-linux-gnueabi-gcc - skipped\r\n-- Detecting C compile features\r\n-- Detecting C compile features - done\r\n-- Found GNU Make at /usr/sbin/make\r\n-- CMAKE_BUILD_TYPE not specified, default is 'Release'\r\n-- Performing Test HAS_OG_FLAG\r\n-- Performing Test HAS_OG_FLAG - Success\r\n-- Performing Test HAS_NO_STACK_CHECK\r\n-- Performing Test HAS_NO_STACK_CHECK - Success\r\n-- Configuring done (2.0s)\r\n-- Generating done (0.0s)\r\n-- Build files have been written to: /home/chumeng/download/neovim/deps\r\n\r\n$ make luajit\r\n[  0%] Creating directories for 'luajit'\r\n[ 16%] Performing download step (download, verify and extract) for 'luajit'\r\n-- Downloading...\r\n   dst='/home/chumeng/download/neovim/deps/build/downloads/luajit/0d313b243194a0b8d2399d8b549ca5a0ff234db5.tar.gz'\r\n   timeout='none'\r\n   inactivity timeout='none'\r\n-- Using src='https://github.com/LuaJIT/LuaJIT/archive/0d313b243194a0b8d2399d8b549ca5a0ff234db5.tar.gz'\r\n-- verifying file...\r\n       file='/home/chumeng/download/neovim/deps/build/downloads/luajit/0d313b243194a0b8d2399d8b549ca5a0ff234db5.tar.gz'\r\n-- Downloading... done\r\n-- extracting...\r\n     src='/home/chumeng/download/neovim/deps/build/downloads/luajit/0d313b243194a0b8d2399d8b549ca5a0ff234db5.tar.gz'\r\n     dst='/home/chumeng/download/neovim/deps/build/src/luajit'\r\n-- extracting... [tar xfz]\r\n-- extracting... [analysis]\r\n-- extracting... [rename]\r\n-- extracting... [clean up]\r\n-- extracting... done\r\n[ 33%] No update step for 'luajit'\r\n[ 50%] No patch step for 'luajit'\r\n[ 50%] No configure step for 'luajit'\r\n[ 66%] No build step for 'luajit'\r\n[ 83%] Performing install step for 'luajit'\r\n==== Building LuaJIT 2.1 ====\r\nHOSTCC    host/minilua.o\r\nHOSTCC    host/buildvm_peobj.o\r\nHOSTCC    host/buildvm_lib.o\r\nHOSTCC    host/buildvm_fold.o\r\nHOSTCC    host/buildvm_asm.o\r\nCC        lj_gc.o\r\nCC        lj_assert.o\r\nCC        lj_char.o\r\nCC        lj_str.o\r\nCC        lj_obj.o\r\nCC        lj_buf.o\r\nCC        lj_tab.o\r\nCC        lj_udata.o\r\nCC        lj_func.o\r\nCC        lj_meta.o\r\nCC        lj_debug.o\r\nCC        lj_vmevent.o\r\nCC        lj_prng.o\r\nCC        lj_vmmath.o\r\nCC        lj_strscan.o\r\nCC        lj_strfmt.o\r\nCC        lj_strfmt_num.o\r\nCC        lj_serialize.o\r\nCC        lj_api.o\r\nCC        lj_lex.o\r\nCC        lj_parse.o\r\nCC        lj_bcread.o\r\nCC        lj_bcwrite.o\r\nCC        lj_load.o\r\nCC        lj_ir.o\r\nCC        lj_opt_narrow.o\r\nCC        lj_opt_mem.o\r\nCC        lj_opt_dce.o\r\nCC        lj_opt_split.o\r\nCC        lj_opt_loop.o\r\nCC        lj_opt_sink.o\r\nCC        lj_mcode.o\r\nCC        lj_snap.o\r\nCC        lj_asm.o\r\nCC        lj_gdbjit.o\r\nCC        lj_ctype.o\r\nCC        lj_cdata.o\r\nCC        lj_cconv.o\r\nCC        lj_trace.o\r\nCC        lj_ccall.o\r\nCC        lj_ccallback.o\r\nCC        lj_carith.o\r\nCC        lj_clib.o\r\nCC        lj_cparse.o\r\nCC        lj_lib.o\r\nCC        lj_alloc.o\r\nCC        lib_aux.o\r\nCC        lib_package.o\r\nCC        lib_init.o\r\nHOSTLINK  host/minilua\r\nVERSION   luajit.h\r\nDYNASM    host/buildvm_arch.h\r\nhost/minilua: host/minilua: cannot execute binary file\r\nmake[5]: *** [Makefile:663: host/buildvm_arch.h] Error 126\r\nmake[5]: *** Waiting for unfinished jobs....\r\nhost/minilua: host/minilua: cannot execute binary file\r\nmake[5]: *** [Makefile:659: luajit.h] Error 126\r\nmake[4]: *** [Makefile:125: src/luajit] Error 2\r\nmake[3]: *** [CMakeFiles/luajit.dir/build.make:106: build/src/luajit-stamp/luajit-install] Error 2\r\nmake[2]: *** [CMakeFiles/Makefile2:219: CMakeFiles/luajit.dir/all] Error 2\r\nmake[1]: *** [CMakeFiles/Makefile2:226: CMakeFiles/luajit.dir/rule] Error 2\r\nmake: *** [Makefile:176: luajit] Error 2\r\n``````\n\n### Expected behavior\n\n ---\n\n### Neovim version (nvim -v)\n\ncommit d94adff\n\n### Vim (not Nvim) behaves the same?\n\n ---\n\n### Operating system/version\n\n---\n\n### Terminal name/version\n\n---\n\n### $TERM environment variable\n\n---\n\n### Installation\n\nbuild from repo",
    "closed_at": "2024-02-18T12:18:10Z",
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "We don't support cross-compilation.",
            "created_at": "2024-02-18T12:18:11Z",
            "html_url": "https://github.com/neovim/neovim/issues/27519#issuecomment-1951273605",
            "id": 1951273605,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27519",
            "node_id": "IC_kwDOAPphoM50ThKF",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1951273605/reactions"
            },
            "updated_at": "2024-02-18T12:18:11Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1951273605",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        }
    ],
    "comments": 1,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/27519/comments",
    "created_at": "2024-02-18T12:17:07Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/27519/events",
    "html_url": "https://github.com/neovim/neovim/issues/27519",
    "id": 2140960958,
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": "building and installing Neovim using the provided scripts",
            "id": 84723321,
            "name": "build",
            "node_id": "MDU6TGFiZWw4NDcyMzMyMQ==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/build"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/27519/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM5_nHi-",
    "number": 27519,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/27519/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "not_planned",
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/27519/timeline",
    "title": "Cross-compilation failed to compile luajit",
    "updated_at": "2024-02-18T16:02:50Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/27519",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/35329574?v=4",
        "events_url": "https://api.github.com/users/lihaoze123/events{/privacy}",
        "followers_url": "https://api.github.com/users/lihaoze123/followers",
        "following_url": "https://api.github.com/users/lihaoze123/following{/other_user}",
        "gists_url": "https://api.github.com/users/lihaoze123/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/lihaoze123",
        "id": 35329574,
        "login": "lihaoze123",
        "node_id": "MDQ6VXNlcjM1MzI5NTc0",
        "organizations_url": "https://api.github.com/users/lihaoze123/orgs",
        "received_events_url": "https://api.github.com/users/lihaoze123/received_events",
        "repos_url": "https://api.github.com/users/lihaoze123/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/lihaoze123/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/lihaoze123/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/lihaoze123"
    }
}