{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "body": "(I've also filed [this issue against tmux](https://github.com/tmux/tmux/issues/2677))\r\n\r\nWhen I switch from a maximized pane with neovim to another pane, the neovim pane starts rendering new lines offset by one. The video explains it:\r\n\r\nhttps://user-images.githubusercontent.com/722385/115953800-e3252980-a4ed-11eb-829a-19ee4ba6c26a.mp4\r\n\r\n- `nvim --version`: NVIM v0.5.0-dev+1267-g7bf62ab02 (reproducible also with v0.4.4)\r\n- `vim -u DEFAULTS` (version: 8.2): The issue doesn't appear in Vim\r\n- Operating system/version: Manjaro Linux\r\n- Terminal name/version: suckless and alacritty both have this issues\r\n- `$TERM`: screen-256color\r\n\r\n### Steps to reproduce using `nvim -u NORC`\r\n\r\n```\r\n$ tmux # version 3.2\r\n$ nvim -u NORC A_multiline_file\r\n# In Tmux: split a vertical pane, maximize the neovim pane, switch to the other pane.\r\n```\r\n\r\n### Actual behaviour\r\n\r\nWhen I switch from a maximized pane with neovim to another pane, the neovim pane starts rendering new lines offset by one. \r\n\r\n### Expected behaviour\r\n\r\nNeovim renders lines correctly after resizing and switching panes.\r\n\r\n### Notes\r\n\r\n* The bug was introduced by [this Tmux commit from June 2020](https://github.com/tmux/tmux/commit/d919fa1ed0ea3b167ffc811abba26a2dbcd20631). Previous commits do not exhibit this **behavior.**\r\n* I can \"fix\" this issue by maximizing and minimizing the terminal window. I suspect that forces some kind of a full refresh.\r\n* The issue also appears with an empty config file.\r\n\r\n",
    "closed_at": "2023-09-18T03:04:34Z",
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "I was having similar issue with the following in my tmux.conf\r\n\r\n`\r\nset-option -g default-terminal \"screen-256color\"\r\n`\r\n\r\nI read some guidance in https://github.com/kovidgoyal/kitty/issues/2047 which described similar glitches, I changed my tmux.conf to \r\n\r\n`\r\nset-option -g default-terminal \"xterm-kitty\"\r\n`\r\n\r\nor (if you want to quickly test without changing tmux config) just set in local window\r\n\r\n`\r\nexport TERM=xterm-kitty\r\n`\r\n\r\nThis fixed it for me.",
            "created_at": "2021-04-25T19:09:14Z",
            "html_url": "https://github.com/neovim/neovim/issues/14434#issuecomment-826374216",
            "id": 826374216,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/14434",
            "node_id": "MDEyOklzc3VlQ29tbWVudDgyNjM3NDIxNg==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 1,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/826374216/reactions"
            },
            "updated_at": "2021-04-25T19:09:44Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/826374216",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/190819?v=4",
                "events_url": "https://api.github.com/users/ianhomer/events{/privacy}",
                "followers_url": "https://api.github.com/users/ianhomer/followers",
                "following_url": "https://api.github.com/users/ianhomer/following{/other_user}",
                "gists_url": "https://api.github.com/users/ianhomer/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ianhomer",
                "id": 190819,
                "login": "ianhomer",
                "node_id": "MDQ6VXNlcjE5MDgxOQ==",
                "organizations_url": "https://api.github.com/users/ianhomer/orgs",
                "received_events_url": "https://api.github.com/users/ianhomer/received_events",
                "repos_url": "https://api.github.com/users/ianhomer/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ianhomer/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ianhomer/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ianhomer"
            }
        },
        {
            "author_association": "NONE",
            "body": "@ianhomer Thanks for that tip! I will swap it in and see how it goes (and I do use Kitty). I feel like I never knew exactly how to trigger it so I will keep an eye on it with this change.",
            "created_at": "2021-04-26T13:58:17Z",
            "html_url": "https://github.com/neovim/neovim/issues/14434#issuecomment-826857581",
            "id": 826857581,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/14434",
            "node_id": "MDEyOklzc3VlQ29tbWVudDgyNjg1NzU4MQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/826857581/reactions"
            },
            "updated_at": "2021-04-26T13:58:17Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/826857581",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/100535?v=4",
                "events_url": "https://api.github.com/users/timtyrrell/events{/privacy}",
                "followers_url": "https://api.github.com/users/timtyrrell/followers",
                "following_url": "https://api.github.com/users/timtyrrell/following{/other_user}",
                "gists_url": "https://api.github.com/users/timtyrrell/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/timtyrrell",
                "id": 100535,
                "login": "timtyrrell",
                "node_id": "MDQ6VXNlcjEwMDUzNQ==",
                "organizations_url": "https://api.github.com/users/timtyrrell/orgs",
                "received_events_url": "https://api.github.com/users/timtyrrell/received_events",
                "repos_url": "https://api.github.com/users/timtyrrell/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/timtyrrell/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/timtyrrell/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/timtyrrell"
            }
        },
        {
            "author_association": "NONE",
            "body": "I think this can be closed now. A tmux fix was merged and verified and the PR was closed 13 days ago https://github.com/tmux/tmux/issues/2677 with this commit: https://github.com/tmux/tmux/commit/cf6034da92df1dec0a2ea6230bd7a424d0d181a8",
            "created_at": "2021-05-11T12:33:02Z",
            "html_url": "https://github.com/neovim/neovim/issues/14434#issuecomment-838394692",
            "id": 838394692,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/14434",
            "node_id": "MDEyOklzc3VlQ29tbWVudDgzODM5NDY5Mg==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/838394692/reactions"
            },
            "updated_at": "2021-05-11T12:33:02Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/838394692",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/100535?v=4",
                "events_url": "https://api.github.com/users/timtyrrell/events{/privacy}",
                "followers_url": "https://api.github.com/users/timtyrrell/followers",
                "following_url": "https://api.github.com/users/timtyrrell/following{/other_user}",
                "gists_url": "https://api.github.com/users/timtyrrell/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/timtyrrell",
                "id": 100535,
                "login": "timtyrrell",
                "node_id": "MDQ6VXNlcjEwMDUzNQ==",
                "organizations_url": "https://api.github.com/users/timtyrrell/orgs",
                "received_events_url": "https://api.github.com/users/timtyrrell/received_events",
                "repos_url": "https://api.github.com/users/timtyrrell/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/timtyrrell/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/timtyrrell/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/timtyrrell"
            }
        },
        {
            "author_association": "NONE",
            "body": "I have the same issue using `xterm`, I've installed `tmux` from the source (this commit `a971d - (4 days ago)`) but I continue experiencing this issue.\r\n\r\nI have the following in my `tmux.conf`\r\n\r\n```ini\r\nset-option -sa terminal-overrides ',xterm-256color:RGB'\r\nset-option -g default-terminal \"xterm-256color\"\r\n```\r\n\r\nI've added the last line in order to check if could fix the issue but it doesn't.\r\n\r\nAny workaround ? \r\n\r\nUpdate:\r\n\r\nI realize that probably a better place to post this message is on tmux repo instead of here. So I will do it, sorry for the noise. ;-)\r\n\r\nUpdate 2: \r\n\r\n[Here is my comment](https://github.com/tmux/tmux/issues/2677#issuecomment-846458580)",
            "created_at": "2021-05-22T20:15:03Z",
            "html_url": "https://github.com/neovim/neovim/issues/14434#issuecomment-846458263",
            "id": 846458263,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/14434",
            "node_id": "MDEyOklzc3VlQ29tbWVudDg0NjQ1ODI2Mw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/846458263/reactions"
            },
            "updated_at": "2021-05-24T06:18:17Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/846458263",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6231413?v=4",
                "events_url": "https://api.github.com/users/mmngreco/events{/privacy}",
                "followers_url": "https://api.github.com/users/mmngreco/followers",
                "following_url": "https://api.github.com/users/mmngreco/following{/other_user}",
                "gists_url": "https://api.github.com/users/mmngreco/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mmngreco",
                "id": 6231413,
                "login": "mmngreco",
                "node_id": "MDQ6VXNlcjYyMzE0MTM=",
                "organizations_url": "https://api.github.com/users/mmngreco/orgs",
                "received_events_url": "https://api.github.com/users/mmngreco/received_events",
                "repos_url": "https://api.github.com/users/mmngreco/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mmngreco/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mmngreco/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mmngreco"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "There's a chance this is a zsh issue, see this section: https://github.com/romkatv/powerlevel10k#horrific-mess-when-resizing-terminal-window",
            "created_at": "2022-01-18T17:08:46Z",
            "html_url": "https://github.com/neovim/neovim/issues/14434#issuecomment-1015627878",
            "id": 1015627878,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/14434",
            "node_id": "IC_kwDOAPphoM48iUBm",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1015627878/reactions"
            },
            "updated_at": "2022-01-18T17:08:46Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1015627878",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/59826753?v=4",
                "events_url": "https://api.github.com/users/kylo252/events{/privacy}",
                "followers_url": "https://api.github.com/users/kylo252/followers",
                "following_url": "https://api.github.com/users/kylo252/following{/other_user}",
                "gists_url": "https://api.github.com/users/kylo252/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/kylo252",
                "id": 59826753,
                "login": "kylo252",
                "node_id": "MDQ6VXNlcjU5ODI2NzUz",
                "organizations_url": "https://api.github.com/users/kylo252/orgs",
                "received_events_url": "https://api.github.com/users/kylo252/received_events",
                "repos_url": "https://api.github.com/users/kylo252/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/kylo252/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kylo252/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/kylo252"
            }
        }
    ],
    "comments": 5,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/14434/comments",
    "created_at": "2021-04-24T09:15:51Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/14434/events",
    "html_url": "https://github.com/neovim/neovim/issues/14434",
    "id": 866701614,
    "labels": [
        {
            "color": "f9d0c4",
            "default": true,
            "description": "issues reporting wrong behavior",
            "id": 77997474,
            "name": "bug",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3NA==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "",
            "id": 197254545,
            "name": "tui",
            "node_id": "MDU6TGFiZWwxOTcyNTQ1NDU=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/tui"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "redraw",
            "id": 718084050,
            "name": "display",
            "node_id": "MDU6TGFiZWw3MTgwODQwNTA=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/display"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/14434/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWU4NjY3MDE2MTQ=",
    "number": 14434,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 4,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 4,
        "url": "https://api.github.com/repos/neovim/neovim/issues/14434/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "completed",
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/14434/timeline",
    "title": "Neovim doesn't render lines correctly after switching from a maximized pane in Tmux",
    "updated_at": "2023-09-18T03:04:34Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/14434",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/722385?v=4",
        "events_url": "https://api.github.com/users/gregorias/events{/privacy}",
        "followers_url": "https://api.github.com/users/gregorias/followers",
        "following_url": "https://api.github.com/users/gregorias/following{/other_user}",
        "gists_url": "https://api.github.com/users/gregorias/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/gregorias",
        "id": 722385,
        "login": "gregorias",
        "node_id": "MDQ6VXNlcjcyMjM4NQ==",
        "organizations_url": "https://api.github.com/users/gregorias/orgs",
        "received_events_url": "https://api.github.com/users/gregorias/received_events",
        "repos_url": "https://api.github.com/users/gregorias/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/gregorias/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/gregorias/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/gregorias"
    }
}