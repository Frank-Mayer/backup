{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\n\nUsing the `spell=false` option to `nvim_buf_set_extmark()` disables spell highlighting, but still keeps misspelled words available as jump targets for the `[s` and `[s` motions (go to previous/next misspelled word). A minimal reproduction is given below.\r\n\r\nI've tried this both on Neovim 0.9.0 (installed via system package manager on Fedora 38) and on the latest prerelease AppImage.\r\n\r\n(Background: This was discovered in nvim-orgmode/orgmode#547. The orgmode plugin uses extmarks to hide the URL portion of hyperlink markup. It's desirable to disable spellchecking for those URLs, so `spell=false` is passed for these extmarks. However, `[s` and `]s` still move to any \"typos\" inside them.)\n\n### Steps to reproduce\n\nGiven the following `repro.lua` file:\r\n```lua\r\nvim.o.spell = true\r\nvim.o.filetype = 'markdown'\r\nvim.api.nvim_put({\r\n  'This is correct incorect correct incorect correct.',\r\n}, 'c', false, true)\r\nlocal nospell_ns = vim.api.nvim_create_namespace('nospell')\r\nvim.api.nvim_buf_set_extmark(0, nospell_ns, 0, 25, {\r\n  end_col = 49,\r\n  hl_group = 'Title',\r\n  spell = false,\r\n})\r\n```\r\nRun the following:\r\n```shell-session\r\n$ nvim --clean -u repro.lua\r\n```\r\nthen type the motion `[s`.\r\n\r\nIt puts the cursor on the second misspelled word (which is not *highlighted* as misspelled).\r\n\r\n![Screenshot of the reproduction. A single sentence is in the editor, it reads: \"This is correct incorect correct incorect correct.\" where \"incorrect\" is misspelled twice. The last three words are highlighted by an extmark. The first misspelled word is highlighted as such, the other isn't.](https://user-images.githubusercontent.com/5731814/235323891-6b2c088c-2fbf-46dc-bb84-ac2fd96ced86.png)\n\n### Expected behavior\n\nThe motion `[s` should put the cursor on the first misspelled word, which is highlighted as misspelled.\n\n### Neovim version (nvim -v)\n\n0.10.0-dev-219+g3287fc2ba\n\n### Vim (not Nvim) behaves the same?\n\nN/A\n\n### Operating system/version\n\nFedora 38 Silverblue\n\n### Terminal name/version\n\nGNOME Terminal 3.48.0\n\n### $TERM environment variable\n\nxterm-256color\n\n### Installation\n\nPrerelease AppImage from Github",
    "closed_at": "2023-05-01T04:30:56Z",
    "comment_data": [],
    "comments": 0,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/23398/comments",
    "created_at": "2023-04-29T20:59:16Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/23398/events",
    "html_url": "https://github.com/neovim/neovim/issues/23398",
    "id": 1689685698,
    "labels": [
        {
            "color": "f9d0c4",
            "default": true,
            "description": "issues reporting wrong behavior",
            "id": 77997474,
            "name": "bug",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3NA==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "extmarks, decorations, virtual text, namespaces",
            "id": 1680119719,
            "name": "extmarks",
            "node_id": "MDU6TGFiZWwxNjgwMTE5NzE5",
            "url": "https://api.github.com/repos/neovim/neovim/labels/extmarks"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "spellcheck",
            "id": 1953742452,
            "name": "spell",
            "node_id": "MDU6TGFiZWwxOTUzNzQyNDUy",
            "url": "https://api.github.com/repos/neovim/neovim/labels/spell"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/23398/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": "2023-06-02T08:01:57Z",
        "closed_issues": 62,
        "created_at": "2023-02-11T13:25:29Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
            "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
            "followers_url": "https://api.github.com/users/zeertzjq/followers",
            "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
            "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/zeertzjq",
            "id": 35768171,
            "login": "zeertzjq",
            "node_id": "MDQ6VXNlcjM1NzY4MTcx",
            "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
            "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
            "repos_url": "https://api.github.com/users/zeertzjq/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/zeertzjq"
        },
        "description": "",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/37",
        "id": 9032761,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/37/labels",
        "node_id": "MI_kwDOAPphoM4AidQ5",
        "number": 37,
        "open_issues": 0,
        "state": "closed",
        "title": "0.9.1",
        "updated_at": "2023-07-26T01:32:30Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/37"
    },
    "node_id": "I_kwDOAPphoM5kto7C",
    "number": 23398,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/23398/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "completed",
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/23398/timeline",
    "title": "Extmarks with spell=false disable spellcheck highlighting, but not jump targets",
    "updated_at": "2023-07-26T01:28:57Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/23398",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/5731814?v=4",
        "events_url": "https://api.github.com/users/troiganto/events{/privacy}",
        "followers_url": "https://api.github.com/users/troiganto/followers",
        "following_url": "https://api.github.com/users/troiganto/following{/other_user}",
        "gists_url": "https://api.github.com/users/troiganto/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/troiganto",
        "id": 5731814,
        "login": "troiganto",
        "node_id": "MDQ6VXNlcjU3MzE4MTQ=",
        "organizations_url": "https://api.github.com/users/troiganto/orgs",
        "received_events_url": "https://api.github.com/users/troiganto/received_events",
        "repos_url": "https://api.github.com/users/troiganto/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/troiganto/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/troiganto/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/troiganto"
    }
}