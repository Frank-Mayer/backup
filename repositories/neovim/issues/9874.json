{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "body": " - `nvim --version`:      NVIM v0.4.0-529-gfb555c689 Build type: RelWithDebInfo\r\n - Vim (version: 8.1-1119) behaves differently? Yes.\r\n - Operating system:     Ubuntu 16.04.6 LTS\r\n - Terminal emulator:    rxvt-unicode v9.22\r\n - Terminal multiplexer: tmux 2.9\r\n - `$TERM`:              tmux-256color\r\n - Shell:                zsh 5.7.1-dev-0 (x86_64-pc-linux-gnu)\r\n\r\n### Steps to reproduce using `nvim -u NORC`\r\n\r\nConsider this shell command:\r\n\r\n    $ printf 'hello world' | nvim -Nu NONE +'norm! fr' -\r\n\r\n### Actual behaviour\r\n\r\nIf I press `*` while the cursor is on the `r` of `hello world`, the cursor jumps to the start of the word `world`.\r\n\r\nNow, if I press `C-o` to jump back to where I was (the `r` in `world`), it raises the error `E37`:\r\n\r\n    E37: No write since last change (add ! to override)\r\n\r\n![gif](https://user-images.githubusercontent.com/8505073/55807717-f7eb1c00-5ae2-11e9-827f-fe9eeaca4c3d.gif)\r\n\r\nNeovim tries to jump to a location in another file, and it didn't add the original position to the jumplist.\r\n\r\nHad there been two occurrences of the word `world`:\r\n\r\n    $ printf 'hello world\\nhello world' | nvim -Nu NONE +'norm! fr' -\r\n\r\nThen the position would have been added.\r\n\r\nIn Vim, it doesn't matter whether the current word is present once or multiple times in the buffer. The current position is always added to the jumplist before a `*` motion.\r\n\r\n![gif](https://user-images.githubusercontent.com/8505073/55807864-3ed91180-5ae3-11e9-8525-2fe96a4f7d83.gif)\r\n\r\nI rely on this behavior in a plugin similar to [vim-slash](https://github.com/junegunn/vim-slash) to restore the position of the cursor after a `*` search (I just want the search register to be populated and all the occurrences to be highlighted).\r\nIn Vim it works consistently; in Neovim, it works only when the word under the cursor is present more than once in the current buffer.\r\n\r\n### Expected behaviour\r\n\r\nBefore `*` jumps, I expected the current position to be added to the jumplist, like in Vim, regardless of the number of occurrences of the word under the cursor.\r\n",
    "closed_at": "2019-08-21T12:07:09Z",
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "Bisected to 35362495c . Note that backtick-backtick still works.\r\n\r\n> regardless of the number of occurrences of the word\r\n\r\nThe problem actually is that the _line_ does not change. If the word occurs multiple times on the same line, the problem is still present.\r\n\r\n> I rely on this behavior in a plugin similar to [vim-slash](https://github.com/junegunn/vim-slash) to restore the position of the cursor after a `*` search\r\n\r\nCan you use backtick-backtick instead?\r\n\r\nA patch that fixes this regression, without regressing 35362495c, is welcome.",
            "created_at": "2019-04-09T18:12:27Z",
            "html_url": "https://github.com/neovim/neovim/issues/9874#issuecomment-481369640",
            "id": 481369640,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/9874",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQ4MTM2OTY0MA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/481369640/reactions"
            },
            "updated_at": "2019-04-09T18:16:00Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/481369640",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "You're right, ``` `` ``` is a good replacement for `C-o`. I hadn't thought about it. Thank you very much for your answer.\r\n",
            "created_at": "2019-04-09T18:41:02Z",
            "html_url": "https://github.com/neovim/neovim/issues/9874#issuecomment-481379764",
            "id": 481379764,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/9874",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQ4MTM3OTc2NA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/481379764/reactions"
            },
            "updated_at": "2019-04-09T18:43:08Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/481379764",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8505073?v=4",
                "events_url": "https://api.github.com/users/lacygoill/events{/privacy}",
                "followers_url": "https://api.github.com/users/lacygoill/followers",
                "following_url": "https://api.github.com/users/lacygoill/following{/other_user}",
                "gists_url": "https://api.github.com/users/lacygoill/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lacygoill",
                "id": 8505073,
                "login": "lacygoill",
                "node_id": "MDQ6VXNlcjg1MDUwNzM=",
                "organizations_url": "https://api.github.com/users/lacygoill/orgs",
                "received_events_url": "https://api.github.com/users/lacygoill/received_events",
                "repos_url": "https://api.github.com/users/lacygoill/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lacygoill/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lacygoill/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lacygoill"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "backtick-backtick for jumping within the same line is reasonable, so I am marking this `wontfix`.",
            "created_at": "2019-08-21T12:07:09Z",
            "html_url": "https://github.com/neovim/neovim/issues/9874#issuecomment-523427447",
            "id": 523427447,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/9874",
            "node_id": "MDEyOklzc3VlQ29tbWVudDUyMzQyNzQ0Nw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/523427447/reactions"
            },
            "updated_at": "2019-08-21T12:07:48Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/523427447",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "author_association": "NONE",
            "body": "<code>``</code> itself updates jumplist while `<C-o>` move the cursor to older position in jumplist, so it's not drop-in replacement.\r\n\r\nAlso it doesn't make sense to me at all that the behavior changes depending on the cursor position and it broke compatibility with Vim (including usage from existing Vim script) unnecessarily, IMO... ",
            "created_at": "2020-02-03T16:34:42Z",
            "html_url": "https://github.com/neovim/neovim/issues/9874#issuecomment-581501666",
            "id": 581501666,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/9874",
            "node_id": "MDEyOklzc3VlQ29tbWVudDU4MTUwMTY2Ng==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 4,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 4,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/581501666/reactions"
            },
            "updated_at": "2020-02-03T16:34:42Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/581501666",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/3797062?v=4",
                "events_url": "https://api.github.com/users/haya14busa/events{/privacy}",
                "followers_url": "https://api.github.com/users/haya14busa/followers",
                "following_url": "https://api.github.com/users/haya14busa/following{/other_user}",
                "gists_url": "https://api.github.com/users/haya14busa/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/haya14busa",
                "id": 3797062,
                "login": "haya14busa",
                "node_id": "MDQ6VXNlcjM3OTcwNjI=",
                "organizations_url": "https://api.github.com/users/haya14busa/orgs",
                "received_events_url": "https://api.github.com/users/haya14busa/received_events",
                "repos_url": "https://api.github.com/users/haya14busa/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/haya14busa/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/haya14busa/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/haya14busa"
            }
        },
        {
            "author_association": "NONE",
            "body": "> it doesn't make sense to me at all that the behavior changes depending on the cursor position\r\n\r\nI perceived it not as an intended change in behaviour but as a way to emulate that a particular event (record a jumplist entry) does not occur, only it uses incomplete (and insufficient) information.\r\n\r\nThis regression breaks one of my oldest mappings, and introduces an inconvenient exception to muscle memory for anyone that uses `*` (`#`) frequently without that mapping. It's bad enough that I'm not entirely convinced my slight improvement in #12607 is good enough for me. At the very least, I think this warrants a bigger mention in `vim-differences` than just\r\n\r\n>   The jumplist avoids useless/phantom jumps.",
            "created_at": "2020-07-22T17:34:45Z",
            "html_url": "https://github.com/neovim/neovim/issues/9874#issuecomment-662587606",
            "id": 662587606,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/9874",
            "node_id": "MDEyOklzc3VlQ29tbWVudDY2MjU4NzYwNg==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/662587606/reactions"
            },
            "updated_at": "2020-07-22T17:34:45Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/662587606",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/603326?v=4",
                "events_url": "https://api.github.com/users/commonquail/events{/privacy}",
                "followers_url": "https://api.github.com/users/commonquail/followers",
                "following_url": "https://api.github.com/users/commonquail/following{/other_user}",
                "gists_url": "https://api.github.com/users/commonquail/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/commonquail",
                "id": 603326,
                "login": "commonquail",
                "node_id": "MDQ6VXNlcjYwMzMyNg==",
                "organizations_url": "https://api.github.com/users/commonquail/orgs",
                "received_events_url": "https://api.github.com/users/commonquail/received_events",
                "repos_url": "https://api.github.com/users/commonquail/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/commonquail/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/commonquail/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/commonquail"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Addressed by https://github.com/neovim/neovim/pull/21874",
            "created_at": "2023-07-12T17:54:06Z",
            "html_url": "https://github.com/neovim/neovim/issues/9874#issuecomment-1632968874",
            "id": 1632968874,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/9874",
            "node_id": "IC_kwDOAPphoM5hVSCq",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1632968874/reactions"
            },
            "updated_at": "2023-07-12T17:54:06Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1632968874",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "author_association": "NONE",
            "body": "Does that mean that * should be able to add multiple columns on the same line to the jump list? This isn't working for me at the moment (v0.9 and compiled from master). I tried to understand what is going on in #21874, but couldn't really see how it should affect this issue here. Thanks a lot for any info :)",
            "created_at": "2023-07-26T12:24:32Z",
            "html_url": "https://github.com/neovim/neovim/issues/9874#issuecomment-1651704429",
            "id": 1651704429,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/9874",
            "node_id": "IC_kwDOAPphoM5icwJt",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1651704429/reactions"
            },
            "updated_at": "2023-07-26T12:24:32Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1651704429",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/12894918?v=4",
                "events_url": "https://api.github.com/users/stephenkraemer/events{/privacy}",
                "followers_url": "https://api.github.com/users/stephenkraemer/followers",
                "following_url": "https://api.github.com/users/stephenkraemer/following{/other_user}",
                "gists_url": "https://api.github.com/users/stephenkraemer/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/stephenkraemer",
                "id": 12894918,
                "login": "stephenkraemer",
                "node_id": "MDQ6VXNlcjEyODk0OTE4",
                "organizations_url": "https://api.github.com/users/stephenkraemer/orgs",
                "received_events_url": "https://api.github.com/users/stephenkraemer/received_events",
                "repos_url": "https://api.github.com/users/stephenkraemer/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/stephenkraemer/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/stephenkraemer/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/stephenkraemer"
            }
        }
    ],
    "comments": 7,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/9874/comments",
    "created_at": "2019-04-09T14:21:39Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/9874/events",
    "html_url": "https://github.com/neovim/neovim/issues/9874",
    "id": 430996063,
    "labels": [
        {
            "color": "e6e6e6",
            "default": false,
            "description": "current behavior is by design, and change is not desired",
            "id": 77997479,
            "name": "closed:wontfix",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3OQ==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/closed:wontfix"
        },
        {
            "color": "0E8A16",
            "default": false,
            "description": "issue is not fixed but can be circumvented until then",
            "id": 435850181,
            "name": "has:workaround",
            "node_id": "MDU6TGFiZWw0MzU4NTAxODE=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/has:workaround"
        },
        {
            "color": "f9d0c4",
            "default": false,
            "description": "wrong behavior that was introduced in a previous commit (please bisect)",
            "id": 619474658,
            "name": "bug-regression",
            "node_id": "MDU6TGFiZWw2MTk0NzQ2NTg=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug-regression"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "Nvim core functionality or code",
            "id": 858327504,
            "name": "core",
            "node_id": "MDU6TGFiZWw4NTgzMjc1MDQ=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/core"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/9874/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 189,
        "created_at": "2014-11-26T22:13:11Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk"
        },
        "description": "Zero priority; no timeline. Promote an item from this state by taking ownership of it.",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/9",
        "id": 881978,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/9/labels",
        "node_id": "MDk6TWlsZXN0b25lODgxOTc4",
        "number": 9,
        "open_issues": 216,
        "state": "open",
        "title": "unplanned",
        "updated_at": "2023-07-31T10:44:33Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/9"
    },
    "node_id": "MDU6SXNzdWU0MzA5OTYwNjM=",
    "number": 9874,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/9874/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "completed",
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/9874/timeline",
    "title": "\"*\" does not add to jumplist if cursor line does not change",
    "updated_at": "2023-07-26T12:24:32Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/9874",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/8505073?v=4",
        "events_url": "https://api.github.com/users/lacygoill/events{/privacy}",
        "followers_url": "https://api.github.com/users/lacygoill/followers",
        "following_url": "https://api.github.com/users/lacygoill/following{/other_user}",
        "gists_url": "https://api.github.com/users/lacygoill/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/lacygoill",
        "id": 8505073,
        "login": "lacygoill",
        "node_id": "MDQ6VXNlcjg1MDUwNzM=",
        "organizations_url": "https://api.github.com/users/lacygoill/orgs",
        "received_events_url": "https://api.github.com/users/lacygoill/received_events",
        "repos_url": "https://api.github.com/users/lacygoill/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/lacygoill/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/lacygoill/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/lacygoill"
    }
}