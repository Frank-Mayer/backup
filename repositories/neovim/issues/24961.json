{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "body": "### Problem\n\nIf I'm working on a file like this:\r\n```\r\n{foo,bar,baz},\r\n{bar,baz,foo},\r\n{baz,foo,bar},\r\n{foo,baz,bar},\r\n{bar,foo,baz},\r\n{baz,bar,foo},\r\n```\r\n\r\nand I want to split every list so that every element is on its own line, so I execute this command:\r\n```\r\n:execute \"1,6normal ^a\\<CR>\\<Tab>\\<Esc>f,a\\<CR>\\<Esc>f,a\\<CR>\\<Esc>f}i\\<CR>\\<BS>\"\r\n```\r\n\r\nI'd expect a result that is the same as what I would get if I were to execute the command on each line separately, something like:\r\n```\r\n{\r\n\tfoo,\r\n\tbar,\r\n\tbaz\r\n},\r\n{\r\n\tbar,\r\n\tbaz,\r\n\tfoo\r\n},\r\n{\r\n\tbaz,\r\n\tfoo,\r\n\tbar\r\n},\r\n{\r\n\tfoo,\r\n\tbaz,\r\n\tbar\r\n},\r\n{\r\n\tbar,\r\n\tfoo,\r\n\tbaz\r\n},\r\n{\r\n\tbaz,\r\n\tbar,\r\n\tfoo\r\n},\r\n```\r\n\r\nbut instead, I get a result like:\r\n```\r\n{\r\n\tf\r\n\t\to\r\n\t\t\to\r\n\t\t\t\t,\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\r\n\r\n\r\n\tbar,\r\n\tbaz\r\n},\r\n{bar,baz,foo},\r\n{baz,foo,bar},\r\n{foo,baz,bar},\r\n{bar,foo,baz},\r\n{baz,bar,foo},\r\n```\r\n\r\nWhich makes it clear that `:normal` executes the command on the added lines, instead of the original set of lines that were the target of the command. This to me does not seem like sensible behavior.\n\n### Steps to reproduce\n\n1. `nvim --clean`\r\n2. Open the example text in the above section\r\n3. Execute the command given in the above section\r\n4. See unexpected result\n\n### Expected behavior\n\n`:normal` should instead work on the initially targeted range of lines instead of acting on newly added lines, somewhat similar to what `g/pattern/cmd` does.\n\n### Neovim version (nvim -v)\n\nNVIM v0.10.0-dev-837+g389165cac\n\n### Vim (not Nvim) behaves the same?\n\nyes, vim 9.0\n\n### Operating system/version\n\nFedora 38\n\n### Terminal name/version\n\nGNOME Terminal 3.48.1\n\n### $TERM environment variable\n\nxterm-256color\n\n### Installation\n\nBuild from repo",
    "closed_at": "2023-08-31T12:53:30Z",
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "I'm not sure if it's feasible to implement the desired behaviour here, and tbh the current behaviour is what I would expect.\r\n\r\nDo you have a proposal for how this could be reasonably implemented?",
            "created_at": "2023-08-31T12:37:48Z",
            "html_url": "https://github.com/neovim/neovim/issues/24961#issuecomment-1700958787",
            "id": 1700958787,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24961",
            "node_id": "IC_kwDOAPphoM5lYpJD",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1700958787/reactions"
            },
            "updated_at": "2023-08-31T12:37:54Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1700958787",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "The expected behavior can be easily achieved by adding `:global/.*/` before the `:normal`.\r\n```vim\r\n:execute \"1,6global/.*/normal ^a\\<CR>\\<Tab>\\<Esc>f,a\\<CR>\\<Esc>f,a\\<CR>\\<Esc>f}i\\<CR>\\<BS>\"\r\n```\r\nSo I don't think there is a good enough reason to change the behavior of `:normal` with a range.",
            "created_at": "2023-08-31T12:53:30Z",
            "html_url": "https://github.com/neovim/neovim/issues/24961#issuecomment-1700985189",
            "id": 1700985189,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24961",
            "node_id": "IC_kwDOAPphoM5lYvll",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 1,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1700985189/reactions"
            },
            "updated_at": "2023-08-31T14:03:28Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1700985189",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> The expected behavior can be easily achieved by adding `:global/.*/` before the `:normal`.\r\n> \r\n> ```viml\r\n> :execute \"1,6global/.*/normal ^a\\<CR>\\<Tab>\\<Esc>f,a\\<CR>\\<Esc>f,a\\<CR>\\<Esc>f}i\\<CR>\\<BS>\"\r\n> ```\r\n> \r\n> So I don't think there is a good enough reason to change the behavior of `:normal` with a range.\r\n\r\nCould we at least include this in the docs for `:normal` for people who might want this behavior?",
            "created_at": "2023-08-31T14:06:56Z",
            "html_url": "https://github.com/neovim/neovim/issues/24961#issuecomment-1701116107",
            "id": 1701116107,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24961",
            "node_id": "IC_kwDOAPphoM5lZPjL",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1701116107/reactions"
            },
            "updated_at": "2023-08-31T14:06:56Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1701116107",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/29580810?v=4",
                "events_url": "https://api.github.com/users/famiu/events{/privacy}",
                "followers_url": "https://api.github.com/users/famiu/followers",
                "following_url": "https://api.github.com/users/famiu/following{/other_user}",
                "gists_url": "https://api.github.com/users/famiu/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/famiu",
                "id": 29580810,
                "login": "famiu",
                "node_id": "MDQ6VXNlcjI5NTgwODEw",
                "organizations_url": "https://api.github.com/users/famiu/orgs",
                "received_events_url": "https://api.github.com/users/famiu/received_events",
                "repos_url": "https://api.github.com/users/famiu/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/famiu/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/famiu/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/famiu"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Interesting. Out of interest could you ELI5 how/why this works?",
            "created_at": "2023-08-31T14:11:15Z",
            "html_url": "https://github.com/neovim/neovim/issues/24961#issuecomment-1701129537",
            "id": 1701129537,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24961",
            "node_id": "IC_kwDOAPphoM5lZS1B",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1701129537/reactions"
            },
            "updated_at": "2023-08-31T14:11:15Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1701129537",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "It's in the docs below `:h :global`.",
            "created_at": "2023-08-31T14:22:39Z",
            "html_url": "https://github.com/neovim/neovim/issues/24961#issuecomment-1701150859",
            "id": 1701150859,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24961",
            "node_id": "IC_kwDOAPphoM5lZYCL",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1701150859/reactions"
            },
            "updated_at": "2023-08-31T14:22:39Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1701150859",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "For reference:\r\n\r\n> The global commands work by first scanning through the [range] lines and\r\n> marking each line where a match occurs (for a multi-line pattern, only the\r\n> start of the match matters).\r\n> In a second scan the [cmd] is executed for each marked line, as if the cursor\r\n> was in that line.  For \":v\" and \":g!\" the command is executed for each not\r\n> marked line.  If a line is deleted its mark disappears.\r\n> The default for [range] is the whole buffer (1,$).  Use \"CTRL-C\" to interrupt\r\n> the command.  If an error message is given for a line, the command for that\r\n> line is aborted and the global command continues with the next marked or\r\n> unmarked line.\r\n",
            "created_at": "2023-08-31T14:24:45Z",
            "html_url": "https://github.com/neovim/neovim/issues/24961#issuecomment-1701154461",
            "id": 1701154461,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24961",
            "node_id": "IC_kwDOAPphoM5lZY6d",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1701154461/reactions"
            },
            "updated_at": "2023-08-31T14:24:45Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1701154461",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        }
    ],
    "comments": 6,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/24961/comments",
    "created_at": "2023-08-31T12:11:28Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/24961/events",
    "html_url": "https://github.com/neovim/neovim/issues/24961",
    "id": 1875403663,
    "labels": [
        {
            "color": "e6e6e6",
            "default": false,
            "description": "current behavior is by design, and change is not desired",
            "id": 77997479,
            "name": "closed:wontfix",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3OQ==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/closed:wontfix"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/24961/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM5vyGOP",
    "number": 24961,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/24961/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "not_planned",
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/24961/timeline",
    "title": "`:normal` command does not act on original range of lines if the command itself adds lines",
    "updated_at": "2023-08-31T14:24:45Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/24961",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/29580810?v=4",
        "events_url": "https://api.github.com/users/famiu/events{/privacy}",
        "followers_url": "https://api.github.com/users/famiu/followers",
        "following_url": "https://api.github.com/users/famiu/following{/other_user}",
        "gists_url": "https://api.github.com/users/famiu/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/famiu",
        "id": 29580810,
        "login": "famiu",
        "node_id": "MDQ6VXNlcjI5NTgwODEw",
        "organizations_url": "https://api.github.com/users/famiu/orgs",
        "received_events_url": "https://api.github.com/users/famiu/received_events",
        "repos_url": "https://api.github.com/users/famiu/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/famiu/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/famiu/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/famiu"
    }
}