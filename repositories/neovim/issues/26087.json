{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\r\n\r\n```bash\r\n# CCACHE_DISABLE=true make CMAKE_BUILD_TYPE=Release \\\r\n#\tCMAKE_INSTALL_PREFIX=$HOME/.neovim.install \\\r\n#\tCMAKE_EXTRA_FLAGS='-DCMAKE_CXX_COMPILER=/home/jkarasev/intel/oneapi/compiler/2024.0/bin/icpx -DCMAKE_C_COMPILER=/home/jkarasev/intel/oneapi/compiler/2024.0/bin/icx' \\\r\n#       DEPS_CMAKE_FLAGS=\"-DCMAKE_CXX_COMPILER=/home/jkarasev/intel/oneapi/compiler/2024.0/bin/icpx -DCMAKE_C_COMPILER=/home/jkarasev/intel/oneapi/compiler/2024.0/bin/icx\"\r\n\r\n[ 77%] Building C object src/nvim/CMakeFiles/nvim.dir/os/pty_process_unix.c.o\r\n/home/jkarasev/neovim/src/nvim/os/pty_process_unix.c:232:10: error: call to undeclared function 'ptsname'; ISO C99 and later do not support implicit function declarations [-Wimplicit-function-declaration]\r\n  232 |   return ptsname(ptyproc->tty_fd);\r\n      |          ^\r\n/home/jkarasev/neovim/src/nvim/os/pty_process_unix.c:232:10: note: did you mean 'ttyname'?\r\n/usr/include/unistd.h:799:14: note: 'ttyname' declared here\r\n  799 | extern char *ttyname (int __fd) __THROW;\r\n      |              ^\r\n/home/jkarasev/neovim/src/nvim/os/pty_process_unix.c:232:10: error: incompatible integer to pointer conversion returning 'int' from a function with result type 'const char *' [-Wint-conversion]\r\n  232 |   return ptsname(ptyproc->tty_fd);\r\n      |          ^~~~~~~~~~~~~~~~~~~~~~~~\r\n2 errors generated.\r\nmake[3]: *** [src/nvim/CMakeFiles/nvim.dir/build.make:3454: src/nvim/CMakeFiles/nvim.dir/os/pty_process_unix.c.o] Error 1\r\nmake[3]: Leaving directory '/home/jkarasev/neovim/build'\r\nmake[2]: *** [CMakeFiles/Makefile2:532: src/nvim/CMakeFiles/nvim.dir/all] Error 2\r\nmake[2]: Leaving directory '/home/jkarasev/neovim/build'\r\nmake[1]: *** [Makefile:156: all] Error 2\r\nmake[1]: Leaving directory '/home/jkarasev/neovim/build'\r\nmake: *** [Makefile:84: nvim] Error 2\r\n```\r\n\r\n### Steps to reproduce\r\n\r\n```bash\r\nCCACHE_DISABLE=true make CMAKE_BUILD_TYPE=Release \\\r\n\tCMAKE_INSTALL_PREFIX=$HOME/.neovim.install \\\r\n\tCMAKE_EXTRA_FLAGS='-DCMAKE_CXX_COMPILER=/home/jkarasev/intel/oneapi/compiler/2024.0/bin/icpx -DCMAKE_C_COMPILER=/home/jkarasev/intel/oneapi/compiler/2024.0/bin/icx' \\\r\n\tDEPS_CMAKE_FLAGS=\"-DCMAKE_CXX_COMPILER=/home/jkarasev/intel/oneapi/compiler/2024.0/bin/icpx -DCMAKE_C_COMPILER=/home/jkarasev/intel/oneapi/compiler/2024.0/bin/icx\"\r\n```\r\n\r\n### Expected behavior\r\n\r\nIt should compile without error\r\n\r\n### Neovim version (nvim -v)\r\n\r\nfe869a8ce25a14497a9bf5ddca0ae11a1c38a22c\r\n\r\n### Vim (not Nvim) behaves the same?\r\n\r\nDid not try this.\r\n\r\n### Operating system/version\r\n```\r\nNo LSB modules are available.\r\nDistributor ID: Ubuntu\r\nDescription:    Ubuntu 22.04.1 LTS\r\nRelease:        22.04\r\nCodename:       jammy\r\n```\r\n### Terminal name/version\r\n\r\nubuntu wsl\r\n\r\n### $TERM environment variable\r\n\r\ntmux-256color\r\n\r\n### Installation\r\n\r\nbuild from repo",
    "closed_at": "2023-11-21T21:18:23Z",
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "Please provide Ubuntu version. (E.g. from the output of `lsb_release -a`)",
            "created_at": "2023-11-17T04:03:37Z",
            "html_url": "https://github.com/neovim/neovim/issues/26087#issuecomment-1815715051",
            "id": 1815715051,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26087",
            "node_id": "IC_kwDOAPphoM5sOZzr",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1815715051/reactions"
            },
            "updated_at": "2023-11-17T04:03:37Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1815715051",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "author_association": "NONE",
            "body": "@zeertzjq added ubuntu version.",
            "created_at": "2023-11-17T04:05:53Z",
            "html_url": "https://github.com/neovim/neovim/issues/26087#issuecomment-1815716475",
            "id": 1815716475,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26087",
            "node_id": "IC_kwDOAPphoM5sOaJ7",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1815716475/reactions"
            },
            "updated_at": "2023-11-17T04:05:53Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1815716475",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/21280439?v=4",
                "events_url": "https://api.github.com/users/karasjoh000/events{/privacy}",
                "followers_url": "https://api.github.com/users/karasjoh000/followers",
                "following_url": "https://api.github.com/users/karasjoh000/following{/other_user}",
                "gists_url": "https://api.github.com/users/karasjoh000/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/karasjoh000",
                "id": 21280439,
                "login": "karasjoh000",
                "node_id": "MDQ6VXNlcjIxMjgwNDM5",
                "organizations_url": "https://api.github.com/users/karasjoh000/orgs",
                "received_events_url": "https://api.github.com/users/karasjoh000/received_events",
                "repos_url": "https://api.github.com/users/karasjoh000/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/karasjoh000/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/karasjoh000/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/karasjoh000"
            }
        },
        {
            "author_association": "NONE",
            "body": "note a temporary fix seems to be adding this into the CMakeLists.txt: \r\n```cmake\r\nset(CMAKE_C_FLAGS \"${CMAKE_C_FLAGS} -Wno-implicit-function-declaration -Wno-int-conversion\")\r\nset(CMAKE_CXX_FLAGS \"${CMAKE_CXX_FLAGS} -Wno-implicit-function-declaration -Wno-int-conversion\")\r\n```\r\n\r\nbut not permanent fix. It can be an Intel compiler issue, because it seems like the implicit function in question did have included header. idk. Maybe some macro logic for headers.",
            "created_at": "2023-11-17T04:09:10Z",
            "html_url": "https://github.com/neovim/neovim/issues/26087#issuecomment-1815718702",
            "id": 1815718702,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26087",
            "node_id": "IC_kwDOAPphoM5sOasu",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1815718702/reactions"
            },
            "updated_at": "2023-11-17T04:09:10Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1815718702",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/21280439?v=4",
                "events_url": "https://api.github.com/users/karasjoh000/events{/privacy}",
                "followers_url": "https://api.github.com/users/karasjoh000/followers",
                "following_url": "https://api.github.com/users/karasjoh000/following{/other_user}",
                "gists_url": "https://api.github.com/users/karasjoh000/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/karasjoh000",
                "id": 21280439,
                "login": "karasjoh000",
                "node_id": "MDQ6VXNlcjIxMjgwNDM5",
                "organizations_url": "https://api.github.com/users/karasjoh000/orgs",
                "received_events_url": "https://api.github.com/users/karasjoh000/received_events",
                "repos_url": "https://api.github.com/users/karasjoh000/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/karasjoh000/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/karasjoh000/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/karasjoh000"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "I can reproduce the issue with icx 2023.1.0 on Debian 12.2 (glibc 2.36).\r\n\r\nThe simplest solution is to add `-D_GNU_SOURCE`, which satisifies the followings:\r\n\r\n- `-D_XOPEN_SOURCE=500` for [`ptsname`](https://man7.org/linux/man-pages/man3/ptsname.3.html)—`500` is the minimum, and `-D_GNU_SOURCE` sets it to `700`\r\n- `-D_POSIX_C_SOURCE=200809L` for [`strnlen`](https://man7.org/linux/man-pages/man3/strnlen.3.html)\r\n- `-D_DEFAULT_SOURCE` for [`htobe64`](https://man7.org/linux/man-pages/man3/htobe64.3.html)\r\n\r\nThe macros and their required values depend on the glibc version, as specified in the man’s.\r\nSee also [feature_test_macros(7)](https://man7.org/linux/man-pages/man7/feature_test_macros.7.html).\r\n\r\nAnyway, I believe this is an icx–glibc problem.",
            "created_at": "2023-11-20T07:53:29Z",
            "html_url": "https://github.com/neovim/neovim/issues/26087#issuecomment-1818401267",
            "id": 1818401267,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26087",
            "node_id": "IC_kwDOAPphoM5sYpnz",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1818401267/reactions"
            },
            "updated_at": "2023-11-20T10:46:47Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1818401267",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/11627708?v=4",
                "events_url": "https://api.github.com/users/e-kwsm/events{/privacy}",
                "followers_url": "https://api.github.com/users/e-kwsm/followers",
                "following_url": "https://api.github.com/users/e-kwsm/following{/other_user}",
                "gists_url": "https://api.github.com/users/e-kwsm/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/e-kwsm",
                "id": 11627708,
                "login": "e-kwsm",
                "node_id": "MDQ6VXNlcjExNjI3NzA4",
                "organizations_url": "https://api.github.com/users/e-kwsm/orgs",
                "received_events_url": "https://api.github.com/users/e-kwsm/received_events",
                "repos_url": "https://api.github.com/users/e-kwsm/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/e-kwsm/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/e-kwsm/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/e-kwsm"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "https://github.com/neovim/neovim/blob/d667e0e4142ba8eb8623971539b0f9eec78b7529/src/nvim/CMakeLists.txt#L197-L209\r\n\r\n#4042, #4094, #6743",
            "created_at": "2023-11-20T10:51:25Z",
            "html_url": "https://github.com/neovim/neovim/issues/26087#issuecomment-1818814418",
            "id": 1818814418,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26087",
            "node_id": "IC_kwDOAPphoM5saOfS",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1818814418/reactions"
            },
            "updated_at": "2023-11-21T08:04:37Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1818814418",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/11627708?v=4",
                "events_url": "https://api.github.com/users/e-kwsm/events{/privacy}",
                "followers_url": "https://api.github.com/users/e-kwsm/followers",
                "following_url": "https://api.github.com/users/e-kwsm/following{/other_user}",
                "gists_url": "https://api.github.com/users/e-kwsm/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/e-kwsm",
                "id": 11627708,
                "login": "e-kwsm",
                "node_id": "MDQ6VXNlcjExNjI3NzA4",
                "organizations_url": "https://api.github.com/users/e-kwsm/orgs",
                "received_events_url": "https://api.github.com/users/e-kwsm/received_events",
                "repos_url": "https://api.github.com/users/e-kwsm/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/e-kwsm/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/e-kwsm/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/e-kwsm"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "@e-kwsm @karasjoh000 does https://github.com/neovim/neovim/pull/26124 solve this problem?",
            "created_at": "2023-11-20T18:31:22Z",
            "html_url": "https://github.com/neovim/neovim/issues/26087#issuecomment-1819598409",
            "id": 1819598409,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26087",
            "node_id": "IC_kwDOAPphoM5sdN5J",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1819598409/reactions"
            },
            "updated_at": "2023-11-20T18:31:22Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1819598409",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33953936?v=4",
                "events_url": "https://api.github.com/users/dundargoc/events{/privacy}",
                "followers_url": "https://api.github.com/users/dundargoc/followers",
                "following_url": "https://api.github.com/users/dundargoc/following{/other_user}",
                "gists_url": "https://api.github.com/users/dundargoc/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dundargoc",
                "id": 33953936,
                "login": "dundargoc",
                "node_id": "MDQ6VXNlcjMzOTUzOTM2",
                "organizations_url": "https://api.github.com/users/dundargoc/orgs",
                "received_events_url": "https://api.github.com/users/dundargoc/received_events",
                "repos_url": "https://api.github.com/users/dundargoc/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dundargoc/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dundargoc/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dundargoc"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Yes, it fixes the issue.",
            "created_at": "2023-11-21T06:50:53Z",
            "html_url": "https://github.com/neovim/neovim/issues/26087#issuecomment-1820334206",
            "id": 1820334206,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26087",
            "node_id": "IC_kwDOAPphoM5sgBh-",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1820334206/reactions"
            },
            "updated_at": "2023-11-21T06:50:53Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1820334206",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/11627708?v=4",
                "events_url": "https://api.github.com/users/e-kwsm/events{/privacy}",
                "followers_url": "https://api.github.com/users/e-kwsm/followers",
                "following_url": "https://api.github.com/users/e-kwsm/following{/other_user}",
                "gists_url": "https://api.github.com/users/e-kwsm/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/e-kwsm",
                "id": 11627708,
                "login": "e-kwsm",
                "node_id": "MDQ6VXNlcjExNjI3NzA4",
                "organizations_url": "https://api.github.com/users/e-kwsm/orgs",
                "received_events_url": "https://api.github.com/users/e-kwsm/received_events",
                "repos_url": "https://api.github.com/users/e-kwsm/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/e-kwsm/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/e-kwsm/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/e-kwsm"
            }
        }
    ],
    "comments": 7,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/26087/comments",
    "created_at": "2023-11-17T03:58:50Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/26087/events",
    "html_url": "https://github.com/neovim/neovim/issues/26087",
    "id": 1998232445,
    "labels": [
        {
            "color": "f9d0c4",
            "default": true,
            "description": "issues reporting wrong behavior",
            "id": 77997474,
            "name": "bug",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3NA==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "building and installing Neovim using the provided scripts",
            "id": 84723321,
            "name": "build",
            "node_id": "MDU6TGFiZWw4NDcyMzMyMQ==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/build"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/26087/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM53Gpt9",
    "number": 26087,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/26087/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "completed",
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/26087/timeline",
    "title": "error building implicit function and incompatible integer to pointer conversion",
    "updated_at": "2023-11-21T21:18:23Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/26087",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/21280439?v=4",
        "events_url": "https://api.github.com/users/karasjoh000/events{/privacy}",
        "followers_url": "https://api.github.com/users/karasjoh000/followers",
        "following_url": "https://api.github.com/users/karasjoh000/following{/other_user}",
        "gists_url": "https://api.github.com/users/karasjoh000/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/karasjoh000",
        "id": 21280439,
        "login": "karasjoh000",
        "node_id": "MDQ6VXNlcjIxMjgwNDM5",
        "organizations_url": "https://api.github.com/users/karasjoh000/orgs",
        "received_events_url": "https://api.github.com/users/karasjoh000/received_events",
        "repos_url": "https://api.github.com/users/karasjoh000/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/karasjoh000/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/karasjoh000/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/karasjoh000"
    }
}