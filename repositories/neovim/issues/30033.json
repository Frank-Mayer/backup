{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\r\n\r\nWhen working on relatively long files (~300 lines), syntax highlighting works when opening the file but breaks if I jump directly to the bottom. I can only get it to syntax highlight later parts of the file if I manually scroll down to it from the top.  \r\nThis is also the case when using `nvim --clean`.\r\n\r\n### Steps to reproduce\r\n\r\n1. Open [(long) file](https://gist.github.com/lokesh-krishna/de77eb2fc7e6acf4e65a5bbfbc6d08f2)\r\n2. Use <kbd>G</kbd> to jump to bottom \r\n3. There is no syntax highlighting\r\n\r\n![image](https://github.com/user-attachments/assets/11fd3f87-dbcd-436f-b425-e0d82e9f0724)\r\nThis is the top of the file with working syntax highlighting\r\n\r\n![image](https://github.com/user-attachments/assets/63b95135-80f6-463e-a1f9-a51a50532fbe)\r\nAnd this is what happens when I jump to the bottom\r\n\r\n### Expected behavior\r\n\r\nSyntax highlighting continues working irrespective of where in the file I jump to\r\n\r\n### Neovim version (nvim -v)\r\n\r\nNVIM v0.11.0-dev-578+gb04b263e1\r\n\r\n### Vim (not Nvim) behaves the same?\r\n\r\nYes, vim 9.1.672\r\n\r\n### Operating system/version\r\n\r\nLinux\r\n\r\n### Terminal name/version\r\n\r\n0.35.2\r\n\r\n### $TERM environment variable\r\n\r\nxterm-kitty\r\n\r\n### Installation\r\n\r\nAUR (nightly)",
    "closed_at": "2024-08-24T18:17:07Z",
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "The steps to reproduce are not detailed/specific enough.",
            "created_at": "2024-08-13T15:27:41Z",
            "html_url": "https://github.com/neovim/neovim/issues/30033#issuecomment-2286533161",
            "id": 2286533161,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30033",
            "node_id": "IC_kwDOAPphoM6ISbop",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2286533161/reactions"
            },
            "updated_at": "2024-08-13T15:27:53Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2286533161",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        },
        {
            "author_association": "NONE",
            "body": "https://gist.github.com/lokesh-krishna/de77eb2fc7e6acf4e65a5bbfbc6d08f2\r\n\r\nLink to a file this happens on. What further information would be required? I can reproduce it with `nvim --clean` and syntax highlighting only works for latter parts of the file if I've scrolled down to them at least once. Not if I open the file and directly jump to somewhere near the bottom. ",
            "created_at": "2024-08-14T18:12:04Z",
            "html_url": "https://github.com/neovim/neovim/issues/30033#issuecomment-2289509693",
            "id": 2289509693,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30033",
            "node_id": "IC_kwDOAPphoM6IdyU9",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2289509693/reactions"
            },
            "updated_at": "2024-08-14T18:12:04Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2289509693",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/20235646?v=4",
                "events_url": "https://api.github.com/users/lokesh-krishna/events{/privacy}",
                "followers_url": "https://api.github.com/users/lokesh-krishna/followers",
                "following_url": "https://api.github.com/users/lokesh-krishna/following{/other_user}",
                "gists_url": "https://api.github.com/users/lokesh-krishna/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lokesh-krishna",
                "id": 20235646,
                "login": "lokesh-krishna",
                "node_id": "MDQ6VXNlcjIwMjM1NjQ2",
                "organizations_url": "https://api.github.com/users/lokesh-krishna/orgs",
                "received_events_url": "https://api.github.com/users/lokesh-krishna/received_events",
                "repos_url": "https://api.github.com/users/lokesh-krishna/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lokesh-krishna/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lokesh-krishna/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lokesh-krishna"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Exacts steps and commands are required. Avoid descriptions if possible.\n\nExact commands can be ported to tests.",
            "created_at": "2024-08-14T18:16:55Z",
            "html_url": "https://github.com/neovim/neovim/issues/30033#issuecomment-2289519920",
            "id": 2289519920,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30033",
            "node_id": "IC_kwDOAPphoM6Id00w",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2289519920/reactions"
            },
            "updated_at": "2024-08-14T18:16:55Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2289519920",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        },
        {
            "author_association": "NONE",
            "body": "1. Open linked file\r\n2. Jump to bottom of file with <kbd>G</kbd>\r\n3. There is no syntax highlighting\r\n\r\nThese are the steps I need to replicate the issue. I am actually unsure if this is a treesitter issue since I can replicate it even with `nvim --clean` and unless I'm missing something, that doesn't use treesiter. ",
            "created_at": "2024-08-18T16:35:43Z",
            "html_url": "https://github.com/neovim/neovim/issues/30033#issuecomment-2295320071",
            "id": 2295320071,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30033",
            "node_id": "IC_kwDOAPphoM6Iz84H",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2295320071/reactions"
            },
            "updated_at": "2024-08-18T16:35:43Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2295320071",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/20235646?v=4",
                "events_url": "https://api.github.com/users/lokesh-krishna/events{/privacy}",
                "followers_url": "https://api.github.com/users/lokesh-krishna/followers",
                "following_url": "https://api.github.com/users/lokesh-krishna/following{/other_user}",
                "gists_url": "https://api.github.com/users/lokesh-krishna/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lokesh-krishna",
                "id": 20235646,
                "login": "lokesh-krishna",
                "node_id": "MDQ6VXNlcjIwMjM1NjQ2",
                "organizations_url": "https://api.github.com/users/lokesh-krishna/orgs",
                "received_events_url": "https://api.github.com/users/lokesh-krishna/received_events",
                "repos_url": "https://api.github.com/users/lokesh-krishna/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lokesh-krishna/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lokesh-krishna/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lokesh-krishna"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Please edit the issue description to add these steps (including `nvim --clean`), as this is what people will see.\r\n\r\n(And if Vim behaves the same, you should report the issue there. If it's a problem with the syntax file -- which it may be -- that's where it'll have to be fixed since we don't maintain these files, nor the legacy regex syntax engine.)",
            "created_at": "2024-08-18T16:42:15Z",
            "html_url": "https://github.com/neovim/neovim/issues/30033#issuecomment-2295321603",
            "id": 2295321603,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30033",
            "node_id": "IC_kwDOAPphoM6Iz9QD",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2295321603/reactions"
            },
            "updated_at": "2024-08-18T16:43:14Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2295321603",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        },
        {
            "author_association": "NONE",
            "body": "I updated the issue description and while this does happen with `nvim --clean`, it also happens when I have treesitter syntax highlighting enabled. Does that mean it's an issue with both or does Treesitter fallback to syntax file when jumping directly to the end?",
            "created_at": "2024-08-19T05:01:03Z",
            "html_url": "https://github.com/neovim/neovim/issues/30033#issuecomment-2295673160",
            "id": 2295673160,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30033",
            "node_id": "IC_kwDOAPphoM6I1TFI",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2295673160/reactions"
            },
            "updated_at": "2024-08-19T05:01:03Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2295673160",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/20235646?v=4",
                "events_url": "https://api.github.com/users/lokesh-krishna/events{/privacy}",
                "followers_url": "https://api.github.com/users/lokesh-krishna/followers",
                "following_url": "https://api.github.com/users/lokesh-krishna/following{/other_user}",
                "gists_url": "https://api.github.com/users/lokesh-krishna/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lokesh-krishna",
                "id": 20235646,
                "login": "lokesh-krishna",
                "node_id": "MDQ6VXNlcjIwMjM1NjQ2",
                "organizations_url": "https://api.github.com/users/lokesh-krishna/orgs",
                "received_events_url": "https://api.github.com/users/lokesh-krishna/received_events",
                "repos_url": "https://api.github.com/users/lokesh-krishna/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lokesh-krishna/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lokesh-krishna/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lokesh-krishna"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "If it happens with treesitter syntax highlighting, we need a reproducing example for that (starting with `--clean`).",
            "created_at": "2024-08-19T07:04:56Z",
            "html_url": "https://github.com/neovim/neovim/issues/30033#issuecomment-2295815781",
            "id": 2295815781,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30033",
            "node_id": "IC_kwDOAPphoM6I115l",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2295815781/reactions"
            },
            "updated_at": "2024-08-19T07:04:56Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2295815781",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        },
        {
            "author_association": "NONE",
            "body": "Turns out my treesitter wasn't configured properly. I was missing the `main` spec before `opts`. Works perfectly after fixing that.\r\n",
            "created_at": "2024-08-24T18:17:07Z",
            "html_url": "https://github.com/neovim/neovim/issues/30033#issuecomment-2308482036",
            "id": 2308482036,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30033",
            "node_id": "IC_kwDOAPphoM6JmKP0",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2308482036/reactions"
            },
            "updated_at": "2024-08-24T18:17:07Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2308482036",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/20235646?v=4",
                "events_url": "https://api.github.com/users/lokesh-krishna/events{/privacy}",
                "followers_url": "https://api.github.com/users/lokesh-krishna/followers",
                "following_url": "https://api.github.com/users/lokesh-krishna/following{/other_user}",
                "gists_url": "https://api.github.com/users/lokesh-krishna/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lokesh-krishna",
                "id": 20235646,
                "login": "lokesh-krishna",
                "node_id": "MDQ6VXNlcjIwMjM1NjQ2",
                "organizations_url": "https://api.github.com/users/lokesh-krishna/orgs",
                "received_events_url": "https://api.github.com/users/lokesh-krishna/received_events",
                "repos_url": "https://api.github.com/users/lokesh-krishna/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lokesh-krishna/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lokesh-krishna/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lokesh-krishna"
            }
        }
    ],
    "comments": 8,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/30033/comments",
    "created_at": "2024-08-13T04:09:55Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/30033/events",
    "html_url": "https://github.com/neovim/neovim/issues/30033",
    "id": 2462343690,
    "labels": [
        {
            "color": "f9d0c4",
            "default": true,
            "description": "issues reporting wrong behavior",
            "id": 77997474,
            "name": "bug",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3NA==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "",
            "id": 1799626557,
            "name": "treesitter",
            "node_id": "MDU6TGFiZWwxNzk5NjI2NTU3",
            "url": "https://api.github.com/repos/neovim/neovim/labels/treesitter"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/30033/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM6SxGIK",
    "number": 30033,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/30033/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "completed",
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/30033/timeline",
    "title": "Treesitter highlighting breaks on long files when directly jumping to the end",
    "updated_at": "2024-08-24T18:17:07Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/30033",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/20235646?v=4",
        "events_url": "https://api.github.com/users/lokesh-krishna/events{/privacy}",
        "followers_url": "https://api.github.com/users/lokesh-krishna/followers",
        "following_url": "https://api.github.com/users/lokesh-krishna/following{/other_user}",
        "gists_url": "https://api.github.com/users/lokesh-krishna/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/lokesh-krishna",
        "id": 20235646,
        "login": "lokesh-krishna",
        "node_id": "MDQ6VXNlcjIwMjM1NjQ2",
        "organizations_url": "https://api.github.com/users/lokesh-krishna/orgs",
        "received_events_url": "https://api.github.com/users/lokesh-krishna/received_events",
        "repos_url": "https://api.github.com/users/lokesh-krishna/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/lokesh-krishna/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/lokesh-krishna/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/lokesh-krishna"
    }
}