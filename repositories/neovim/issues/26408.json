{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\n\nI am trying to get an LSP server that the company I work at built working in neovim. I have written a small plugin that adds it to lspconfig, and that all works great. The problem is that the server takes some time (5-10 seconds) to start up, and during that time neovim is completely frozen.\r\n\r\nIs there any way to start the LSP server asynchronously, or otherwise not lock up the UI? It's not the end of the world, but it feels like there should be a way to do this. I tried googling as well as looking through the lspconfig repo to see if any servers implement this, but I found nothing useful.\n\n### Steps to reproduce using \"nvim -u minimal_init.lua\"\n\nI suppose you could set up a fake lsp server binary that just delays for a few seconds to repro?\n\n### Expected behavior\n\n_No response_\n\n### Neovim version (nvim -v)\n\nNVIM v0.10.0-dev-1754+g3159a2c28\n\n### Language server name/version\n\ninternal, can't share\n\n### Operating system/version\n\nUbuntu LTS 22.04\n\n### Log file\n\n_No response_",
    "closed_at": "2023-12-05T21:22:38Z",
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "> I have written a small plugin that adds it to lspconfig,\r\n\r\nWhy use nvim-lspconfig at all? nvim-lspconfig is just a collection of configs for existing servers. Your server is totally custom, so nvim-lspconfig is a useless extra layer. See `:help vim.lsp.start()` / `:help vim.lsp.start_client()` which mentions:\r\n\r\n                  â€¢ detached: (boolean, default true) Daemonize the server\r\n                    process so that it runs in a separate process group from\r\n                    Nvim. Nvim will shutdown the process on exit, but if Nvim\r\n                    fails to exit cleanly this could leave behind orphaned\r\n                    server processes.\r\n\r\nI haven't tried this myself, so please confirm if it helps.",
            "created_at": "2023-12-05T19:15:23Z",
            "html_url": "https://github.com/neovim/neovim/issues/26408#issuecomment-1841466349",
            "id": 1841466349,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26408",
            "node_id": "IC_kwDOAPphoM5twovt",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1841466349/reactions"
            },
            "updated_at": "2023-12-05T19:16:17Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1841466349",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "author_association": "NONE",
            "body": "> Why use nvim-lspconfig at all?\r\n\r\nIt's still a really nice wrapper layer to handle client/server capabilities, internal commands, mappings, etc.\r\n\r\nI'll look into that arg, maybe there's a way I can get lspconfig to use it",
            "created_at": "2023-12-05T21:15:41Z",
            "html_url": "https://github.com/neovim/neovim/issues/26408#issuecomment-1841623726",
            "id": 1841623726,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26408",
            "node_id": "IC_kwDOAPphoM5txPKu",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1841623726/reactions"
            },
            "updated_at": "2023-12-05T21:15:41Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1841623726",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31072564?v=4",
                "events_url": "https://api.github.com/users/rickyelopez/events{/privacy}",
                "followers_url": "https://api.github.com/users/rickyelopez/followers",
                "following_url": "https://api.github.com/users/rickyelopez/following{/other_user}",
                "gists_url": "https://api.github.com/users/rickyelopez/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/rickyelopez",
                "id": 31072564,
                "login": "rickyelopez",
                "node_id": "MDQ6VXNlcjMxMDcyNTY0",
                "organizations_url": "https://api.github.com/users/rickyelopez/orgs",
                "received_events_url": "https://api.github.com/users/rickyelopez/received_events",
                "repos_url": "https://api.github.com/users/rickyelopez/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/rickyelopez/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rickyelopez/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/rickyelopez"
            }
        },
        {
            "author_association": "NONE",
            "body": "Looks like lspconfig doesn't support passing args to the `start_client` call here: https://github.com/neovim/nvim-lspconfig/blob/master/lua/lspconfig/manager.lua#L152C31-L152C31\r\n\r\nThis should probably be a ticket in their repo, since clearly the functionality exists in nvim.\r\n\r\nThanks!",
            "created_at": "2023-12-05T21:22:38Z",
            "html_url": "https://github.com/neovim/neovim/issues/26408#issuecomment-1841632035",
            "id": 1841632035,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26408",
            "node_id": "IC_kwDOAPphoM5txRMj",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1841632035/reactions"
            },
            "updated_at": "2023-12-05T21:22:38Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1841632035",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31072564?v=4",
                "events_url": "https://api.github.com/users/rickyelopez/events{/privacy}",
                "followers_url": "https://api.github.com/users/rickyelopez/followers",
                "following_url": "https://api.github.com/users/rickyelopez/following{/other_user}",
                "gists_url": "https://api.github.com/users/rickyelopez/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/rickyelopez",
                "id": 31072564,
                "login": "rickyelopez",
                "node_id": "MDQ6VXNlcjMxMDcyNTY0",
                "organizations_url": "https://api.github.com/users/rickyelopez/orgs",
                "received_events_url": "https://api.github.com/users/rickyelopez/received_events",
                "repos_url": "https://api.github.com/users/rickyelopez/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/rickyelopez/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rickyelopez/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/rickyelopez"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "No, seriously: nvim-lspconfig is not the right tool for this job. It is _not_ a nice wrapper -- it's a collection of premade configurations, nothing more, nothing less. You should instead write your plugin based on `vim.lsp.start`, which is the officially intended way.",
            "created_at": "2023-12-05T21:28:46Z",
            "html_url": "https://github.com/neovim/neovim/issues/26408#issuecomment-1841639813",
            "id": 1841639813,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26408",
            "node_id": "IC_kwDOAPphoM5txTGF",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1841639813/reactions"
            },
            "updated_at": "2023-12-05T21:28:46Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1841639813",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        },
        {
            "author_association": "NONE",
            "body": ">  it's a collection of premade configurations, nothing more, nothing less\r\n\r\nbut this is exactly what I'm trying to do? I don't understand why I wouldn't just leverage this tool that already does everything I'm trying to do, except for spawning the server in detached mode?\r\n\r\nfor the other people at the company that use this, this will effectively be a pre-made configuration",
            "created_at": "2023-12-05T21:47:52Z",
            "html_url": "https://github.com/neovim/neovim/issues/26408#issuecomment-1841668924",
            "id": 1841668924,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26408",
            "node_id": "IC_kwDOAPphoM5txaM8",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1841668924/reactions"
            },
            "updated_at": "2023-12-05T21:48:21Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1841668924",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31072564?v=4",
                "events_url": "https://api.github.com/users/rickyelopez/events{/privacy}",
                "followers_url": "https://api.github.com/users/rickyelopez/followers",
                "following_url": "https://api.github.com/users/rickyelopez/following{/other_user}",
                "gists_url": "https://api.github.com/users/rickyelopez/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/rickyelopez",
                "id": 31072564,
                "login": "rickyelopez",
                "node_id": "MDQ6VXNlcjMxMDcyNTY0",
                "organizations_url": "https://api.github.com/users/rickyelopez/orgs",
                "received_events_url": "https://api.github.com/users/rickyelopez/received_events",
                "repos_url": "https://api.github.com/users/rickyelopez/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/rickyelopez/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rickyelopez/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/rickyelopez"
            }
        },
        {
            "author_association": "MEMBER",
            "body": ">  that already does everything I'm trying to do\r\n\r\nBut it does nothing except call `vim.lsp.start()`?\r\n\r\n> for the other people at the company that use this, this will effectively be a pre-made configuration\r\n\r\nSo you're going to fork nvim-treesitter to add support for a proprietary tool? You're welcome to (as long as you respect the license), but don't expect much interest to help you then. The officially supported way is and remains just using `vim.lsp.start()`, which you can wrap much more easily in a custom plugin.",
            "created_at": "2023-12-05T21:52:58Z",
            "html_url": "https://github.com/neovim/neovim/issues/26408#issuecomment-1841676515",
            "id": 1841676515,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26408",
            "node_id": "IC_kwDOAPphoM5txcDj",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1841676515/reactions"
            },
            "updated_at": "2023-12-05T21:52:58Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1841676515",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        },
        {
            "author_association": "NONE",
            "body": "I'm not forking anything, I'm literally just making a plugin that adds a `.lua` file nearly identical to many of the ones in the lspconfig repo. If the lsp server wasn't proprietary, I would just want to merge this into the lspconfig repo. I don't see how this is different from any of the other server configurations in that repo?\r\n\r\nForgive my ignorance, I see your point that I could write my own support in the plugin, I just don't understand why I would go down that route and do significantly more development when it seems to me like making a server configuration accomplishes exactly the same objective.",
            "created_at": "2023-12-05T21:57:26Z",
            "html_url": "https://github.com/neovim/neovim/issues/26408#issuecomment-1841683325",
            "id": 1841683325,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26408",
            "node_id": "IC_kwDOAPphoM5txdt9",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1841683325/reactions"
            },
            "updated_at": "2023-12-05T21:57:49Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1841683325",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31072564?v=4",
                "events_url": "https://api.github.com/users/rickyelopez/events{/privacy}",
                "followers_url": "https://api.github.com/users/rickyelopez/followers",
                "following_url": "https://api.github.com/users/rickyelopez/following{/other_user}",
                "gists_url": "https://api.github.com/users/rickyelopez/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/rickyelopez",
                "id": 31072564,
                "login": "rickyelopez",
                "node_id": "MDQ6VXNlcjMxMDcyNTY0",
                "organizations_url": "https://api.github.com/users/rickyelopez/orgs",
                "received_events_url": "https://api.github.com/users/rickyelopez/received_events",
                "repos_url": "https://api.github.com/users/rickyelopez/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/rickyelopez/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rickyelopez/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/rickyelopez"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "The point is that it's really not more work (it's literally the same config table; you're just cutting out an unnecessary layer of redirection). People think they _need_ nvim-lspconfig for using language servers, but that is very much not the case, and we're working hard to clear up this misconception. Again, it's in _your_ interest not to rely on nvim-lspconfig for this -- especially since your request will not be welcome there as it falls outside the scope of the plugin.",
            "created_at": "2023-12-05T22:01:04Z",
            "html_url": "https://github.com/neovim/neovim/issues/26408#issuecomment-1841688757",
            "id": 1841688757,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26408",
            "node_id": "IC_kwDOAPphoM5txfC1",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1841688757/reactions"
            },
            "updated_at": "2023-12-05T22:02:01Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1841688757",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        },
        {
            "author_association": "NONE",
            "body": "Interesting. I just looked at the params to `vim.lsp.start_client` and yeah I see your point, nearly identical to the keys in the lspconfig config.\r\n\r\nI guess the only other thing I would have to handle separately is adding the commands? That's not so bad. Can I get this to show up in `LspInfo` going this route?",
            "created_at": "2023-12-05T22:04:06Z",
            "html_url": "https://github.com/neovim/neovim/issues/26408#issuecomment-1841692488",
            "id": 1841692488,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26408",
            "node_id": "IC_kwDOAPphoM5txf9I",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1841692488/reactions"
            },
            "updated_at": "2023-12-05T22:04:45Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1841692488",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31072564?v=4",
                "events_url": "https://api.github.com/users/rickyelopez/events{/privacy}",
                "followers_url": "https://api.github.com/users/rickyelopez/followers",
                "following_url": "https://api.github.com/users/rickyelopez/following{/other_user}",
                "gists_url": "https://api.github.com/users/rickyelopez/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/rickyelopez",
                "id": 31072564,
                "login": "rickyelopez",
                "node_id": "MDQ6VXNlcjMxMDcyNTY0",
                "organizations_url": "https://api.github.com/users/rickyelopez/orgs",
                "received_events_url": "https://api.github.com/users/rickyelopez/received_events",
                "repos_url": "https://api.github.com/users/rickyelopez/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/rickyelopez/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rickyelopez/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/rickyelopez"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "No, that is only for the bundled configs. You can use `:=vim.lsp.get_active_clients()` for (much more) details.\r\n\r\nAnd, yes, commands are custom for each server anyway; whatever nvim-lspconfig does is just a thin wrapper around `nvim_create_user_commands`; see `:h lua-guide-commands-create`.",
            "created_at": "2023-12-05T22:05:43Z",
            "html_url": "https://github.com/neovim/neovim/issues/26408#issuecomment-1841694380",
            "id": 1841694380,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26408",
            "node_id": "IC_kwDOAPphoM5txgas",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1841694380/reactions"
            },
            "updated_at": "2023-12-05T22:08:00Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1841694380",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        },
        {
            "author_association": "NONE",
            "body": "Neat. So what's the benefit of doing it directly like this? I mean I see your point that lspconfig is not required, but why is this better? Even having to implement the few things that don't seem to be free seems like more work than just using lspconfig?\r\n\r\nThe way I see it, if I implement it myself I have to:\r\n- call `vim.lsp.start_client` myself (trivial)\r\n- create the commands myself with `nvim_create_user_commands` (also easy, but more steps than just adding them to the config table)\r\n- set up filetype detection myself (also probably trivial)\r\n- maybe something else I'm not seeing?\r\n\r\nvs. just writing a table for lspconfig?\r\n\r\nPlus, doing it myself I lose out on `LspLog`, `LspInfo`, `LspRestart` and other similar functionality provided by lspconfig?",
            "created_at": "2023-12-05T22:10:15Z",
            "html_url": "https://github.com/neovim/neovim/issues/26408#issuecomment-1841701382",
            "id": 1841701382,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26408",
            "node_id": "IC_kwDOAPphoM5txiIG",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1841701382/reactions"
            },
            "updated_at": "2023-12-05T22:12:48Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1841701382",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31072564?v=4",
                "events_url": "https://api.github.com/users/rickyelopez/events{/privacy}",
                "followers_url": "https://api.github.com/users/rickyelopez/followers",
                "following_url": "https://api.github.com/users/rickyelopez/following{/other_user}",
                "gists_url": "https://api.github.com/users/rickyelopez/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/rickyelopez",
                "id": 31072564,
                "login": "rickyelopez",
                "node_id": "MDQ6VXNlcjMxMDcyNTY0",
                "organizations_url": "https://api.github.com/users/rickyelopez/orgs",
                "received_events_url": "https://api.github.com/users/rickyelopez/received_events",
                "repos_url": "https://api.github.com/users/rickyelopez/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/rickyelopez/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rickyelopez/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/rickyelopez"
            }
        },
        {
            "author_association": "MEMBER",
            "body": " > * call vim.lsp.start_client myself (trivial)\r\n\r\nIndeed; it's the same table\r\n\r\n> * create the commands myself with nvim_create_user_commands (also easy, but more steps than just adding them to the config table)\r\n\r\nNo; unless you're down to counting single characters. (And even then you might lose.)\r\n\r\n> * set up filetype detection myself (also probably trivial)\r\n\r\nnvim-lspconfig does not do this; it relies on builtin Vim filetype detection\r\n\r\n> * maybe something else I'm not seeing?\r\n\r\nNo.\r\n\r\nIn any case, if you want `detach`, you _cannot_ do this via nvim-lspconfig, so that kinda clinches it, no?\r\n\r\n> Plus, doing it myself I lose out on LspLog, LspInfo, LspRestart and other similar functionality provided by lspconfig?\r\n\r\nThose are vestigial and not guaranteed to remain in nvim-lspconfig. Really, it's only meant to be a collection of premade configs, nothing else.\r\n\r\n",
            "created_at": "2023-12-05T22:14:07Z",
            "html_url": "https://github.com/neovim/neovim/issues/26408#issuecomment-1841706830",
            "id": 1841706830,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26408",
            "node_id": "IC_kwDOAPphoM5txjdO",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1841706830/reactions"
            },
            "updated_at": "2023-12-05T22:14:07Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1841706830",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        },
        {
            "author_association": "NONE",
            "body": "> In any case, if you want detach, you cannot do this via nvim-lspconfig, so that kinda clinches it, no?\r\n\r\ndoesn't seem like it would be much work to add, pretty sure I've almost gotten it working since posting the link to the relevant code above\r\n\r\n> Those are vestigial and not guaranteed to remain in nvim-lspconfig.\r\n\r\nthat's a huge bummer for me even when considered separately from this topic. Hope that's not the case.\r\n\r\nanyway, I see your point and it seems like it might be interesting to implement it myself. Bummer though, because I would really prefer to focus on the actual functionality of the tool rather than this (seemingly) boilerplate implementation. It would be nice if there was something that did this for you, which is what the lspconfig server configuration seemed like to me.",
            "created_at": "2023-12-05T22:19:37Z",
            "html_url": "https://github.com/neovim/neovim/issues/26408#issuecomment-1841714296",
            "id": 1841714296,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26408",
            "node_id": "IC_kwDOAPphoM5txlR4",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1841714296/reactions"
            },
            "updated_at": "2023-12-05T22:19:37Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1841714296",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31072564?v=4",
                "events_url": "https://api.github.com/users/rickyelopez/events{/privacy}",
                "followers_url": "https://api.github.com/users/rickyelopez/followers",
                "following_url": "https://api.github.com/users/rickyelopez/following{/other_user}",
                "gists_url": "https://api.github.com/users/rickyelopez/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/rickyelopez",
                "id": 31072564,
                "login": "rickyelopez",
                "node_id": "MDQ6VXNlcjMxMDcyNTY0",
                "organizations_url": "https://api.github.com/users/rickyelopez/orgs",
                "received_events_url": "https://api.github.com/users/rickyelopez/received_events",
                "repos_url": "https://api.github.com/users/rickyelopez/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/rickyelopez/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rickyelopez/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/rickyelopez"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "There is _very little_ boilerplate (since we added `vim.lsp.start`, which we did precisely to allow people to set up their own servers without nvim-lspconfig).\r\n\r\n>  It would be nice if there was something that did this for you, which is what the lspconfig server configuration seemed like to me.\r\n\r\nBut you are wrong there; I'm not sure how much clearer I can be about this. Unless you want to use a preconfigured server, nvim-lspconfig literally does not save you _any_ effort.\r\n\r\nOf course, you are welcome to still do it however you wish; but you will have no support for it since this is not the intended use case.\r\n\r\n> that's a huge bummer for me even when considered separately from this topic. Hope that's not the case.\r\n\r\nObviously that functionality -- if deemed useful given the core API -- will be included in Neovim in some form then.",
            "created_at": "2023-12-05T22:24:02Z",
            "html_url": "https://github.com/neovim/neovim/issues/26408#issuecomment-1841721053",
            "id": 1841721053,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26408",
            "node_id": "IC_kwDOAPphoM5txm7d",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1841721053/reactions"
            },
            "updated_at": "2023-12-05T22:25:05Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1841721053",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        },
        {
            "author_association": "NONE",
            "body": "> But you are wrong there; I'm not sure how much clearer I can be about this. Unless you want to use a preconfigured server, nvim-lspconfig literally does not save you any effort.\r\n\r\nI understand what you're saying, I'm just not seeing it. Maybe I will agree after understanding all of the steps fully, but right now I have something that works completely (other than the missing `detached` option) without having had to dig into each step and figure out how it works.\r\n\r\n> Of course, you are welcome to still do it however you wish; but you will have no support for it since this is not the intended use case.\r\n\r\nOf course I want to do it the \"right\" way, I just want to understand it fully before I tear up everything I've written and make it work without lspconfig\r\n\r\n> Obviously that functionality -- if deemed useful given the core API -- will be included in Neovim in some form then.\r\n\r\nglad to hear it",
            "created_at": "2023-12-05T22:32:14Z",
            "html_url": "https://github.com/neovim/neovim/issues/26408#issuecomment-1841733973",
            "id": 1841733973,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26408",
            "node_id": "IC_kwDOAPphoM5txqFV",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1841733973/reactions"
            },
            "updated_at": "2023-12-05T22:32:14Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1841733973",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31072564?v=4",
                "events_url": "https://api.github.com/users/rickyelopez/events{/privacy}",
                "followers_url": "https://api.github.com/users/rickyelopez/followers",
                "following_url": "https://api.github.com/users/rickyelopez/following{/other_user}",
                "gists_url": "https://api.github.com/users/rickyelopez/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/rickyelopez",
                "id": 31072564,
                "login": "rickyelopez",
                "node_id": "MDQ6VXNlcjMxMDcyNTY0",
                "organizations_url": "https://api.github.com/users/rickyelopez/orgs",
                "received_events_url": "https://api.github.com/users/rickyelopez/received_events",
                "repos_url": "https://api.github.com/users/rickyelopez/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/rickyelopez/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rickyelopez/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/rickyelopez"
            }
        },
        {
            "author_association": "NONE",
            "body": "I implemented everything myself. It wasn't as bad as I was expecting, but it was still definitely more work than the lspconfig implementation I had previously. Agreed that this way is better, though. Thanks for the tips",
            "created_at": "2023-12-06T02:28:27Z",
            "html_url": "https://github.com/neovim/neovim/issues/26408#issuecomment-1841984271",
            "id": 1841984271,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26408",
            "node_id": "IC_kwDOAPphoM5tynMP",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 1,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1841984271/reactions"
            },
            "updated_at": "2023-12-06T02:28:27Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1841984271",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31072564?v=4",
                "events_url": "https://api.github.com/users/rickyelopez/events{/privacy}",
                "followers_url": "https://api.github.com/users/rickyelopez/followers",
                "following_url": "https://api.github.com/users/rickyelopez/following{/other_user}",
                "gists_url": "https://api.github.com/users/rickyelopez/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/rickyelopez",
                "id": 31072564,
                "login": "rickyelopez",
                "node_id": "MDQ6VXNlcjMxMDcyNTY0",
                "organizations_url": "https://api.github.com/users/rickyelopez/orgs",
                "received_events_url": "https://api.github.com/users/rickyelopez/received_events",
                "repos_url": "https://api.github.com/users/rickyelopez/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/rickyelopez/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rickyelopez/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/rickyelopez"
            }
        }
    ],
    "comments": 16,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/26408/comments",
    "created_at": "2023-12-05T18:31:27Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/26408/events",
    "html_url": "https://github.com/neovim/neovim/issues/26408",
    "id": 2026872217,
    "labels": [
        {
            "color": "c2e0c6",
            "default": true,
            "description": "feature request",
            "id": 77997476,
            "name": "enhancement",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3Ng==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/enhancement"
        },
        {
            "color": "e6e6e6",
            "default": false,
            "description": "issues that are closed as usage questions",
            "id": 77997478,
            "name": "closed:question",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3OA==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/closed:question"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "",
            "id": 113026979,
            "name": "ui",
            "node_id": "MDU6TGFiZWwxMTMwMjY5Nzk=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/ui"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": null,
            "id": 662566370,
            "name": "lsp",
            "node_id": "MDU6TGFiZWw2NjI1NjYzNzA=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/lsp"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/26408/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM54z52Z",
    "number": 26408,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/26408/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "completed",
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/26408/timeline",
    "title": "Slow-starting LSP server locks up UI",
    "updated_at": "2023-12-06T02:28:28Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/26408",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/31072564?v=4",
        "events_url": "https://api.github.com/users/rickyelopez/events{/privacy}",
        "followers_url": "https://api.github.com/users/rickyelopez/followers",
        "following_url": "https://api.github.com/users/rickyelopez/following{/other_user}",
        "gists_url": "https://api.github.com/users/rickyelopez/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/rickyelopez",
        "id": 31072564,
        "login": "rickyelopez",
        "node_id": "MDQ6VXNlcjMxMDcyNTY0",
        "organizations_url": "https://api.github.com/users/rickyelopez/orgs",
        "received_events_url": "https://api.github.com/users/rickyelopez/received_events",
        "repos_url": "https://api.github.com/users/rickyelopez/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/rickyelopez/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/rickyelopez/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/rickyelopez"
    }
}