{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\n\nDear Neovim people,\r\n\r\nI am on a CentOS 7.9 (end of life distribution) server with no admin rights, and the system GCC version (4.8) is incompatible with building Neovim.\r\n\r\nSo I installed GCC 14.2 and put it in my PATH as both `gcc` and `gcc-14.2`, as well as `g++` and `g++-14.2`.\r\n\r\nThen in the Neovim source directory, I compile like this:\r\n\r\n```bash\r\nmake CMAKE_INSTALL_PREFIX=$HOME/custom/gcc-14.2 \\\r\n    CMAKE_C_COMPILER=gcc-14.2 CMAKE_CXX_COMPILER=g++-14.2 \\\r\n    DEPS_CMAKE_FLAGS=\"-DCMAKE_C_COMPILER=gcc-14.2 -DCMAKE_CXX_COMPILER=g++-14.2\"\r\n```\r\n\r\nWhen compiling the \"deps\", the `DEPS_CMAKE_FLAGS` is taken into account, so I succeed in compiling the deps like that (otherwise it fails to build the deps).\r\n\r\nHowever, I have the feeling that GCC 4.8.5 was used to compile `nvim` itself, as per the output of:\r\n\r\n```bash\r\nstrings -a ./build/bin/nvim | grep 'GCC: ('\r\n```\r\n\r\n```\r\nGCC: (GNU) 4.8.5 20150623 (Red Hat 4.8.5-44)\r\nGCC: (GNU) 14.2.0\r\n```\r\n\r\n_How can I enforce the use of my local GCC ?_ (Do I have to edit the Makefile?)\r\n\r\nTo be clear, my `nvim` executable is functional, but I am not sure it is entirely safe to have it compiled in such an heterogeneous manner. Also, if in the future it ends up requiring a specific GCC, I'd like to know how to specify it.\r\n\r\nThanks in advance!\r\n\r\n#### Alternatives I tried:\r\n\r\nI tried to export `CC=gcc-14.2` and `CXX=g++-14.2` prior to running the make command (no change).\r\n\r\nI tried to wrap with `CMAKE_EXTRA_FLAGS=\"-DCMAKE_C_COMPILER=gcc-14.2 -DCMAKE_CXX_COMPILER=g++-14.2\"` instead: this gives me the warning:\r\n\r\n```\r\nCMake Warning:\r\n  Manually specified variables were not used by the project:\r\n     CMAKE_CXX_COMPILER\r\n``` \r\n\r\nNote that I have either run `make distclean` or entirely deleted the neovim folder before trying a new compilation.\n\n### Steps to reproduce\n\n```bash\r\nmake -j8 CMAKE_INSTALL_PREFIX=$HOME/custom/gcc-14.2 \\\r\n    CMAKE_C_COMPILER=gcc-14.2 CMAKE_CXX_COMPILER=g++-14.2 \\\r\n    DEPS_CMAKE_FLAGS=\"-DCMAKE_C_COMPILER=gcc-14.2 -DCMAKE_CXX_COMPILER=g++-14.2\"\r\n```\n\n### Expected behavior\n\n```bash\r\nstrings -a ./build/bin/nvim | grep 'GCC: ('\r\n```\r\n\r\nshould only show my custom GCC, that is:\r\n\r\n```\r\nGCC: (GNU) 14.2.0\r\n```\r\n\r\n-----\r\n\r\n```bash\r\nnvim -V1 -v\r\n```\r\n\r\nShould not indicate `Compilation: /usr/bin/cc ...` but instead `Compilation: ~/bin/gcc-14.2 ...`\r\n\n\n### Neovim version (nvim -v)\n\n0.10.1\n\n### Vim (not Nvim) behaves the same?\n\nnot applicable\n\n### Operating system/version\n\nCentOS Linux release 7.9.2009 (Core)\n\n### Terminal name/version\n\nxterm/tmux/screen\n\n### $TERM environment variable\n\nscreen-256color\n\n### Installation\n\nBuild from git release",
    "closed_at": "2024-09-06T10:27:07Z",
    "closed_by": null,
    "comment_data": [],
    "comments": 0,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/30279/comments",
    "created_at": "2024-09-06T10:13:15Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/30279/events",
    "html_url": "https://github.com/neovim/neovim/issues/30279",
    "id": 2510082734,
    "labels": [],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/30279/labels{/name}",
    "locked": true,
    "milestone": null,
    "node_id": "I_kwDOAPphoM6VnNKu",
    "number": 30279,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/30279/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "completed",
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/30279/timeline",
    "title": "Can't compile Neovim with custom g++",
    "updated_at": "2024-09-06T10:27:31Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/30279",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/7593801?v=4",
        "events_url": "https://api.github.com/users/Gullumluvl/events{/privacy}",
        "followers_url": "https://api.github.com/users/Gullumluvl/followers",
        "following_url": "https://api.github.com/users/Gullumluvl/following{/other_user}",
        "gists_url": "https://api.github.com/users/Gullumluvl/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/Gullumluvl",
        "id": 7593801,
        "login": "Gullumluvl",
        "node_id": "MDQ6VXNlcjc1OTM4MDE=",
        "organizations_url": "https://api.github.com/users/Gullumluvl/orgs",
        "received_events_url": "https://api.github.com/users/Gullumluvl/received_events",
        "repos_url": "https://api.github.com/users/Gullumluvl/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/Gullumluvl/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Gullumluvl/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/Gullumluvl"
    }
}