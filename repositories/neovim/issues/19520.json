{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Neovim version (nvim -v)\n\n0.7.2\n\n### Vim (not Nvim) behaves the same?\n\nno, vim9.0\n\n### Operating system/version\n\nwin7\n\n### Terminal name/version\n\nnvim-qt\n\n### $TERM environment variable\n\nnvim-qt\n\n### Installation\n\ngithub release\n\n### How to reproduce the issue\n\n1、Symptom： When switching buffers quickly,  many suspended git processes are observed from windows task manager。\r\n2、With the steps below, one PC can reproduce, the other cannot。 source test.vim：\r\nlet jid = jobstart('git status')\r\necho jid\r\nexec (\":sleep 10m\")\r\nlet ret = jobstop(jid)\r\necho ret\r\n3、The reason：\r\nIn Windows， the git cmd（c:\\Program Files\\Git\\cmd\\git.exe） is a wrapper。 Each execution of the git command derives the child process  c:\\Program Files\\Git\\mingw64\\bin\\git.exe。 Jobstop killed the parent process, but the child process is still there\n\n### Expected behavior\n\nJobstop kills the parent process, including the child process\n\n### Actual behavior\n\nJobstop does not kill the child process",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "> In Windows， the git cmd（c:\\Program Files\\Git\\cmd\\git.exe） is a wrapper。 Each execution of the git command derives the child process c:\\Program Files\\Git\\mingw64\\bin\\git.exe。 Jobstop killed the parent process, but the child process is still there\r\n\r\nHmm. We use a very similar approach as Vim... https://github.com/neovim/neovim/blob/a2c68a1e9cedd9cf0ed9a49cde8a065fc23f07bc/src/nvim/os/process.c#L42\r\n\r\n",
            "created_at": "2022-07-29T02:39:28Z",
            "html_url": "https://github.com/neovim/neovim/issues/19520#issuecomment-1198821469",
            "id": 1198821469,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/19520",
            "node_id": "IC_kwDOAPphoM5HdJBd",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1198821469/reactions"
            },
            "updated_at": "2022-07-29T02:39:37Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1198821469",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "@justinmk Is this still a problem?\r\nI'm not able to reproduce it on Windows 11.",
            "created_at": "2023-10-03T20:16:18Z",
            "html_url": "https://github.com/neovim/neovim/issues/19520#issuecomment-1745659421",
            "id": 1745659421,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/19520",
            "node_id": "IC_kwDOAPphoM5oDKYd",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1745659421/reactions"
            },
            "updated_at": "2023-10-03T20:16:18Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1745659421",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/70452831?v=4",
                "events_url": "https://api.github.com/users/lsvmello/events{/privacy}",
                "followers_url": "https://api.github.com/users/lsvmello/followers",
                "following_url": "https://api.github.com/users/lsvmello/following{/other_user}",
                "gists_url": "https://api.github.com/users/lsvmello/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lsvmello",
                "id": 70452831,
                "login": "lsvmello",
                "node_id": "MDQ6VXNlcjcwNDUyODMx",
                "organizations_url": "https://api.github.com/users/lsvmello/orgs",
                "received_events_url": "https://api.github.com/users/lsvmello/received_events",
                "repos_url": "https://api.github.com/users/lsvmello/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lsvmello/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lsvmello/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lsvmello"
            }
        }
    ],
    "comments": 2,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/19520/comments",
    "created_at": "2022-07-26T14:58:10Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/19520/events",
    "html_url": "https://github.com/neovim/neovim/issues/19520",
    "id": 1318368970,
    "labels": [
        {
            "color": "f9d0c4",
            "default": true,
            "description": "issues reporting wrong behavior",
            "id": 77997474,
            "name": "bug",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3NA==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug"
        },
        {
            "color": "d4c5f9",
            "default": false,
            "description": null,
            "id": 109461219,
            "name": "platform:windows",
            "node_id": "MDU6TGFiZWwxMDk0NjEyMTk=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/platform:windows"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "OS processes, spawn",
            "id": 182884815,
            "name": "job-control",
            "node_id": "MDU6TGFiZWwxODI4ODQ4MTU=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/job-control"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/19520/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM5OlLbK",
    "number": 19520,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/19520/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/19520/timeline",
    "title": "Jobstop left a large number of suspended processes",
    "updated_at": "2023-10-03T20:16:18Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/19520",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/45509755?v=4",
        "events_url": "https://api.github.com/users/general0000/events{/privacy}",
        "followers_url": "https://api.github.com/users/general0000/followers",
        "following_url": "https://api.github.com/users/general0000/following{/other_user}",
        "gists_url": "https://api.github.com/users/general0000/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/general0000",
        "id": 45509755,
        "login": "general0000",
        "node_id": "MDQ6VXNlcjQ1NTA5NzU1",
        "organizations_url": "https://api.github.com/users/general0000/orgs",
        "received_events_url": "https://api.github.com/users/general0000/received_events",
        "repos_url": "https://api.github.com/users/general0000/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/general0000/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/general0000/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/general0000"
    }
}