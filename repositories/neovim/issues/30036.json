{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "body": "### Problem\r\n\r\nIf a plugin has external dependencies, users must specify them manually (e.g. via a config or an environment variable).\r\n\r\nExample: [sqlite.lua](https://github.com/kkharji/sqlite.lua)\r\n\r\n### Expected behavior\r\n\r\nLuarocks has [a mechanism for auto-detecting external dependencies](https://github.com/luarocks/luarocks/blob/f87568a7cba69e2c19411e7a2b73016c80a14a3b/src/luarocks/deps.lua?plain=1#L619), which \r\n\r\n- Falls back to a config if the auto-detection fails.\r\n- Errors if auto-detection fails and there is no config.\r\n\r\nIf Neovim had an API for a similar mechanism:\r\n\r\n- Less users would have to declare external dependencies manually.\r\n- Configurations for external dependencies could be reused across multiple plugins.\r\n- The responsibility for declaring external dependencies is shifted from the user to the plugin author.\r\n\r\nNote: The hand-rolled luarocks implementation of auto-detection doesn't work on some systems. Perhaps something that delegates to pkg-config would be more reliable.\r\n\r\nThoughts? :thinking: \r\n\r\n[[related issue]](https://github.com/nvim-neorocks/nvim-best-practices/issues/20)",
    "closed_at": "2024-08-15T14:32:12Z",
    "comment_data": [
        {
            "author_association": "CONTRIBUTOR",
            "body": "cc @teto ",
            "created_at": "2024-08-13T21:33:39Z",
            "html_url": "https://github.com/neovim/neovim/issues/30036#issuecomment-2287176394",
            "id": 2287176394,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30036",
            "node_id": "IC_kwDOAPphoM6IU4rK",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2287176394/reactions"
            },
            "updated_at": "2024-08-13T21:33:39Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2287176394",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/12857160?v=4",
                "events_url": "https://api.github.com/users/mrcjkb/events{/privacy}",
                "followers_url": "https://api.github.com/users/mrcjkb/followers",
                "following_url": "https://api.github.com/users/mrcjkb/following{/other_user}",
                "gists_url": "https://api.github.com/users/mrcjkb/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mrcjkb",
                "id": 12857160,
                "login": "mrcjkb",
                "node_id": "MDQ6VXNlcjEyODU3MTYw",
                "organizations_url": "https://api.github.com/users/mrcjkb/orgs",
                "received_events_url": "https://api.github.com/users/mrcjkb/received_events",
                "repos_url": "https://api.github.com/users/mrcjkb/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mrcjkb/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mrcjkb/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mrcjkb"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Did you mean to comment that on neovim/packspec?",
            "created_at": "2024-08-13T21:35:19Z",
            "html_url": "https://github.com/neovim/neovim/issues/30036#issuecomment-2287179079",
            "id": 2287179079,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30036",
            "node_id": "IC_kwDOAPphoM6IU5VH",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2287179079/reactions"
            },
            "updated_at": "2024-08-13T21:35:19Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2287179079",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "No, I don't think this is a packspec issue (it wouldn't be used during installation).\r\nThe API would be useful for retrieving external libraries at runtime (e.g. for use with `ffi`).",
            "created_at": "2024-08-13T21:41:25Z",
            "html_url": "https://github.com/neovim/neovim/issues/30036#issuecomment-2287187403",
            "id": 2287187403,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30036",
            "node_id": "IC_kwDOAPphoM6IU7XL",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2287187403/reactions"
            },
            "updated_at": "2024-08-13T21:41:25Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2287187403",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/12857160?v=4",
                "events_url": "https://api.github.com/users/mrcjkb/events{/privacy}",
                "followers_url": "https://api.github.com/users/mrcjkb/followers",
                "following_url": "https://api.github.com/users/mrcjkb/following{/other_user}",
                "gists_url": "https://api.github.com/users/mrcjkb/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mrcjkb",
                "id": 12857160,
                "login": "mrcjkb",
                "node_id": "MDQ6VXNlcjEyODU3MTYw",
                "organizations_url": "https://api.github.com/users/mrcjkb/orgs",
                "received_events_url": "https://api.github.com/users/mrcjkb/received_events",
                "repos_url": "https://api.github.com/users/mrcjkb/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mrcjkb/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mrcjkb/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mrcjkb"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "This seems clearly out of scope. Is this not equivalent to becoming a generalized package manager?\r\n\r\nDownloading a https://github.com/neovim/packspec/ tree and installing to 'runtimepath' is in-scope because it's a very narrow and well-defined scope. https://github.com/neovim/neovim/issues/20893\r\n\r\nWhereas \"find things on my system\" is 100% undefined.\r\n\r\nIf users need this, then Luarocks, lazy, etc., would be our answer.",
            "created_at": "2024-08-15T14:31:06Z",
            "html_url": "https://github.com/neovim/neovim/issues/30036#issuecomment-2291397049",
            "id": 2291397049,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30036",
            "node_id": "IC_kwDOAPphoM6Ik_G5",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2291397049/reactions"
            },
            "updated_at": "2024-08-15T14:32:51Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2291397049",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "This has nothing to do with package management or installing dependencies. It's about *being able to use those dependencies* at runtime. A package manager can't help with that, unless it either becomes a dependency itself (which would be a terrible idea), or there's a standard for providing plugins with the information (so that the package manager doesn't need to be aware of the implementation details of the plugins it manages).\r\nThe lesser evil would be a Lua library that wraps `pkg-config`.",
            "created_at": "2024-08-15T15:43:46Z",
            "html_url": "https://github.com/neovim/neovim/issues/30036#issuecomment-2291571527",
            "id": 2291571527,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30036",
            "node_id": "IC_kwDOAPphoM6IlptH",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2291571527/reactions"
            },
            "updated_at": "2024-08-15T15:43:46Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2291571527",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/12857160?v=4",
                "events_url": "https://api.github.com/users/mrcjkb/events{/privacy}",
                "followers_url": "https://api.github.com/users/mrcjkb/followers",
                "following_url": "https://api.github.com/users/mrcjkb/following{/other_user}",
                "gists_url": "https://api.github.com/users/mrcjkb/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mrcjkb",
                "id": 12857160,
                "login": "mrcjkb",
                "node_id": "MDQ6VXNlcjEyODU3MTYw",
                "organizations_url": "https://api.github.com/users/mrcjkb/orgs",
                "received_events_url": "https://api.github.com/users/mrcjkb/received_events",
                "repos_url": "https://api.github.com/users/mrcjkb/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mrcjkb/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mrcjkb/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mrcjkb"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Sorry, but plugins are checking for external dependencies just fine already (`vim.uv`, `vim.system`, `vim.fn.executable()` and friends). I don't see how we can seriously improve on that without landing in maintenance hell. (\"External dependencies\" is a _negative_ description -- \"everything not builtin\" -- so this is an impossibly wide scope.)",
            "created_at": "2024-08-15T15:48:30Z",
            "html_url": "https://github.com/neovim/neovim/issues/30036#issuecomment-2291580667",
            "id": 2291580667,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30036",
            "node_id": "IC_kwDOAPphoM6Ilr77",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2291580667/reactions"
            },
            "updated_at": "2024-08-15T15:48:30Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2291580667",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "I'm specifically talking about C libraries that can be used with FFI.\r\nI agree that Neovim has more than enough for *external applications*, but when it comes to *C libraries* there's no consistency,\r\nwith plugins usually relying on users to tell them where to find them.\r\n\r\nSome examples:\r\n\r\n- sqlite.lua expects users to set something like `let g:sqlite_clib_path = path/to/sqlite3.dll` or a `LIBSQLITE` environment variable.\r\n- telescope-zf-native.nvim [checks pre-built libraries into scm](https://github.com/natecraddock/telescope-zf-native.nvim/tree/beb34b6c48154ec117930180f257a5592606d48f/lib)\r\n- fugit2.nvim has a `libgit2_path` field in its `setup` options.\r\n\r\nI do acknowledge that the scope may still be too broad for Neovim, although in the case of pkg-config it's very well-defined.",
            "created_at": "2024-08-15T16:07:39Z",
            "html_url": "https://github.com/neovim/neovim/issues/30036#issuecomment-2291613674",
            "id": 2291613674,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30036",
            "node_id": "IC_kwDOAPphoM6Ilz_q",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2291613674/reactions"
            },
            "updated_at": "2024-08-15T16:07:39Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2291613674",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/12857160?v=4",
                "events_url": "https://api.github.com/users/mrcjkb/events{/privacy}",
                "followers_url": "https://api.github.com/users/mrcjkb/followers",
                "following_url": "https://api.github.com/users/mrcjkb/following{/other_user}",
                "gists_url": "https://api.github.com/users/mrcjkb/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mrcjkb",
                "id": 12857160,
                "login": "mrcjkb",
                "node_id": "MDQ6VXNlcjEyODU3MTYw",
                "organizations_url": "https://api.github.com/users/mrcjkb/orgs",
                "received_events_url": "https://api.github.com/users/mrcjkb/received_events",
                "repos_url": "https://api.github.com/users/mrcjkb/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mrcjkb/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mrcjkb/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mrcjkb"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> or there's a standard for providing plugins with the information\r\n\r\nThe standard is $PATH / 'runtimepath' / Lua `package.cpath`.\r\n\r\n> The lesser evil would be a Lua library that wraps `pkg-config`. ... I'm specifically talking about C libraries that can be used with FFI.\r\n\r\nQuestions for consideration (not meant to be contentious):\r\n\r\n- What would Nvim do beyond invoking `pkg-config` ? \r\n- If this use-case is well-defined, why doesn't `pkg-config` (or some other tool) provide it?",
            "created_at": "2024-08-15T16:37:59Z",
            "html_url": "https://github.com/neovim/neovim/issues/30036#issuecomment-2291687403",
            "id": 2291687403,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30036",
            "node_id": "IC_kwDOAPphoM6ImF_r",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2291687403/reactions"
            },
            "updated_at": "2024-08-15T16:38:09Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2291687403",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Afaik (I may be mistaken), `package.cpath` is intended for Lua C libraries built against the Lua headers (i.e. it should be possible to `require` modules on there, and it would be possible, but not ideal, to pollute it with other stuff).\r\n`runtimepath` could be an option (that's what telescope-zf-native.nvim uses).\r\n\r\n> What would Nvim do beyond invoking pkg-config\r\n\r\nNothing. Probably just a wrapper for a Lua API.\r\nBut pkg-config might not be the best fit for this use case, as it's intended for use at compile time.\r\n\r\n> If this use-case is well-defined, why doesn't pkg-config (or some other tool) provide it?\r\n\r\nI don't understand this question. Are you asking why pkg-config doesn't have a Lua API?",
            "created_at": "2024-08-15T17:07:12Z",
            "html_url": "https://github.com/neovim/neovim/issues/30036#issuecomment-2291733802",
            "id": 2291733802,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30036",
            "node_id": "IC_kwDOAPphoM6ImRUq",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2291733802/reactions"
            },
            "updated_at": "2024-08-15T17:07:12Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2291733802",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/12857160?v=4",
                "events_url": "https://api.github.com/users/mrcjkb/events{/privacy}",
                "followers_url": "https://api.github.com/users/mrcjkb/followers",
                "following_url": "https://api.github.com/users/mrcjkb/following{/other_user}",
                "gists_url": "https://api.github.com/users/mrcjkb/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mrcjkb",
                "id": 12857160,
                "login": "mrcjkb",
                "node_id": "MDQ6VXNlcjEyODU3MTYw",
                "organizations_url": "https://api.github.com/users/mrcjkb/orgs",
                "received_events_url": "https://api.github.com/users/mrcjkb/received_events",
                "repos_url": "https://api.github.com/users/mrcjkb/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mrcjkb/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mrcjkb/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mrcjkb"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> I'm specifically talking about C libraries that can be used with FFI.\r\n\r\nSince Neovim only guarantees PUC Lua (LuaJIT is recommended for performance reasons but not required), FFI is not officially supported so _definitely_ out of scope. If plugins rely on that, they're on their own.",
            "created_at": "2024-08-15T19:56:09Z",
            "html_url": "https://github.com/neovim/neovim/issues/30036#issuecomment-2292090276",
            "id": 2292090276,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30036",
            "node_id": "IC_kwDOAPphoM6InoWk",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2292090276/reactions"
            },
            "updated_at": "2024-08-15T19:56:09Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2292090276",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> > If this use-case is well-defined, why doesn't pkg-config (or some other tool) provide it?\r\n> \r\n> I don't understand this question. Are you asking why pkg-config doesn't have a Lua API?\r\n\r\nIf \"find a C library on the system\" is well-defined or at least well-trodden, then there should be a CLI tool that does it. Then Nvim can invoke it. If such a tool doesn't exist, that's a hint that we are entering undefined territory.\r\n\r\nOTOH, we already do similar dirty work for provider resolution (finding interpreters for node/python/etc). Adding to a list of common search paths isn't too onerous, though it gets tricky when special environment variables and other library-specific lore are involved. Then it becomes a question of how to help users troubleshoot the search-order, \"why isn't my library found\", etc.\r\n\r\nI'm open to this idea except it becomes much less compelling for the reason @clason mentioned , which is that FFI is not where we want to invest core features.",
            "created_at": "2024-08-16T15:29:02Z",
            "html_url": "https://github.com/neovim/neovim/issues/30036#issuecomment-2293718894",
            "id": 2293718894,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30036",
            "node_id": "IC_kwDOAPphoM6It19u",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2293718894/reactions"
            },
            "updated_at": "2024-08-16T15:29:02Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2293718894",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> then there should be a CLI tool that does it.\r\n\r\npkg-config is such a CLI tool.\r\n\r\n> except it becomes much less compelling for the reason @clason mentioned , which is that FFI is not where we want to invest core features.\r\n\r\nAgreed. I haven't realised that FFI is luajit only. \r\nWith that in mind, it would probably be better to create a separate Lua library (preferably not tied to Nvim) that plugins can use.",
            "created_at": "2024-08-16T15:47:27Z",
            "html_url": "https://github.com/neovim/neovim/issues/30036#issuecomment-2293746846",
            "id": 2293746846,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30036",
            "node_id": "IC_kwDOAPphoM6It8ye",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2293746846/reactions"
            },
            "updated_at": "2024-08-16T15:47:27Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2293746846",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/12857160?v=4",
                "events_url": "https://api.github.com/users/mrcjkb/events{/privacy}",
                "followers_url": "https://api.github.com/users/mrcjkb/followers",
                "following_url": "https://api.github.com/users/mrcjkb/following{/other_user}",
                "gists_url": "https://api.github.com/users/mrcjkb/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mrcjkb",
                "id": 12857160,
                "login": "mrcjkb",
                "node_id": "MDQ6VXNlcjEyODU3MTYw",
                "organizations_url": "https://api.github.com/users/mrcjkb/orgs",
                "received_events_url": "https://api.github.com/users/mrcjkb/received_events",
                "repos_url": "https://api.github.com/users/mrcjkb/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mrcjkb/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mrcjkb/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mrcjkb"
            }
        }
    ],
    "comments": 12,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/30036/comments",
    "created_at": "2024-08-13T21:33:16Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/30036/events",
    "html_url": "https://github.com/neovim/neovim/issues/30036",
    "id": 2464262738,
    "labels": [
        {
            "color": "c2e0c6",
            "default": true,
            "description": "feature request",
            "id": 77997476,
            "name": "enhancement",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3Ng==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/enhancement"
        },
        {
            "color": "e6e6e6",
            "default": false,
            "description": "current behavior is by design, and change is not desired",
            "id": 77997479,
            "name": "closed:wontfix",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3OQ==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/closed:wontfix"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "libnvim, Nvim RPC API",
            "id": 103819671,
            "name": "api",
            "node_id": "MDU6TGFiZWwxMDM4MTk2NzE=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/api"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "plugins and Vim \"pack\"",
            "id": 117905553,
            "name": "plugin",
            "node_id": "MDU6TGFiZWwxMTc5MDU1NTM=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/plugin"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "stdlib",
            "id": 573222693,
            "name": "lua",
            "node_id": "MDU6TGFiZWw1NzMyMjI2OTM=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/lua"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": null,
            "id": 713599092,
            "name": "system",
            "node_id": "MDU6TGFiZWw3MTM1OTkwOTI=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/system"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "build dependencies (LuaJIT, LibUV, etc.)",
            "id": 1205400704,
            "name": "dependencies",
            "node_id": "MDU6TGFiZWwxMjA1NDAwNzA0",
            "url": "https://api.github.com/repos/neovim/neovim/labels/dependencies"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/30036/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 231,
        "created_at": "2014-11-26T22:13:11Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk"
        },
        "description": "Zero priority; no timeline. Promote an item from this state by taking ownership of it.",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/9",
        "id": 881978,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/9/labels",
        "node_id": "MDk6TWlsZXN0b25lODgxOTc4",
        "number": 9,
        "open_issues": 259,
        "state": "open",
        "title": "unplanned",
        "updated_at": "2024-08-18T01:21:11Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/9"
    },
    "node_id": "I_kwDOAPphoM6S4apS",
    "number": 30036,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/30036/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "not_planned",
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/30036/timeline",
    "title": "API for finding external dependencies",
    "updated_at": "2024-08-16T18:39:14Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/30036",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/12857160?v=4",
        "events_url": "https://api.github.com/users/mrcjkb/events{/privacy}",
        "followers_url": "https://api.github.com/users/mrcjkb/followers",
        "following_url": "https://api.github.com/users/mrcjkb/following{/other_user}",
        "gists_url": "https://api.github.com/users/mrcjkb/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/mrcjkb",
        "id": 12857160,
        "login": "mrcjkb",
        "node_id": "MDQ6VXNlcjEyODU3MTYw",
        "organizations_url": "https://api.github.com/users/mrcjkb/orgs",
        "received_events_url": "https://api.github.com/users/mrcjkb/received_events",
        "repos_url": "https://api.github.com/users/mrcjkb/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/mrcjkb/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/mrcjkb/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/mrcjkb"
    }
}