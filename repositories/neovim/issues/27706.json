{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\r\n\r\nThe problem has been well described in #1822. This looks the same, but only for OSC52 clipboard provider. With only `vim.opt.clipboard = 'unnamedplus'` everything works as expected.\r\n\r\n### Steps to reproduce\r\n\r\nRun Neovim as `nvim --clean -u clipboard.lua`\r\n\r\n```lua\r\n--clipboard.lua\r\nvim.opt.clipboard = 'unnamedplus'\r\nvim.g.clipboard = {\r\n  name = 'OSC 52',\r\n  copy = {\r\n    ['+'] = require('vim.ui.clipboard.osc52').copy '+',\r\n    ['*'] = require('vim.ui.clipboard.osc52').copy '*',\r\n  },\r\n  paste = {\r\n    ['+'] = require('vim.ui.clipboard.osc52').paste '+',\r\n    ['*'] = require('vim.ui.clipboard.osc52').paste '*',\r\n  },\r\n}\r\n```\r\n\r\nTry to yank a block of code and paste it in\r\n\r\n### Expected behavior\r\n\r\nThe block pasting works the same way as for other system providers.\r\n\r\n### Neovim version (nvim -v)\r\n\r\nv0.10.0-dev-35f453f\r\n\r\n### Vim (not Nvim) behaves the same?\r\n\r\nidk\r\n\r\n### Operating system/version\r\n\r\nNixOS\r\n\r\n### Terminal name/version\r\n\r\nfoot version: 1.16.2\r\n\r\n### $TERM environment variable\r\n\r\nfoot\r\n\r\n### Installation\r\n\r\nnix flake github:neovim/neovim?dir=contrib",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "Hi, I'm observing the same behavior with Wezterm/Alacritty and 'unnamedplus', copy works as expected but when I try pasting previous yanked text for example, it's hanging whit the following message\r\n\r\n```\r\nWaiting for OSC 52 response from the terminal. Press Ctrl-C to interrupt...\r\n```\r\nand after ~5s seconds it timeout whit `Timed out waiting for a clipboard response from the terminal`",
            "created_at": "2024-03-24T11:11:59Z",
            "html_url": "https://github.com/neovim/neovim/issues/27706#issuecomment-2016774046",
            "id": 2016774046,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27706",
            "node_id": "IC_kwDOAPphoM54NYee",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2016774046/reactions"
            },
            "updated_at": "2024-03-24T11:13:58Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2016774046",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6359431?v=4",
                "events_url": "https://api.github.com/users/doums/events{/privacy}",
                "followers_url": "https://api.github.com/users/doums/followers",
                "following_url": "https://api.github.com/users/doums/following{/other_user}",
                "gists_url": "https://api.github.com/users/doums/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/doums",
                "id": 6359431,
                "login": "doums",
                "node_id": "MDQ6VXNlcjYzNTk0MzE=",
                "organizations_url": "https://api.github.com/users/doums/orgs",
                "received_events_url": "https://api.github.com/users/doums/received_events",
                "repos_url": "https://api.github.com/users/doums/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/doums/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/doums/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/doums"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> Hi, I'm observing the same behavior with Wezterm/Alacritty and 'unnamedplus', copy works as expected but when I try pasting previous yanked text for example, it's hanging whit the following message\r\n> \r\n> ```\r\n> Waiting for OSC 52 response from the terminal. Press Ctrl-C to interrupt...\r\n> ```\r\n> \r\n> and after ~5s seconds it timeout whit `Timed out waiting for a clipboard response from the terminal`\r\n\r\nThis is because wezterm do not support to query for system clipboard with OSC52 [#2050](https://github.com/wez/wezterm/issues/2050)",
            "created_at": "2024-03-25T08:53:56Z",
            "html_url": "https://github.com/neovim/neovim/issues/27706#issuecomment-2017497176",
            "id": 2017497176,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27706",
            "node_id": "IC_kwDOAPphoM54QJBY",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2017497176/reactions"
            },
            "updated_at": "2024-04-11T01:33:21Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2017497176",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/4576770?v=4",
                "events_url": "https://api.github.com/users/mike325/events{/privacy}",
                "followers_url": "https://api.github.com/users/mike325/followers",
                "following_url": "https://api.github.com/users/mike325/following{/other_user}",
                "gists_url": "https://api.github.com/users/mike325/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mike325",
                "id": 4576770,
                "login": "mike325",
                "node_id": "MDQ6VXNlcjQ1NzY3NzA=",
                "organizations_url": "https://api.github.com/users/mike325/orgs",
                "received_events_url": "https://api.github.com/users/mike325/received_events",
                "repos_url": "https://api.github.com/users/mike325/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mike325/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mike325/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mike325"
            }
        },
        {
            "author_association": "NONE",
            "body": "> > Hi, I'm observing the same behavior with Wezterm/Alacritty and 'unnamedplus', copy works as expected but when I try pasting previous yanked text for example, it's hanging whit the following message\r\n> > ```\r\n> > Waiting for OSC 52 response from the terminal. Press Ctrl-C to interrupt...\r\n> > ```\r\n> > \r\n> > \r\n> >     \r\n> >       \r\n> >     \r\n> > \r\n> >       \r\n> >     \r\n> > \r\n> >     \r\n> >   \r\n> > and after ~5s seconds it timeout whit `Timed out waiting for a clipboard response from the terminal`\r\n> \r\n> This is because wezterm do not support to query for system clipboard with OSC52 [#2050](https://github.com/wez/wezterm/issues/2050)\r\n\r\nI'm using Windows terminal and also have this issue.",
            "created_at": "2024-04-11T01:24:40Z",
            "html_url": "https://github.com/neovim/neovim/issues/27706#issuecomment-2048756401",
            "id": 2048756401,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27706",
            "node_id": "IC_kwDOAPphoM56HYqx",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2048756401/reactions"
            },
            "updated_at": "2024-04-11T01:33:12Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2048756401",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/17382962?v=4",
                "events_url": "https://api.github.com/users/tristone13th/events{/privacy}",
                "followers_url": "https://api.github.com/users/tristone13th/followers",
                "following_url": "https://api.github.com/users/tristone13th/following{/other_user}",
                "gists_url": "https://api.github.com/users/tristone13th/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/tristone13th",
                "id": 17382962,
                "login": "tristone13th",
                "node_id": "MDQ6VXNlcjE3MzgyOTYy",
                "organizations_url": "https://api.github.com/users/tristone13th/orgs",
                "received_events_url": "https://api.github.com/users/tristone13th/received_events",
                "repos_url": "https://api.github.com/users/tristone13th/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/tristone13th/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/tristone13th/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/tristone13th"
            }
        },
        {
            "author_association": "NONE",
            "body": "Is there any solution or workaround for this issue? I like to use the unnamed register with osc52.",
            "created_at": "2024-05-18T11:54:37Z",
            "html_url": "https://github.com/neovim/neovim/issues/27706#issuecomment-2118798398",
            "id": 2118798398,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27706",
            "node_id": "IC_kwDOAPphoM5-Skw-",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 2,
                "-1": 0,
                "confused": 0,
                "eyes": 2,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 4,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2118798398/reactions"
            },
            "updated_at": "2024-05-18T11:54:37Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2118798398",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/4532849?v=4",
                "events_url": "https://api.github.com/users/durd07/events{/privacy}",
                "followers_url": "https://api.github.com/users/durd07/followers",
                "following_url": "https://api.github.com/users/durd07/following{/other_user}",
                "gists_url": "https://api.github.com/users/durd07/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/durd07",
                "id": 4532849,
                "login": "durd07",
                "node_id": "MDQ6VXNlcjQ1MzI4NDk=",
                "organizations_url": "https://api.github.com/users/durd07/orgs",
                "received_events_url": "https://api.github.com/users/durd07/received_events",
                "repos_url": "https://api.github.com/users/durd07/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/durd07/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/durd07/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/durd07"
            }
        },
        {
            "author_association": "NONE",
            "body": "> Is there any solution or workaround for this issue? I like to use the unnamed register with osc52.\r\n\r\nHave you found a solution to this?",
            "created_at": "2024-06-27T13:24:22Z",
            "html_url": "https://github.com/neovim/neovim/issues/27706#issuecomment-2194686735",
            "id": 2194686735,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27706",
            "node_id": "IC_kwDOAPphoM6C0EMP",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2194686735/reactions"
            },
            "updated_at": "2024-06-27T13:24:22Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2194686735",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/12385031?v=4",
                "events_url": "https://api.github.com/users/eddyekofo94/events{/privacy}",
                "followers_url": "https://api.github.com/users/eddyekofo94/followers",
                "following_url": "https://api.github.com/users/eddyekofo94/following{/other_user}",
                "gists_url": "https://api.github.com/users/eddyekofo94/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/eddyekofo94",
                "id": 12385031,
                "login": "eddyekofo94",
                "node_id": "MDQ6VXNlcjEyMzg1MDMx",
                "organizations_url": "https://api.github.com/users/eddyekofo94/orgs",
                "received_events_url": "https://api.github.com/users/eddyekofo94/received_events",
                "repos_url": "https://api.github.com/users/eddyekofo94/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/eddyekofo94/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/eddyekofo94/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/eddyekofo94"
            }
        },
        {
            "author_association": "NONE",
            "body": "The workaround I've been using so far is just <kbd>ctrl+shift+v</kbd>, seems like for me the issue only presents inside of a zellij or tmux session",
            "created_at": "2024-07-16T14:23:30Z",
            "html_url": "https://github.com/neovim/neovim/issues/27706#issuecomment-2231053822",
            "id": 2231053822,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27706",
            "node_id": "IC_kwDOAPphoM6E-y3-",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2231053822/reactions"
            },
            "updated_at": "2024-07-16T14:23:30Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2231053822",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5008962?v=4",
                "events_url": "https://api.github.com/users/ArgentumCation/events{/privacy}",
                "followers_url": "https://api.github.com/users/ArgentumCation/followers",
                "following_url": "https://api.github.com/users/ArgentumCation/following{/other_user}",
                "gists_url": "https://api.github.com/users/ArgentumCation/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ArgentumCation",
                "id": 5008962,
                "login": "ArgentumCation",
                "node_id": "MDQ6VXNlcjUwMDg5NjI=",
                "organizations_url": "https://api.github.com/users/ArgentumCation/orgs",
                "received_events_url": "https://api.github.com/users/ArgentumCation/received_events",
                "repos_url": "https://api.github.com/users/ArgentumCation/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ArgentumCation/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ArgentumCation/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ArgentumCation"
            }
        },
        {
            "author_association": "NONE",
            "body": "> The workaround I've been using so far is just ctrl+shift+v, seems like for me the issue only presents inside of a zellij or tmux session\r\n\r\nThis issue about <ins>**block pasting when using osc52**</ins>, has absolutely nothing to do with cases where osc52 doesn't work. This is about the behavior when using osc52, not about enabling it.\r\n\r\nBlock pasting in vim is the ability to copy something with block selection and paste it as block. Example:\r\n\r\n```lua\r\n-- you have something like this:\r\ncopy = {\r\n  ['+'] = require('vim.ui.clipboard.osc52').copy '+',\r\n  ['*'] = require('vim.ui.clipboard.osc52').copy '*',\r\n}\r\npaste = {\r\n  ['+'] = require('').paste '+',\r\n  ['*'] = require('').paste '*',\r\n}\r\n\r\n-- then you use the block selection to select that block\r\nvim.ui.clipboard.osc52\r\nvim.ui.clipboard.osc52\r\n\r\n-- move the cursor(|) here:\r\npaste = {\r\n  ['+'] = require('|').paste '+',\r\n  ['*'] = require('').paste '*',\r\n}\r\n\r\n-- and if you paste here you will get this:\r\npaste = {\r\n  ['+'] = require('vim.ui.clipboard.osc52').paste '+',\r\n  ['*'] = require('vim.ui.clipboard.osc52').paste '*',\r\n}\r\n\r\n-- now copy the same text with enabled osc52, and when you paste it, you get the following:\r\npaste = {\r\n  ['+'] = require('').paste '+',\r\nvim.ui.clipboard.osc52\r\nvim.ui.clipboard.osc52\r\n  ['*'] = require('').paste '*',\r\n}\r\n```",
            "created_at": "2024-07-16T16:31:07Z",
            "html_url": "https://github.com/neovim/neovim/issues/27706#issuecomment-2231357011",
            "id": 2231357011,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27706",
            "node_id": "IC_kwDOAPphoM6E_85T",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2231357011/reactions"
            },
            "updated_at": "2024-07-16T16:31:07Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2231357011",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/72071763?v=4",
                "events_url": "https://api.github.com/users/name-snrl/events{/privacy}",
                "followers_url": "https://api.github.com/users/name-snrl/followers",
                "following_url": "https://api.github.com/users/name-snrl/following{/other_user}",
                "gists_url": "https://api.github.com/users/name-snrl/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/name-snrl",
                "id": 72071763,
                "login": "name-snrl",
                "node_id": "MDQ6VXNlcjcyMDcxNzYz",
                "organizations_url": "https://api.github.com/users/name-snrl/orgs",
                "received_events_url": "https://api.github.com/users/name-snrl/received_events",
                "repos_url": "https://api.github.com/users/name-snrl/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/name-snrl/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/name-snrl/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/name-snrl"
            }
        }
    ],
    "comments": 7,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/27706/comments",
    "created_at": "2024-03-02T16:07:14Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/27706/events",
    "html_url": "https://github.com/neovim/neovim/issues/27706",
    "id": 2164871474,
    "labels": [
        {
            "color": "f9d0c4",
            "default": true,
            "description": "issues reporting wrong behavior",
            "id": 77997474,
            "name": "bug",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3NA==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "clipboard, paste",
            "id": 186192409,
            "name": "clipboard",
            "node_id": "MDU6TGFiZWwxODYxOTI0MDk=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/clipboard"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/27706/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM6BCVEy",
    "number": 27706,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/27706/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/27706/timeline",
    "title": "It looks like internal block pasting doesn't work with the OSC52",
    "updated_at": "2024-07-16T16:31:08Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/27706",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/72071763?v=4",
        "events_url": "https://api.github.com/users/name-snrl/events{/privacy}",
        "followers_url": "https://api.github.com/users/name-snrl/followers",
        "following_url": "https://api.github.com/users/name-snrl/following{/other_user}",
        "gists_url": "https://api.github.com/users/name-snrl/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/name-snrl",
        "id": 72071763,
        "login": "name-snrl",
        "node_id": "MDQ6VXNlcjcyMDcxNzYz",
        "organizations_url": "https://api.github.com/users/name-snrl/orgs",
        "received_events_url": "https://api.github.com/users/name-snrl/received_events",
        "repos_url": "https://api.github.com/users/name-snrl/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/name-snrl/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/name-snrl/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/name-snrl"
    }
}