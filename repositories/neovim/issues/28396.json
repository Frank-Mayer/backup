{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\r\n\r\nThis has happened to me for a couple of months, but I don't have the time investigate it. I just got time to do fresh pull from github and start to investigate.\r\n\r\n1. It didn't crash with `nvim --clear` or `nvim -u NONE`\r\n2. I tried disable all plugins, remove configs file one at a time and still crash\r\n3. I don't know anything about `lldb` but read some issue with crash and try to run with it. Can't run backtrace (invalid thread)\r\n4. In `lldb` `process exited with status 139`\r\n5. Log from `Console`\r\n```\r\nProcess:               nvim [19068]\r\nPath:                  /usr/local/bin/nvim\r\nIdentifier:            nvim\r\nVersion:               0\r\nCode Type:             X86-64 (Native)\r\nParent Process:        nvim [19065]\r\nResponsible:           nvim [19065]\r\nUser ID:               501\r\n\r\nDate/Time:             2024-04-18 15:42:31.389 +0800\r\nOS Version:            macOS 11.7.10 (20G1427)\r\nReport Version:        12\r\nAnonymous UUID:        F4B8E738-3769-9066-F773-915080FBC2C9\r\n\r\n\r\nTime Awake Since Boot: 22000 seconds\r\n\r\nSystem Integrity Protection: enabled\r\n\r\nCrashed Thread:        0  Dispatch queue: com.apple.main-thread\r\n\r\nException Type:        EXC_BAD_ACCESS (SIGSEGV)\r\nException Codes:       KERN_INVALID_ADDRESS at 0x0000000000000250\r\nException Note:        EXC_CORPSE_NOTIFY\r\n\r\nTermination Signal:    Segmentation fault: 11\r\nTermination Reason:    Namespace SIGNAL, Code 0xb\r\nTerminating Process:   exc handler [19068]\r\n\r\nVM Regions Near 0x250:\r\n--> \r\n    __TEXT                      100000000-1005bc000    [ 5872K] r-x/r-x SM=COW  /usr/local/bin/nvim\r\n\r\nThread 0 Crashed:: Dispatch queue: com.apple.main-thread\r\n0   nvim                          \t0x0000000100360374 changed_window_setting + 4\r\n1   nvim                          \t0x000000010006f519 lj_vm_ffi_call + 132\r\n2   nvim                          \t0x00000001000cd735 lj_ccall_func + 2069 (lj_ccall.c:1187)\r\n\r\nThread 0 crashed with X86 Thread State (64-bit):\r\n  rax: 0x0000000000000000  rbx: 0x00007ffeefbfd800  rcx: 0x0000000000000000  rdx: 0x0000000000000000\r\n  rdi: 0x0000000000000000  rsi: 0x0000000000000000  rbp: 0x00007ffeefbfd750  rsp: 0x00007ffeefbfd750\r\n   r8: 0x0000000000000000   r9: 0x0000000000000000  r10: 0x0000000000000000  r11: 0xfffffffffffffff5\r\n  r12: 0x0000000000000000  r13: 0x00000001009d7900  r14: 0x00000001009d7900  r15: 0x0000000000000000\r\n  rip: 0x0000000100360374  rfl: 0x0000000000010246  cr2: 0x0000000000000250\r\n  \r\nLogical CPU:     6\r\nError Code:      0x00000006 (no mapping for user data write)\r\nTrap Number:     14\r\n\r\nThread 0 instruction stream:\r\n  00 00 80 8b 00 02 00 00-04 48 83 c4 08 5b 5d c3  .........H...[].\r\n  66 2e 0f 1f 84 00 00 00-00 00 66 90 55 48 89 e5  f.........f.UH..\r\n  53 50 48 8d 1d 33 b6 29-00 48 8b 3b 83 bf 98 00  SPH..3.).H.;....\r\n  00 00 00 74 1e e8 a2 fe-ff ff 48 8b 03 8b 88 38  ...t......H....8\r\n  02 00 00 89 88 94 00 00-00 c7 80 98 00 00 00 00  ................\r\n  00 00 00 48 83 c4 08 5b-5d c3 66 90 55 48 89 e5  ...H...[].f.UH..\r\n [c7]87 50 02 00 00 00 00-00 00 c6 87 00 02 00 00  ..P.............\t<==\r\n  00 48 8d 05 01 08 29 00-48 8d 0d 7f 05 29 00 8a  .H....).H....)..\r\n  09 0a 08 74 02 5d c3 83-bf 8c 02 00 00 27 7f f5  ...t.].......'..\r\n  c7 87 8c 02 00 00 28 00-00 00 c7 87 50 02 00 00  ......(.....P...\r\n  00 00 00 00 48 8d 05 d5-08 29 00 83 38 27 7f d5  ....H....)..8'..\r\n  c7 00 28 00 00 00 5d c3-0f 1f 40 00 55 48 89 e5  ..(...]...@.UH..\r\n  \r\nThread 0 last branch register state not available.\r\n```\r\n\r\nPlease. let me know if you need more information. Thank you.\r\n\r\n### Steps to reproduce\r\n\r\nrun `nvim` or `nvim <file>`\r\n\r\n### Expected behavior\r\n\r\nOpen file normally\r\n\r\n### Neovim version (nvim -v)\r\n\r\nVIM v0.10.0-dev-4305+ge1ca7a7bf\r\nLuaJIT 2.1.1710088188\r\n\r\n### Vim (not Nvim) behaves the same?\r\n\r\nno\r\n\r\n### Operating system/version\r\n\r\nMacOS 11.7.10\r\n\r\n### Terminal name/version\r\n\r\nWezterm/Kitty same result\r\n\r\n### $TERM environment variable\r\n\r\nxterm-256color\r\n\r\n### Installation\r\n\r\nbuild from repo",
    "closed_at": "2024-04-18T08:00:34Z",
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "> Please. let me know if you need more information. Thank you.\r\n\r\nYou _must_ bisect your config to find out which plugin is responsible (and it _is_ a plugin). Look for uses of FFI.\r\n\r\nIf you use nvim-ufo (or noice.nvim), make sure these are updated to the latest commit.",
            "created_at": "2024-04-18T07:49:04Z",
            "html_url": "https://github.com/neovim/neovim/issues/28396#issuecomment-2063241371",
            "id": 2063241371,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28396",
            "node_id": "IC_kwDOAPphoM56-pCb",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2063241371/reactions"
            },
            "updated_at": "2024-04-18T07:49:04Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2063241371",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        },
        {
            "author_association": "NONE",
            "body": "> > Please. let me know if you need more information. Thank you.\r\n> \r\n> You _must_ bisect your config to find out which plugin is responsible (and it _is_ a plugin). Look for uses of FFI.\r\n> \r\n> If you use nvim-ufo (or noice.nvim), make sure these are updated to the latest commit.\r\n\r\nBefore reporting this. I deleted the whole plugins folder (lazy) and re-install all from scratch, so I guess it's the latest.\r\n\r\n> I tried disable all plugins, remove configs file one at a time and still crash\r\n\r\nI'll try again",
            "created_at": "2024-04-18T07:51:19Z",
            "html_url": "https://github.com/neovim/neovim/issues/28396#issuecomment-2063245334",
            "id": 2063245334,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28396",
            "node_id": "IC_kwDOAPphoM56-qAW",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2063245334/reactions"
            },
            "updated_at": "2024-04-18T07:54:10Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2063245334",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/327489?v=4",
                "events_url": "https://api.github.com/users/kuntau/events{/privacy}",
                "followers_url": "https://api.github.com/users/kuntau/followers",
                "following_url": "https://api.github.com/users/kuntau/following{/other_user}",
                "gists_url": "https://api.github.com/users/kuntau/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/kuntau",
                "id": 327489,
                "login": "kuntau",
                "node_id": "MDQ6VXNlcjMyNzQ4OQ==",
                "organizations_url": "https://api.github.com/users/kuntau/orgs",
                "received_events_url": "https://api.github.com/users/kuntau/received_events",
                "repos_url": "https://api.github.com/users/kuntau/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/kuntau/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kuntau/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/kuntau"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Maybe you have locked some plugin versions?",
            "created_at": "2024-04-18T07:54:51Z",
            "html_url": "https://github.com/neovim/neovim/issues/28396#issuecomment-2063251250",
            "id": 2063251250,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28396",
            "node_id": "IC_kwDOAPphoM56-rcy",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2063251250/reactions"
            },
            "updated_at": "2024-04-18T07:54:51Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2063251250",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "And plugins can be plain broken. If they use FFI, _any_ commit here can break them and they need to adapt. So there's no alternative to bisecting your plugins and then reporting the issue _to the one that crashes_.",
            "created_at": "2024-04-18T07:58:35Z",
            "html_url": "https://github.com/neovim/neovim/issues/28396#issuecomment-2063258208",
            "id": 2063258208,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28396",
            "node_id": "IC_kwDOAPphoM56-tJg",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2063258208/reactions"
            },
            "updated_at": "2024-04-18T07:58:35Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2063258208",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        },
        {
            "author_association": "NONE",
            "body": "I'll close first until I investigate those plugins. I do have ufo & noice.\r\n\r\nThank you.",
            "created_at": "2024-04-18T08:00:34Z",
            "html_url": "https://github.com/neovim/neovim/issues/28396#issuecomment-2063261904",
            "id": 2063261904,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28396",
            "node_id": "IC_kwDOAPphoM56-uDQ",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2063261904/reactions"
            },
            "updated_at": "2024-04-18T08:00:48Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2063261904",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/327489?v=4",
                "events_url": "https://api.github.com/users/kuntau/events{/privacy}",
                "followers_url": "https://api.github.com/users/kuntau/followers",
                "following_url": "https://api.github.com/users/kuntau/following{/other_user}",
                "gists_url": "https://api.github.com/users/kuntau/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/kuntau",
                "id": 327489,
                "login": "kuntau",
                "node_id": "MDQ6VXNlcjMyNzQ4OQ==",
                "organizations_url": "https://api.github.com/users/kuntau/orgs",
                "received_events_url": "https://api.github.com/users/kuntau/received_events",
                "repos_url": "https://api.github.com/users/kuntau/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/kuntau/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kuntau/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/kuntau"
            }
        }
    ],
    "comments": 5,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/28396/comments",
    "created_at": "2024-04-18T07:46:37Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/28396/events",
    "html_url": "https://github.com/neovim/neovim/issues/28396",
    "id": 2249993533,
    "labels": [
        {
            "color": "FBCA04",
            "default": false,
            "description": "We need minimal steps to reproduce the issue",
            "id": 298863445,
            "name": "needs:repro",
            "node_id": "MDU6TGFiZWwyOTg4NjM0NDU=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/needs:repro"
        },
        {
            "color": "F9D0C4",
            "default": false,
            "description": "issue reporting a crash or segfault",
            "id": 435854234,
            "name": "bug-crash",
            "node_id": "MDU6TGFiZWw0MzU4NTQyMzQ=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug-crash"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/28396/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM6GHC09",
    "number": 28396,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/28396/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "completed",
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/28396/timeline",
    "title": "Neovim crash almost instantly on MacOS (SEGFAULT)",
    "updated_at": "2024-04-18T08:04:26Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/28396",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/327489?v=4",
        "events_url": "https://api.github.com/users/kuntau/events{/privacy}",
        "followers_url": "https://api.github.com/users/kuntau/followers",
        "following_url": "https://api.github.com/users/kuntau/following{/other_user}",
        "gists_url": "https://api.github.com/users/kuntau/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/kuntau",
        "id": 327489,
        "login": "kuntau",
        "node_id": "MDQ6VXNlcjMyNzQ4OQ==",
        "organizations_url": "https://api.github.com/users/kuntau/orgs",
        "received_events_url": "https://api.github.com/users/kuntau/received_events",
        "repos_url": "https://api.github.com/users/kuntau/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/kuntau/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/kuntau/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/kuntau"
    }
}