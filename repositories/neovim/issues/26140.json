{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\n\nHello, as far as I know, there is no way to to check if a function is deprecated using the Lua API within neovim.\r\nI'm currently working on neovim plugins that use vim functions through the Lua API. However, I'm not sure how to determine if a particular Vim API function is deprecated or not using the Lua API. For example, vim.pretty_print now shows a deprecation message every time I use it (which is annoying for the end user), but this only happens in latest vim.\n\n### Expected behavior\n\nI will be cool if  NeoVim provides an API  to check if a function is deprecated using the Lua API, so rather than hardcoding a version check, you just need to check this function before.",
    "closed_at": "2023-11-27T11:16:31Z",
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "This will be possible with https://github.com/neovim/neovim/issues/25416 (#25574).",
            "created_at": "2023-11-21T17:26:34Z",
            "html_url": "https://github.com/neovim/neovim/issues/26140#issuecomment-1821353566",
            "id": 1821353566,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26140",
            "node_id": "IC_kwDOAPphoM5sj6Ze",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1821353566/reactions"
            },
            "updated_at": "2023-11-21T17:26:34Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1821353566",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        },
        {
            "author_association": "NONE",
            "body": "Do you mind giving an example check in Lua? I read the issue and the Pr and\r\ncould not figure it out\r\n\r\nOn Tue, 21 Nov 2023 at 18:26, Christian Clason ***@***.***>\r\nwrote:\r\n\r\n> This will be possible with #25416\r\n> <https://github.com/neovim/neovim/issues/25416> (#25574\r\n> <https://github.com/neovim/neovim/pull/25574>).\r\n>\r\n> â€”\r\n> Reply to this email directly, view it on GitHub\r\n> <https://github.com/neovim/neovim/issues/26140#issuecomment-1821353566>,\r\n> or unsubscribe\r\n> <https://github.com/notifications/unsubscribe-auth/AARKJWKDU3IZRX76OMEWRP3YFTP5JAVCNFSM6AAAAAA7U5SXRGVHI2DSMVQWIX3LMV43OSLTON2WKQ3PNVWWK3TUHMYTQMRRGM2TGNJWGY>\r\n> .\r\n> You are receiving this because you authored the thread.Message ID:\r\n> ***@***.***>\r\n>\r\n",
            "created_at": "2023-11-21T18:29:17Z",
            "html_url": "https://github.com/neovim/neovim/issues/26140#issuecomment-1821443229",
            "id": 1821443229,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26140",
            "node_id": "IC_kwDOAPphoM5skQSd",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1821443229/reactions"
            },
            "updated_at": "2023-11-21T18:29:17Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1821443229",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2270425?v=4",
                "events_url": "https://api.github.com/users/danielo515/events{/privacy}",
                "followers_url": "https://api.github.com/users/danielo515/followers",
                "following_url": "https://api.github.com/users/danielo515/following{/other_user}",
                "gists_url": "https://api.github.com/users/danielo515/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/danielo515",
                "id": 2270425,
                "login": "danielo515",
                "node_id": "MDQ6VXNlcjIyNzA0MjU=",
                "organizations_url": "https://api.github.com/users/danielo515/orgs",
                "received_events_url": "https://api.github.com/users/danielo515/received_events",
                "repos_url": "https://api.github.com/users/danielo515/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/danielo515/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/danielo515/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/danielo515"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Because it's not nearly done yet.",
            "created_at": "2023-11-21T18:35:16Z",
            "html_url": "https://github.com/neovim/neovim/issues/26140#issuecomment-1821451886",
            "id": 1821451886,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26140",
            "node_id": "IC_kwDOAPphoM5skSZu",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 1,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1821451886/reactions"
            },
            "updated_at": "2023-11-21T18:35:16Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1821451886",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> I'm not sure how to determine if a particular Vim API function is deprecated or not using the Lua API. For example, vim.pretty_print now shows a deprecation message every time I use it (which is annoying for the end user), but this only happens in latest vim.\n\nUse lua_ls which shows diagnostics for deprecated functions.\n\nI don't think we need a runtime solution for this.",
            "created_at": "2023-11-27T10:25:58Z",
            "html_url": "https://github.com/neovim/neovim/issues/26140#issuecomment-1827556016",
            "id": 1827556016,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26140",
            "node_id": "IC_kwDOAPphoM5s7kqw",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1827556016/reactions"
            },
            "updated_at": "2023-11-27T10:25:58Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1827556016",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        },
        {
            "author_association": "NONE",
            "body": "I don't want to use lua_ls for this, because I want to ship plugins that\r\nare compatible with current and previous versions without having annoying\r\nwarnings in the log.\r\n\r\nOn Mon, Nov 27, 2023 at 11:26â€¯AM Lewis Russell ***@***.***>\r\nwrote:\r\n\r\n> I'm not sure how to determine if a particular Vim API function is\r\n> deprecated or not using the Lua API. For example, vim.pretty_print now\r\n> shows a deprecation message every time I use it (which is annoying for the\r\n> end user), but this only happens in latest vim.\r\n>\r\n> Use lua_ls which shows diagnostics for deprecated functions.\r\n>\r\n> I don't think we need a runtime solution for this.\r\n>\r\n> â€”\r\n> Reply to this email directly, view it on GitHub\r\n> <https://github.com/neovim/neovim/issues/26140#issuecomment-1827556016>,\r\n> or unsubscribe\r\n> <https://github.com/notifications/unsubscribe-auth/AARKJWMNLRIR6SJ2QWO2KKTYGRTEDAVCNFSM6AAAAAA7U5SXRGVHI2DSMVQWIX3LMV43OSLTON2WKQ3PNVWWK3TUHMYTQMRXGU2TMMBRGY>\r\n> .\r\n> You are receiving this because you authored the thread.Message ID:\r\n> ***@***.***>\r\n>\r\n\r\n\r\n-- \r\n---\r\nhttps://danielorodriguez.com\r\n",
            "created_at": "2023-11-27T11:11:30Z",
            "html_url": "https://github.com/neovim/neovim/issues/26140#issuecomment-1827626659",
            "id": 1827626659,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26140",
            "node_id": "IC_kwDOAPphoM5s716j",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1827626659/reactions"
            },
            "updated_at": "2023-11-27T11:11:30Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1827626659",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2270425?v=4",
                "events_url": "https://api.github.com/users/danielo515/events{/privacy}",
                "followers_url": "https://api.github.com/users/danielo515/followers",
                "following_url": "https://api.github.com/users/danielo515/following{/other_user}",
                "gists_url": "https://api.github.com/users/danielo515/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/danielo515",
                "id": 2270425,
                "login": "danielo515",
                "node_id": "MDQ6VXNlcjIyNzA0MjU=",
                "organizations_url": "https://api.github.com/users/danielo515/orgs",
                "received_events_url": "https://api.github.com/users/danielo515/received_events",
                "repos_url": "https://api.github.com/users/danielo515/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/danielo515/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/danielo515/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/danielo515"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Just use `has('nvim-0.x')` checks and multiple code paths for that; this is the official method for supporting multiple versions. Alternatively, if the deprecation is in favor of a new or renamed function, just check if that is not `nil`. We deliberately do not support runtime checks for features like Vim's `has('foo')`.\r\n\r\n(And if you want to support master, you _must_ always target HEAD; older commits should never be supported. If in doubt, stick to releases. Users who run nightlies should be aware of and able to handle frequent deprecations.)",
            "created_at": "2023-11-27T11:16:10Z",
            "html_url": "https://github.com/neovim/neovim/issues/26140#issuecomment-1827633363",
            "id": 1827633363,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26140",
            "node_id": "IC_kwDOAPphoM5s73jT",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1827633363/reactions"
            },
            "updated_at": "2023-11-27T11:17:34Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1827633363",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        }
    ],
    "comments": 6,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/26140/comments",
    "created_at": "2023-11-21T17:11:29Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/26140/events",
    "html_url": "https://github.com/neovim/neovim/issues/26140",
    "id": 2004774905,
    "labels": [
        {
            "color": "c2e0c6",
            "default": true,
            "description": "feature request",
            "id": 77997476,
            "name": "enhancement",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3Ng==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/enhancement"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "libnvim, Nvim RPC API",
            "id": 103819671,
            "name": "api",
            "node_id": "MDU6TGFiZWwxMDM4MTk2NzE=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/api"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/26140/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM53fm_5",
    "number": 26140,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/26140/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "not_planned",
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/26140/timeline",
    "title": "Provide a method to check if a function is deprecated using  Lua API",
    "updated_at": "2023-11-27T11:17:34Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/26140",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/2270425?v=4",
        "events_url": "https://api.github.com/users/danielo515/events{/privacy}",
        "followers_url": "https://api.github.com/users/danielo515/followers",
        "following_url": "https://api.github.com/users/danielo515/following{/other_user}",
        "gists_url": "https://api.github.com/users/danielo515/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/danielo515",
        "id": 2270425,
        "login": "danielo515",
        "node_id": "MDQ6VXNlcjIyNzA0MjU=",
        "organizations_url": "https://api.github.com/users/danielo515/orgs",
        "received_events_url": "https://api.github.com/users/danielo515/received_events",
        "repos_url": "https://api.github.com/users/danielo515/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/danielo515/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/danielo515/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/danielo515"
    }
}