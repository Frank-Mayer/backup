{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\n\nopening a file in nvim with a treesitter parser enabled leads to error, if a swapfile exists.\r\n\r\nFirst message:\r\n\r\n```\r\nAuslagerungsdatei mit folgendem Namen gefunden: \"~/.local/state/nvim/swap//%opt%homebrew%Cellar%neovim%0.9.4%share%nvim%runtime%lua%vim%treesitter.lua.swp\"\r\n      Eigentum von: shoffmann     vom: Fr Nov 24 09:31:41 2023\r\n         Dateiname: /opt/homebrew/Cellar/neovim/0.9.4/share/nvim/runtime/lua/vim/treesitter.lua\r\n         verändert: nein\r\n     Benutzer-Name: shoffmann   Host-Name: Poteen.local\r\n        Prozess-ID: 2412 (STILL RUNNING)\r\nBeim Öffnen der Datei \"treesitter.lua\"\r\n               vom: Fr Nov 24 09:31:36 2023\r\n```\r\n\r\nSecond message:\r\n\r\n```\r\nFailed to source `/Users/shoffmann/.config/nvim/after/plugin/treesitter.rc.lua`\r\n\r\nvim/_editor.lua:0: /Users/shoffmann/Projects/github/dotfiles/.config/nvim/init.lua..nvim_exec2() called at /Users/shoffmann/Projects/github/dotfiles/.config/nvim/init.lua:0../Users/shoffmann/Projects/github/dotfiles/.config/nvim/after/plugin/treesitter.rc.lua: Vim(source):E5113: Error while calling lua chunk: Vim:E325: ACHTUNG\r\nstack traceback:\r\n^I[C]: in function 'bufload'\r\n^I...r/neovim/0.9.4/share/nvim/runtime/lua/vim/treesitter.lua:59: in function '_create_parser'\r\n^I...r/neovim/0.9.4/share/nvim/runtime/lua/vim/treesitter.lua:131: in function 'get_parser'\r\n^I...r/neovim/0.9.4/share/nvim/runtime/lua/vim/treesitter.lua:459: in function 'start'\r\n^I...m/lazy/nvim-treesitter/lua/nvim-treesitter/highlight.lua:20: in function 'attach'\r\n^I...vim/lazy/nvim-treesitter/lua/nvim-treesitter/configs.lua:509: in function 'attach_module'\r\n^I...vim/lazy/nvim-treesitter/lua/nvim-treesitter/configs.lua:118: in function 'enable_module'\r\n^I...vim/lazy/nvim-treesitter/lua/nvim-treesitter/configs.lua:155: in function 'enable_all'\r\n^I...vim/lazy/nvim-treesitter/lua/nvim-treesitter/configs.lua:438: in function 'accumulator'\r\n^I...vim/lazy/nvim-treesitter/lua/nvim-treesitter/configs.lua:246: in function 'recurse_modules'\r\n^I...vim/lazy/nvim-treesitter/lua/nvim-treesitter/configs.lua:435: in function 'setup'\r\n^I...\r\n^I...local/share/nvim/lazy/lazy.nvim/lua/lazy/core/loader.lua:481: in function <...local/share/nvim/lazy/lazy.nvim/lua/lazy/core/loader.lua:480>\r\n^I[C]: in function 'xpcall'\r\n^I.../.local/share/nvim/lazy/lazy.nvim/lua/lazy/core/util.lua:113: in function 'try'\r\n^I...local/share/nvim/lazy/lazy.nvim/lua/lazy/core/loader.lua:480: in function 'source'\r\n^I...local/share/nvim/lazy/lazy.nvim/lua/lazy/core/loader.lua:439: in function 'source_runtime'\r\n^I...local/share/nvim/lazy/lazy.nvim/lua/lazy/core/loader.lua:140: in function 'startup'\r\n^I...fmann/.local/share/nvim/lazy/lazy.nvim/lua/lazy/init.lua:110: in function 'setup'\r\n^I/Users/shoffmann/.config/nvim/lua/plugins.lua:14: in main chunk\r\n^I[C]: in function 'require'\r\n^I...shoffmann/Projects/github/dotfiles/.config/nvim/init.lua:30: in main chunk\r\n\r\n# stacktrace:\r\n  - vim/_editor.lua:0 _in_ **cmd**\r\n  - ~/.config/nvim/lua/plugins.lua:14\r\n  - ~/Projects/github/dotfiles/.config/nvim/init.lua:30\r\n```\r\n\r\nThe file can then be edited, and treesitter has parsed the file anyway\r\n\r\nThe same problem occurs if using nvim nightly NVIM v0.10.0-dev-53cc835\n\n### Steps to reproduce\n\n- install and configure nvim-treesitter\r\n- open a file with treesitter support enabled\r\n- open the same file in another nvim instance\n\n### Expected behavior\n\nthe second message `...in function 'bufload'...` should not appear\n\n### Neovim version (nvim -v)\n\n0.9.4\n\n### Vim (not Nvim) behaves the same?\n\nnot tested, treesitter support missing in vim\n\n### Operating system/version\n\nmacOS 13.5.2\n\n### Terminal name/version\n\niterm2\n\n### $TERM environment variable\n\nxterm-256color\n\n### Installation\n\nbrew",
    "closed_at": "2023-11-24T09:49:02Z",
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "Does this happen _without_ `nvim-treesitter`, just `vim.treesitter.start()` in a FileType autocommand?",
            "created_at": "2023-11-24T08:51:18Z",
            "html_url": "https://github.com/neovim/neovim/issues/26192#issuecomment-1825331346",
            "id": 1825331346,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26192",
            "node_id": "IC_kwDOAPphoM5szFiS",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1825331346/reactions"
            },
            "updated_at": "2023-11-24T08:51:18Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1825331346",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        },
        {
            "author_association": "NONE",
            "body": "In `runtime/lua/vim/treesitter.lua`, adding lines 131, 132 and 134\r\n\r\n```\r\n130   elseif parsers[bufnr] == nil or parsers[bufnr]:lang() ~= lang then\r\n131     local status = pcall(vim.fn.bufload, bufnr)\r\n132     if (status) then\r\n133       parsers[bufnr] = M._create_parser(bufnr, lang, opts)\r\n134     end\r\n135   end\r\n```\r\n\r\nsolves the problem for me. The message is suppressed, and the file still shows treesitter highlights",
            "created_at": "2023-11-24T08:52:07Z",
            "html_url": "https://github.com/neovim/neovim/issues/26192#issuecomment-1825332255",
            "id": 1825332255,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26192",
            "node_id": "IC_kwDOAPphoM5szFwf",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1825332255/reactions"
            },
            "updated_at": "2023-11-24T08:52:07Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1825332255",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/29542092?v=4",
                "events_url": "https://api.github.com/users/sheimer/events{/privacy}",
                "followers_url": "https://api.github.com/users/sheimer/followers",
                "following_url": "https://api.github.com/users/sheimer/following{/other_user}",
                "gists_url": "https://api.github.com/users/sheimer/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/sheimer",
                "id": 29542092,
                "login": "sheimer",
                "node_id": "MDQ6VXNlcjI5NTQyMDky",
                "organizations_url": "https://api.github.com/users/sheimer/orgs",
                "received_events_url": "https://api.github.com/users/sheimer/received_events",
                "repos_url": "https://api.github.com/users/sheimer/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/sheimer/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/sheimer/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/sheimer"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "This was added in #12603. I think a better solution would _not_ to force loading of the buffer and check `bufloaded` and bail if `false`.",
            "created_at": "2023-11-24T08:57:38Z",
            "html_url": "https://github.com/neovim/neovim/issues/26192#issuecomment-1825340931",
            "id": 1825340931,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26192",
            "node_id": "IC_kwDOAPphoM5szH4D",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1825340931/reactions"
            },
            "updated_at": "2023-11-24T08:57:38Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1825340931",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        },
        {
            "author_association": "NONE",
            "body": "> Does this happen _without_ `nvim-treesitter`, just `vim.treesitter.start()` in a FileType autocommand?\r\n\r\nNo, it does not.\r\n\r\nWith nvim-treesitter, only if highlight = { enabled = true } is set it happens.\r\n\r\n> I think a better solution would not to force loading of the buffer and check bufloaded and bail if false.\r\n\r\nPossible. Either way, with my solution as well, highlights are not applied. Only non-treesitter highlights.\r\n\r\nTo try and load the buffer if not already loaded might be a good thing...and now that i think about it, the error message I reported as a bug is not bad as well. After some more testing I realized that treesitter highlighting is not really applied with my \"fix\", just default highlighting.\r\n\r\nMaybe this is not really a problem of _create_parser, and best would be to figure out, why an existing swap file leads to bufload error...",
            "created_at": "2023-11-24T09:43:39Z",
            "html_url": "https://github.com/neovim/neovim/issues/26192#issuecomment-1825399078",
            "id": 1825399078,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26192",
            "node_id": "IC_kwDOAPphoM5szWEm",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1825399078/reactions"
            },
            "updated_at": "2023-11-24T09:43:39Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1825399078",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/29542092?v=4",
                "events_url": "https://api.github.com/users/sheimer/events{/privacy}",
                "followers_url": "https://api.github.com/users/sheimer/followers",
                "following_url": "https://api.github.com/users/sheimer/following{/other_user}",
                "gists_url": "https://api.github.com/users/sheimer/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/sheimer",
                "id": 29542092,
                "login": "sheimer",
                "node_id": "MDQ6VXNlcjI5NTQyMDky",
                "organizations_url": "https://api.github.com/users/sheimer/orgs",
                "received_events_url": "https://api.github.com/users/sheimer/received_events",
                "repos_url": "https://api.github.com/users/sheimer/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/sheimer/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/sheimer/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/sheimer"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> No, it does not.\r\n\r\nThen it is not a Neovim issue. (And it won't be an nvim-treesitter issue, either, once the 1.0 rewrite becomes the default branch, which drops the hard-to-maintain modules.)",
            "created_at": "2023-11-24T09:48:49Z",
            "html_url": "https://github.com/neovim/neovim/issues/26192#issuecomment-1825405613",
            "id": 1825405613,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26192",
            "node_id": "IC_kwDOAPphoM5szXqt",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1825405613/reactions"
            },
            "updated_at": "2023-11-24T09:48:49Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1825405613",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "(But thanks for bringing this up; this is good to keep in mind.)",
            "created_at": "2023-11-24T09:49:28Z",
            "html_url": "https://github.com/neovim/neovim/issues/26192#issuecomment-1825406434",
            "id": 1825406434,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26192",
            "node_id": "IC_kwDOAPphoM5szX3i",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1825406434/reactions"
            },
            "updated_at": "2023-11-24T09:49:28Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1825406434",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        },
        {
            "author_association": "NONE",
            "body": "> > No, it does not.\r\n> \r\n> Then it is not a Neovim issue. (And it won't be an nvim-treesitter issue, either, once the 1.0 rewrite becomes the default branch, which drops the hard-to-maintain modules.)\r\n\r\nyou mean 1.0 of nvim-treesitter, and i dont understand what drops could help,\r\nor 1.0 of neovim, and there wont be treesitter highlighting anyomore?",
            "created_at": "2023-11-24T10:11:19Z",
            "html_url": "https://github.com/neovim/neovim/issues/26192#issuecomment-1825437013",
            "id": 1825437013,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26192",
            "node_id": "IC_kwDOAPphoM5szfVV",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1825437013/reactions"
            },
            "updated_at": "2023-11-24T10:11:19Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1825437013",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/29542092?v=4",
                "events_url": "https://api.github.com/users/sheimer/events{/privacy}",
                "followers_url": "https://api.github.com/users/sheimer/followers",
                "following_url": "https://api.github.com/users/sheimer/following{/other_user}",
                "gists_url": "https://api.github.com/users/sheimer/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/sheimer",
                "id": 29542092,
                "login": "sheimer",
                "node_id": "MDQ6VXNlcjI5NTQyMDky",
                "organizations_url": "https://api.github.com/users/sheimer/orgs",
                "received_events_url": "https://api.github.com/users/sheimer/received_events",
                "repos_url": "https://api.github.com/users/sheimer/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/sheimer/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/sheimer/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/sheimer"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> you mean 1.0 of nvim-treesitter\r\n\r\nYes. This will not try to control highlighting but leave it to Neovim's builtin functionality (which works correctly); `vim.treesitter.start()` will be the (only) official way of enabling highlighting.",
            "created_at": "2023-11-24T10:13:56Z",
            "html_url": "https://github.com/neovim/neovim/issues/26192#issuecomment-1825440484",
            "id": 1825440484,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26192",
            "node_id": "IC_kwDOAPphoM5szgLk",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1825440484/reactions"
            },
            "updated_at": "2023-11-24T10:14:16Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1825440484",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        },
        {
            "author_association": "NONE",
            "body": "I see, thank you very much :)\r\n\r\nSlowly I start figuring out what does what, and what is needed for me to get the highlights i want ^^",
            "created_at": "2023-11-24T10:25:01Z",
            "html_url": "https://github.com/neovim/neovim/issues/26192#issuecomment-1825454666",
            "id": 1825454666,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26192",
            "node_id": "IC_kwDOAPphoM5szjpK",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1825454666/reactions"
            },
            "updated_at": "2023-11-24T10:25:01Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1825454666",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/29542092?v=4",
                "events_url": "https://api.github.com/users/sheimer/events{/privacy}",
                "followers_url": "https://api.github.com/users/sheimer/followers",
                "following_url": "https://api.github.com/users/sheimer/following{/other_user}",
                "gists_url": "https://api.github.com/users/sheimer/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/sheimer",
                "id": 29542092,
                "login": "sheimer",
                "node_id": "MDQ6VXNlcjI5NTQyMDky",
                "organizations_url": "https://api.github.com/users/sheimer/orgs",
                "received_events_url": "https://api.github.com/users/sheimer/received_events",
                "repos_url": "https://api.github.com/users/sheimer/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/sheimer/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/sheimer/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/sheimer"
            }
        },
        {
            "author_association": "NONE",
            "body": "if someone stumbles upon this:\r\n\r\nI disabled highlight in `require(\"nvim-treesitter.configs\").setup({...})`\r\nand used an autocommand to enable:\r\n```\r\n-- not using \"highlight\" in config but autocommand to prevent error on loading files which have a vim swap file\r\nvim.api.nvim_create_autocmd('BufReadPost', {\r\n  group = vim.api.nvim_create_augroup('treesitter', {}),\r\n  callback = function(ev)\r\n    local max_filesize = 100 * 1024 -- 100 KB\r\n    local ok, stats = pcall(vim.loop.fs_stat, vim.api.nvim_buf_get_name(ev.buf))\r\n    if ok and stats and stats.size > max_filesize then\r\n      return true\r\n    end\r\n    vim.treesitter.start(ev.buf)\r\n  end,\r\n})\r\n```\r\n\r\nNow everything works fine for me :)",
            "created_at": "2023-11-24T11:58:16Z",
            "html_url": "https://github.com/neovim/neovim/issues/26192#issuecomment-1825572232",
            "id": 1825572232,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26192",
            "node_id": "IC_kwDOAPphoM5s0AWI",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1825572232/reactions"
            },
            "updated_at": "2023-11-24T11:58:16Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1825572232",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/29542092?v=4",
                "events_url": "https://api.github.com/users/sheimer/events{/privacy}",
                "followers_url": "https://api.github.com/users/sheimer/followers",
                "following_url": "https://api.github.com/users/sheimer/following{/other_user}",
                "gists_url": "https://api.github.com/users/sheimer/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/sheimer",
                "id": 29542092,
                "login": "sheimer",
                "node_id": "MDQ6VXNlcjI5NTQyMDky",
                "organizations_url": "https://api.github.com/users/sheimer/orgs",
                "received_events_url": "https://api.github.com/users/sheimer/received_events",
                "repos_url": "https://api.github.com/users/sheimer/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/sheimer/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/sheimer/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/sheimer"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "It's better to do that on a `FileType` autocommand; then you can skip certain languages.",
            "created_at": "2023-11-24T12:04:27Z",
            "html_url": "https://github.com/neovim/neovim/issues/26192#issuecomment-1825579590",
            "id": 1825579590,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26192",
            "node_id": "IC_kwDOAPphoM5s0CJG",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1825579590/reactions"
            },
            "updated_at": "2023-11-24T12:04:27Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1825579590",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        },
        {
            "author_association": "NONE",
            "body": "thank you!\r\n\r\nso new version:\r\n\r\n```\r\nvim.api.nvim_create_autocmd('FileType', {\r\n  group = vim.api.nvim_create_augroup('treesitter', {}),\r\n  callback = function(ev)\r\n    local parsers = require(\"nvim-treesitter.parsers\")\r\n    local lang = parsers.ft_to_lang(ev.match)\r\n\r\n    if not parsers.has_parser(lang) then\r\n      return true\r\n    end\r\n\r\n    local max_filesize = 100 * 1024 -- 100 KB\r\n    local ok, stats = pcall(vim.loop.fs_stat, vim.api.nvim_buf_get_name(ev.buf))\r\n\r\n    if ok and stats and stats.size > max_filesize then\r\n      return true\r\n    end\r\n\r\n    vim.treesitter.start(ev.buf)\r\n  end,\r\n})\r\n```\r\n",
            "created_at": "2023-11-24T13:58:17Z",
            "html_url": "https://github.com/neovim/neovim/issues/26192#issuecomment-1825714824",
            "id": 1825714824,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26192",
            "node_id": "IC_kwDOAPphoM5s0jKI",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1825714824/reactions"
            },
            "updated_at": "2023-11-24T13:58:17Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1825714824",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/29542092?v=4",
                "events_url": "https://api.github.com/users/sheimer/events{/privacy}",
                "followers_url": "https://api.github.com/users/sheimer/followers",
                "following_url": "https://api.github.com/users/sheimer/following{/other_user}",
                "gists_url": "https://api.github.com/users/sheimer/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/sheimer",
                "id": 29542092,
                "login": "sheimer",
                "node_id": "MDQ6VXNlcjI5NTQyMDky",
                "organizations_url": "https://api.github.com/users/sheimer/orgs",
                "received_events_url": "https://api.github.com/users/sheimer/received_events",
                "repos_url": "https://api.github.com/users/sheimer/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/sheimer/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/sheimer/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/sheimer"
            }
        }
    ],
    "comments": 12,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/26192/comments",
    "created_at": "2023-11-24T08:47:14Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/26192/events",
    "html_url": "https://github.com/neovim/neovim/issues/26192",
    "id": 2009332097,
    "labels": [
        {
            "color": "f9d0c4",
            "default": true,
            "description": "issues reporting wrong behavior",
            "id": 77997474,
            "name": "bug",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3NA==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug"
        },
        {
            "color": "FBCA04",
            "default": false,
            "description": "We need minimal steps to reproduce the issue",
            "id": 298863445,
            "name": "needs:repro",
            "node_id": "MDU6TGFiZWwyOTg4NjM0NDU=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/needs:repro"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "",
            "id": 1799626557,
            "name": "treesitter",
            "node_id": "MDU6TGFiZWwxNzk5NjI2NTU3",
            "url": "https://api.github.com/repos/neovim/neovim/labels/treesitter"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/26192/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM53w_mB",
    "number": 26192,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/26192/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "completed",
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/26192/timeline",
    "title": "treesitter - error on bufload in _create_parser if swapfile of buffer exists",
    "updated_at": "2023-11-24T13:58:18Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/26192",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/29542092?v=4",
        "events_url": "https://api.github.com/users/sheimer/events{/privacy}",
        "followers_url": "https://api.github.com/users/sheimer/followers",
        "following_url": "https://api.github.com/users/sheimer/following{/other_user}",
        "gists_url": "https://api.github.com/users/sheimer/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/sheimer",
        "id": 29542092,
        "login": "sheimer",
        "node_id": "MDQ6VXNlcjI5NTQyMDky",
        "organizations_url": "https://api.github.com/users/sheimer/orgs",
        "received_events_url": "https://api.github.com/users/sheimer/received_events",
        "repos_url": "https://api.github.com/users/sheimer/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/sheimer/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/sheimer/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/sheimer"
    }
}