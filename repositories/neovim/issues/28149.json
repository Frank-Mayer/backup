{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\r\n\r\nPressing Ctrl-z while inside neovim, causes neovim to suspend (I guess), but the terminal is now also comletely fronzen (and not the ctrl-s/ctrl-q type). Not only that, all the other terminals are also completely frozen (i.e not respond to keyboard at all). Also if I try to start new terminals they don't even \"boot up\" (i.e no PS1 shown). After closing the VM (rivervm), and going back to the bare TTY that was ALSO frozen (i.e no response from any kbd input). Also the other TTYs couldn't be started (i.e TTY2, TTY3).\r\n\r\nSo basically from that point on -- no working terminals whatsoever.\r\n\r\nThis is pretty bizarre but also happened 2 times already, and I have to hard-reboot (i.e hold power button). Funnily enough non-terminals are fine (i.e browser windows).\r\n\r\nSetup: Arch Linux, riverwm, foot for terminal, pretty recent nvim (updated a few days ago, will update once I reboot :cry:)\r\n\r\n### Steps to reproduce\r\n\r\n- open nvim (from terminal)\r\n- open any file\r\n- click ctrl-z \r\n- happens every time a file is open, if no file is open it prints `zsh: suspended nvim`, and everything is fine\r\n- happens even in raw TTY (i.e no wayland/X)\r\n\r\n### Expected behavior\r\n\r\nSuspend the nvim process, release the terminal in working order (and not mess up all other existing and future terminals).\r\n\r\n### Neovim version (nvim -v)\r\n\r\n```\r\nNVIM v0.9.5\r\nBuild type: Release\r\nLuaJIT 2.1.1702233742\r\n\r\n   system vimrc file: \"$VIM/sysinit.vim\"\r\n  fall-back for $VIM: \"/usr/share/nvim\"\r\n\r\nRun :checkhealth for more info\r\n```\r\n\r\n### Vim (not Nvim) behaves the same?\r\n\r\nno\r\n\r\n### Operating system/version\r\n\r\nArch Linux\r\n\r\n### Terminal name/version\r\n\r\nfoot\r\n\r\n### $TERM environment variable\r\n\r\nxterm-color\r\n\r\n### Installation\r\n\r\npacman (arch official repo)\r\n\r\nEDIT: This is reproducible (tried 2 more times with a single open file). Added nvim version (0.9.5)",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "A workaround is to put `map <c-z> :echo \"NO\"<CR>` in the config.",
            "created_at": "2024-04-01T17:02:31Z",
            "html_url": "https://github.com/neovim/neovim/issues/28149#issuecomment-2030163810",
            "id": 2030163810,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28149",
            "node_id": "IC_kwDOAPphoM55Addi",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2030163810/reactions"
            },
            "updated_at": "2024-04-01T17:02:31Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2030163810",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/757060?v=4",
                "events_url": "https://api.github.com/users/ichernev/events{/privacy}",
                "followers_url": "https://api.github.com/users/ichernev/followers",
                "following_url": "https://api.github.com/users/ichernev/following{/other_user}",
                "gists_url": "https://api.github.com/users/ichernev/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ichernev",
                "id": 757060,
                "login": "ichernev",
                "node_id": "MDQ6VXNlcjc1NzA2MA==",
                "organizations_url": "https://api.github.com/users/ichernev/orgs",
                "received_events_url": "https://api.github.com/users/ichernev/received_events",
                "repos_url": "https://api.github.com/users/ichernev/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ichernev/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ichernev/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ichernev"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "I can repeat this as well.\r\n\r\nAnd it looks like it might be related to this https://bbs.archlinux.org/viewtopic.php?pid=2161746, which might be a kernel bug, or a packaging bug in Arch Linux.\r\n\r\nThe symptoms are the same all terminals, including TTYs freeze, but the trigger is different. ",
            "created_at": "2024-04-01T18:07:54Z",
            "html_url": "https://github.com/neovim/neovim/issues/28149#issuecomment-2030270190",
            "id": 2030270190,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28149",
            "node_id": "IC_kwDOAPphoM55A3bu",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2030270190/reactions"
            },
            "updated_at": "2024-04-01T18:07:54Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2030270190",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/9946255?v=4",
                "events_url": "https://api.github.com/users/fredizzimo/events{/privacy}",
                "followers_url": "https://api.github.com/users/fredizzimo/followers",
                "following_url": "https://api.github.com/users/fredizzimo/following{/other_user}",
                "gists_url": "https://api.github.com/users/fredizzimo/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/fredizzimo",
                "id": 9946255,
                "login": "fredizzimo",
                "node_id": "MDQ6VXNlcjk5NDYyNTU=",
                "organizations_url": "https://api.github.com/users/fredizzimo/orgs",
                "received_events_url": "https://api.github.com/users/fredizzimo/received_events",
                "repos_url": "https://api.github.com/users/fredizzimo/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/fredizzimo/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/fredizzimo/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/fredizzimo"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I'm using the same kernel version and I cannot reproduce this.",
            "created_at": "2024-04-01T23:29:00Z",
            "html_url": "https://github.com/neovim/neovim/issues/28149#issuecomment-2030785304",
            "id": 2030785304,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28149",
            "node_id": "IC_kwDOAPphoM55C1MY",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2030785304/reactions"
            },
            "updated_at": "2024-04-01T23:29:00Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2030785304",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        }
    ],
    "comments": 3,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/28149/comments",
    "created_at": "2024-04-01T16:36:12Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/28149/events",
    "html_url": "https://github.com/neovim/neovim/issues/28149",
    "id": 2218628525,
    "labels": [
        {
            "color": "f9d0c4",
            "default": true,
            "description": "issues reporting wrong behavior",
            "id": 77997474,
            "name": "bug",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3NA==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/28149/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM6EPZWt",
    "number": 28149,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/28149/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/28149/timeline",
    "title": "Ctrl-z freezes all current and future user terminals",
    "updated_at": "2024-04-01T23:29:01Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/28149",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/757060?v=4",
        "events_url": "https://api.github.com/users/ichernev/events{/privacy}",
        "followers_url": "https://api.github.com/users/ichernev/followers",
        "following_url": "https://api.github.com/users/ichernev/following{/other_user}",
        "gists_url": "https://api.github.com/users/ichernev/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/ichernev",
        "id": 757060,
        "login": "ichernev",
        "node_id": "MDQ6VXNlcjc1NzA2MA==",
        "organizations_url": "https://api.github.com/users/ichernev/orgs",
        "received_events_url": "https://api.github.com/users/ichernev/received_events",
        "repos_url": "https://api.github.com/users/ichernev/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/ichernev/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ichernev/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/ichernev"
    }
}