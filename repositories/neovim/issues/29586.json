{
    "active_lock_reason": null,
    "assignee": {
        "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
        "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
        "followers_url": "https://api.github.com/users/zeertzjq/followers",
        "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
        "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/zeertzjq",
        "id": 35768171,
        "login": "zeertzjq",
        "node_id": "MDQ6VXNlcjM1NzY4MTcx",
        "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
        "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
        "repos_url": "https://api.github.com/users/zeertzjq/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/zeertzjq"
    },
    "assignees": [
        {
            "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
            "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
            "followers_url": "https://api.github.com/users/zeertzjq/followers",
            "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
            "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/zeertzjq",
            "id": 35768171,
            "login": "zeertzjq",
            "node_id": "MDQ6VXNlcjM1NzY4MTcx",
            "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
            "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
            "repos_url": "https://api.github.com/users/zeertzjq/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/zeertzjq"
        }
    ],
    "author_association": "CONTRIBUTOR",
    "body": "### Problem\r\n\r\nI get assertion failure (`src/nvim/cmdexpand.c:266: nextwild: Assertion 'ccline->cmdpos >= i' failed.`) trying to complete Lua expressions inside the cmdline:\r\n```cpp\r\n#0  __pthread_kill_implementation (threadid=<optimized out>, signo=signo@entry=6, no_tid=no_tid@entry=0) at ./nptl/pthread_kill.c:44\r\n#1  0x00007f025329eb6f in __pthread_kill_internal (signo=6, threadid=<optimized out>) at ./nptl/pthread_kill.c:78\r\n#2  0x00007f02532504e2 in __GI_raise (sig=sig@entry=6) at ../sysdeps/posix/raise.c:26\r\n#3  0x00007f02532394ed in __GI_abort () at ./stdlib/abort.c:79\r\n#4  0x00007f0253239415 in __assert_fail_base (fmt=0x7f02533afba8 \"%s%s%s:%u: %s%sAssertion `%s' failed.\\n%n\", assertion=assertion@entry=0x562764acd2e0 \"ccline->cmdpos >= i\",\r\n    file=file@entry=0x562764ae6ba0 \".../src/nvim/cmdexpand.c\", line=line@entry=266, function=function@entry=0x562764a88f58 <__PRETTY_FUNCTION__.9> \"nextwild\") at ./assert/assert.c:92\r\n#5  0x00007f0253249002 in __assert_fail (assertion=assertion@entry=0x562764acd2e0 \"ccline->cmdpos >= i\", file=file@entry=0x562764ae6ba0 \".../src/nvim/cmdexpand.c\", line=line@entry=266,\r\n    function=function@entry=0x562764a88f58 <__PRETTY_FUNCTION__.9> \"nextwild\") at ./assert/assert.c:101\r\n#6  0x000056276476153e in nextwild (xp=0x7ffcf049a1d8, type=3, options=8, escape=true) at .../src/nvim/cmdexpand.c:266\r\n#7  0x00005627647ed2e6 in command_line_wildchar_complete (s=s@entry=0x7ffcf049a100) at .../src/nvim/ex_getln.c:1099\r\n#8  0x00005627647eef7a in command_line_execute (state=0x7ffcf049a100, key=<optimized out>) at .../src/nvim/ex_getln.c:1367\r\n#9  0x000056276492e962 in state_enter (s=0x7ffcf049a100) at .../src/nvim/state.c:101\r\n#10 0x00005627647ec9a0 in command_line_enter (firstc=firstc@entry=58, count=count@entry=1, indent=indent@entry=0, clear_ccline=clear_ccline@entry=true) at .../src/nvim/ex_getln.c:851\r\n#11 0x00005627647ece07 in getcmdline (firstc=firstc@entry=58, count=count@entry=1, indent=indent@entry=0, do_concat=do_concat@entry=true) at .../src/nvim/ex_getln.c:2739\r\n#12 0x00005627647ece35 in getexline (c=58, cookie=<optimized out>, indent=0, do_concat=true) at .../src/nvim/ex_getln.c:2982\r\n#13 0x00005627647d9a97 in do_cmdline (cmdline=<optimized out>, fgetline=0x5627647ece0c <getexline>, cookie=0x0, flags=0) at .../src/nvim/ex_docmd.c:579\r\n#14 0x000056276488f4e5 in nv_colon (cap=0x7ffcf049aac0) at .../src/nvim/normal.c:3182\r\n#15 0x000056276488d4b9 in normal_execute (state=0x7ffcf049aa50, key=<optimized out>) at .../src/nvim/normal.c:1230\r\n#16 0x000056276492e962 in state_enter (s=0x7ffcf049aa50) at .../src/nvim/state.c:101\r\n#17 0x000056276488a603 in normal_enter (cmdwin=<optimized out>, noexmode=<optimized out>) at .../src/nvim/normal.c:519\r\n#18 0x0000562764850968 in main (argc=3, argv=<optimized out>) at .../src/nvim/main.c:664\r\n```\r\n\r\n### Steps to reproduce\r\n\r\n- `nvim --clean`\r\n- `:lua ; 1`\r\n- jump before the semicolon, type `fun` and press `<Tab>`\r\n\r\n### Expected behavior\r\n\r\nNo crash\r\n\r\n### Neovim version (nvim -v)\r\n\r\nv0.11.0-dev-353+g34fa54355\r\n\r\n### Vim (not Nvim) behaves the same?\r\n\r\nno, 9.1.496\r\n\r\n### Operating system/version\r\n\r\nDebian Sid\r\n\r\n### Terminal name/version\r\n\r\nalcritty 0.14.0-dev (da554e41)\r\n\r\n### $TERM environment variable\r\n\r\nalacritty\r\n\r\n### Installation\r\n\r\nfrom repo",
    "closed_at": "2024-07-06T14:25:36Z",
    "comment_data": [
        {
            "author_association": "CONTRIBUTOR",
            "body": "Thank you @zeertzjq ",
            "created_at": "2024-07-06T14:29:51Z",
            "html_url": "https://github.com/neovim/neovim/issues/29586#issuecomment-2211783238",
            "id": 2211783238,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/29586",
            "node_id": "IC_kwDOAPphoM6D1SJG",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2211783238/reactions"
            },
            "updated_at": "2024-07-06T14:29:51Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2211783238",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/11404453?v=4",
                "events_url": "https://api.github.com/users/przepompownia/events{/privacy}",
                "followers_url": "https://api.github.com/users/przepompownia/followers",
                "following_url": "https://api.github.com/users/przepompownia/following{/other_user}",
                "gists_url": "https://api.github.com/users/przepompownia/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/przepompownia",
                "id": 11404453,
                "login": "przepompownia",
                "node_id": "MDQ6VXNlcjExNDA0NDUz",
                "organizations_url": "https://api.github.com/users/przepompownia/orgs",
                "received_events_url": "https://api.github.com/users/przepompownia/received_events",
                "repos_url": "https://api.github.com/users/przepompownia/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/przepompownia/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/przepompownia/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/przepompownia"
            }
        }
    ],
    "comments": 1,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/29586/comments",
    "created_at": "2024-07-06T13:01:44Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/29586/events",
    "html_url": "https://github.com/neovim/neovim/issues/29586",
    "id": 2393554541,
    "labels": [
        {
            "color": "0E8A16",
            "default": false,
            "description": "issue contains a stacktrace/ASAN log",
            "id": 435854079,
            "name": "has:backtrace",
            "node_id": "MDU6TGFiZWw0MzU4NTQwNzk=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/has:backtrace"
        },
        {
            "color": "F9D0C4",
            "default": false,
            "description": "issue reporting a crash or segfault",
            "id": 435854234,
            "name": "bug-crash",
            "node_id": "MDU6TGFiZWw0MzU4NTQyMzQ=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug-crash"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "stdlib",
            "id": 573222693,
            "name": "lua",
            "node_id": "MDU6TGFiZWw1NzMyMjI2OTM=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/lua"
        },
        {
            "color": "C5DEF5",
            "default": false,
            "description": "Nvim built-in (omni)completion",
            "id": 3214348835,
            "name": "completion",
            "node_id": "MDU6TGFiZWwzMjE0MzQ4ODM1",
            "url": "https://api.github.com/repos/neovim/neovim/labels/completion"
        },
        {
            "color": "C5DEF5",
            "default": false,
            "description": "command line, also cmdwin",
            "id": 5826989442,
            "name": "cmdline-mode",
            "node_id": "LA_kwDOAPphoM8AAAABW1DNgg",
            "url": "https://api.github.com/repos/neovim/neovim/labels/cmdline-mode"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/29586/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM6Oqr5t",
    "number": 29586,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/29586/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "completed",
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/29586/timeline",
    "title": "cmdexpand: nextwild: Assertion `ccline->cmdpos >= i` failed on completion inside cmdline",
    "updated_at": "2024-07-06T14:29:52Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/29586",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/11404453?v=4",
        "events_url": "https://api.github.com/users/przepompownia/events{/privacy}",
        "followers_url": "https://api.github.com/users/przepompownia/followers",
        "following_url": "https://api.github.com/users/przepompownia/following{/other_user}",
        "gists_url": "https://api.github.com/users/przepompownia/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/przepompownia",
        "id": 11404453,
        "login": "przepompownia",
        "node_id": "MDQ6VXNlcjExNDA0NDUz",
        "organizations_url": "https://api.github.com/users/przepompownia/orgs",
        "received_events_url": "https://api.github.com/users/przepompownia/received_events",
        "repos_url": "https://api.github.com/users/przepompownia/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/przepompownia/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/przepompownia/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/przepompownia"
    }
}