{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "body": "Currently floating windows are moved left if they would overflow the screen to the right (\"do not fit `width`wise\").\r\n\r\nVim has a \"fixed\" option for popup windows that corresponds to this:\r\n```\r\n\tfixed\t\tWhen FALSE (the default), and:\r\n\t\t\t - \"pos\" is \"botleft\" or \"topleft\", and\r\n\t\t\t - \"wrap\" is off, and\r\n\t\t\t - the popup would be truncated at the right edge of\r\n\t\t\t   the screen, then\r\n\t\t\tthe popup is moved to the left so as to fit the\r\n\t\t\tcontents on the screen.  Set to TRUE to disable this.\r\n```\r\n\r\nWithout this you would have to take care of passing in an appropriate `width` (which must take into account any vertical scrolling (sidescroll) also.\r\n\r\nI am using `{'relative': 'cursor', 'anchor': 'NW', â€¦}`.\r\n\r\nThe use case is displaying call signatures (within jedi-vim), which should be positioned at the opening parenthesis.\r\nI am specifying the `width` according to the longest line in there.\r\n\r\nWhile this appears to work it would be nice if it could be avoided with something similar to Vim's \"fixed\" option:\r\n\r\n```vim\r\ncur_col = vim.current.window.cursor[1]\r\nfloatwin_col_offset = sig_bracket_start_col - cur_col - 1\r\n\r\n\" Extra processing to not make Nvim move it left.\r\nstart_wincol = vim.funcs.wincol() + floatwin_col_offset\r\nmax_width = vim.options[\"columns\"] - start_wincol + 1\r\nwidth = min([max_sig_width, max_width])\r\n\r\nopts = {\r\n    'relative': 'cursor',\r\n    'width': width,\r\n    'height': len(lines),\r\n    'col': floatwin_col_offset,\r\n    'row': -1 * len(lines),\r\n    'anchor': 'NW',\r\n}\r\nwin = vim.api.open_win(buf, 0, opts)\r\n```",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "Sure, shouldn't be too difficult to add.",
            "created_at": "2019-08-19T11:53:04Z",
            "html_url": "https://github.com/neovim/neovim/issues/10811#issuecomment-522536784",
            "id": 522536784,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/10811",
            "node_id": "MDEyOklzc3VlQ29tbWVudDUyMjUzNjc4NA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/522536784/reactions"
            },
            "updated_at": "2019-08-19T11:53:04Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/522536784",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1363104?v=4",
                "events_url": "https://api.github.com/users/bfredl/events{/privacy}",
                "followers_url": "https://api.github.com/users/bfredl/followers",
                "following_url": "https://api.github.com/users/bfredl/following{/other_user}",
                "gists_url": "https://api.github.com/users/bfredl/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/bfredl",
                "id": 1363104,
                "login": "bfredl",
                "node_id": "MDQ6VXNlcjEzNjMxMDQ=",
                "organizations_url": "https://api.github.com/users/bfredl/orgs",
                "received_events_url": "https://api.github.com/users/bfredl/received_events",
                "repos_url": "https://api.github.com/users/bfredl/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/bfredl/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/bfredl/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/bfredl"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Thought that it might have been a good default even, but I can see that it is good to move it usually when at the right side of the screen (with NW).",
            "created_at": "2019-08-19T23:17:26Z",
            "html_url": "https://github.com/neovim/neovim/issues/10811#issuecomment-522789771",
            "id": 522789771,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/10811",
            "node_id": "MDEyOklzc3VlQ29tbWVudDUyMjc4OTc3MQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/522789771/reactions"
            },
            "updated_at": "2019-08-19T23:17:26Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/522789771",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/9766?v=4",
                "events_url": "https://api.github.com/users/blueyed/events{/privacy}",
                "followers_url": "https://api.github.com/users/blueyed/followers",
                "following_url": "https://api.github.com/users/blueyed/following{/other_user}",
                "gists_url": "https://api.github.com/users/blueyed/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/blueyed",
                "id": 9766,
                "login": "blueyed",
                "node_id": "MDQ6VXNlcjk3NjY=",
                "organizations_url": "https://api.github.com/users/blueyed/orgs",
                "received_events_url": "https://api.github.com/users/blueyed/received_events",
                "repos_url": "https://api.github.com/users/blueyed/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/blueyed/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/blueyed/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/blueyed"
            }
        },
        {
            "author_association": "NONE",
            "body": "@blueyed Sorry to revive this old thread but given what you write in your first sentence (\"Currently floating windows are moved left if they would overflow the screen to the right\"), is this expected behaviour? As you see the window gets truncated, but there does appear to be room on the left (though perhaps not enough?). \r\n\r\n<img width=\"923\" alt=\"Screenshot 2021-01-15 at 22 10 56\" src=\"https://user-images.githubusercontent.com/20085376/104779024-a4f5cc80-577e-11eb-9e0b-12baaa833c6f.png\">\r\n\r\nI'm unsure whether this float win truncation is neovim's fault or my completion engine's (coc.nvim). \r\n",
            "created_at": "2021-01-15T21:12:53Z",
            "html_url": "https://github.com/neovim/neovim/issues/10811#issuecomment-761199999",
            "id": 761199999,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/10811",
            "node_id": "MDEyOklzc3VlQ29tbWVudDc2MTE5OTk5OQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/761199999/reactions"
            },
            "updated_at": "2023-09-18T09:24:38Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/761199999",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/20085376?v=4",
                "events_url": "https://api.github.com/users/flimofly/events{/privacy}",
                "followers_url": "https://api.github.com/users/flimofly/followers",
                "following_url": "https://api.github.com/users/flimofly/following{/other_user}",
                "gists_url": "https://api.github.com/users/flimofly/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/flimofly",
                "id": 20085376,
                "login": "flimofly",
                "node_id": "MDQ6VXNlcjIwMDg1Mzc2",
                "organizations_url": "https://api.github.com/users/flimofly/orgs",
                "received_events_url": "https://api.github.com/users/flimofly/received_events",
                "repos_url": "https://api.github.com/users/flimofly/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/flimofly/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/flimofly/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/flimofly"
            }
        }
    ],
    "comments": 3,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/10811/comments",
    "created_at": "2019-08-19T03:17:08Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/10811/events",
    "html_url": "https://github.com/neovim/neovim/issues/10811",
    "id": 482085093,
    "labels": [
        {
            "color": "c2e0c6",
            "default": true,
            "description": "feature request",
            "id": 77997476,
            "name": "enhancement",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3Ng==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/enhancement"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "",
            "id": 113026979,
            "name": "ui",
            "node_id": "MDU6TGFiZWwxMTMwMjY5Nzk=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/ui"
        },
        {
            "color": "C5DEF5",
            "default": false,
            "description": "floating windows",
            "id": 3234818716,
            "name": "float",
            "node_id": "MDU6TGFiZWwzMjM0ODE4NzE2",
            "url": "https://api.github.com/repos/neovim/neovim/labels/float"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/10811/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWU0ODIwODUwOTM=",
    "number": 10811,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/10811/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/10811/timeline",
    "title": "floats: option to truncate width instead of moving on too narrow screen",
    "updated_at": "2023-09-18T09:24:38Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/10811",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/9766?v=4",
        "events_url": "https://api.github.com/users/blueyed/events{/privacy}",
        "followers_url": "https://api.github.com/users/blueyed/followers",
        "following_url": "https://api.github.com/users/blueyed/following{/other_user}",
        "gists_url": "https://api.github.com/users/blueyed/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/blueyed",
        "id": 9766,
        "login": "blueyed",
        "node_id": "MDQ6VXNlcjk3NjY=",
        "organizations_url": "https://api.github.com/users/blueyed/orgs",
        "received_events_url": "https://api.github.com/users/blueyed/received_events",
        "repos_url": "https://api.github.com/users/blueyed/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/blueyed/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/blueyed/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/blueyed"
    }
}