{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\n\nAs far as I can tell from reading the documentation and issues, there's no reliable way to tell how much text has been offset by inline virtual text, which has made using my own virtual text in combination with inlay_hints or other inline virtual text impossible.\n\n### Expected behavior\n\nIt would be fairly easy to solve this problem if it were possible to get the length and position of piece of inline virtual text on a line, but as far as I'm aware such functionality doesn't exist. The closest to this functionality currently implemented is `vim.api.nvim_buf_get_extmarks()`, where I think the `type` field in `opts` would be a logical place to add an `inline` option. The issue would be how to return the length of inline virtual text from the function, which returns a \"list of [extmark_id, row, col] tuples in 'traversal order'.\" Adding a fourth return value to each tuple with the end column of each piece of inline text is a possible avenue to integrate this functionality into the existing api, but it may be a cleaner solution to simply add a new api function which takes a line number and returns [start, end] or [start, length] tuples of inline virtual text.",
    "closed_at": "2023-08-22T16:58:00Z",
    "comment_data": [
        {
            "author_association": "CONTRIBUTOR",
            "body": "> there's no reliable way to tell how much text has been offset by inline virtual text\r\n\r\nvirtcol() should work, although its a bit awkward to control whether you get the screen position at the beginning or ending of the inline virtual text. ",
            "created_at": "2023-08-21T09:58:04Z",
            "html_url": "https://github.com/neovim/neovim/issues/24804#issuecomment-1686022593",
            "id": 1686022593,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24804",
            "node_id": "IC_kwDOAPphoM5kfqnB",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1686022593/reactions"
            },
            "updated_at": "2023-08-21T09:58:04Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1686022593",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5981889?v=4",
                "events_url": "https://api.github.com/users/IndianBoy42/events{/privacy}",
                "followers_url": "https://api.github.com/users/IndianBoy42/followers",
                "following_url": "https://api.github.com/users/IndianBoy42/following{/other_user}",
                "gists_url": "https://api.github.com/users/IndianBoy42/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/IndianBoy42",
                "id": 5981889,
                "login": "IndianBoy42",
                "node_id": "MDQ6VXNlcjU5ODE4ODk=",
                "organizations_url": "https://api.github.com/users/IndianBoy42/orgs",
                "received_events_url": "https://api.github.com/users/IndianBoy42/received_events",
                "repos_url": "https://api.github.com/users/IndianBoy42/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/IndianBoy42/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/IndianBoy42/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/IndianBoy42"
            }
        },
        {
            "author_association": "NONE",
            "body": "Thanks so much! I was using regex matching so I figured something like this wouldn't work, but it totally does! Thanks so muchâ€”closing the issue.",
            "created_at": "2023-08-22T16:58:00Z",
            "html_url": "https://github.com/neovim/neovim/issues/24804#issuecomment-1688585470",
            "id": 1688585470,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24804",
            "node_id": "IC_kwDOAPphoM5kpcT-",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1688585470/reactions"
            },
            "updated_at": "2023-08-22T16:58:00Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1688585470",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/92702993?v=4",
                "events_url": "https://api.github.com/users/tj-moody/events{/privacy}",
                "followers_url": "https://api.github.com/users/tj-moody/followers",
                "following_url": "https://api.github.com/users/tj-moody/following{/other_user}",
                "gists_url": "https://api.github.com/users/tj-moody/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/tj-moody",
                "id": 92702993,
                "login": "tj-moody",
                "node_id": "U_kgDOBYaJEQ",
                "organizations_url": "https://api.github.com/users/tj-moody/orgs",
                "received_events_url": "https://api.github.com/users/tj-moody/received_events",
                "repos_url": "https://api.github.com/users/tj-moody/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/tj-moody/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/tj-moody/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/tj-moody"
            }
        }
    ],
    "comments": 2,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/24804/comments",
    "created_at": "2023-08-20T13:44:09Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/24804/events",
    "html_url": "https://github.com/neovim/neovim/issues/24804",
    "id": 1858130193,
    "labels": [
        {
            "color": "c2e0c6",
            "default": true,
            "description": "feature request",
            "id": 77997476,
            "name": "enhancement",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3Ng==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/enhancement"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "libnvim, Nvim RPC API",
            "id": 103819671,
            "name": "api",
            "node_id": "MDU6TGFiZWwxMDM4MTk2NzE=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/api"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "extmarks, decorations, virtual text, namespaces",
            "id": 1680119719,
            "name": "extmarks",
            "node_id": "MDU6TGFiZWwxNjgwMTE5NzE5",
            "url": "https://api.github.com/repos/neovim/neovim/labels/extmarks"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/24804/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM5uwNER",
    "number": 24804,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/24804/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "completed",
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/24804/timeline",
    "title": "Get number of inline virtual text characters on a line",
    "updated_at": "2023-08-22T16:58:00Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/24804",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/92702993?v=4",
        "events_url": "https://api.github.com/users/tj-moody/events{/privacy}",
        "followers_url": "https://api.github.com/users/tj-moody/followers",
        "following_url": "https://api.github.com/users/tj-moody/following{/other_user}",
        "gists_url": "https://api.github.com/users/tj-moody/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/tj-moody",
        "id": 92702993,
        "login": "tj-moody",
        "node_id": "U_kgDOBYaJEQ",
        "organizations_url": "https://api.github.com/users/tj-moody/orgs",
        "received_events_url": "https://api.github.com/users/tj-moody/received_events",
        "repos_url": "https://api.github.com/users/tj-moody/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/tj-moody/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/tj-moody/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/tj-moody"
    }
}