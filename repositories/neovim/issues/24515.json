{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\r\n\r\nThis is a somewhat new-ish problem, at least I don't recall it being this bad a few months ago. Basically, when I comment out longer chunks of code in a file, neovim's performance takes a major hit. Even moving to a different line in such a file can take several seconds with neovim consuming an entire CPU core the whole time.\r\n\r\nI use `nvim-treesitter` and I have `syntax off` set in the config. I pasted an example JS code that triggers the problem. Note that I also have Coc with `eslint` and `tsserver` plugins installed but I do not observe any CPU usage by `node` when the issues manifests itself. Also note that while the example code is JS I can trigger the same issue with other languages as well.\r\n\r\n\r\n### Steps to reproduce\r\n\r\nSave the pasted block of code as `somefile.js`, open it in neovim and try to move through the file.\r\n\r\n<details> <summary>test file</summary>\r\n\r\n```js\r\nconst library = {\r\n  books: [\r\n/*\r\n    {\r\n      title: 'Moby Dick',\r\n      author: 'Herman Melville',\r\n      publicationYear: 1851,\r\n      genres: ['Adventure', 'Fiction'],\r\n      tags: {\r\n        isbn: '978-0142437247',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 3,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: '1984',\r\n      author: 'George Orwell',\r\n      publicationYear: 1949,\r\n      genres: ['Dystopia', 'Political Fiction'],\r\n      tags: {\r\n        isbn: '978-0451524935',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 2,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'The Lord of the Rings',\r\n      author: 'J.R.R. Tolkien',\r\n      publicationYear: 1955,\r\n      genres: ['Fantasy', 'Adventure'],\r\n      tags: {\r\n        isbn: '978-0261102385',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 1,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'To Kill a Mockingbird',\r\n      author: 'Harper Lee',\r\n      publicationYear: 1960,\r\n      genres: ['Novel', 'Bildungsroman'],\r\n      tags: {\r\n        isbn: '978-0060935467',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 4,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'Pride and Prejudice',\r\n      author: 'Jane Austen',\r\n      publicationYear: 1813,\r\n      genres: ['Romance', 'Novel'],\r\n      tags: {\r\n        isbn: '978-1853260001',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 5,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'Moby Dick',\r\n      author: 'Herman Melville',\r\n      publicationYear: 1851,\r\n      genres: ['Adventure', 'Fiction'],\r\n      tags: {\r\n        isbn: '978-0142437247',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 3,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: '1984',\r\n      author: 'George Orwell',\r\n      publicationYear: 1949,\r\n      genres: ['Dystopia', 'Political Fiction'],\r\n      tags: {\r\n        isbn: '978-0451524935',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 2,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'The Lord of the Rings',\r\n      author: 'J.R.R. Tolkien',\r\n      publicationYear: 1955,\r\n      genres: ['Fantasy', 'Adventure'],\r\n      tags: {\r\n        isbn: '978-0261102385',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 1,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'To Kill a Mockingbird',\r\n      author: 'Harper Lee',\r\n      publicationYear: 1960,\r\n      genres: ['Novel', 'Bildungsroman'],\r\n      tags: {\r\n        isbn: '978-0060935467',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 4,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'Pride and Prejudice',\r\n      author: 'Jane Austen',\r\n      publicationYear: 1813,\r\n      genres: ['Romance', 'Novel'],\r\n      tags: {\r\n        isbn: '978-1853260001',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 5,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'Moby Dick',\r\n      author: 'Herman Melville',\r\n      publicationYear: 1851,\r\n      genres: ['Adventure', 'Fiction'],\r\n      tags: {\r\n        isbn: '978-0142437247',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 3,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: '1984',\r\n      author: 'George Orwell',\r\n      publicationYear: 1949,\r\n      genres: ['Dystopia', 'Political Fiction'],\r\n      tags: {\r\n        isbn: '978-0451524935',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 2,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'The Lord of the Rings',\r\n      author: 'J.R.R. Tolkien',\r\n      publicationYear: 1955,\r\n      genres: ['Fantasy', 'Adventure'],\r\n      tags: {\r\n        isbn: '978-0261102385',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 1,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'To Kill a Mockingbird',\r\n      author: 'Harper Lee',\r\n      publicationYear: 1960,\r\n      genres: ['Novel', 'Bildungsroman'],\r\n      tags: {\r\n        isbn: '978-0060935467',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 4,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'Pride and Prejudice',\r\n      author: 'Jane Austen',\r\n      publicationYear: 1813,\r\n      genres: ['Romance', 'Novel'],\r\n      tags: {\r\n        isbn: '978-1853260001',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 5,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'Moby Dick',\r\n      author: 'Herman Melville',\r\n      publicationYear: 1851,\r\n      genres: ['Adventure', 'Fiction'],\r\n      tags: {\r\n        isbn: '978-0142437247',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 3,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: '1984',\r\n      author: 'George Orwell',\r\n      publicationYear: 1949,\r\n      genres: ['Dystopia', 'Political Fiction'],\r\n      tags: {\r\n        isbn: '978-0451524935',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 2,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'The Lord of the Rings',\r\n      author: 'J.R.R. Tolkien',\r\n      publicationYear: 1955,\r\n      genres: ['Fantasy', 'Adventure'],\r\n      tags: {\r\n        isbn: '978-0261102385',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 1,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'To Kill a Mockingbird',\r\n      author: 'Harper Lee',\r\n      publicationYear: 1960,\r\n      genres: ['Novel', 'Bildungsroman'],\r\n      tags: {\r\n        isbn: '978-0060935467',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 4,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'Pride and Prejudice',\r\n      author: 'Jane Austen',\r\n      publicationYear: 1813,\r\n      genres: ['Romance', 'Novel'],\r\n      tags: {\r\n        isbn: '978-1853260001',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 5,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'Moby Dick',\r\n      author: 'Herman Melville',\r\n      publicationYear: 1851,\r\n      genres: ['Adventure', 'Fiction'],\r\n      tags: {\r\n        isbn: '978-0142437247',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 3,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: '1984',\r\n      author: 'George Orwell',\r\n      publicationYear: 1949,\r\n      genres: ['Dystopia', 'Political Fiction'],\r\n      tags: {\r\n        isbn: '978-0451524935',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 2,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'The Lord of the Rings',\r\n      author: 'J.R.R. Tolkien',\r\n      publicationYear: 1955,\r\n      genres: ['Fantasy', 'Adventure'],\r\n      tags: {\r\n        isbn: '978-0261102385',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 1,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'To Kill a Mockingbird',\r\n      author: 'Harper Lee',\r\n      publicationYear: 1960,\r\n      genres: ['Novel', 'Bildungsroman'],\r\n      tags: {\r\n        isbn: '978-0060935467',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 4,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'Pride and Prejudice',\r\n      author: 'Jane Austen',\r\n      publicationYear: 1813,\r\n      genres: ['Romance', 'Novel'],\r\n      tags: {\r\n        isbn: '978-1853260001',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 5,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'Moby Dick',\r\n      author: 'Herman Melville',\r\n      publicationYear: 1851,\r\n      genres: ['Adventure', 'Fiction'],\r\n      tags: {\r\n        isbn: '978-0142437247',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 3,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: '1984',\r\n      author: 'George Orwell',\r\n      publicationYear: 1949,\r\n      genres: ['Dystopia', 'Political Fiction'],\r\n      tags: {\r\n        isbn: '978-0451524935',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 2,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'The Lord of the Rings',\r\n      author: 'J.R.R. Tolkien',\r\n      publicationYear: 1955,\r\n      genres: ['Fantasy', 'Adventure'],\r\n      tags: {\r\n        isbn: '978-0261102385',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 1,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'To Kill a Mockingbird',\r\n      author: 'Harper Lee',\r\n      publicationYear: 1960,\r\n      genres: ['Novel', 'Bildungsroman'],\r\n      tags: {\r\n        isbn: '978-0060935467',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 4,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'Pride and Prejudice',\r\n      author: 'Jane Austen',\r\n      publicationYear: 1813,\r\n      genres: ['Romance', 'Novel'],\r\n      tags: {\r\n        isbn: '978-1853260001',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 5,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'Moby Dick',\r\n      author: 'Herman Melville',\r\n      publicationYear: 1851,\r\n      genres: ['Adventure', 'Fiction'],\r\n      tags: {\r\n        isbn: '978-0142437247',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 3,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: '1984',\r\n      author: 'George Orwell',\r\n      publicationYear: 1949,\r\n      genres: ['Dystopia', 'Political Fiction'],\r\n      tags: {\r\n        isbn: '978-0451524935',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 2,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'The Lord of the Rings',\r\n      author: 'J.R.R. Tolkien',\r\n      publicationYear: 1955,\r\n      genres: ['Fantasy', 'Adventure'],\r\n      tags: {\r\n        isbn: '978-0261102385',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 1,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'To Kill a Mockingbird',\r\n      author: 'Harper Lee',\r\n      publicationYear: 1960,\r\n      genres: ['Novel', 'Bildungsroman'],\r\n      tags: {\r\n        isbn: '978-0060935467',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 4,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'Pride and Prejudice',\r\n      author: 'Jane Austen',\r\n      publicationYear: 1813,\r\n      genres: ['Romance', 'Novel'],\r\n      tags: {\r\n        isbn: '978-1853260001',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 5,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'Moby Dick',\r\n      author: 'Herman Melville',\r\n      publicationYear: 1851,\r\n      genres: ['Adventure', 'Fiction'],\r\n      tags: {\r\n        isbn: '978-0142437247',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 3,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: '1984',\r\n      author: 'George Orwell',\r\n      publicationYear: 1949,\r\n      genres: ['Dystopia', 'Political Fiction'],\r\n      tags: {\r\n        isbn: '978-0451524935',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 2,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'The Lord of the Rings',\r\n      author: 'J.R.R. Tolkien',\r\n      publicationYear: 1955,\r\n      genres: ['Fantasy', 'Adventure'],\r\n      tags: {\r\n        isbn: '978-0261102385',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 1,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'To Kill a Mockingbird',\r\n      author: 'Harper Lee',\r\n      publicationYear: 1960,\r\n      genres: ['Novel', 'Bildungsroman'],\r\n      tags: {\r\n        isbn: '978-0060935467',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 4,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'Pride and Prejudice',\r\n      author: 'Jane Austen',\r\n      publicationYear: 1813,\r\n      genres: ['Romance', 'Novel'],\r\n      tags: {\r\n        isbn: '978-1853260001',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 5,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'Moby Dick',\r\n      author: 'Herman Melville',\r\n      publicationYear: 1851,\r\n      genres: ['Adventure', 'Fiction'],\r\n      tags: {\r\n        isbn: '978-0142437247',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 3,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: '1984',\r\n      author: 'George Orwell',\r\n      publicationYear: 1949,\r\n      genres: ['Dystopia', 'Political Fiction'],\r\n      tags: {\r\n        isbn: '978-0451524935',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 2,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'The Lord of the Rings',\r\n      author: 'J.R.R. Tolkien',\r\n      publicationYear: 1955,\r\n      genres: ['Fantasy', 'Adventure'],\r\n      tags: {\r\n        isbn: '978-0261102385',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 1,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'To Kill a Mockingbird',\r\n      author: 'Harper Lee',\r\n      publicationYear: 1960,\r\n      genres: ['Novel', 'Bildungsroman'],\r\n      tags: {\r\n        isbn: '978-0060935467',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 4,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'Pride and Prejudice',\r\n      author: 'Jane Austen',\r\n      publicationYear: 1813,\r\n      genres: ['Romance', 'Novel'],\r\n      tags: {\r\n        isbn: '978-1853260001',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 5,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'Moby Dick',\r\n      author: 'Herman Melville',\r\n      publicationYear: 1851,\r\n      genres: ['Adventure', 'Fiction'],\r\n      tags: {\r\n        isbn: '978-0142437247',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 3,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: '1984',\r\n      author: 'George Orwell',\r\n      publicationYear: 1949,\r\n      genres: ['Dystopia', 'Political Fiction'],\r\n      tags: {\r\n        isbn: '978-0451524935',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 2,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'The Lord of the Rings',\r\n      author: 'J.R.R. Tolkien',\r\n      publicationYear: 1955,\r\n      genres: ['Fantasy', 'Adventure'],\r\n      tags: {\r\n        isbn: '978-0261102385',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 1,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'To Kill a Mockingbird',\r\n      author: 'Harper Lee',\r\n      publicationYear: 1960,\r\n      genres: ['Novel', 'Bildungsroman'],\r\n      tags: {\r\n        isbn: '978-0060935467',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 4,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'Pride and Prejudice',\r\n      author: 'Jane Austen',\r\n      publicationYear: 1813,\r\n      genres: ['Romance', 'Novel'],\r\n      tags: {\r\n        isbn: '978-1853260001',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 5,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'Moby Dick',\r\n      author: 'Herman Melville',\r\n      publicationYear: 1851,\r\n      genres: ['Adventure', 'Fiction'],\r\n      tags: {\r\n        isbn: '978-0142437247',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 3,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: '1984',\r\n      author: 'George Orwell',\r\n      publicationYear: 1949,\r\n      genres: ['Dystopia', 'Political Fiction'],\r\n      tags: {\r\n        isbn: '978-0451524935',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 2,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'The Lord of the Rings',\r\n      author: 'J.R.R. Tolkien',\r\n      publicationYear: 1955,\r\n      genres: ['Fantasy', 'Adventure'],\r\n      tags: {\r\n        isbn: '978-0261102385',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 1,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'To Kill a Mockingbird',\r\n      author: 'Harper Lee',\r\n      publicationYear: 1960,\r\n      genres: ['Novel', 'Bildungsroman'],\r\n      tags: {\r\n        isbn: '978-0060935467',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 4,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'Pride and Prejudice',\r\n      author: 'Jane Austen',\r\n      publicationYear: 1813,\r\n      genres: ['Romance', 'Novel'],\r\n      tags: {\r\n        isbn: '978-1853260001',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 5,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'Moby Dick',\r\n      author: 'Herman Melville',\r\n      publicationYear: 1851,\r\n      genres: ['Adventure', 'Fiction'],\r\n      tags: {\r\n        isbn: '978-0142437247',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 3,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: '1984',\r\n      author: 'George Orwell',\r\n      publicationYear: 1949,\r\n      genres: ['Dystopia', 'Political Fiction'],\r\n      tags: {\r\n        isbn: '978-0451524935',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 2,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'The Lord of the Rings',\r\n      author: 'J.R.R. Tolkien',\r\n      publicationYear: 1955,\r\n      genres: ['Fantasy', 'Adventure'],\r\n      tags: {\r\n        isbn: '978-0261102385',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 1,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'To Kill a Mockingbird',\r\n      author: 'Harper Lee',\r\n      publicationYear: 1960,\r\n      genres: ['Novel', 'Bildungsroman'],\r\n      tags: {\r\n        isbn: '978-0060935467',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 4,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'Pride and Prejudice',\r\n      author: 'Jane Austen',\r\n      publicationYear: 1813,\r\n      genres: ['Romance', 'Novel'],\r\n      tags: {\r\n        isbn: '978-1853260001',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 5,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'Moby Dick',\r\n      author: 'Herman Melville',\r\n      publicationYear: 1851,\r\n      genres: ['Adventure', 'Fiction'],\r\n      tags: {\r\n        isbn: '978-0142437247',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 3,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: '1984',\r\n      author: 'George Orwell',\r\n      publicationYear: 1949,\r\n      genres: ['Dystopia', 'Political Fiction'],\r\n      tags: {\r\n        isbn: '978-0451524935',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 2,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'The Lord of the Rings',\r\n      author: 'J.R.R. Tolkien',\r\n      publicationYear: 1955,\r\n      genres: ['Fantasy', 'Adventure'],\r\n      tags: {\r\n        isbn: '978-0261102385',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 1,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'To Kill a Mockingbird',\r\n      author: 'Harper Lee',\r\n      publicationYear: 1960,\r\n      genres: ['Novel', 'Bildungsroman'],\r\n      tags: {\r\n        isbn: '978-0060935467',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 4,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'Pride and Prejudice',\r\n      author: 'Jane Austen',\r\n      publicationYear: 1813,\r\n      genres: ['Romance', 'Novel'],\r\n      tags: {\r\n        isbn: '978-1853260001',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 5,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'Moby Dick',\r\n      author: 'Herman Melville',\r\n      publicationYear: 1851,\r\n      genres: ['Adventure', 'Fiction'],\r\n      tags: {\r\n        isbn: '978-0142437247',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 3,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: '1984',\r\n      author: 'George Orwell',\r\n      publicationYear: 1949,\r\n      genres: ['Dystopia', 'Political Fiction'],\r\n      tags: {\r\n        isbn: '978-0451524935',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 2,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'The Lord of the Rings',\r\n      author: 'J.R.R. Tolkien',\r\n      publicationYear: 1955,\r\n      genres: ['Fantasy', 'Adventure'],\r\n      tags: {\r\n        isbn: '978-0261102385',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 1,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'To Kill a Mockingbird',\r\n      author: 'Harper Lee',\r\n      publicationYear: 1960,\r\n      genres: ['Novel', 'Bildungsroman'],\r\n      tags: {\r\n        isbn: '978-0060935467',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 4,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'Pride and Prejudice',\r\n      author: 'Jane Austen',\r\n      publicationYear: 1813,\r\n      genres: ['Romance', 'Novel'],\r\n      tags: {\r\n        isbn: '978-1853260001',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 5,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'Moby Dick',\r\n      author: 'Herman Melville',\r\n      publicationYear: 1851,\r\n      genres: ['Adventure', 'Fiction'],\r\n      tags: {\r\n        isbn: '978-0142437247',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 3,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: '1984',\r\n      author: 'George Orwell',\r\n      publicationYear: 1949,\r\n      genres: ['Dystopia', 'Political Fiction'],\r\n      tags: {\r\n        isbn: '978-0451524935',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 2,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'The Lord of the Rings',\r\n      author: 'J.R.R. Tolkien',\r\n      publicationYear: 1955,\r\n      genres: ['Fantasy', 'Adventure'],\r\n      tags: {\r\n        isbn: '978-0261102385',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 1,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'To Kill a Mockingbird',\r\n      author: 'Harper Lee',\r\n      publicationYear: 1960,\r\n      genres: ['Novel', 'Bildungsroman'],\r\n      tags: {\r\n        isbn: '978-0060935467',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 4,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'Pride and Prejudice',\r\n      author: 'Jane Austen',\r\n      publicationYear: 1813,\r\n      genres: ['Romance', 'Novel'],\r\n      tags: {\r\n        isbn: '978-1853260001',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 5,\r\n      totalCopies: 5\r\n    },\r\n*/\r\n    {\r\n      title: 'Moby Dick',\r\n      author: 'Herman Melville',\r\n      publicationYear: 1851,\r\n      genres: ['Adventure', 'Fiction'],\r\n      tags: {\r\n        isbn: '978-0142437247',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 3,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: '1984',\r\n      author: 'George Orwell',\r\n      publicationYear: 1949,\r\n      genres: ['Dystopia', 'Political Fiction'],\r\n      tags: {\r\n        isbn: '978-0451524935',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 2,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'The Lord of the Rings',\r\n      author: 'J.R.R. Tolkien',\r\n      publicationYear: 1955,\r\n      genres: ['Fantasy', 'Adventure'],\r\n      tags: {\r\n        isbn: '978-0261102385',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 1,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'To Kill a Mockingbird',\r\n      author: 'Harper Lee',\r\n      publicationYear: 1960,\r\n      genres: ['Novel', 'Bildungsroman'],\r\n      tags: {\r\n        isbn: '978-0060935467',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 4,\r\n      totalCopies: 5\r\n    },\r\n    {\r\n      title: 'Pride and Prejudice',\r\n      author: 'Jane Austen',\r\n      publicationYear: 1813,\r\n      genres: ['Romance', 'Novel'],\r\n      tags: {\r\n        isbn: '978-1853260001',\r\n        language: 'English',\r\n      },\r\n      availableCopies: 5,\r\n      totalCopies: 5\r\n    },\r\n  ],\r\n};\r\n\r\nfunction listBooks() {\r\n    for (const book of library.books) {\r\n        console.log(book);\r\n    }\r\n}\r\n```\r\n</details>\r\n\r\n\r\n### Expected behavior\r\n\r\nChanges in the cursor position should be instantaneous rather than taking over 1 second.\r\n\r\n### Neovim version (nvim -v)\r\n\r\nNVIM v0.9.1\r\n\r\n### Vim (not Nvim) behaves the same?\r\n\r\nNo, vim 8.0.1763 but with no plugins\r\n\r\n### Operating system/version\r\n\r\nArch Linux\r\n\r\n### Terminal name/version\r\n\r\nkitty 0.29.2\r\n\r\n### $TERM environment variable\r\n\r\nTERM xterm-256color\r\n\r\n### Installation\r\n\r\nArch Linux packages",
    "closed_at": "2023-07-30T13:04:43Z",
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "Please provide a minimal config that can be used to reproduce this with `nvim --clean -u minimal.lua`.",
            "created_at": "2023-07-30T11:35:37Z",
            "html_url": "https://github.com/neovim/neovim/issues/24515#issuecomment-1657116174",
            "id": 1657116174,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24515",
            "node_id": "IC_kwDOAPphoM5ixZYO",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1657116174/reactions"
            },
            "updated_at": "2023-07-30T11:35:37Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1657116174",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        },
        {
            "author_association": "NONE",
            "body": "I created a fresh nvim config directory with nothing installed. I cut down my `init,vim` config file down to the listing below, installed `nvim-treesitter` and was able to reproduce the issue. The easiest way to see the problem is to open the file and tap \"Page Down\" key. For me it takes considerable amount of time for the cursor to jump one screen down.\r\n\r\n```\r\nset runtimepath+=~/.vim,~/.vim/after,~/.config/nvim/init/plugged\r\nset packpath+=~/.vim\r\n\r\nset nocompatible              \" be iMproved, required\r\nfiletype off                  \" required\r\n\r\n\" set the runtime path to include Vundle and initialize\r\ncall plug#begin()\r\nPlug 'nvim-treesitter/nvim-treesitter', {'do': ':TSUpdate'}\r\ncall plug#end()            \" required\r\n\r\nlua <<EOF\r\nrequire'nvim-treesitter.configs'.setup {\r\n\tensure_installed = \"all\",\r\n\thighlight = {\r\n\t\tenable = true,\r\n\t},\r\n}\r\nEOF\r\n\r\nset number\r\nfiletype plugin indent on\r\nsyntax off\r\n\r\nlet g:do_filetype_lua = 1\r\n\r\nset shiftwidth=8\r\nset tabstop=8\r\nset softtabstop=8 noexpandtab\r\n\r\nset encoding=utf8\r\nset fileencoding=utf8\r\n```",
            "created_at": "2023-07-30T12:18:13Z",
            "html_url": "https://github.com/neovim/neovim/issues/24515#issuecomment-1657125153",
            "id": 1657125153,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24515",
            "node_id": "IC_kwDOAPphoM5ixbkh",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1657125153/reactions"
            },
            "updated_at": "2023-07-30T12:18:13Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1657125153",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1009657?v=4",
                "events_url": "https://api.github.com/users/MadCatX/events{/privacy}",
                "followers_url": "https://api.github.com/users/MadCatX/followers",
                "following_url": "https://api.github.com/users/MadCatX/following{/other_user}",
                "gists_url": "https://api.github.com/users/MadCatX/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MadCatX",
                "id": 1009657,
                "login": "MadCatX",
                "node_id": "MDQ6VXNlcjEwMDk2NTc=",
                "organizations_url": "https://api.github.com/users/MadCatX/orgs",
                "received_events_url": "https://api.github.com/users/MadCatX/received_events",
                "repos_url": "https://api.github.com/users/MadCatX/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MadCatX/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MadCatX/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MadCatX"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> ensure_installed = \"all\",\r\n\r\nThat is not minimal!\r\n\r\n\r\n> set nocompatible              \" be iMproved, required\r\n> filetype off                  \" required\r\n\r\nAnd all these things are not required -- and partly even harmful -- in Neovim.\r\n",
            "created_at": "2023-07-30T12:34:09Z",
            "html_url": "https://github.com/neovim/neovim/issues/24515#issuecomment-1657128518",
            "id": 1657128518,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24515",
            "node_id": "IC_kwDOAPphoM5ixcZG",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1657128518/reactions"
            },
            "updated_at": "2023-07-30T12:34:51Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1657128518",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        },
        {
            "author_association": "NONE",
            "body": "The issue appears to be with the `comment` parser. If I install just the `javascript` and `comment` parsers, I can reproduce the problem. Furthermore, if I remove the `comment` parser from my regular neovim configuration, the issue goes away.\r\n\r\n> > set nocompatible              \" be iMproved, required\r\n> > filetype off                  \" required\r\n> \r\n> And all these things are not required -- and partly even harmful -- in Neovim.\r\n\r\nThanks, good to know.",
            "created_at": "2023-07-30T13:00:39Z",
            "html_url": "https://github.com/neovim/neovim/issues/24515#issuecomment-1657143754",
            "id": 1657143754,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24515",
            "node_id": "IC_kwDOAPphoM5ixgHK",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1657143754/reactions"
            },
            "updated_at": "2023-07-30T13:00:39Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1657143754",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1009657?v=4",
                "events_url": "https://api.github.com/users/MadCatX/events{/privacy}",
                "followers_url": "https://api.github.com/users/MadCatX/followers",
                "following_url": "https://api.github.com/users/MadCatX/following{/other_user}",
                "gists_url": "https://api.github.com/users/MadCatX/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MadCatX",
                "id": 1009657,
                "login": "MadCatX",
                "node_id": "MDQ6VXNlcjEwMDk2NTc=",
                "organizations_url": "https://api.github.com/users/MadCatX/orgs",
                "received_events_url": "https://api.github.com/users/MadCatX/received_events",
                "repos_url": "https://api.github.com/users/MadCatX/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MadCatX/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MadCatX/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MadCatX"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Yeah, that's a known issue with expensive injections. I recommend not installing the comment parser until then (it's not really that useful).\r\n\r\n(closing as duplicate of the more general performance issues)",
            "created_at": "2023-07-30T13:04:43Z",
            "html_url": "https://github.com/neovim/neovim/issues/24515#issuecomment-1657149899",
            "id": 1657149899,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24515",
            "node_id": "IC_kwDOAPphoM5ixhnL",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1657149899/reactions"
            },
            "updated_at": "2023-07-30T13:05:08Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1657149899",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        }
    ],
    "comments": 5,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/24515/comments",
    "created_at": "2023-07-30T11:25:06Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/24515/events",
    "html_url": "https://github.com/neovim/neovim/issues/24515",
    "id": 1827899839,
    "labels": [
        {
            "color": "FEF2C0",
            "default": false,
            "description": "issues reporting performance problems",
            "id": 101930601,
            "name": "performance",
            "node_id": "MDU6TGFiZWwxMDE5MzA2MDE=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/performance"
        },
        {
            "color": "FBCA04",
            "default": false,
            "description": "We need minimal steps to reproduce the issue",
            "id": 298863445,
            "name": "needs:repro",
            "node_id": "MDU6TGFiZWwyOTg4NjM0NDU=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/needs:repro"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "",
            "id": 1799626557,
            "name": "treesitter",
            "node_id": "MDU6TGFiZWwxNzk5NjI2NTU3",
            "url": "https://api.github.com/repos/neovim/neovim/labels/treesitter"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/24515/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM5s84m_",
    "number": 24515,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 1,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 1,
        "url": "https://api.github.com/repos/neovim/neovim/issues/24515/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "not_planned",
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/24515/timeline",
    "title": "Long blocks of commented out code cause major performance issues",
    "updated_at": "2023-07-30T13:05:08Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/24515",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/1009657?v=4",
        "events_url": "https://api.github.com/users/MadCatX/events{/privacy}",
        "followers_url": "https://api.github.com/users/MadCatX/followers",
        "following_url": "https://api.github.com/users/MadCatX/following{/other_user}",
        "gists_url": "https://api.github.com/users/MadCatX/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/MadCatX",
        "id": 1009657,
        "login": "MadCatX",
        "node_id": "MDQ6VXNlcjEwMDk2NTc=",
        "organizations_url": "https://api.github.com/users/MadCatX/orgs",
        "received_events_url": "https://api.github.com/users/MadCatX/received_events",
        "repos_url": "https://api.github.com/users/MadCatX/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/MadCatX/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/MadCatX/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/MadCatX"
    }
}