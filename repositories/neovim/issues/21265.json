{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "body": "### Neovim version (nvim -v)\n\n0.9.0-dev-426+ga3f01d32c\n\n### Vim (not Nvim) behaves the same?\n\nN/A (vim.ui_attach)\n\n### Operating system/version\n\nUbuntu 22.04\n\n### Terminal name/version\n\nwsltty\n\n### $TERM environment variable\n\nxterm-256color\n\n### Installation\n\nbuild from repo\n\n### How to reproduce the issue\n\nminimal.lua\r\n```lua\r\nlocal ns1 = vim.api.nvim_create_namespace(\"plugin1\")\r\nvim.ui_attach(ns1, { ext_tabline = true }, function()\r\n  print(\"a\")\r\nend)\r\nlocal ns2 = vim.api.nvim_create_namespace(\"plugin2\")\r\nvim.ui_attach(ns2, { ext_messages = true }, function() end)\r\nvim.cmd.messages()\r\n```\r\n\r\n```\r\nbuild/bin/nvim --clean +'luafile minimal.lua'\r\nzsh: segmentation fault (core dumped)\r\n```\r\n\n\n### Expected behavior\n\nNo crash.\n\n### Actual behavior\n\nCrash.\r\n\r\n```\r\nbuild/bin/nvim --clean +'luafile minimal.lua'\r\n```\r\n\r\n<details>\r\n<summary>Full backtrace</summary>\r\n\r\n```\r\n[New LWP 9684]\r\n[New LWP 9685]\r\n[Thread debugging using libthread_db enabled]\r\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\r\nCore was generated by `/home/notomo/workspace/neovim/build/bin/nvim --clean +luafile ./minimal.lua +qu'.\r\nProgram terminated with signal SIGSEGV, Segmentation fault.\r\n#0  0x000055939c28d106 in copyTV (o2=0x7f4a0084aae8, o1=0x8, L=0x7f4a00861380) at /home/notomo/workspace/neovim/.deps/build/src/luajit/src/lj_obj.h:973\r\n973\t  *o1 = *o2;\r\n[Current thread is 1 (Thread 0x7f4a00b6ab80 (LWP 9684))]\r\n\r\nThread 2 (Thread 0x7f4a00820640 (LWP 9685)):\r\n#0  0x00007f4a00c91fde in epoll_wait () from /lib/x86_64-linux-gnu/libc.so.6\r\nNo symbol table info available.\r\n#1  0x000055939c243335 in uv__io_poll (loop=loop@entry=0x7f4a0081f790, timeout=<optimized out>) at /home/notomo/workspace/neovim/.deps/build/src/libuv/src/unix/linux-core.c:311\r\n        max_safe_timeout = 1789569\r\n        no_epoll_pwait_cached = 0\r\n        no_epoll_wait_cached = 0\r\n        no_epoll_pwait = <optimized out>\r\n        no_epoll_wait = <optimized out>\r\n        events = {{events = 1, data = {ptr = 0x12, fd = 18, u32 = 18, u64 = 18}}, {events = 0, data = {ptr = 0x0, fd = 0, u32 = 0, u64 = 0}} <repeats 502 times>, {events = 0, data = {ptr = 0x7f4a0081f0ae, fd = 8515758, u32 = 8515758, u64 = 139955812823214}}, {events = 8512320, data = {ptr = 0x7f4a, fd = 32586, u32 = 32586, u64 = 32586}}, {events = 0, data = {ptr = 0x7f4a00d82300, fd = 14164736, u32 = 14164736, u64 = 139955818472192}}, {events = 0, data = {ptr = 0x100000000, fd = 0, u32 = 0, u64 = 4294967296}}, {events = 0, data = {ptr = 0x7f4a00be204a, fd = 12460106, u32 = 12460106, u64 = 139955816767562}}, {events = 0, data = {ptr = 0x81f0ad00000000, fd = 0, u32 = 0, u64 = 36574897815683072}}, {events = 32586, data = {ptr = 0x3000000000, fd = 0, u32 = 0, u64 = 206158430208}}, {events = 8512928, data = {ptr = 0x81e4c000007f4a, fd = 32586, u32 = 32586, u64 = 36561785280560970}}, {events = 32586, data = {ptr = 0x0, fd = 0, u32 = 0, u64 = 0}}, {events = 3432, data = {ptr = 0x2000000000, fd = 0, u32 = 0, u64 = 137438953472}}, {events = 0, data = {ptr = 0x0, fd = 0, u32 = 0, u64 = 0}}, {events = 0, data = {ptr = 0x0, fd = 0, u32 = 0, u64 = 0}}, {events = 0, data = {ptr = 0x0, fd = 0, u32 = 0, u64 = 0}}, {events = 10, data = {ptr = 0x81f0ad00007f4a, fd = 32586, u32 = 32586, u64 = 36574897815715658}}, {events = 32586, data = {ptr = 0x1, fd = 1, u32 = 1, u64 = 1}}, {events = 1, data = {ptr = 0xffffffff00000000, fd = 0, u32 = 0, u64 = 18446744069414584320}}, {events = 4294967295, data = {ptr = 0x2, fd = 2, u32 = 2, u64 = 2}}, {events = 25, data = {ptr = 0x0, fd = 0, u32 = 0, u64 = 0}}, {events = 0, data = {ptr = 0x0, fd = 0, u32 = 0, u64 = 0}}, {events = 0, data = {ptr = 0x0, fd = 0, u32 = 0, u64 = 0}}, {events = 0, data = {ptr = 0x0, fd = 0, u32 = 0, u64 = 0}}, {events = 0, data = {ptr = 0x0, fd = 0, u32 = 0, u64 = 0}}, {events = 0, data = {ptr = 0x0, fd = 0, u32 = 0, u64 = 0}}, {events = 0, data = {ptr = 0x0, fd = 0, u32 = 0, u64 = 0}}, {events = 0, data = {ptr = 0x0, fd = 0, u32 = 0, u64 = 0}}, {events = 0, data = {ptr = 0x81e34000000000, fd = 0, u32 = 0, u64 = 36560136013086720}}, {events = 32586, data = {ptr = 0x0, fd = 0, u32 = 0, u64 = 0}}, {events = 0, data = {ptr = 0x0, fd = 0, u32 = 0, u64 = 0}}, {events = 0, data = {ptr = 0x3000000018, fd = 24, u32 = 24, u64 = 206158430232}}, {events = 8512928, data = {ptr = 0x81e4e000007f4a, fd = 32586, u32 = 32586, u64 = 36561922719514442}}, {events = 32586, data = {ptr = 0x0, fd = 0, u32 = 0, u64 = 0}}, {events = 0, data = {ptr = 0x0, fd = 0, u32 = 0, u64 = 0}} <repeats 74 times>, {events = 375210746, data = {ptr = 0xdb67db52, fd = -613950638, u32 = 3681016658, u64 = 3681016658}}, {events = 0, data = {ptr = 0x0, fd = 0, u32 = 0, u64 = 0}}, {events = 0, data = {ptr = 0x0, fd = 0, u32 = 0, u64 = 0}}, {events = 0, data = {ptr = 0x7f4a00c106ab, fd = 12650155, u32 = 12650155, u64 = 139955816957611}}, {events = 4228072784, data = {ptr = 0xfc00009000007f49, fd = 32585, u32 = 32585, u64 = 18158514316033163081}}, {events = 32585, data = {ptr = 0x7, fd = 7, u32 = 7, u64 = 7}}, {events = 0, data = {ptr = 0x0, fd = 0, u32 = 0, u64 = 0}}, {events = 74, data = {ptr = 0x690, fd = 1680, u32 = 1680, u64 = 1680}}, {events = 0, data = {ptr = 0x81e5e000000000, fd = 0, u32 = 0, u64 = 36563022231109632}}, {events = 32586, data = {ptr = 0x32007f4a0081e7df, fd = 8513503, u32 = 8513503, u64 = 3603019657709217759}}, {events = 1527488768, data = {ptr = 0x81e5e0d077a59e, fd = -797465186, u32 = 3497502110, u64 = 36563025728611742}}, {events = 32586, data = {ptr = 0x0, fd = 0, u32 = 0, u64 = 0}}, {events = 8512992, data = {ptr = 0x1ff00007f4a, fd = 32586, u32 = 32586, u64 = 2194728320842}}, {events = 0, data = {ptr = 0x7f4a0081e340, fd = 8512320, u32 = 8512320, u64 = 139955812819776}}, {events = 8515757, data = {ptr = 0x81e4c000007f4a, fd = 32586, u32 = 32586, u64 = 36561785280560970}}, {events = 32586, data = {ptr = 0x7f4a00bf451a, fd = 12535066, u32 = 12535066, u64 = 139955816842522}}, {events = 3912969168, data = {ptr = 0x81e43000007ffe, fd = 32766, u32 = 32766, u64 = 36561166805270526}}, {events = 32586, data = {ptr = 0x7f4afbad8001, fd = -72515583, u32 = 4222451713, u64 = 139960026759169}}, {events = 8512992, data = {ptr = 0x81e5e000007f4a, fd = 32586, u32 = 32586, u64 = 36563022231142218}}, {events = 32586, data = {ptr = 0x7f4a0081e5e0, fd = 8512992, u32 = 8512992, u64 = 139955812820448}}, {events = 8512992, data = {ptr = 0x81e5e100007f4a, fd = 32586, u32 = 32586, u64 = 36563026526109514}}, {events = 32586, data = {ptr = 0x7f4a0081e7df, fd = 8513503, u32 = 8513503, u64 = 139955812820959}}, {events = 8512992, data = {ptr = 0x81e7df00007f4a, fd = 32586, u32 = 32586, u64 = 36565216959430474}}, {events = 32586, data = {ptr = 0x0, fd = 0, u32 = 0, u64 = 0}}, {events = 0, data = {ptr = 0x0, fd = 0, u32 = 0, u64 = 0}}, {events = 0, data = {ptr = 0x0, fd = 0, u32 = 0, u64 = 0}}, {events = 0, data = {ptr = 0x81f05e00000000, fd = 0, u32 = 0, u64 = 36574558513266688}}, {events = 128, data = {ptr = 0x19d000f00260025, fd = 2490405, u32 = 2490405, u64 = 116249229808500773}}, {events = 131072, data = {ptr = 0x4a0000, fd = 4849664, u32 = 4849664, u64 = 4849664}}, {events = 0, data = {ptr = 0x4c, fd = 76, u32 = 76, u64 = 76}}, {events = 1, data = {ptr = 0xffffffff00000000, fd = 0, u32 = 0, u64 = 18446744069414584320}}, {events = 4294967295, data = {ptr = 0x0, fd = 0, u32 = 0, u64 = 0}}, {events = 550, data = {ptr = 0x81f22600000000, fd = 0, u32 = 0, u64 = 36576517018353664}}, {events = 32586, data = {ptr = 0x7f49ffffffff, fd = -1, u32 = 4294967295, u64 = 139955804307455}}, {events = 4, data = {ptr = 0x200000000, fd = 0, u32 = 0, u64 = 8589934592}}, {events = 0, data = {ptr = 0x7f4a00d82300, fd = 14164736, u32 = 14164736, u64 = 139955818472192}}, {events = 0, data = {ptr = 0xfc034bca00000000, fd = 0, u32 = 0, u64 = 18159441453443448832}}, {events = 32585, data = {ptr = 0x0, fd = 0, u32 = 0, u64 = 0}}, {events = 76, data = {ptr = 0x81f00000000000, fd = 0, u32 = 0, u64 = 36574154786340864}}, {events = 32586, data = {ptr = 0x7f49fc015cb6, fd = -67019594, u32 = 4227947702, u64 = 139955737287862}}, {events = 390, data = {ptr = 0x81f20100000000, fd = 0, u32 = 0, u64 = 36576358104563712}}, {events = 32586, data = {ptr = 0x7f4a0081f3ac, fd = 8516524, u32 = 8516524, u64 = 139955812823980}}, {events = 8521280, data = {ptr = 0x81f4b000007f4a, fd = 32586, u32 = 32586, u64 = 36579308747128650}}, {events = 32586, data = {ptr = 0xd077a59e5b0ba100, fd = 1527488768, u32 = 1527488768, u64 = 15021657181668483328}}, {events = 4227943872, data = {ptr = 0x7f49, fd = 32585, u32 = 32585, u64 = 32585}}, {events = 0, data = {ptr = 0x7f4a0081e7f0, fd = 8513520, u32 = 8513520, u64 = 139955812820976}}, {events = 8521280, data = {ptr = 0x7f4a, fd = 32586, u32 = 32586, u64 = 32586}}, {events = 0, data = {ptr = 0x7f4a00c00850, fd = 12585040, u32 = 12585040, u64 = 139955816892496}}, {events = 3912969168, data = {ptr = 0xbcc8d600007ffe, fd = 32766, u32 = 32766, u64 = 53138117070192638}}, {events = 32586, data = {ptr = 0x3000000020, fd = 32, u32 = 32, u64 = 206158430240}}, {events = 8512928, data = {ptr = 0x81e4e000007f4a, fd = 32586, u32 = 32586, u64 = 36561922719514442}}, {events = 32586, data = {ptr = 0xd077a59e5b0ba100, fd = 1527488768, u32 = 1527488768, u64 = 15021657181668483328}}, {events = 0, data = {ptr = 0x1000001000000, fd = 16777216, u32 = 16777216, u64 = 281474993487872}}, {events = 257, data = {ptr = 0x1000000000000, fd = 0, u32 = 0, u64 = 281474976710656}}, {events = 2, data = {ptr = 0x200000000, fd = 0, u32 = 0, u64 = 8589934592}}, {events = 0, data = {ptr = 0x0, fd = 0, u32 = 0, u64 = 0}}, {events = 4294967295, data = {ptr = 0xffffffffffffffff, fd = -1, u32 = 4294967295, u64 = 18446744073709551615}}, {events = 4294967295, data = {ptr = 0xffffffffffffffff, fd = -1, u32 = 4294967295, u64 = 18446744073709551615}}, {events = 4294967295, data = {ptr = 0x1000000000100, fd = 256, u32 = 256, u64 = 281474976710912}}, {events = 262144, data = {ptr = 0x1e001900080006, fd = 524294, u32 = 524294, u64 = 8444356676026374}}, {events = 2752550, data = {ptr = 0x9c1b2e5effff002e, fd = -65490, u32 = 4294901806, u64 = 11248635479844651054}}, {events = 21907, data = {ptr = 0x660059ffff0057, fd = -65449, u32 = 4294901847, u64 = 28710834171478103}}, {events = 1, data = {ptr = 0x81e5e000000000, fd = 0, u32 = 0, u64 = 36563022231109632}}, {events = 32586, data = {ptr = 0x55939dc27a60, fd = -1648199072, u32 = 2646768224, u64 = 94092495321696}}, {events = 10813600, data = {ptr = 0x9dc27a60ffff00aa, fd = -65366, u32 = 4294901930, u64 = 11367782966466904234}}, {events = 21907, data = {ptr = 0x7f49fc000e30, fd = -67105232, u32 = 4227862064, u64 = 139955737202224}}, {events = 65527, data = {ptr = 0x81e7f000000000, fd = 0, u32 = 0, u64 = 36565289973841920}}, {events = 32586, data = {ptr = 0x55939c25ae4a <dput+825>, fd = -1675252150, u32 = 2619715146, u64 = 94092468268618}}, {events = 18743295, data = {ptr = 0x9dc27a60ffffffff, fd = -1, u32 = 4294967295, u64 = 11367782966466969599}}, {events = 21907, data = {ptr = 0x2, fd = 2, u32 = 2, u64 = 2}}, {events = 0, data = {ptr = 0x9c1b2d9e00000000, fd = 0, u32 = 0, u64 = 11248634650916028416}}, {events = 21907, data = {ptr = 0xffffffff01560150, fd = 22413648, u32 = 22413648, u64 = 18446744069436997968}}, {events = 8515757, data = {ptr = 0xffffffff00007f4a, fd = 32586, u32 = 32586, u64 = 18446744069414616906}}, {events = 25035108, data = {ptr = 0x191018901850032, fd = 25493554, u32 = 25493554, u64 = 112873153608613938}}, {events = 4294967295, data = {ptr = 0xffffffffffffffff, fd = -1, u32 = 4294967295, u64 = 18446744073709551615}}, {events = 4294967295, data = {ptr = 0x199ffffffffffff, fd = -1, u32 = 4294967295, u64 = 115404740451368959}}, {events = 27984290, data = {ptr = 0x1c001b701aeffff, fd = 28246015, u32 = 28246015, u64 = 126102675085262847}}, {events = 30540233, data = {ptr = 0x1f601ed01e401db, fd = 31719899, u32 = 31719899, u64 = 141302555759346139}}, {events = 4294902271, data = {ptr = 0x20c0208ffffffff, fd = -1, u32 = 4294967295, u64 = 147495125474344959}}, {events = 34996753, data = {ptr = 0xffffffff0233022a, fd = 36897322, u32 = 36897322, u64 = 18446744069451481642}}, {events = 38273605, data = {ptr = 0x25b025802560253, fd = 39191123, u32 = 39191123, u64 = 169731987976094291}}, {events = 4294902456, data = {ptr = 0xffffffffffff02bb, fd = -64837, u32 = 4294902459, u64 = 18446744073709486779}}, {events = 46006271, data = {ptr = 0x2cd02c902c502c1, fd = 46465729, u32 = 46465729, u64 = 201820620659688129}}, {events = 4294967295, data = {ptr = 0xffff0306ffff02d1, fd = -64815, u32 = 4294902481, u64 = 18446465927332430545}}, {events = 51052543, data = {ptr = 0xffffffffffff0310, fd = -64752, u32 = 4294902544, u64 = 18446744073709486864}}, {events = 4294967295, data = {ptr = 0xffffffffffff0316, fd = -64746, u32 = 4294902550, u64 = 18446744073709486870}}, {events = 4294967295, data = {ptr = 0xffffffff031e031a, fd = 52298522, u32 = 52298522, u64 = 18446744069466882842}}, {events = 4294967295, data = {ptr = 0xffffffffffffffff, fd = -1, u32 = 4294967295, u64 = 18446744073709551615}}, {events = 4294967295, data = {ptr = 0xffffffffffffffff, fd = -1, u32 = 4294967295, u64 = 18446744073709551615}}, {events = 4294967295, data = {ptr = 0xffffffffffffffff, fd = -1, u32 = 4294967295, u64 = 18446744073709551615}}, {events = 4294967295, data = {ptr = 0x322ffffffffffff, fd = -1, u32 = 4294967295, u64 = 226024406298656767}}, {events = 4294967295, data = {ptr = 0xffffffffffff0329, fd = -64727, u32 = 4294902569, u64 = 18446744073709486889}}, {events = 53542911, data = {ptr = 0xffffffff033e0337, fd = 54395703, u32 = 54395703, u64 = 18446744069468980023}}, {events = 4294902597, data = {ptr = 0xffffffffffff034c, fd = -64692, u32 = 4294902604, u64 = 18446744073709486924}}, {events = 4294902611, data = {ptr = 0xffffffffffffffff, fd = -1, u32 = 4294967295, u64 = 18446744073709551615}}, {events = 56623962, data = {ptr = 0x37b0374036d0366, fd = 57475942, u32 = 57475942, u64 = 250798001057760102}}, {events = 59376514, data = {ptr = 0x3aa03a2039a0392, fd = 60425106, u32 = 60425106, u64 = 264027522534605714}}, {events = 62522290, data = {ptr = 0x3d703d003c903c2, fd = 63505346, u32 = 63505346, u64 = 276694094058161090}}, {events = 65405918, data = {ptr = 0x40603fe03f603ee, fd = 66454510, u32 = 66454510, u64 = 289923615535006702}}, {events = 68551694, data = {ptr = 0x433042c0425041e, fd = 69534750, u32 = 69534750, u64 = 302590187058562078}}, {events = 71435322, data = {ptr = 0x462045a0452044a, fd = 72483914, u32 = 72483914, u64 = 315819708535407690}}, {events = 74581098, data = {ptr = 0x48f04880481047a, fd = 75564154, u32 = 75564154, u64 = 328486280058963066}}, {events = 77464726, data = {ptr = 0x4be04b604ae04a6, fd = 78513318, u32 = 78513318, u64 = 341715801535808678}}, {events = 80610502, data = {ptr = 0x4eb04e404dd04d6, fd = 81593558, u32 = 81593558, u64 = 354382373059364054}}, {events = 4294903024, data = {ptr = 0xffffffffffffffff, fd = -1, u32 = 4294967295, u64 = 18446744073709551615}}, {events = 4294967295, data = {ptr = 0xffffffffffffffff, fd = -1, u32 = 4294967295, u64 = 18446744073709551615}}, {events = 4294967295, data = {ptr = 0xffffffffffffffff, fd = -1, u32 = 4294967295, u64 = 18446744073709551615}}, {events = 4294967295, data = {ptr = 0x4f7ffffffffffff, fd = -1, u32 = 4294967295, u64 = 358036170375954431}}, {events = 84346114, data = {ptr = 0x52e0527051e051a, fd = 85853466, u32 = 85853466, u64 = 373241484266046746}}, {events = 4294967295, data = {ptr = 0xffffffffffffffff, fd = -1, u32 = 4294967295, u64 = 18446744073709551615}}, {events = 4294967295, data = {ptr = 0x58cffffffffffff, fd = -1, u32 = 4294967295, u64 = 399975941905842175}}, {events = 4294967295, data = {ptr = 0xffffffffffffffff, fd = -1, u32 = 4294967295, u64 = 18446744073709551615}}, {events = 4294967295, data = {ptr = 0x9c1b2e5e0591ffff, fd = 93454335, u32 = 93454335, u64 = 11248635475643203583}}, {events = 21907, data = {ptr = 0xffffffffffffffff, fd = -1, u32 = 4294967295, u64 = 18446744073709551615}}, {events = 2, data = {ptr = 0xfc015ac700000000, fd = 0, u32 = 0, u64 = 18158894983279542272}}, {events = 32585, data = {ptr = 0x55939dc27a60, fd = -1648199072, u32 = 2646768224, u64 = 94092495321696}}, {events = 94897559, data = {ptr = 0x9dc27a60ffffffff, fd = -1, u32 = 4294967295, u64 = 11367782966466969599}}, {events = 21907, data = {ptr = 0x7f49fc000e30, fd = -67105232, u32 = 4227862064, u64 = 139955737202224}}, {events = 65526, data = {ptr = 0x81f0d000000000, fd = 0, u32 = 0, u64 = 36575048139538432}}, {events = 32586, data = {ptr = 0x55939c25afb0 <unibi_format+235>, fd = -1675251792, u32 = 2619715504, u64 = 94092468268976}}, {events = 2646768224, data = {ptr = 0x9c1b2e8000005593, fd = 21907, u32 = 21907, u64 = 11248635621578659219}}, {events = 21907, data = {ptr = 0x55939dc27a60, fd = -1648199072, u32 = 2646768224, u64 = 94092495321696}}, {events = 2619026846, data = {ptr = 0xfc000e4000005593, fd = 21907, u32 = 21907, u64 = 18158529365598557587}}, {events = 32585, data = {ptr = 0x7f49fc015ac9, fd = -67020087, u32 = 4227947209, u64 = 139955737287369}}, {events = 8516288, data = {ptr = 0x81f12000007f4a, fd = 32586, u32 = 32586, u64 = 36575391736954698}}, {events = 32586, data = {ptr = 0xff05ffff, fd = -16384001, u32 = 4278583295, u64 = 4278583295}}, {events = 0, data = {ptr = 0xffffffffffffffff, fd = -1, u32 = 4294967295, u64 = 18446744073709551615}}, {events = 32585, data = {ptr = 0x0, fd = 0, u32 = 0, u64 = 0}}, {events = 8515904, data = {ptr = 0x9c1b2e5e00007f4a, fd = 32586, u32 = 32586, u64 = 11248635475549781834}}, {events = 21907, data = {ptr = 0x55939dc27a60, fd = -1648199072, u32 = 2646768224, u64 = 94092495321696}}, {events = 3, data = {ptr = 0xfc0345bc00000000, fd = 0, u32 = 0, u64 = 18159434796244140032}}, {events = 32585, data = {ptr = 0x55939dc27a60, fd = -1648199072, u32 = 2646768224, u64 = 94092495321696}}, {events = 4227862080, data = {ptr = 0x9dc27a6000007f49, fd = 32585, u32 = 32585, u64 = 11367782962172034889}}, {events = 21907, data = {ptr = 0x7f49fc000e30, fd = -67105232, u32 = 4227862064, u64 = 139955737202224}}, {events = 65524, data = {ptr = 0x81f19000000000, fd = 0, u32 = 0, u64 = 36575872773259264}}, {events = 32586, data = {ptr = 0x55939c25afb0 <unibi_format+235>, fd = -1675251792, u32 = 2619715504, u64 = 94092468268976}}, {events = 2646768224, data = {ptr = 0x9c1b2e8000005593, fd = 21907, u32 = 21907, u64 = 11248635621578659219}}, {events = 21907, data = {ptr = 0x55939dc27a60, fd = -1648199072, u32 = 2646768224, u64 = 94092495321696}}, {events = 2619026846, data = {ptr = 0xfc000e4000005593, fd = 21907, u32 = 21907, u64 = 18158529365598557587}}, {events = 32585, data = {ptr = 0x7f49fc0345bf, fd = -66894401, u32 = 4228072895, u64 = 139955737413055}}, {events = 8516480, data = {ptr = 0x81f1e000007f4a, fd = 32586, u32 = 32586, u64 = 36576216370675530}}, {events = 32586, data = {ptr = 0x0, fd = 0, u32 = 0, u64 = 0}}, {events = 0, data = {ptr = 0x0, fd = 0, u32 = 0, u64 = 0}}, {events = 0, data = {ptr = 0x0, fd = 0, u32 = 0, u64 = 0}}, {events = 0, data = {ptr = 0x0, fd = 0, u32 = 0, u64 = 0}}, {events = 0, data = {ptr = 0x0, fd = 0, u32 = 0, u64 = 0}}, {events = 0, data = {ptr = 0x300000000, fd = 0, u32 = 0, u64 = 12884901888}}, {events = 0, data = {ptr = 0x0, fd = 0, u32 = 0, u64 = 0}} <repeats 173 times>...}\r\n        pe = <optimized out>\r\n        e = {events = 0, data = {ptr = 0x0, fd = 0, u32 = 0, u64 = 0}}\r\n        real_timeout = <optimized out>\r\n        q = <optimized out>\r\n        w = <optimized out>\r\n        sigset = {__val = {0 <repeats 16 times>}}\r\n        sigmask = <optimized out>\r\n        base = <optimized out>\r\n        have_signals = <optimized out>\r\n        nevents = <optimized out>\r\n        count = <optimized out>\r\n        nfds = <optimized out>\r\n        fd = <optimized out>\r\n        op = <optimized out>\r\n        i = <optimized out>\r\n        user_timeout = <optimized out>\r\n        reset_timeout = <optimized out>\r\n#2  0x000055939c232c04 in uv_run (loop=0x7f4a0081f790, mode=UV_RUN_ONCE) at /home/notomo/workspace/neovim/.deps/build/src/libuv/src/unix/core.c:406\r\n        timeout = <optimized out>\r\n        r = <optimized out>\r\n        can_sleep = <optimized out>\r\n#3  0x000055939bfa794a in loop_uv_run (loop=0x7f4a0081f790, ms=20, once=true) at /home/notomo/workspace/neovim/src/nvim/event/loop.c:65\r\n        mode = UV_RUN_ONCE\r\n        timeout_expired = 0x7f49fc000e10\r\n#4  0x000055939bfa79ca in loop_poll_events (loop=0x7f4a0081f790, ms=20) at /home/notomo/workspace/neovim/src/nvim/event/loop.c:87\r\n        timeout_expired = false\r\n#5  0x000055939c1aefcc in tui_main (bridge=0x55939dc27bb0, ui=0x55939dc27a60) at /home/notomo/workspace/neovim/src/nvim/tui/tui.c:502\r\n        ms = 18\r\n        tui_loop = {uv = {data = 0x7f4a0081f790, active_handles = 5, handle_queue = {0x7f4a0081fa18, 0x7f49fc010f70}, active_reqs = {unused = 0x0, count = 0}, internal_fields = 0x7f49fc000b70, stop_flag = 0, flags = 0, backend_fd = 15, pending_queue = {0x7f4a0081f7d8, 0x7f4a0081f7d8}, watcher_queue = {0x7f4a0081f7e8, 0x7f4a0081f7e8}, watchers = 0x7f49fc000bc0, nwatchers = 30, nfds = 3, wq = {0x7f4a0081f808, 0x7f4a0081f808}, wq_mutex = {__data = {__lock = 0, __count = 0, __owner = 0, __nusers = 0, __kind = 0, __spins = 0, __elision = 0, __list = {__prev = 0x0, __next = 0x0}}, __size = '\\000' <repeats 39 times>, __align = 0}, wq_async = {data = 0x0, loop = 0x7f4a0081f790, type = UV_ASYNC, close_cb = 0x0, handle_queue = {0x7f4a0081fd80, 0x7f4a0081fa18}, u = {fd = 0, reserved = {0x0, 0x0, 0x0, 0x0}}, next_closing = 0x0, flags = 20, async_cb = 0x55939c22e640 <uv__work_done>, queue = {0x7f4a0081fdc8, 0x7f4a0081f940}, pending = 0}, cloexec_lock = {__data = {__readers = 0, __writers = 0, __wrphase_futex = 0, __writers_futex = 0, __pad3 = 0, __pad4 = 0, __cur_writer = 0, __shared = 0, __rwelision = 0 '\\000', __pad1 = \"\\000\\000\\000\\000\\000\\000\", __pad2 = 0, __flags = 0}, __size = '\\000' <repeats 55 times>, __align = 0}, closing_handles = 0x0, process_handles = {0x7f4a0081f900, 0x7f4a0081f900}, prepare_handles = {0x7f4a0081f910, 0x7f4a0081f910}, check_handles = {0x7f4a0081f920, 0x7f4a0081f920}, idle_handles = {0x7f4a0081f930, 0x7f4a0081f930}, async_handles = {0x7f4a0081f8a8, 0x7f4a0081fdc8}, async_unused = 0x0, async_io_watcher = {cb = 0x55939c232280 <uv__async_io>, pending_queue = {0x7f4a0081f960, 0x7f4a0081f960}, watcher_queue = {0x7f4a0081f970, 0x7f4a0081f970}, pevents = 1, events = 1, fd = 18}, async_wfd = -1, timer_heap = {min = 0x7f4a0081fc98, nelts = 1}, timer_counter = 19, time = 53564702, signal_pipefd = {16, 17}, signal_io_watcher = {cb = 0x55939c23c220 <uv__signal_event>, pending_queue = {0x7f4a0081f9c8, 0x7f4a0081f9c8}, watcher_queue = {0x7f4a0081f9d8, 0x7f4a0081f9d8}, pevents = 1, events = 1, fd = 16}, child_watcher = {data = 0x0, loop = 0x7f4a0081f790, type = UV_SIGNAL, close_cb = 0x0, handle_queue = {0x7f4a0081f860, 0x7f4a0081f7a0}, u = {fd = 0, reserved = {0x0, 0x0, 0x0, 0x0}}, next_closing = 0x0, flags = 16, signal_cb = 0x0, signum = 0, tree_entry = {rbe_left = 0x0, rbe_right = 0x0, rbe_parent = 0x0, rbe_color = 0}, caught_signals = 0, dispatched_signals = 0}, emfile_fd = 19, inotify_read_watcher = {cb = 0x0, pending_queue = {0x0, 0x0}, watcher_queue = {0x0, 0x0}, pevents = 0, events = 0, fd = 0}, inotify_watchers = 0x0, inotify_fd = -1}, events = 0x7f49fc000d50, thread_events = 0x7f49fc000dd0, fast_events = 0x7f49fc000d90, children = 0x7f49fc000cd0, children_watcher = {data = 0x0, loop = 0x7f4a0081f790, type = UV_SIGNAL, close_cb = 0x0, handle_queue = {0x7f4a0081fbb8, 0x7f4a0081fd80}, u = {fd = 0, reserved = {0x0, 0x0, 0x0, 0x0}}, next_closing = 0x0, flags = 8, signal_cb = 0x0, signum = 0, tree_entry = {rbe_left = 0x0, rbe_right = 0x0, rbe_parent = 0x0, rbe_color = 0}, caught_signals = 0, dispatched_signals = 0}, children_kill_timer = {data = 0x0, loop = 0x7f4a0081f790, type = UV_TIMER, close_cb = 0x0, handle_queue = {0x7f4a0081fc50, 0x7f4a0081fb20}, u = {fd = 0, reserved = {0x0, 0x0, 0x0, 0x0}}, next_closing = 0x0, flags = 8, timer_cb = 0x0, heap_node = {0x0, 0x0, 0x0}, timeout = 0, repeat = 0, start_id = 0}, poll_timer = {data = 0x7f49fc000e10, loop = 0x7f4a0081f790, type = UV_TIMER, close_cb = 0x0, handle_queue = {0x7f4a0081fce8, 0x7f4a0081fbb8}, u = {fd = 0, reserved = {0x0, 0x0, 0x0, 0x0}}, next_closing = 0x0, flags = 12, timer_cb = 0x55939bfa7fdc <timer_cb>, heap_node = {0x0, 0x0, 0x0}, timeout = 53564722, repeat = 20, start_id = 18}, exit_delay_timer = {data = 0x0, loop = 0x7f4a0081f790, type = UV_TIMER, close_cb = 0x0, handle_queue = {0x7f49fc0116d8, 0x7f4a0081fc50}, u = {fd = 0, reserved = {0x0, 0x0, 0x0, 0x0}}, next_closing = 0x0, flags = 8, timer_cb = 0x0, heap_node = {0x0, 0x0, 0x0}, timeout = 0, repeat = 0, start_id = 0}, async = {data = 0x0, loop = 0x7f4a0081f790, type = UV_ASYNC, close_cb = 0x0, handle_queue = {0x7f4a0081fb20, 0x7f4a0081f860}, u = {fd = 0, reserved = {0x0, 0x0, 0x0, 0x0}}, next_closing = 0x0, flags = 12, async_cb = 0x55939bfa7f01 <async_cb>, queue = {0x7f4a0081f940, 0x7f4a0081f8a8}, pending = 0}, mutex = {__data = {__lock = 0, __count = 0, __owner = 0, __nusers = 0, __kind = 0, __spins = 0, __elision = 0, __list = {__prev = 0x0, __next = 0x0}}, __size = '\\000' <repeats 39 times>, __align = 0}, recursive = 1}\r\n        data = 0x7f49fc000e30\r\n#6  0x000055939c1bfeca in ui_thread_run (data=0x55939dc27bb0) at /home/notomo/workspace/neovim/src/nvim/ui_bridge.c:106\r\n        bridge = 0x55939dc27bb0\r\n#7  0x00007f4a00c00b43 in ?? () from /lib/x86_64-linux-gnu/libc.so.6\r\nNo symbol table info available.\r\n#8  0x00007f4a00c91bb4 in clone () from /lib/x86_64-linux-gnu/libc.so.6\r\nNo symbol table info available.\r\n\r\nThread 1 (Thread 0x7f4a00b6ab80 (LWP 9684)):\r\n#0  0x000055939c28d106 in copyTV (o2=0x7f4a0084aae8, o1=0x8, L=0x7f4a00861380) at /home/notomo/workspace/neovim/.deps/build/src/luajit/src/lj_obj.h:973\r\nNo locals.\r\n#1  lua_rawseti (L=0x7f4a00861380, idx=<optimized out>, n=1) at lj_api.c:1020\r\n        t = 0x7f4a00861458\r\n        dst = 0x8\r\n        src = 0x7f4a0084aae8\r\n        __func__ = \"lua_rawseti\"\r\n#2  0x000055939c0319bb in nlua_push_Array (lstate=0x7f4a00861380, array=..., special=false) at /home/notomo/workspace/neovim/src/nvim/lua/converter.c:752\r\n        i = 0\r\n#3  0x000055939c031b9c in nlua_push_Object (lstate=0x7f4a00861380, obj=..., special=false) at /home/notomo/workspace/neovim/src/nvim/lua/converter.c:796\r\nNo locals.\r\n#4  0x000055939c037997 in nlua_call_ref (ref=4, name=0x55939c35bbf8 \"msg_show\", args=..., retval=false, err=0x7ffee93b0dc0) at /home/notomo/workspace/neovim/src/nvim/lua/executor.c:1528\r\n        i = 1\r\n        lstate = 0x7f4a00861380\r\n        nargs = 4\r\n#5  0x000055939c1c4631 in ui_comp_event (ui=0x55939dbfbf30, name=0x55939c35bbf8 \"msg_show\", args=...) at /home/notomo/workspace/neovim/src/nvim/ui_compositor.c:711\r\n        err = {type = kErrorTypeNone, msg = 0x0}\r\n        res = {type = kObjectTypeNil, data = {boolean = false, integer = 0, floating = 0, string = {data = 0x0, size = 0}, array = {size = 0, capacity = 0, items = 0x0}, dictionary = {size = 0, capacity = 0, items = 0x0}, luaref = 0}}\r\n        __i = 2\r\n        event_cb = 0x55939dc1c7e0\r\n        handled = false\r\n        __func__ = \"ui_comp_event\"\r\n#6  0x000055939c1b919c in ui_call_event (name=0x55939c35bbf8 \"msg_show\", args=...) at /home/notomo/workspace/neovim/build/src/nvim/auto/ui_events_call.generated.h:245\r\n        ui = 0x55939dbfbf30\r\n        i = 0\r\n        any_call = false\r\n#7  0x000055939c1bc0a4 in ui_call_msg_show (kind=..., content=..., replace_last=false) at /home/notomo/workspace/neovim/build/src/nvim/auto/ui_events_call.generated.h:457\r\n        args = {size = 3, capacity = 16, items = 0x55939dbfc0d0}\r\n#8  0x000055939c08938c in msg_ext_ui_flush () at /home/notomo/workspace/neovim/src/nvim/message.c:3171\r\nNo locals.\r\n#9  0x000055939c0856a5 in msg_start () at /home/notomo/workspace/neovim/src/nvim/message.c:1436\r\n        did_return = 0\r\n#10 0x000055939c0826de in msg_attr_keep (s=0x55939dc9b620 \"a\", attr=0, keep=false, multiline=false) at /home/notomo/workspace/neovim/src/nvim/message.c:336\r\n        entered = 2\r\n        retval = 21907\r\n        buf = 0x0\r\n        need_clear = 156\r\n#11 0x000055939c08234f in msg (s=0x55939dc9b620 \"a\") at /home/notomo/workspace/neovim/src/nvim/message.c:222\r\nNo locals.\r\n#12 0x000055939c035eb7 in nlua_print_event (argv=0x7ffee93b1100) at /home/notomo/workspace/neovim/src/nvim/lua/executor.c:902\r\n        start = 0\r\n        i = 1\r\n        str = 0x55939dc9b620 \"a\"\r\n        len = 1\r\n#13 0x000055939c036257 in nlua_print (lstate=0x7f4a00861380) at /home/notomo/workspace/neovim/src/nvim/lua/executor.c:964\r\n        nargs = 1\r\n        errmsg = 0x0\r\n        errmsg_len = 0\r\n        msg_ga = {ga_len = 2, ga_maxlen = 80, ga_itemsize = 1, ga_growsize = 80, ga_data = 0x55939dc9b620}\r\n        curargidx = 2\r\n        is_thread = false\r\n        buff = 0x10 <error: Cannot access memory at address 0x10>\r\n        fmt = 0x7f4a008613e0 \"p\\311)\\234\\223U\"\r\n        len = 139955813098336\r\n#14 0x000055939c2a1476 in lj_BC_FUNCC ()\r\nNo symbol table info available.\r\n#15 0x000055939c28d7dc in lua_pcall (L=0x7f4a00861380, nargs=<optimized out>, nresults=1, errfunc=<optimized out>) at lj_api.c:1116\r\n        g = 0x7f4a008613e0\r\n        oldh = 0 '\\000'\r\n        ef = <optimized out>\r\n        status = <optimized out>\r\n        __func__ = \"lua_pcall\"\r\n#16 0x000055939c033e95 in nlua_pcall (lstate=0x7f4a00861380, nargs=4, nresults=1) at /home/notomo/workspace/neovim/src/nvim/lua/executor.c:153\r\n        status = 0\r\n#17 0x000055939c0379c0 in nlua_call_ref (ref=3, name=0x55939c35bbf8 \"msg_show\", args=..., retval=false, err=0x7ffee93b1300) at /home/notomo/workspace/neovim/src/nvim/lua/executor.c:1531\r\n        lstate = 0x7f4a00861380\r\n        nargs = 4\r\n#18 0x000055939c1c4631 in ui_comp_event (ui=0x55939dbfbf30, name=0x55939c35bbf8 \"msg_show\", args=...) at /home/notomo/workspace/neovim/src/nvim/ui_compositor.c:711\r\n        err = {type = kErrorTypeNone, msg = 0x0}\r\n        res = {type = 3912962896, data = {boolean = 52, integer = 94092465762100, floating = 4.6487854865547315e-310, string = {data = 0x55939bff6f34 <ga_concat_len+99> \"H\\213E\\350\\213\\020H\\213E\\330\\001\\302H\\213E\\350\\211\\020\\220\\311\\303\\363\\017\\036\\372UH\\211\\345H\\203\\354\\020H\\211}\\370\\211\\360\\210E\\364H\\213E\\370\\276\\001\", size = 139955813094736}, array = {size = 94092465762100, capacity = 139955813094736, items = 0x1}, dictionary = {size = 94092465762100, capacity = 139955813094736, items = 0x1}, luaref = -1677758668}}\r\n        __i = 1\r\n        event_cb = 0x55939dc13850\r\n        handled = false\r\n        __func__ = \"ui_comp_event\"\r\n#19 0x000055939c1b919c in ui_call_event (name=0x55939c35bbf8 \"msg_show\", args=...) at /home/notomo/workspace/neovim/build/src/nvim/auto/ui_events_call.generated.h:245\r\n        ui = 0x55939dbfbf30\r\n        i = 0\r\n        any_call = false\r\n#20 0x000055939c1bc0a4 in ui_call_msg_show (kind=..., content=..., replace_last=false) at /home/notomo/workspace/neovim/build/src/nvim/auto/ui_events_call.generated.h:457\r\n        args = {size = 3, capacity = 16, items = 0x55939dbfc0d0}\r\n#21 0x000055939c08938c in msg_ext_ui_flush () at /home/notomo/workspace/neovim/src/nvim/message.c:3171\r\nNo locals.\r\n#22 0x000055939c0892fa in msg_end () at /home/notomo/workspace/neovim/src/nvim/message.c:3158\r\nNo locals.\r\n#23 0x000055939c08274c in msg_attr_keep (s=0x55939dc7faa0 \"a\", attr=0, keep=false, multiline=false) at /home/notomo/workspace/neovim/src/nvim/message.c:351\r\n        entered = 2\r\n        retval = 21907\r\n        buf = 0x0\r\n        need_clear = true\r\n#24 0x000055939c08234f in msg (s=0x55939dc7faa0 \"a\") at /home/notomo/workspace/neovim/src/nvim/message.c:222\r\nNo locals.\r\n#25 0x000055939c035eb7 in nlua_print_event (argv=0x7ffee93b1630) at /home/notomo/workspace/neovim/src/nvim/lua/executor.c:902\r\n        start = 0\r\n        i = 1\r\n        str = 0x55939dc7faa0 \"a\"\r\n        len = 1\r\n#26 0x000055939c036257 in nlua_print (lstate=0x7f4a00861380) at /home/notomo/workspace/neovim/src/nvim/lua/executor.c:964\r\n        nargs = 1\r\n        errmsg = 0x0\r\n        errmsg_len = 0\r\n        msg_ga = {ga_len = 2, ga_maxlen = 80, ga_itemsize = 1, ga_growsize = 80, ga_data = 0x55939dc7faa0}\r\n        curargidx = 2\r\n        is_thread = false\r\n        buff = 0x6389fa34 <error: Cannot access memory at address 0x6389fa34>\r\n        fmt = 0x7ffee93b15c8 \"\"\r\n        len = 1669986868\r\n#27 0x000055939c2a1476 in lj_BC_FUNCC ()\r\nNo symbol table info available.\r\n#28 0x000055939c28d7dc in lua_pcall (L=0x7f4a00861380, nargs=<optimized out>, nresults=1, errfunc=<optimized out>) at lj_api.c:1116\r\n        g = 0x7f4a008613e0\r\n        oldh = 0 '\\000'\r\n        ef = <optimized out>\r\n        status = <optimized out>\r\n        __func__ = \"lua_pcall\"\r\n#29 0x000055939c033e95 in nlua_pcall (lstate=0x7f4a00861380, nargs=2, nresults=1) at /home/notomo/workspace/neovim/src/nvim/lua/executor.c:153\r\n        status = 0\r\n#30 0x000055939c0379c0 in nlua_call_ref (ref=3, name=0x55939c35bc2e \"msg_history_show\", args=..., retval=false, err=0x7ffee93b1830) at /home/notomo/workspace/neovim/src/nvim/lua/executor.c:1531\r\n        lstate = 0x7f4a00861380\r\n        nargs = 2\r\n#31 0x000055939c1c4631 in ui_comp_event (ui=0x55939dbfbf30, name=0x55939c35bc2e \"msg_history_show\", args=...) at /home/notomo/workspace/neovim/src/nvim/ui_compositor.c:711\r\n        err = {type = kErrorTypeNone, msg = 0x0}\r\n        res = {type = 2620513489, data = {boolean = false, integer = 139955818469888, floating = 6.9147361841565476e-310, string = {data = 0x7f4a00d81a00 \"\", size = 3}, array = {size = 139955818469888, capacity = 3, items = 0x7f4a00bf76e5 <_IO_file_xsputn+101>}, dictionary = {size = 139955818469888, capacity = 3, items = 0x7f4a00bf76e5 <_IO_file_xsputn+101>}, luaref = 14162432}}\r\n        __i = 1\r\n        event_cb = 0x55939dc13850\r\n        handled = false\r\n        __func__ = \"ui_comp_event\"\r\n#32 0x000055939c1b919c in ui_call_event (name=0x55939c35bc2e \"msg_history_show\", args=...) at /home/notomo/workspace/neovim/build/src/nvim/auto/ui_events_call.generated.h:245\r\n        ui = 0x55939dbfbf30\r\n        i = 0\r\n        any_call = false\r\n#33 0x000055939c1bc76d in ui_call_msg_history_show (entries=...) at /home/notomo/workspace/neovim/build/src/nvim/auto/ui_events_call.generated.h:496\r\n        args = {size = 1, capacity = 16, items = 0x55939dbfc0d0}\r\n#34 0x000055939c084bce in ex_messages (eap_p=0x7ffee93b1ce0) at /home/notomo/workspace/neovim/src/nvim/message.c:1093\r\n        entries = {size = 0, capacity = 0, items = 0x0}\r\n        eap = 0x7ffee93b1ce0\r\n        p = 0x0\r\n        c = 0\r\n#35 0x000055939bfbd658 in execute_cmd0 (retv=0x7ffee93b1ac4, eap=0x7ffee93b1ce0, errormsg=0x7ffee93b1ac8, preview=false) at /home/notomo/workspace/neovim/src/nvim/ex_docmd.c:1621\r\nNo locals.\r\n#36 0x000055939bfbdc2b in execute_cmd (eap=0x7ffee93b1ce0, cmdinfo=0x7ffee93b2020, preview=false) at /home/notomo/workspace/neovim/src/nvim/ex_docmd.c:1699\r\n        errormsg = 0x0\r\n        retv = 0\r\n        save_cmdmod = {cmod_flags = 0, cmod_split = 0, cmod_tab = 0, cmod_filter_pat = 0x0, cmod_filter_regmatch = {regprog = 0x0, startp = {0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, endp = {0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, rm_matchcol = 0, rm_ic = false}, cmod_filter_force = false, cmod_verbose = 0, cmod_save_ei = 0x0, cmod_did_sandbox = 0, cmod_verbose_save = 0, cmod_save_msg_silent = 0, cmod_save_msg_scroll = 0, cmod_did_esilent = 0}\r\n#37 0x000055939beb93ca in nvim_cmd (channel_id=9223372036854775809, cmd=0x7ffee93b21a0, opts=0x7ffee93b2180, err=0x7ffee93b2160) at /home/notomo/workspace/neovim/src/nvim/api/command.c:683\r\n        save_current_sctx = {sc_sid = -3, sc_seq = 0, sc_lnum = 0}\r\n        saved_msg_list = 0x7ffee93b2748\r\n        private_msg_list = 0x0\r\n        ea = {arg = 0x55939dc1c2b8 \"\", args = 0x0, arglens = 0x0, argc = 0, nextcmd = 0x0, cmd = 0x55939dc1c2b0 \"messages\", cmdlinep = 0x7ffee93b1c28, cmdidx = CMD_messages, argt = 17301765, skip = 0, forceit = 0, addr_count = 0, line1 = 1, line2 = 1, addr_type = ADDR_OTHER, flags = 0, do_ecmd_cmd = 0x0, do_ecmd_lnum = 0, append = 0, usefilter = 0, amount = 0, regname = 0, force_bin = 0, read_edit = 0, mkdir_p = 0, force_ff = 0, force_enc = 0, bad_char = 0, useridx = 0, errmsg = 0x0, getline = 0x0, cookie = 0x0, cstack = 0x0}\r\n        cmdinfo = {cmdmod = {cmod_flags = 0, cmod_split = 0, cmod_tab = 0, cmod_filter_pat = 0x0, cmod_filter_regmatch = {regprog = 0x0, startp = {0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, endp = {0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, rm_matchcol = 0, rm_ic = false}, cmod_filter_force = false, cmod_verbose = 0, cmod_save_ei = 0x0, cmod_did_sandbox = 0, cmod_verbose_save = 0, cmod_save_msg_silent = 0, cmod_save_msg_scroll = 0, cmod_did_esilent = 0}, magic = {file = false, bar = true}}\r\n        cmdline = 0x55939dc1c2b0 \"messages\"\r\n        cmdname = 0x55939dc9ac00 \"messages\"\r\n        args = {size = 0, capacity = 0, items = 0x0}\r\n        retv = {data = 0x0, size = 0}\r\n        output = false\r\n        p = 0x55939dc9ac08 \"\"\r\n        capture_local = {ga_len = 0, ga_maxlen = 1, ga_itemsize = 0, ga_growsize = 0, ga_data = 0xffffffff00000000}\r\n        save_msg_silent = 0\r\n        save_capture_ga = 0x0\r\n        save_msg_col = 0\r\n#38 0x000055939be9d6fb in nlua_api_nvim_cmd (lstate=0x7f4a00861380) at /home/notomo/workspace/neovim/build/src/nvim/auto/lua_api_c_bindings.generated.c:1476\r\n        err = {type = kErrorTypeNone, msg = 0x0}\r\n        arg2 = {output = {type = kObjectTypeNil, data = {boolean = false, integer = 0, floating = 0, string = {data = 0x0, size = 0}, array = {size = 0, capacity = 0, items = 0x0}, dictionary = {size = 0, capacity = 0, items = 0x0}, luaref = 0}}}\r\n        arg1 = {cmd = {type = kObjectTypeString, data = {boolean = 128, integer = 94092495795840, floating = 4.6487869704186465e-310, string = {data = 0x55939dc9b680 \"messages\", size = 8}, array = {size = 94092495795840, capacity = 8, items = 0x0}, dictionary = {size = 94092495795840, capacity = 8, items = 0x0}, luaref = -1647724928}}, reg = {type = kObjectTypeNil, data = {boolean = false, integer = 0, floating = 0, string = {data = 0x0, size = 0}, array = {size = 0, capacity = 0, items = 0x0}, dictionary = {size = 0, capacity = 0, items = 0x0}, luaref = 0}}, bang = {type = kObjectTypeNil, data = {boolean = false, integer = 0, floating = 0, string = {data = 0x0, size = 0}, array = {size = 0, capacity = 0, items = 0x0}, dictionary = {size = 0, capacity = 0, items = 0x0}, luaref = 0}}, addr = {type = kObjectTypeNil, data = {boolean = false, integer = 0, floating = 0, string = {data = 0x0, size = 0}, array = {size = 0, capacity = 0, items = 0x0}, dictionary = {size = 0, capacity = 0, items = 0x0}, luaref = 0}}, mods = {type = kObjectTypeNil, data = {boolean = false, integer = 0, floating = 0, string = {data = 0x0, size = 0}, array = {size = 0, capacity = 0, items = 0x0}, dictionary = {size = 0, capacity = 0, items = 0x0}, luaref = 0}}, args = {type = kObjectTypeArray, data = {boolean = false, integer = 0, floating = 0, string = {data = 0x0, size = 0}, array = {size = 0, capacity = 0, items = 0x0}, dictionary = {size = 0, capacity = 0, items = 0x0}, luaref = 0}}, count = {type = kObjectTypeNil, data = {boolean = false, integer = 0, floating = 0, string = {data = 0x0, size = 0}, array = {size = 0, capacity = 0, items = 0x0}, dictionary = {size = 0, capacity = 0, items = 0x0}, luaref = 0}}, magic = {type = kObjectTypeNil, data = {boolean = false, integer = 0, floating = 0, string = {data = 0x0, size = 0}, array = {size = 0, capacity = 0, items = 0x0}, dictionary = {size = 0, capacity = 0, items = 0x0}, luaref = 0}}, nargs = {type = kObjectTypeNil, data = {boolean = false, integer = 0, floating = 0, string = {data = 0x0, size = 0}, array = {size = 0, capacity = 0, items = 0x0}, dictionary = {size = 0, capacity = 0, items = 0x0}, luaref = 0}}, range = {type = kObjectTypeNil, data = {boolean = false, integer = 0, floating = 0, string = {data = 0x0, size = 0}, array = {size = 0, capacity = 0, items = 0x0}, dictionary = {size = 0, capacity = 0, items = 0x0}, luaref = 0}}, nextcmd = {type = kObjectTypeNil, data = {boolean = false, integer = 0, floating = 0, string = {data = 0x0, size = 0}, array = {size = 0, capacity = 0, items = 0x0}, dictionary = {size = 0, capacity = 0, items = 0x0}, luaref = 0}}}\r\n        ret = {data = 0x1500000000 <error: Cannot access memory at address 0x1500000000>, size = 94092495183728}\r\n#39 0x000055939c2a1476 in lj_BC_FUNCC ()\r\nNo symbol table info available.\r\n#40 0x000055939c28d7dc in lua_pcall (L=0x7f4a00861380, nargs=<optimized out>, nresults=0, errfunc=<optimized out>) at lj_api.c:1116\r\n        g = 0x7f4a008613e0\r\n        oldh = 0 '\\000'\r\n        ef = <optimized out>\r\n        status = <optimized out>\r\n        __func__ = \"lua_pcall\"\r\n#41 0x000055939c033e95 in nlua_pcall (lstate=0x7f4a00861380, nargs=0, nresults=0) at /home/notomo/workspace/neovim/src/nvim/lua/executor.c:153\r\n        status = 0\r\n#42 0x000055939c0381b6 in nlua_exec_file (path=0x55939dc9b6a8 \"./minimal.lua\") at /home/notomo/workspace/neovim/src/nvim/lua/executor.c:1725\r\n        lstate = 0x7f4a00861380\r\n        __PRETTY_FUNCTION__ = \"nlua_exec_file\"\r\n#43 0x000055939c038036 in ex_luafile (eap=0x7ffee93b2520) at /home/notomo/workspace/neovim/src/nvim/lua/executor.c:1685\r\nNo locals.\r\n#44 0x000055939bfbd658 in execute_cmd0 (retv=0x7ffee93b24d8, eap=0x7ffee93b2520, errormsg=0x7ffee93b24f0, preview=false) at /home/notomo/workspace/neovim/src/nvim/ex_docmd.c:1621\r\nNo locals.\r\n#45 0x000055939bfbf511 in do_one_cmd (cmdlinep=0x7ffee93b2740, flags=10, cstack=0x7ffee93b2850, fgetline=0x0, cookie=0x0) at /home/notomo/workspace/neovim/src/nvim/ex_docmd.c:2278\r\n        errormsg = 0x0\r\n        save_reg_executing = 0\r\n        save_pending_end_reg_executing = false\r\n        ea = {arg = 0x55939dc9b6a8 \"./minimal.lua\", args = 0x0, arglens = 0x0, argc = 0, nextcmd = 0x0, cmd = 0x55939dc9b6a0 \"luafile ./minimal.lua\", cmdlinep = 0x7ffee93b2740, cmdidx = CMD_luafile, argt = 17301661, skip = 0, forceit = 0, addr_count = 0, line1 = 1, line2 = 1, addr_type = ADDR_LINES, flags = 0, do_ecmd_cmd = 0x0, do_ecmd_lnum = 0, append = 0, usefilter = 0, amount = 0, regname = 0, force_bin = 0, read_edit = 0, mkdir_p = 0, force_ff = 0, force_enc = 0, bad_char = 0, useridx = 0, errmsg = 0x0, getline = 0x0, cookie = 0x0, cstack = 0x7ffee93b2850}\r\n        save_cmdmod = {cmod_flags = 0, cmod_split = 0, cmod_tab = 0, cmod_filter_pat = 0x0, cmod_filter_regmatch = {regprog = 0x0, startp = {0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, endp = {0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, rm_matchcol = 0, rm_ic = false}, cmod_filter_force = false, cmod_verbose = 0, cmod_save_ei = 0x0, cmod_did_sandbox = 0, cmod_verbose_save = 0, cmod_save_msg_silent = 0, cmod_save_msg_scroll = 0, cmod_did_esilent = 0}\r\n        after_modifier = 0x55939dc9b6a0 \"luafile ./minimal.lua\"\r\n        cmd = 0x55939dc9b6a0 \"luafile ./minimal.lua\"\r\n        p = 0x55939dc9b6a7 \" ./minimal.lua\"\r\n        ni = 0\r\n        retv = 0\r\n#46 0x000055939bfbb040 in do_cmdline (cmdline=0x7ffee93b4edf \"luafile ./minimal.lua\", fgetline=0x0, cookie=0x0, flags=10) at /home/notomo/workspace/neovim/src/nvim/ex_docmd.c:579\r\n        next_cmdline = 0x55939dc9b6a0 \"luafile ./minimal.lua\"\r\n        cmdline_copy = 0x55939dc9b6a0 \"luafile ./minimal.lua\"\r\n        used_getline = false\r\n        recursive = 1\r\n        msg_didout_before_start = false\r\n        count = 1\r\n        did_inc = false\r\n        retval = 1\r\n        cstack = {cs_flags = {0 <repeats 50 times>}, cs_pending = '\\000' <repeats 49 times>, cs_pend = {csp_rv = {0x0 <repeats 50 times>}, csp_ex = {0x0 <repeats 50 times>}}, cs_forinfo = {0x0 <repeats 50 times>}, cs_line = {0 <repeats 50 times>}, cs_idx = -1, cs_looplevel = 0, cs_trylevel = 0, cs_emsg_silent_list = 0x0, cs_lflags = 0}\r\n        lines_ga = {ga_len = 0, ga_maxlen = 0, ga_itemsize = 16, ga_growsize = 10, ga_data = 0x0}\r\n        current_line = 0\r\n        fname = 0x0\r\n        breakpoint = 0x0\r\n        dbg_tick = 0x0\r\n        debug_saved = {trylevel = 0, force_abort = 0, caught_stack = 0x0, vv_exception = 0x0, vv_throwpoint = 0x0, did_emsg = 0, got_int = 0, did_throw = false, need_rethrow = 0, check_cstack = 0, current_exception = 0x0}\r\n        initial_trylevel = 0\r\n        saved_msg_list = 0x0\r\n        private_msg_list = 0x0\r\n        cmd_getline = 0x0\r\n        cmd_cookie = 0x0\r\n        cmd_loop_cookie = {lines_gap = 0x0, current_line = 0, repeating = 0, getline = 0x0, cookie = 0x0}\r\n        real_cookie = 0x0\r\n        getline_is_func = 0\r\n        call_depth = 1\r\n#47 0x000055939bfba62e in do_cmdline_cmd (cmd=0x7ffee93b4edf \"luafile ./minimal.lua\") at /home/notomo/workspace/neovim/src/nvim/ex_docmd.c:282\r\nNo locals.\r\n#48 0x000055939c0458c6 in exe_commands (parmp=0x7ffee93b2e70) at /home/notomo/workspace/neovim/src/nvim/main.c:1822\r\n        i = 0\r\n#49 0x000055939c041dd8 in main (argc=4, argv=0x7ffee93b30c8) at /home/notomo/workspace/neovim/src/nvim/main.c:540\r\n        fname = 0x0\r\n        params = {argc = 4, argv = 0x7ffee93b30c8, use_vimrc = 0x55939c333e76 \"NONE\", clean = true, n_commands = 2, commands = {0x7ffee93b4edf \"luafile ./minimal.lua\", 0x7ffee93b4ef6 \"quitall!\", 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, cmds_tofree = \"\\000\\000\\000\\000\\000\\000\\000\\000\\000\", n_pre_commands = 0, pre_commands = {0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}, edit_type = 0, tagname = 0x0, use_ef = 0x0, input_isatty = true, output_isatty = true, err_isatty = true, input_neverscript = false, no_swap_file = 0, use_debug_break_level = -1, window_count = 1, window_layout = 0, diff_mode = 0, listen_addr = 0x0, remote = 0, server_addr = 0x0}\r\n        cwd = 0x0\r\n        __PRETTY_FUNCTION__ = \"main\"\r\n        use_remote_ui = false\r\n        use_builtin_ui = true\r\n        err = {type = kErrorTypeNone, msg = 0x0}\r\n        o = {type = kObjectTypeNil, data = {boolean = false, integer = 0, floating = 0, string = {data = 0x0, size = 0}, array = {size = 0, capacity = 0, items = 0x0}, dictionary = {size = 0, capacity = 0, items = 0x0}, luaref = 0}}\r\n        vimrc_none = true\r\n        __func__ = \"main\"\r\n```\r\n\r\n</details>\r\n\r\n<details>\r\n<summary>ASan log</summary>\r\n\r\n```\r\n=================================================================\r\n==32355==ERROR: AddressSanitizer: heap-use-after-free on address 0x611000079080 at pc 0x563ed6ab650f bp 0x7ffc8db46cd0 sp 0x7ffc8db46cc8\r\nREAD of size 32 at 0x611000079080 thread T0\r\n    #0 0x563ed6ab650e in nlua_push_Array /home/notomo/workspace/neovim/src/nvim/lua/converter.c:751:5\r\n    #1 0x563ed6ab5d06 in nlua_push_Object /home/notomo/workspace/neovim/src/nvim/lua/converter.c:796:5\r\n    #2 0x563ed6ad45dd in nlua_call_ref /home/notomo/workspace/neovim/src/nvim/lua/executor.c:1528:5\r\n    #3 0x563ed7611519 in ui_comp_event /home/notomo/workspace/neovim/src/nvim/ui_compositor.c:711:3\r\n    #4 0x563ed75c58d3 in ui_call_event /home/notomo/workspace/neovim/build/src/nvim/auto/ui_events_call.generated.h:245:3\r\n    #5 0x563ed75dc7d5 in ui_call_msg_show /home/notomo/workspace/neovim/build/src/nvim/auto/ui_events_call.generated.h:457:3\r\n    #6 0x563ed6d27973 in msg_ext_ui_flush /home/notomo/workspace/neovim/src/nvim/message.c:3171:5\r\n    #7 0x563ed6d10dd0 in msg_start /home/notomo/workspace/neovim/src/nvim/message.c:1436:5\r\n    #8 0x563ed6d0d77d in msg_attr_keep /home/notomo/workspace/neovim/src/nvim/message.c:336:3\r\n    #9 0x563ed6d0d168 in msg /home/notomo/workspace/neovim/src/nvim/message.c:222:10\r\n    #10 0x563ed6ae3ea8 in nlua_print_event /home/notomo/workspace/neovim/src/nvim/lua/executor.c:902:5\r\n    #11 0x563ed6ad3595 in nlua_print /home/notomo/workspace/neovim/src/nvim/lua/executor.c:964:5\r\n    #12 0x563ed7979145 in lj_BC_FUNCC (/home/notomo/workspace/neovim/build/bin/nvim+0x264a145)\r\n    #13 0x563ed7963129 in lua_pcall /home/notomo/workspace/neovim/.deps/build/src/luajit/src/lj_api.c:1145:12\r\n    #14 0x563ed6ad1fbd in nlua_pcall /home/notomo/workspace/neovim/src/nvim/lua/executor.c:153:16\r\n    #15 0x563ed6ad460f in nlua_call_ref /home/notomo/workspace/neovim/src/nvim/lua/executor.c:1531:7\r\n    #16 0x563ed7611519 in ui_comp_event /home/notomo/workspace/neovim/src/nvim/ui_compositor.c:711:3\r\n    #17 0x563ed75c58d3 in ui_call_event /home/notomo/workspace/neovim/build/src/nvim/auto/ui_events_call.generated.h:245:3\r\n    #18 0x563ed75dc7d5 in ui_call_msg_show /home/notomo/workspace/neovim/build/src/nvim/auto/ui_events_call.generated.h:457:3\r\n    #19 0x563ed6d27973 in msg_ext_ui_flush /home/notomo/workspace/neovim/src/nvim/message.c:3171:5\r\n    #20 0x563ed6d11d4e in msg_end /home/notomo/workspace/neovim/src/nvim/message.c:3158:3\r\n    #21 0x563ed6d0d93d in msg_attr_keep /home/notomo/workspace/neovim/src/nvim/message.c:351:12\r\n    #22 0x563ed6d0d168 in msg /home/notomo/workspace/neovim/src/nvim/message.c:222:10\r\n    #23 0x563ed6ae3ea8 in nlua_print_event /home/notomo/workspace/neovim/src/nvim/lua/executor.c:902:5\r\n    #24 0x563ed6ad3595 in nlua_print /home/notomo/workspace/neovim/src/nvim/lua/executor.c:964:5\r\n    #25 0x563ed7979145 in lj_BC_FUNCC (/home/notomo/workspace/neovim/build/bin/nvim+0x264a145)\r\n    #26 0x563ed7963129 in lua_pcall /home/notomo/workspace/neovim/.deps/build/src/luajit/src/lj_api.c:1145:12\r\n    #27 0x563ed6ad1fbd in nlua_pcall /home/notomo/workspace/neovim/src/nvim/lua/executor.c:153:16\r\n    #28 0x563ed6ad460f in nlua_call_ref /home/notomo/workspace/neovim/src/nvim/lua/executor.c:1531:7\r\n    #29 0x563ed7611519 in ui_comp_event /home/notomo/workspace/neovim/src/nvim/ui_compositor.c:711:3\r\n    #30 0x563ed75c58d3 in ui_call_event /home/notomo/workspace/neovim/build/src/nvim/auto/ui_events_call.generated.h:245:3\r\n    #31 0x563ed75de2c4 in ui_call_msg_history_show /home/notomo/workspace/neovim/build/src/nvim/auto/ui_events_call.generated.h:496:3\r\n    #32 0x563ed6d20bc2 in ex_messages /home/notomo/workspace/neovim/src/nvim/message.c:1093:5\r\n    #33 0x563ed67b603e in execute_cmd0 /home/notomo/workspace/neovim/src/nvim/ex_docmd.c:1621:7\r\n    #34 0x563ed67b21e3 in execute_cmd /home/notomo/workspace/neovim/src/nvim/ex_docmd.c:1699:3\r\n    #35 0x563ed60164f9 in nvim_cmd /home/notomo/workspace/neovim/src/nvim/api/command.c:683:3\r\n    #36 0x563ed5f90073 in nlua_api_nvim_cmd /home/notomo/workspace/neovim/build/src/nvim/auto/lua_api_c_bindings.generated.c:1476:22\r\n    #37 0x563ed7979145 in lj_BC_FUNCC (/home/notomo/workspace/neovim/build/bin/nvim+0x264a145)\r\n    #38 0x563ed7963129 in lua_pcall /home/notomo/workspace/neovim/.deps/build/src/luajit/src/lj_api.c:1145:12\r\n    #39 0x563ed6ad1fbd in nlua_pcall /home/notomo/workspace/neovim/src/nvim/lua/executor.c:153:16\r\n    #40 0x563ed6ad6412 in nlua_exec_file /home/notomo/workspace/neovim/src/nvim/lua/executor.c:1725:7\r\n    #41 0x563ed6ad6207 in ex_luafile /home/notomo/workspace/neovim/src/nvim/lua/executor.c:1685:3\r\n    #42 0x563ed67b603e in execute_cmd0 /home/notomo/workspace/neovim/src/nvim/ex_docmd.c:1621:7\r\n    #43 0x563ed67923a6 in do_one_cmd /home/notomo/workspace/neovim/src/nvim/ex_docmd.c:2278:7\r\n    #44 0x563ed6782d2d in do_cmdline /home/notomo/workspace/neovim/src/nvim/ex_docmd.c:579:20\r\n    #45 0x563ed6787e30 in do_cmdline_cmd /home/notomo/workspace/neovim/src/nvim/ex_docmd.c:282:10\r\n    #46 0x563ed6b17c12 in exe_commands /home/notomo/workspace/neovim/src/nvim/main.c:1822:5\r\n    #47 0x563ed6b0274f in main /home/notomo/workspace/neovim/src/nvim/main.c:540:5\r\n    #48 0x7ffb10a3cd8f  (/lib/x86_64-linux-gnu/libc.so.6+0x29d8f) (BuildId: 69389d485a9793dbe873f0ea2c93e02efaa9aa3d)\r\n    #49 0x7ffb10a3ce3f in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x29e3f) (BuildId: 69389d485a9793dbe873f0ea2c93e02efaa9aa3d)\r\n    #50 0x563ed5ebff14 in _start (/home/notomo/workspace/neovim/build/bin/nvim+0xb90f14)\r\n\r\n0x611000079080 is located 0 bytes inside of 256-byte region [0x611000079080,0x611000079180)\r\nfreed by thread T0 here:\r\n    #0 0x563ed5f45692 in __interceptor_free /tmp/llvm-20221018-8379-ot76x/llvm-project-15.0.3.src/compiler-rt/lib/asan/asan_malloc_linux.cpp:52:3\r\n    #1 0x563ed6ce9f44 in xfree /home/notomo/workspace/neovim/src/nvim/memory.c:136:3\r\n    #2 0x563ed615cfef in api_free_array /home/notomo/workspace/neovim/src/nvim/api/private/helpers.c:582:3\r\n    #3 0x563ed6d27a1a in msg_ext_ui_flush /home/notomo/workspace/neovim/src/nvim/message.c:3177:5\r\n    #4 0x563ed6d10dd0 in msg_start /home/notomo/workspace/neovim/src/nvim/message.c:1436:5\r\n    #5 0x563ed6d0d77d in msg_attr_keep /home/notomo/workspace/neovim/src/nvim/message.c:336:3\r\n    #6 0x563ed6d0d168 in msg /home/notomo/workspace/neovim/src/nvim/message.c:222:10\r\n    #7 0x563ed6ae3ea8 in nlua_print_event /home/notomo/workspace/neovim/src/nvim/lua/executor.c:902:5\r\n    #8 0x563ed6ad3595 in nlua_print /home/notomo/workspace/neovim/src/nvim/lua/executor.c:964:5\r\n    #9 0x563ed7979145 in lj_BC_FUNCC (/home/notomo/workspace/neovim/build/bin/nvim+0x264a145)\r\n\r\npreviously allocated by thread T0 here:\r\n    #0 0x563ed5f45d66 in __interceptor_realloc /tmp/llvm-20221018-8379-ot76x/llvm-project-15.0.3.src/compiler-rt/lib/asan/asan_malloc_linux.cpp:85:3\r\n    #1 0x563ed6cea172 in xrealloc /home/notomo/workspace/neovim/src/nvim/memory.c:172:15\r\n    #2 0x563ed6d3b0c3 in msg_ext_emit_chunk /home/notomo/workspace/neovim/src/nvim/message.c:2128:3\r\n    #3 0x563ed6d27850 in msg_ext_ui_flush /home/notomo/workspace/neovim/src/nvim/message.c:3169:3\r\n    #4 0x563ed6d11d4e in msg_end /home/notomo/workspace/neovim/src/nvim/message.c:3158:3\r\n    #5 0x563ed6d0d93d in msg_attr_keep /home/notomo/workspace/neovim/src/nvim/message.c:351:12\r\n    #6 0x563ed6d0d168 in msg /home/notomo/workspace/neovim/src/nvim/message.c:222:10\r\n    #7 0x563ed6ae3ea8 in nlua_print_event /home/notomo/workspace/neovim/src/nvim/lua/executor.c:902:5\r\n    #8 0x563ed6ad3595 in nlua_print /home/notomo/workspace/neovim/src/nvim/lua/executor.c:964:5\r\n    #9 0x563ed7979145 in lj_BC_FUNCC (/home/notomo/workspace/neovim/build/bin/nvim+0x264a145)\r\n\r\nSUMMARY: AddressSanitizer: heap-use-after-free /home/notomo/workspace/neovim/src/nvim/lua/converter.c:751:5 in nlua_push_Array\r\nShadow bytes around the buggy address:\r\n  0x0c22800071c0: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd\r\n  0x0c22800071d0: fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa fa\r\n  0x0c22800071e0: fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd\r\n  0x0c22800071f0: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd\r\n  0x0c2280007200: fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa\r\n=>0x0c2280007210:[fd]fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd\r\n  0x0c2280007220: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd\r\n  0x0c2280007230: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa\r\n  0x0c2280007240: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa\r\n  0x0c2280007250: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa\r\n  0x0c2280007260: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa\r\nShadow byte legend (one shadow byte represents 8 application bytes):\r\n  Addressable:           00\r\n  Partially addressable: 01 02 03 04 05 06 07 \r\n  Heap left redzone:       fa\r\n  Freed heap region:       fd\r\n  Stack left redzone:      f1\r\n  Stack mid redzone:       f2\r\n  Stack right redzone:     f3\r\n  Stack after return:      f5\r\n  Stack use after scope:   f8\r\n  Global redzone:          f9\r\n  Global init order:       f6\r\n  Poisoned by user:        f7\r\n  Container overflow:      fc\r\n  Array cookie:            ac\r\n  Intra object redzone:    bb\r\n  ASan internal:           fe\r\n  Left alloca redzone:     ca\r\n  Right alloca redzone:    cb\r\n==32355==ABORTING\r\n```\r\n\r\n</details>\r\n",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "As I mentioned in #22344, the minimal code could be:\r\n```lua\r\nlocal ns = vim.api.nvim_create_namespace(\"plugin1\")\r\nvim.ui_attach(ns, { ext_messages = true }, function()\r\n  print(\"a\")\r\nend)\r\n```",
            "created_at": "2023-02-20T14:56:07Z",
            "html_url": "https://github.com/neovim/neovim/issues/21265#issuecomment-1437147722",
            "id": 1437147722,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/21265",
            "node_id": "IC_kwDOAPphoM5VqSJK",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1437147722/reactions"
            },
            "updated_at": "2023-02-20T14:56:07Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1437147722",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8780513?v=4",
                "events_url": "https://api.github.com/users/ryo33/events{/privacy}",
                "followers_url": "https://api.github.com/users/ryo33/followers",
                "following_url": "https://api.github.com/users/ryo33/following{/other_user}",
                "gists_url": "https://api.github.com/users/ryo33/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ryo33",
                "id": 8780513,
                "login": "ryo33",
                "node_id": "MDQ6VXNlcjg3ODA1MTM=",
                "organizations_url": "https://api.github.com/users/ryo33/orgs",
                "received_events_url": "https://api.github.com/users/ryo33/received_events",
                "repos_url": "https://api.github.com/users/ryo33/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ryo33/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ryo33/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ryo33"
            }
        },
        {
            "author_association": "NONE",
            "body": "Nested calls to `msg_ext_ui_flush` seem to cause the bug. `msg_ext_chunks` is passed by value to `ui_call_msg_show`. Nested `msg_ext_ui_flush` call may free the memory `msg_ext_chunks` points to, but its callers may use the memory later, since they keep a pointer to it.",
            "created_at": "2023-08-21T21:42:08Z",
            "html_url": "https://github.com/neovim/neovim/issues/21265#issuecomment-1687084387",
            "id": 1687084387,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/21265",
            "node_id": "IC_kwDOAPphoM5kjt1j",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1687084387/reactions"
            },
            "updated_at": "2023-08-21T21:42:08Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1687084387",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/105592020?v=4",
                "events_url": "https://api.github.com/users/nwounkn/events{/privacy}",
                "followers_url": "https://api.github.com/users/nwounkn/followers",
                "following_url": "https://api.github.com/users/nwounkn/following{/other_user}",
                "gists_url": "https://api.github.com/users/nwounkn/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/nwounkn",
                "id": 105592020,
                "login": "nwounkn",
                "node_id": "U_kgDOBks01A",
                "organizations_url": "https://api.github.com/users/nwounkn/orgs",
                "received_events_url": "https://api.github.com/users/nwounkn/received_events",
                "repos_url": "https://api.github.com/users/nwounkn/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/nwounkn/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/nwounkn/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/nwounkn"
            }
        }
    ],
    "comments": 2,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/21265/comments",
    "created_at": "2022-12-02T14:28:03Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/21265/events",
    "html_url": "https://github.com/neovim/neovim/issues/21265",
    "id": 1472952596,
    "labels": [
        {
            "color": "0E8A16",
            "default": false,
            "description": "issue contains minimal reproducing steps",
            "id": 435851959,
            "name": "has:repro",
            "node_id": "MDU6TGFiZWw0MzU4NTE5NTk=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/has:repro"
        },
        {
            "color": "0E8A16",
            "default": false,
            "description": "issue contains a stacktrace/ASAN log",
            "id": 435854079,
            "name": "has:backtrace",
            "node_id": "MDU6TGFiZWw0MzU4NTQwNzk=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/has:backtrace"
        },
        {
            "color": "F9D0C4",
            "default": false,
            "description": "issue reporting a crash or segfault",
            "id": 435854234,
            "name": "bug-crash",
            "node_id": "MDU6TGFiZWw0MzU4NTQyMzQ=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug-crash"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": null,
            "id": 573222693,
            "name": "lua",
            "node_id": "MDU6TGFiZWw1NzMyMjI2OTM=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/lua"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "UI extensibility, events, protocol",
            "id": 640132777,
            "name": "ui-ext",
            "node_id": "MDU6TGFiZWw2NDAxMzI3Nzc=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/ui-ext"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/21265/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM5Xy3kU",
    "number": 21265,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/21265/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/21265/timeline",
    "title": "Crash `:messages` if vim.ui_attach enables ext_tabline and ext_messages in different namespaces",
    "updated_at": "2023-08-21T21:42:08Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/21265",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/18519692?v=4",
        "events_url": "https://api.github.com/users/notomo/events{/privacy}",
        "followers_url": "https://api.github.com/users/notomo/followers",
        "following_url": "https://api.github.com/users/notomo/following{/other_user}",
        "gists_url": "https://api.github.com/users/notomo/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/notomo",
        "id": 18519692,
        "login": "notomo",
        "node_id": "MDQ6VXNlcjE4NTE5Njky",
        "organizations_url": "https://api.github.com/users/notomo/orgs",
        "received_events_url": "https://api.github.com/users/notomo/received_events",
        "repos_url": "https://api.github.com/users/notomo/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/notomo/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/notomo/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/notomo"
    }
}