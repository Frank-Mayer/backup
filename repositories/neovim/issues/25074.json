{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "body": "EDIT: I found the offending edit. PR opened: #25075\r\n\r\n### Problem\r\n\r\nWhen typing on https://github.com/neovim/neovim/commit/2ca076e45fb3f1c08f6a1a374834df0701b8d778 or later, there is significant latency and CPU spike to 100%. When typing in the same file on any commit before https://github.com/neovim/neovim/commit/2ca076e45fb3f1c08f6a1a374834df0701b8d778, there is no latency and the CPU spikes to 3% at most.\r\n\r\nNote:\r\n* `cursorcolumn` isn't necessary to reproduce the issue, but if you turn it on it's much more clear (otherwise it's only noticeable on some keystrokes).\r\n* Needs both highlight and indent enabled, won't reproduce without one of them disabled.\r\n\r\nPinging author @lewis6991 for any insight.\r\n\r\n### UPDATE: Found blowup in `iter_captures`:\r\n```diff\r\ndiff --git a/runtime/lua/vim/treesitter/query.lua b/runtime/lua/vim/treesitter/query.lua\r\nindex 309365731..0f8b2502f 100644\r\n--- a/runtime/lua/vim/treesitter/query.lua\r\n+++ b/runtime/lua/vim/treesitter/query.lua\r\n@@ -680,6 +680,7 @@ local function value_or_node_range(start, stop, node)\r\n   return start, stop\r\n end\r\n \r\n+local my_count = 0\r\n --- Iterate over all captures from all matches inside {node}\r\n ---\r\n --- {source} is needed if the query contains predicates; then the caller\r\n@@ -716,7 +717,10 @@ function Query:iter_captures(node, source, start, stop)\r\n   start, stop = value_or_node_range(start, stop, node)\r\n \r\n   local raw_iter = node:_rawquery(self.query, true, start, stop)\r\n-  local function iter()\r\n+  local function iter(depth)\r\n+    my_count = my_count + 1\r\n+    print(\"my_count\", my_count)\r\n+    print(\"my_depth\", depth)\r\n     local capture, captured_node, match = raw_iter()\r\n     local metadata = {}\r\n \r\n@@ -724,7 +728,7 @@ function Query:iter_captures(node, source, start, stop)\r\n       local active = self:match_preds(match, match.pattern, source)\r\n       match.active = active\r\n       if not active then\r\n-        return iter() -- tail call: try next match\r\n+        return iter((depth or 0) + 1) -- tail call: try next match\r\n       end\r\n \r\n       self:apply_directives(match, match.pattern, source, metadata)\r\n```\r\n\r\nAfter typing a single char (`nvim -u init.lua` w/ provided file, then `Of<Esc>:messages`):\r\n\r\n| after #24647 | before #24647 |\r\n| --- | --- |\r\n| my_depth 2618 | my_depth 5 |\r\n| my_count 24966 | my_count 1639 |\r\n\r\nAdding:\r\n```lua\r\n    if depth and depth > 2000 then\r\n      if captured_node then\r\n        a, b, c, d = captured_node:range()\r\n        print(a, b, c, d)\r\n      end\r\n      -- print(self.dbgquery)\r\n    end\r\n```\r\nShows that every single token is being matched (and many multiple times):\r\n```\r\n96 20 96 23\r\n96 24 96 36\r\n96 24 96 36\r\n96 24 96 36\r\n96 24 96 36\r\n96 24 96 36\r\n96 36 96 37\r\n96 36 96 37\r\n96 36 96 37\r\n96 36 96 37\r\n96 36 96 37\r\n```\r\n\r\nfor the query:\r\n```lisp\r\n(_) @spell\r\n((tag\r\n  (name) @text.todo @nospell\r\n  (\"(\" @punctuation.bracket (user) @constant \")\" @punctuation.bracket)?\r\n  \":\" @punctuation.delimiter)\r\n  (#any-of? @text.todo \"TODO\" \"WIP\"))\r\n(\"text\" @text.todo @nospell\r\n (#any-of? @text.todo \"TODO\" \"WIP\"))\r\n((tag\r\n  (name) @text.note @nospell\r\n  (\"(\" @punctuation.bracket (user) @constant \")\" @punctuation.bracket)?\r\n  \":\" @punctuation.delimiter)\r\n  (#any-of? @text.note \"NOTE\" \"XXX\" \"INFO\" \"DOCS\" \"PERF\" \"TEST\"))\r\n(\"text\" @text.note @nospell\r\n (#any-of? @text.note \"NOTE\" \"XXX\" \"INFO\" \"DOCS\" \"PERF\" \"TEST\"))\r\n((tag\r\n  (name) @text.warning @nospell\r\n  (\"(\" @punctuation.bracket (user) @constant \")\" @punctuation.bracket)?\r\n  \":\" @punctuation.delimiter)\r\n  (#any-of? @text.warning \"HACK\" \"WARNING\" \"WARN\" \"FIX\"))\r\n(\"text\" @text.warning @nospell\r\n (#any-of? @text.warning \"HACK\" \"WARNING\" \"WARN\" \"FIX\"))\r\n((tag\r\n  (name) @text.danger @nospell\r\n  (\"(\" @punctuation.bracket (user) @constant \")\" @punctuation.bracket)?\r\n  \":\" @punctuation.delimiter)\r\n  (#any-of? @text.danger \"FIXME\" \"BUG\" \"ERROR\"))\r\n(\"text\" @text.danger @nospell\r\n (#any-of? @text.danger \"FIXME\" \"BUG\" \"ERROR\"))\r\n; Issue number (#123)\r\n(\"text\" @number\r\n (#lua-match? @number \"^#[0-9]+$\"))\r\n((uri) @text.uri @nospell)\r\n\r\n```\r\n\r\n^ this query shouldn't even be running on the source code; it's for comments only.\r\n\r\n### Flame graphs (download and open locally for interactive):\r\n\r\nBefore #24647\r\n![flame](https://github.com/neovim/neovim/assets/5601392/65ee5f4b-54d4-4ce1-a4a3-da1e559a9522)\r\nAfter #24647\r\n![flame2](https://github.com/neovim/neovim/assets/5601392/44af8a26-20ed-420a-b9bb-d949829c13fd)\r\n\r\n### Steps to reproduce\r\n\r\n`nvim -u init.lua`:\r\n\r\n```lua\r\nvim.opt.cursorcolumn = true\r\n\r\nlocal lazypath = vim.fn.stdpath(\"data\") .. \"/lazy/lazy.nvim\"\r\nif not vim.loop.fs_stat(lazypath) then\r\n  vim.fn.system({\r\n    \"git\",\r\n    \"clone\",\r\n    \"--filter=blob:none\",\r\n    \"https://github.com/folke/lazy.nvim.git\",\r\n    \"--branch=stable\",\r\n    lazypath,\r\n  })\r\nend\r\nvim.opt.rtp:prepend(lazypath)\r\n\r\n\r\nlocal plugins = {\r\n\t{\r\n\t\t\"nvim-treesitter/nvim-treesitter\",\r\n\t\tbuild = \":TSUpdate\",\r\n\t\tevent = { \"BufReadPost\", \"BufNewFile\" },\r\n\t\topts = {\r\n\t\t\thighlight = {\r\n\t\t\t\tenable = true,\r\n\t\t\t},\r\n\t\t\tindent = { enable = true },\r\n\t\t\tensure_installed = \"typescript\",\r\n\t\t\tsync_install = false,\r\n\t\t\tauto_install = true,\r\n\t\t},\r\n\t\tconfig = function(_, opts)\r\n\t\t\trequire(\"nvim-treesitter.configs\").setup(opts)\r\n\t\tend,\r\n\t},\r\n}\r\n\r\nrequire(\"lazy\").setup(plugins)\r\n```\r\n\r\n`repro.ts` (sorry, I couldn't get a super clear effect with <100 LOC - just paste it in, press O and start typing):\r\n```typescript\r\nexport function findClosestFoundryToml(\r\n    directory: string | undefined,\r\n): string | null {\r\n    let currentDir = directory;\r\n    const root = path.parse(directory).root;\r\n\r\n    while (currentDir !== root) {\r\n        const tomlPath = path.join(currentDir, \"foundry.toml\");\r\n        if (fs.existsSync(tomlPath)) {\r\n            return currentDir;\r\n        }\r\n        const nextDir = path.dirname(currentDir);\r\n        if (nextDir.length >= currentDir.length) break;\r\n        currentDir = nextDir;\r\n    }\r\n    return null;\r\n}\r\n\r\nasync function runFoundry(\r\n    testData: FoundryTestData,\r\n    item: vscode.TestItem,\r\n    run: vscode.TestRun,\r\n): Promise<string> {\r\n    const { filename, contractName, testName } = testData;\r\n    const verbosity =\r\n        vscode.workspace.getConfiguration(\"foundryTestRunner\").verbosity;\r\n    const cwd = filename && findClosestFoundryToml(item.uri?.path);\r\n\r\n    let command = `forge test ${verbosity}`;\r\n    if (cwd) command = `cd ${cwd} && ${command}`;\r\n    if (filename)\r\n        command += ` --match-path \"**/${filename}${\r\n            filename.endsWith(\".t.sol\") ? \"\" : \"/**\"\r\n        }\"`;\r\n    if (contractName) command += ` --match-contract ${contractName}`;\r\n    if (testName) command += ` --match-test ${testName}`;\r\n\r\n    let ret: { stdout: string; stderr: string };\r\n    let code = 0;\r\n    try {\r\n        ret = await promisify(cp.exec)(command);\r\n    } catch (e) {\r\n        ret = e as { stdout: string; stderr: string };\r\n        code = (e as { code: number }).code;\r\n    }\r\n    const { stdout, stderr } = ret;\r\n\r\n    run.appendOutput(`Foundry command: ${command}\\r\\n`);\r\n    run.appendOutput(`Working directory: ${process.cwd()}\\r\\n`);\r\n    run.appendOutput(unixToDos(stdout));\r\n    run.appendOutput(unixToDos(stderr));\r\n    if (code !== 0) {\r\n        run.appendOutput(`Foundry exited with code: ${code}\\r\\n`);\r\n    }\r\n\r\n    return stdout;\r\n}\r\nexport class TestFile extends FoundryTestData {\r\n    /**\r\n     * Parses the tests from the input text, and updates the tests contained\r\n     * by this file to be those from the text,\r\n     */\r\n    public updateFromContents(\r\n        controller: vscode.TestController,\r\n        content: string,\r\n        item: vscode.TestItem,\r\n    ) {\r\n        parseSolidity(content, {\r\n            onTest: (range, testName) => {\r\n                const data = new TestCase(\r\n                    testName,\r\n                    currentContractName,\r\n                    filename,\r\n                    thisGeneration,\r\n                );\r\n                const id = `${item.uri}/${testName}`;\r\n                const tcase = controller.createTestItem(id, testName, item.uri);\r\n                testData.set(tcase, data);\r\n                tcase.range = range;\r\n                parent?.children.add(tcase);\r\n            },\r\n\r\n            onContract: (range, contractName) => {\r\n                const id = `${item.uri}/${contractName}`;\r\n\r\n                const tcontract = controller.createTestItem(\r\n                    id,\r\n                    contractName,\r\n                    item.uri,\r\n                );\r\n                parent = tcontract;\r\n                currentContractName = contractName;\r\n                tcontract.range = range;\r\n                testData.set(\r\n                    tcontract,\r\n                    new TestContract(contractName, filename, thisGeneration),\r\n                );\r\n                item.children.add(tcontract);\r\n            },\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n### Expected behavior\r\n\r\nno performance issues as in `2ca076e45^`\r\n\r\n### Neovim version (nvim -v)\r\n\r\nNVIM v0.10.0-dev-814+g2ca076e45\r\n\r\n### Vim (not Nvim) behaves the same?\r\n\r\nno\r\n\r\n### Operating system/version\r\n\r\nmacOS 13.4.1\r\n\r\n### Terminal name/version\r\n\r\nkitty 0.28.1\r\n\r\n### $TERM environment variable\r\n\r\nxterm-kitty\r\n\r\n### Installation\r\n\r\nbuild from repo",
    "closed_at": "2023-09-10T19:53:45Z",
    "comment_data": [
        {
            "author_association": "CONTRIBUTOR",
            "body": "nvim-treesitter's indent reparses basically all regions, highlighting I don't think is the issue here.\r\n\r\nRelated: nvim-treesitter/nvim-treesitter#5347",
            "created_at": "2023-09-10T07:14:58Z",
            "html_url": "https://github.com/neovim/neovim/issues/25074#issuecomment-1712736146",
            "id": 1712736146,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/25074",
            "node_id": "IC_kwDOAPphoM5mFkeS",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1712736146/reactions"
            },
            "updated_at": "2023-09-10T07:14:58Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1712736146",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/29790821?v=4",
                "events_url": "https://api.github.com/users/lucario387/events{/privacy}",
                "followers_url": "https://api.github.com/users/lucario387/followers",
                "following_url": "https://api.github.com/users/lucario387/following{/other_user}",
                "gists_url": "https://api.github.com/users/lucario387/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lucario387",
                "id": 29790821,
                "login": "lucario387",
                "node_id": "MDQ6VXNlcjI5NzkwODIx",
                "organizations_url": "https://api.github.com/users/lucario387/orgs",
                "received_events_url": "https://api.github.com/users/lucario387/received_events",
                "repos_url": "https://api.github.com/users/lucario387/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lucario387/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lucario387/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lucario387"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "The problem is that indent and highlighting are fighting with each other.\n\nWhen highlight does an update, it does a partial parse of the tree but also invalidates all injections. And then when indent runs it does a complete parse of all the trees.\n\nThis is a problem I'm already aware about, and is something I plan to address at some point.",
            "created_at": "2023-09-10T07:22:22Z",
            "html_url": "https://github.com/neovim/neovim/issues/25074#issuecomment-1712737795",
            "id": 1712737795,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/25074",
            "node_id": "IC_kwDOAPphoM5mFk4D",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1712737795/reactions"
            },
            "updated_at": "2023-09-10T07:22:22Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1712737795",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> When highlight does an update, it does a partial parse of the tree but also invalidates all injections. And then when indent runs it does a complete parse of all the trees.\r\n\r\nI think it's more than just full-reparsing the tree. There is an actual bugged query that I just found which is returning 2600 matches on a 3300 character document. I've updated the issue description.",
            "created_at": "2023-09-10T18:43:45Z",
            "html_url": "https://github.com/neovim/neovim/issues/25074#issuecomment-1712908851",
            "id": 1712908851,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/25074",
            "node_id": "IC_kwDOAPphoM5mGOoz",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1712908851/reactions"
            },
            "updated_at": "2023-09-10T19:05:49Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1712908851",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5601392?v=4",
                "events_url": "https://api.github.com/users/llllvvuu/events{/privacy}",
                "followers_url": "https://api.github.com/users/llllvvuu/followers",
                "following_url": "https://api.github.com/users/llllvvuu/following{/other_user}",
                "gists_url": "https://api.github.com/users/llllvvuu/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/llllvvuu",
                "id": 5601392,
                "login": "llllvvuu",
                "node_id": "MDQ6VXNlcjU2MDEzOTI=",
                "organizations_url": "https://api.github.com/users/llllvvuu/orgs",
                "received_events_url": "https://api.github.com/users/llllvvuu/received_events",
                "repos_url": "https://api.github.com/users/llllvvuu/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/llllvvuu/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/llllvvuu/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/llllvvuu"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Isn't that the injection query that is running on every parse? This is why `parse(true)` is so inefficient and why nvim-treesitter-indent should avoid using it.\n\nEDIT: actually yeah, it seems like nvim-treesitter-indent may be calling a reparse in the languagetree callbacks.",
            "created_at": "2023-09-10T18:52:52Z",
            "html_url": "https://github.com/neovim/neovim/issues/25074#issuecomment-1712910514",
            "id": 1712910514,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/25074",
            "node_id": "IC_kwDOAPphoM5mGPCy",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1712910514/reactions"
            },
            "updated_at": "2023-09-10T18:57:21Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1712910514",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> Isn't that the injection query that is running on every parse? This is why `parse(true)` is so inefficient and why nvim-treesitter-indent should avoid using it.\r\n\r\nHaving that query run more often isn't enough to explain it, since `parse(true)` actually fixes things. There seems to be an additional issue where the injected query is running on the parent instead of the injection.\r\n\r\ni.e. the sexpr that I just put in the issue description should only run inside a comment, but it's running on the whole source file and matching every token. `parse(true)` by itself isn't enough to explain 2600 matches, it would still get <5 matches, just it would run more often.",
            "created_at": "2023-09-10T19:31:14Z",
            "html_url": "https://github.com/neovim/neovim/issues/25074#issuecomment-1712917979",
            "id": 1712917979,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/25074",
            "node_id": "IC_kwDOAPphoM5mGQ3b",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1712917979/reactions"
            },
            "updated_at": "2023-09-10T19:39:17Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1712917979",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5601392?v=4",
                "events_url": "https://api.github.com/users/llllvvuu/events{/privacy}",
                "followers_url": "https://api.github.com/users/llllvvuu/followers",
                "following_url": "https://api.github.com/users/llllvvuu/following{/other_user}",
                "gists_url": "https://api.github.com/users/llllvvuu/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/llllvvuu",
                "id": 5601392,
                "login": "llllvvuu",
                "node_id": "MDQ6VXNlcjU2MDEzOTI=",
                "organizations_url": "https://api.github.com/users/llllvvuu/orgs",
                "received_events_url": "https://api.github.com/users/llllvvuu/received_events",
                "repos_url": "https://api.github.com/users/llllvvuu/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/llllvvuu/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/llllvvuu/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/llllvvuu"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Interesting, sounds like this needs to be reduced down much further then.",
            "created_at": "2023-09-10T19:36:56Z",
            "html_url": "https://github.com/neovim/neovim/issues/25074#issuecomment-1712919141",
            "id": 1712919141,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/25074",
            "node_id": "IC_kwDOAPphoM5mGRJl",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1712919141/reactions"
            },
            "updated_at": "2023-09-10T19:36:56Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1712919141",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> Interesting, sounds like this needs to be reduced down much further then.\r\n\r\nYes, you're right, I had a lot of wrong leads in this issue, I'll archive this investigation and open a cleaner issue. #25088",
            "created_at": "2023-09-10T19:53:45Z",
            "html_url": "https://github.com/neovim/neovim/issues/25074#issuecomment-1712922828",
            "id": 1712922828,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/25074",
            "node_id": "IC_kwDOAPphoM5mGSDM",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1712922828/reactions"
            },
            "updated_at": "2023-09-10T19:53:56Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1712922828",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5601392?v=4",
                "events_url": "https://api.github.com/users/llllvvuu/events{/privacy}",
                "followers_url": "https://api.github.com/users/llllvvuu/followers",
                "following_url": "https://api.github.com/users/llllvvuu/following{/other_user}",
                "gists_url": "https://api.github.com/users/llllvvuu/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/llllvvuu",
                "id": 5601392,
                "login": "llllvvuu",
                "node_id": "MDQ6VXNlcjU2MDEzOTI=",
                "organizations_url": "https://api.github.com/users/llllvvuu/orgs",
                "received_events_url": "https://api.github.com/users/llllvvuu/received_events",
                "repos_url": "https://api.github.com/users/llllvvuu/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/llllvvuu/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/llllvvuu/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/llllvvuu"
            }
        },
        {
            "author_association": "NONE",
            "body": "![截屏2023-09-11 11 04 11](https://github.com/neovim/neovim/assets/8279858/7b4e891e-7617-4caa-bd49-58903a0711a7)\r\n\r\n\r\nI am using `nvim-treesitter` main branch and nightly build neovim, I have to disable highlight to avoid this slowness.",
            "created_at": "2023-09-11T03:05:09Z",
            "html_url": "https://github.com/neovim/neovim/issues/25074#issuecomment-1713088319",
            "id": 1713088319,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/25074",
            "node_id": "IC_kwDOAPphoM5mG6c_",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1713088319/reactions"
            },
            "updated_at": "2023-09-11T03:05:09Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1713088319",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8279858?v=4",
                "events_url": "https://api.github.com/users/towry/events{/privacy}",
                "followers_url": "https://api.github.com/users/towry/followers",
                "following_url": "https://api.github.com/users/towry/following{/other_user}",
                "gists_url": "https://api.github.com/users/towry/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/towry",
                "id": 8279858,
                "login": "towry",
                "node_id": "MDQ6VXNlcjgyNzk4NTg=",
                "organizations_url": "https://api.github.com/users/towry/orgs",
                "received_events_url": "https://api.github.com/users/towry/received_events",
                "repos_url": "https://api.github.com/users/towry/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/towry/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/towry/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/towry"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "@towry it's ok, @lucario387 created fix yesterday! now that i look back it is just run-of-the-mill API breakage; it just felt wonky because the effects manifested in a strange way and i confused myself with false leads (and I should have read the original PR discussion more closely / looked at nvim-treesitter activity, the answer was right there...).\r\n\r\nthere are probably some safety features that can be added overall but that is another topic.\r\n\r\nfix can be backported to nvim-treesitter master since both the old and new API behave correctly when range is passed in (Lua ignores extra arguments):\r\nhttps://github.com/llllvvuu/nvim-treesitter/commit/4e2e56dee9b50d9c45d6712565367d79832e2a43\r\nhttps://github.com/nvim-treesitter/nvim-treesitter/pull/5370#issuecomment-1713007432",
            "created_at": "2023-09-11T03:30:19Z",
            "html_url": "https://github.com/neovim/neovim/issues/25074#issuecomment-1713104766",
            "id": 1713104766,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/25074",
            "node_id": "IC_kwDOAPphoM5mG-d-",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1713104766/reactions"
            },
            "updated_at": "2023-09-11T03:38:53Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1713104766",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5601392?v=4",
                "events_url": "https://api.github.com/users/llllvvuu/events{/privacy}",
                "followers_url": "https://api.github.com/users/llllvvuu/followers",
                "following_url": "https://api.github.com/users/llllvvuu/following{/other_user}",
                "gists_url": "https://api.github.com/users/llllvvuu/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/llllvvuu",
                "id": 5601392,
                "login": "llllvvuu",
                "node_id": "MDQ6VXNlcjU2MDEzOTI=",
                "organizations_url": "https://api.github.com/users/llllvvuu/orgs",
                "received_events_url": "https://api.github.com/users/llllvvuu/received_events",
                "repos_url": "https://api.github.com/users/llllvvuu/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/llllvvuu/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/llllvvuu/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/llllvvuu"
            }
        },
        {
            "author_association": "NONE",
            "body": "\r\nhttps://github.com/neovim/neovim/assets/8279858/4363910e-acbb-4a3c-ad0c-3144b8ba4c63\r\n\r\nnvim-treestiter#main latest not working for me. I will try to create a minimal config to repro it.",
            "created_at": "2023-09-11T09:22:05Z",
            "html_url": "https://github.com/neovim/neovim/issues/25074#issuecomment-1713502035",
            "id": 1713502035,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/25074",
            "node_id": "IC_kwDOAPphoM5mIfdT",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1713502035/reactions"
            },
            "updated_at": "2023-09-11T09:22:05Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1713502035",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8279858?v=4",
                "events_url": "https://api.github.com/users/towry/events{/privacy}",
                "followers_url": "https://api.github.com/users/towry/followers",
                "following_url": "https://api.github.com/users/towry/following{/other_user}",
                "gists_url": "https://api.github.com/users/towry/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/towry",
                "id": 8279858,
                "login": "towry",
                "node_id": "MDQ6VXNlcjgyNzk4NTg=",
                "organizations_url": "https://api.github.com/users/towry/orgs",
                "received_events_url": "https://api.github.com/users/towry/received_events",
                "repos_url": "https://api.github.com/users/towry/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/towry/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/towry/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/towry"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "The range for re-parsed of indents is not the best range that we can get, but it's the quickest we can get without needing costly calculation (only visible lines). ",
            "created_at": "2023-09-11T11:49:36Z",
            "html_url": "https://github.com/neovim/neovim/issues/25074#issuecomment-1713721261",
            "id": 1713721261,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/25074",
            "node_id": "IC_kwDOAPphoM5mJU-t",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1713721261/reactions"
            },
            "updated_at": "2023-09-11T11:49:36Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1713721261",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/29790821?v=4",
                "events_url": "https://api.github.com/users/lucario387/events{/privacy}",
                "followers_url": "https://api.github.com/users/lucario387/followers",
                "following_url": "https://api.github.com/users/lucario387/following{/other_user}",
                "gists_url": "https://api.github.com/users/lucario387/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lucario387",
                "id": 29790821,
                "login": "lucario387",
                "node_id": "MDQ6VXNlcjI5NzkwODIx",
                "organizations_url": "https://api.github.com/users/lucario387/orgs",
                "received_events_url": "https://api.github.com/users/lucario387/received_events",
                "repos_url": "https://api.github.com/users/lucario387/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lucario387/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lucario387/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lucario387"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "@towry I actually did manage to reproduce this with no plugins and 4 lines in init.lua. It's *really* elusive though, for example the repro works in my shell, but not when I launch tmux from the same shell. I'll create a new issue though.",
            "created_at": "2023-09-12T01:31:08Z",
            "html_url": "https://github.com/neovim/neovim/issues/25074#issuecomment-1714832391",
            "id": 1714832391,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/25074",
            "node_id": "IC_kwDOAPphoM5mNkQH",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1714832391/reactions"
            },
            "updated_at": "2023-09-12T01:31:08Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1714832391",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5601392?v=4",
                "events_url": "https://api.github.com/users/llllvvuu/events{/privacy}",
                "followers_url": "https://api.github.com/users/llllvvuu/followers",
                "following_url": "https://api.github.com/users/llllvvuu/following{/other_user}",
                "gists_url": "https://api.github.com/users/llllvvuu/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/llllvvuu",
                "id": 5601392,
                "login": "llllvvuu",
                "node_id": "MDQ6VXNlcjU2MDEzOTI=",
                "organizations_url": "https://api.github.com/users/llllvvuu/orgs",
                "received_events_url": "https://api.github.com/users/llllvvuu/received_events",
                "repos_url": "https://api.github.com/users/llllvvuu/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/llllvvuu/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/llllvvuu/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/llllvvuu"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "@towry IDK if it's related to this issue at all, but it may be related to what you're experiencing: #25104",
            "created_at": "2023-09-12T03:34:55Z",
            "html_url": "https://github.com/neovim/neovim/issues/25074#issuecomment-1714911720",
            "id": 1714911720,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/25074",
            "node_id": "IC_kwDOAPphoM5mN3no",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 1,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1714911720/reactions"
            },
            "updated_at": "2023-09-12T03:34:55Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1714911720",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5601392?v=4",
                "events_url": "https://api.github.com/users/llllvvuu/events{/privacy}",
                "followers_url": "https://api.github.com/users/llllvvuu/followers",
                "following_url": "https://api.github.com/users/llllvvuu/following{/other_user}",
                "gists_url": "https://api.github.com/users/llllvvuu/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/llllvvuu",
                "id": 5601392,
                "login": "llllvvuu",
                "node_id": "MDQ6VXNlcjU2MDEzOTI=",
                "organizations_url": "https://api.github.com/users/llllvvuu/orgs",
                "received_events_url": "https://api.github.com/users/llllvvuu/received_events",
                "repos_url": "https://api.github.com/users/llllvvuu/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/llllvvuu/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/llllvvuu/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/llllvvuu"
            }
        },
        {
            "author_association": "NONE",
            "body": "> 2023-09-11.17.18.49.mov \r\n> nvim-treestiter#main latest not working for me. I will try to create a minimal config to repro it.\r\n\r\n@llllvvuu this issue is not related to current issue or #25104. \r\n\r\nI have created a minimal config to repro it https://gist.github.com/towry/74d6ff3312e18c6fd39367d1b4e477cf\r\n\r\nShould I create issue on neovim or nvim-treesitter, what do you suggest, thanks.",
            "created_at": "2023-09-12T08:44:38Z",
            "html_url": "https://github.com/neovim/neovim/issues/25074#issuecomment-1715271738",
            "id": 1715271738,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/25074",
            "node_id": "IC_kwDOAPphoM5mPPg6",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1715271738/reactions"
            },
            "updated_at": "2023-09-12T08:44:38Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1715271738",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8279858?v=4",
                "events_url": "https://api.github.com/users/towry/events{/privacy}",
                "followers_url": "https://api.github.com/users/towry/followers",
                "following_url": "https://api.github.com/users/towry/following{/other_user}",
                "gists_url": "https://api.github.com/users/towry/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/towry",
                "id": 8279858,
                "login": "towry",
                "node_id": "MDQ6VXNlcjgyNzk4NTg=",
                "organizations_url": "https://api.github.com/users/towry/orgs",
                "received_events_url": "https://api.github.com/users/towry/received_events",
                "repos_url": "https://api.github.com/users/towry/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/towry/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/towry/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/towry"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Have you tested with the latest Neovim `master`?",
            "created_at": "2023-09-12T08:49:29Z",
            "html_url": "https://github.com/neovim/neovim/issues/25074#issuecomment-1715284257",
            "id": 1715284257,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/25074",
            "node_id": "IC_kwDOAPphoM5mPSkh",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1715284257/reactions"
            },
            "updated_at": "2023-09-12T08:49:29Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1715284257",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        },
        {
            "author_association": "NONE",
            "body": "> Have you tested with the latest Neovim `master`?\r\n\r\nyes, and tested on kitty and macos terminal.\r\n\r\n```\r\nNVIM v0.10.0-dev-1088+g6b5f44817\r\nBuild type: Release\r\nLuaJIT 2.1.1694466036\r\nRun \"nvim -V1 -v\" for more info\r\n```\r\n\r\nalso tested on commits before https://github.com/neovim/neovim/commit/2ca076e45fb3f1c08f6a1a374834df0701b8d778",
            "created_at": "2023-09-12T08:53:38Z",
            "html_url": "https://github.com/neovim/neovim/issues/25074#issuecomment-1715294423",
            "id": 1715294423,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/25074",
            "node_id": "IC_kwDOAPphoM5mPVDX",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1715294423/reactions"
            },
            "updated_at": "2023-09-12T08:55:34Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1715294423",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8279858?v=4",
                "events_url": "https://api.github.com/users/towry/events{/privacy}",
                "followers_url": "https://api.github.com/users/towry/followers",
                "following_url": "https://api.github.com/users/towry/following{/other_user}",
                "gists_url": "https://api.github.com/users/towry/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/towry",
                "id": 8279858,
                "login": "towry",
                "node_id": "MDQ6VXNlcjgyNzk4NTg=",
                "organizations_url": "https://api.github.com/users/towry/orgs",
                "received_events_url": "https://api.github.com/users/towry/received_events",
                "repos_url": "https://api.github.com/users/towry/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/towry/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/towry/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/towry"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "@towry I can reproduce on master, thanks. re:\r\n\r\n> Should I create issue on neovim or nvim-treesitter, what do you suggest, thanks.\r\n\r\nI think if\r\n\r\n```lua\r\nvim.opt.indentexpr = [[v:lua.require('nvim-treesitter').indentexpr()]]\r\n```\r\n\r\nis critical to the repro, then you should report in nvim-treesitter. Otherwise everything else seems like it could be done in stock Neovim.",
            "created_at": "2023-09-12T08:57:42Z",
            "html_url": "https://github.com/neovim/neovim/issues/25074#issuecomment-1715302783",
            "id": 1715302783,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/25074",
            "node_id": "IC_kwDOAPphoM5mPXF_",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 3,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 3,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1715302783/reactions"
            },
            "updated_at": "2023-09-12T08:57:42Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1715302783",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5601392?v=4",
                "events_url": "https://api.github.com/users/llllvvuu/events{/privacy}",
                "followers_url": "https://api.github.com/users/llllvvuu/followers",
                "following_url": "https://api.github.com/users/llllvvuu/following{/other_user}",
                "gists_url": "https://api.github.com/users/llllvvuu/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/llllvvuu",
                "id": 5601392,
                "login": "llllvvuu",
                "node_id": "MDQ6VXNlcjU2MDEzOTI=",
                "organizations_url": "https://api.github.com/users/llllvvuu/orgs",
                "received_events_url": "https://api.github.com/users/llllvvuu/received_events",
                "repos_url": "https://api.github.com/users/llllvvuu/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/llllvvuu/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/llllvvuu/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/llllvvuu"
            }
        },
        {
            "author_association": "NONE",
            "body": "removed `vim.opt.indentexpr` from the config, remove `vim.treesitter.start` can avoid this slowness.\r\n\r\nI will report it on neovim then.",
            "created_at": "2023-09-12T08:59:36Z",
            "html_url": "https://github.com/neovim/neovim/issues/25074#issuecomment-1715305737",
            "id": 1715305737,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/25074",
            "node_id": "IC_kwDOAPphoM5mPX0J",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1715305737/reactions"
            },
            "updated_at": "2023-09-12T09:00:27Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1715305737",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8279858?v=4",
                "events_url": "https://api.github.com/users/towry/events{/privacy}",
                "followers_url": "https://api.github.com/users/towry/followers",
                "following_url": "https://api.github.com/users/towry/following{/other_user}",
                "gists_url": "https://api.github.com/users/towry/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/towry",
                "id": 8279858,
                "login": "towry",
                "node_id": "MDQ6VXNlcjgyNzk4NTg=",
                "organizations_url": "https://api.github.com/users/towry/orgs",
                "received_events_url": "https://api.github.com/users/towry/received_events",
                "repos_url": "https://api.github.com/users/towry/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/towry/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/towry/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/towry"
            }
        }
    ],
    "comments": 18,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/25074/comments",
    "created_at": "2023-09-10T03:25:38Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/25074/events",
    "html_url": "https://github.com/neovim/neovim/issues/25074",
    "id": 1888948125,
    "labels": [
        {
            "color": "FEF2C0",
            "default": false,
            "description": "issues reporting performance problems",
            "id": 101930601,
            "name": "performance",
            "node_id": "MDU6TGFiZWwxMDE5MzA2MDE=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/performance"
        },
        {
            "color": "f9d0c4",
            "default": false,
            "description": "wrong behavior that was introduced in a previous commit (please bisect)",
            "id": 619474658,
            "name": "bug-regression",
            "node_id": "MDU6TGFiZWw2MTk0NzQ2NTg=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug-regression"
        },
        {
            "color": "0E8A16",
            "default": false,
            "description": "issue has been tracked to a specific commit",
            "id": 1481421490,
            "name": "has:bisected",
            "node_id": "MDU6TGFiZWwxNDgxNDIxNDkw",
            "url": "https://api.github.com/repos/neovim/neovim/labels/has:bisected"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "",
            "id": 1799626557,
            "name": "treesitter",
            "node_id": "MDU6TGFiZWwxNzk5NjI2NTU3",
            "url": "https://api.github.com/repos/neovim/neovim/labels/treesitter"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/25074/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM5wlw-d",
    "number": 25074,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/25074/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "completed",
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/25074/timeline",
    "title": "bug: performance regression in `2ca076e45` - 100% CPU and lag on 100 LOC file",
    "updated_at": "2023-09-12T09:00:27Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/25074",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/5601392?v=4",
        "events_url": "https://api.github.com/users/llllvvuu/events{/privacy}",
        "followers_url": "https://api.github.com/users/llllvvuu/followers",
        "following_url": "https://api.github.com/users/llllvvuu/following{/other_user}",
        "gists_url": "https://api.github.com/users/llllvvuu/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/llllvvuu",
        "id": 5601392,
        "login": "llllvvuu",
        "node_id": "MDQ6VXNlcjU2MDEzOTI=",
        "organizations_url": "https://api.github.com/users/llllvvuu/orgs",
        "received_events_url": "https://api.github.com/users/llllvvuu/received_events",
        "repos_url": "https://api.github.com/users/llllvvuu/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/llllvvuu/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/llllvvuu/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/llllvvuu"
    }
}