{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Describe the bug\r\n\r\nI use `kitty` as my terminal emulator and have some autocommands to adjust my padding, similar to [this](https://github.com/kovidgoyal/kitty/issues/1915#issuecomment-915773668). I have had no issues in the past with these, but with the last few  nightly releases, neovim is having some trouble exiting with these autocommands in place.\r\n\r\nIt is not just these specific commands, but any autocommand with `VimLeave` or `VimLeavePre` that executes shell commands exits with an exit code of `134`. With the latest release, the following error: \r\n\r\n```nvim: /__w/neovim/neovim/.deps/build/src/libuv/src/unix/core.c:116; uv_close: Assertion `!uv__is_closing(handle)` failed.```\r\n![error](https://user-images.githubusercontent.com/36506250/212881965-ed598929-44e2-48e7-a60b-a150d469be40.png)\r\n\r\nThis does not happen on every single exit, but does happen frequently enough. The last release of neovim where I didn't have this issue was: `v0.9.0-dev-155+g771824128`.\r\n\r\n### Steps to reproduce\r\n\r\n- Create an autocommand with the `VimLeave` or `VimLeavePre` event that executes a shell command. For example:\r\n\r\n```lua\r\n-- init.lua\r\n\r\nvim.api.nvim_create_autocmd({ \"VimLeave\" }, {\r\n  callback = function()\r\n    vim.cmd('!notify-send  \"hello\"')\r\n  end,\r\n})\r\n```\r\n\r\n### Expected behavior\r\n\r\nNeovim exits with `0` exit code.\r\n\r\n### Neovim version (nvim -v)\r\n\r\nv0.9.0-dev-720+gf6929ea51\r\n\r\n### Vim (not Nvim) behaves the same?\r\n\r\nno\r\n\r\n### Operating system/version\r\n\r\narch linux\r\n\r\n### Terminal name/version\r\n\r\nkitty 0.26.5\r\n\r\n### $TERM environment variable\r\n\r\nxterm-kitty\r\n\r\n### Installation\r\n\r\nappimage",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "I'm seeing with issue consistently with the following `autocmd`:\r\n\r\n```lua\r\n-- Stop Neovim Daemons.\r\nautocmd('ExitPre', {\r\n  group = augroups.StopNeovimDaemons,\r\n  command = 'silent exec \"!('\r\n    .. vim.fn.expand('$HOME')\r\n    .. '/scripts/nvim/stop-nvim-daemons.sh &)\"',\r\n})\r\n```\r\n\r\nI use this `autocmd` to kill some of the potential daemons launched by `null-ls`.\r\n\r\n![2023-01-18_09-10](https://user-images.githubusercontent.com/2284724/213118237-03d044c4-fc08-4084-ada7-69d218644e52.png)\r\n",
            "created_at": "2023-01-18T08:12:55Z",
            "html_url": "https://github.com/neovim/neovim/issues/21856#issuecomment-1386648874",
            "id": 1386648874,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/21856",
            "node_id": "IC_kwDOAPphoM5SppUq",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1386648874/reactions"
            },
            "updated_at": "2023-01-18T08:30:04Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1386648874",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2284724?v=4",
                "events_url": "https://api.github.com/users/sQVe/events{/privacy}",
                "followers_url": "https://api.github.com/users/sQVe/followers",
                "following_url": "https://api.github.com/users/sQVe/following{/other_user}",
                "gists_url": "https://api.github.com/users/sQVe/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/sQVe",
                "id": 2284724,
                "login": "sQVe",
                "node_id": "MDQ6VXNlcjIyODQ3MjQ=",
                "organizations_url": "https://api.github.com/users/sQVe/orgs",
                "received_events_url": "https://api.github.com/users/sQVe/received_events",
                "repos_url": "https://api.github.com/users/sQVe/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/sQVe/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/sQVe/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/sQVe"
            }
        },
        {
            "author_association": "NONE",
            "body": "Is there any way to work around this issue until it is fixed? ü§î üôèüèº ",
            "created_at": "2023-02-16T09:57:46Z",
            "html_url": "https://github.com/neovim/neovim/issues/21856#issuecomment-1432818974",
            "id": 1432818974,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/21856",
            "node_id": "IC_kwDOAPphoM5VZxUe",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1432818974/reactions"
            },
            "updated_at": "2023-02-16T09:57:46Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1432818974",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2284724?v=4",
                "events_url": "https://api.github.com/users/sQVe/events{/privacy}",
                "followers_url": "https://api.github.com/users/sQVe/followers",
                "following_url": "https://api.github.com/users/sQVe/following{/other_user}",
                "gists_url": "https://api.github.com/users/sQVe/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/sQVe",
                "id": 2284724,
                "login": "sQVe",
                "node_id": "MDQ6VXNlcjIyODQ3MjQ=",
                "organizations_url": "https://api.github.com/users/sQVe/orgs",
                "received_events_url": "https://api.github.com/users/sQVe/received_events",
                "repos_url": "https://api.github.com/users/sQVe/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/sQVe/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/sQVe/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/sQVe"
            }
        },
        {
            "author_association": "NONE",
            "body": "Got the same problem since today (2023-02-22), never encountered the bug before, and i'm on `nightly` build (updated 3-4 times a week) using archlinux and system libs",
            "created_at": "2023-02-22T19:10:49Z",
            "html_url": "https://github.com/neovim/neovim/issues/21856#issuecomment-1440652171",
            "id": 1440652171,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/21856",
            "node_id": "IC_kwDOAPphoM5V3puL",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1440652171/reactions"
            },
            "updated_at": "2023-02-22T19:11:10Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1440652171",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/183116?v=4",
                "events_url": "https://api.github.com/users/KokaKiwi/events{/privacy}",
                "followers_url": "https://api.github.com/users/KokaKiwi/followers",
                "following_url": "https://api.github.com/users/KokaKiwi/following{/other_user}",
                "gists_url": "https://api.github.com/users/KokaKiwi/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/KokaKiwi",
                "id": 183116,
                "login": "KokaKiwi",
                "node_id": "MDQ6VXNlcjE4MzExNg==",
                "organizations_url": "https://api.github.com/users/KokaKiwi/orgs",
                "received_events_url": "https://api.github.com/users/KokaKiwi/received_events",
                "repos_url": "https://api.github.com/users/KokaKiwi/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/KokaKiwi/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/KokaKiwi/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/KokaKiwi"
            }
        },
        {
            "author_association": "NONE",
            "body": "Yep encounter the same issue since upgraded to v0.9.. Im using windows terminal.. I'm using `VimLeave` to save session when I close the terminal.. It used to work in v0.8.. but since upgraded to v0.9, it no longer work.. Is there any workaround on this?",
            "created_at": "2023-04-08T09:19:49Z",
            "html_url": "https://github.com/neovim/neovim/issues/21856#issuecomment-1500834374",
            "id": 1500834374,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/21856",
            "node_id": "IC_kwDOAPphoM5ZdOpG",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1500834374/reactions"
            },
            "updated_at": "2023-04-11T00:40:15Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1500834374",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/3134846?v=4",
                "events_url": "https://api.github.com/users/nmsobri/events{/privacy}",
                "followers_url": "https://api.github.com/users/nmsobri/followers",
                "following_url": "https://api.github.com/users/nmsobri/following{/other_user}",
                "gists_url": "https://api.github.com/users/nmsobri/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/nmsobri",
                "id": 3134846,
                "login": "nmsobri",
                "node_id": "MDQ6VXNlcjMxMzQ4NDY=",
                "organizations_url": "https://api.github.com/users/nmsobri/orgs",
                "received_events_url": "https://api.github.com/users/nmsobri/received_events",
                "repos_url": "https://api.github.com/users/nmsobri/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/nmsobri/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/nmsobri/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/nmsobri"
            }
        },
        {
            "author_association": "NONE",
            "body": "I see this too after upgrading nvim. FWIW: https://stackoverflow.com/questions/47522854/main-src-unix-core-c117-uv-close-assertion-uv-is-closinghandle-failed",
            "created_at": "2023-04-17T15:42:45Z",
            "html_url": "https://github.com/neovim/neovim/issues/21856#issuecomment-1511622374",
            "id": 1511622374,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/21856",
            "node_id": "IC_kwDOAPphoM5aGYbm",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1511622374/reactions"
            },
            "updated_at": "2023-04-19T12:49:33Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1511622374",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/392133?v=4",
                "events_url": "https://api.github.com/users/errantepiphany/events{/privacy}",
                "followers_url": "https://api.github.com/users/errantepiphany/followers",
                "following_url": "https://api.github.com/users/errantepiphany/following{/other_user}",
                "gists_url": "https://api.github.com/users/errantepiphany/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/errantepiphany",
                "id": 392133,
                "login": "errantepiphany",
                "node_id": "MDQ6VXNlcjM5MjEzMw==",
                "organizations_url": "https://api.github.com/users/errantepiphany/orgs",
                "received_events_url": "https://api.github.com/users/errantepiphany/received_events",
                "repos_url": "https://api.github.com/users/errantepiphany/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/errantepiphany/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/errantepiphany/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/errantepiphany"
            }
        },
        {
            "author_association": "NONE",
            "body": "Hello, I have the same issue since my last nvim upgrade.",
            "created_at": "2023-04-18T06:17:44Z",
            "html_url": "https://github.com/neovim/neovim/issues/21856#issuecomment-1512499780",
            "id": 1512499780,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/21856",
            "node_id": "IC_kwDOAPphoM5aJupE",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1512499780/reactions"
            },
            "updated_at": "2023-04-19T12:49:42Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1512499780",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1695207?v=4",
                "events_url": "https://api.github.com/users/ragusa87/events{/privacy}",
                "followers_url": "https://api.github.com/users/ragusa87/followers",
                "following_url": "https://api.github.com/users/ragusa87/following{/other_user}",
                "gists_url": "https://api.github.com/users/ragusa87/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ragusa87",
                "id": 1695207,
                "login": "ragusa87",
                "node_id": "MDQ6VXNlcjE2OTUyMDc=",
                "organizations_url": "https://api.github.com/users/ragusa87/orgs",
                "received_events_url": "https://api.github.com/users/ragusa87/received_events",
                "repos_url": "https://api.github.com/users/ragusa87/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ragusa87/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ragusa87/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ragusa87"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "This problem is caused by #18375. This is probably due to the fact that [`loop_poll_event()`](https://github.com/neovim/neovim/blob/4ace9e7e417fe26c8b73ff1d6042e6e4f3df9ebf/src/nvim/ui_bridge.c#L126), which was executed by `ui_bridge_stop()`, is no longer executed. As evidence, changing the `loop_poll_event()` call to twice during `event_teardown()`, as in the following patch, fixes this problem.\r\n\r\n```diff\r\ndiff --git a/src/nvim/main.c b/src/nvim/main.c\r\nindex 698c2dcc4..8c2ccef67 100644\r\n--- a/src/nvim/main.c\r\n+++ b/src/nvim/main.c\r\n@@ -159,6 +159,7 @@ bool event_teardown(void)\r\n   }\r\n\r\n   multiqueue_process_events(main_loop.events);\r\n+  loop_poll_events(&main_loop, 0);\r\n   loop_poll_events(&main_loop, 0);  // Drain thread_events, fast_events.\r\n   input_stop();\r\n   channel_teardown();\r\n```\r\n\r\nIt is not clear if it is necessary to process until there are no more events during `main_loop` as in the following patch (In other words, it is unclear if a procedure exists to make the event that is causing the problem the third or subsequent event).\r\n\r\n```diff\r\ndiff --git a/src/nvim/main.c b/src/nvim/main.c\r\nindex 698c2dcc4..328a83b7e 100644\r\n--- a/src/nvim/main.c\r\n+++ b/src/nvim/main.c\r\n@@ -159,7 +159,13 @@ bool event_teardown(void)\r\n   }\r\n\r\n   multiqueue_process_events(main_loop.events);\r\n-  loop_poll_events(&main_loop, 0);  // Drain thread_events, fast_events.\r\n+  int retry = 5;\r\n+  while (retry--) {\r\n+    // Drain thread_events, fast_events.\r\n+    if (loop_poll_events(&main_loop, 10)) {\r\n+      break;\r\n+    }\r\n+  }\r\n   input_stop();\r\n   channel_teardown();\r\n   process_teardown(&main_loop);\r\n```\r\n\r\n\r\n\r\n",
            "created_at": "2023-04-19T13:08:17Z",
            "html_url": "https://github.com/neovim/neovim/issues/21856#issuecomment-1514706501",
            "id": 1514706501,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/21856",
            "node_id": "IC_kwDOAPphoM5aSJZF",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1514706501/reactions"
            },
            "updated_at": "2023-04-19T13:08:17Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1514706501",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/11682285?v=4",
                "events_url": "https://api.github.com/users/erw7/events{/privacy}",
                "followers_url": "https://api.github.com/users/erw7/followers",
                "following_url": "https://api.github.com/users/erw7/following{/other_user}",
                "gists_url": "https://api.github.com/users/erw7/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/erw7",
                "id": 11682285,
                "login": "erw7",
                "node_id": "MDQ6VXNlcjExNjgyMjg1",
                "organizations_url": "https://api.github.com/users/erw7/orgs",
                "received_events_url": "https://api.github.com/users/erw7/received_events",
                "repos_url": "https://api.github.com/users/erw7/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/erw7/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/erw7/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/erw7"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> Is there any way to work around this issue until it is fixed?\r\n\r\n```lua\r\nvim.api.nvim_create_autocmd({ \"VimLeave\" }, {\r\n  callback = function()\r\n    vim.cmd('!notify-send  \"hello\"')\r\n    vim.cmd('sleep 10m')\r\n  end,\r\n})\r\n```\r\n\r\n```lua\r\nvim.api.nvim_create_autocmd({ \"VimLeave\" }, {\r\n  callback = function()\r\n    vim.fn.jobstart('notify-send \"hello\"', {detach=true})\r\n  end,\r\n})\r\n```",
            "created_at": "2023-04-19T13:19:47Z",
            "html_url": "https://github.com/neovim/neovim/issues/21856#issuecomment-1514723887",
            "id": 1514723887,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/21856",
            "node_id": "IC_kwDOAPphoM5aSNov",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 12,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 3,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 15,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1514723887/reactions"
            },
            "updated_at": "2023-04-19T13:19:47Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1514723887",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/11682285?v=4",
                "events_url": "https://api.github.com/users/erw7/events{/privacy}",
                "followers_url": "https://api.github.com/users/erw7/followers",
                "following_url": "https://api.github.com/users/erw7/following{/other_user}",
                "gists_url": "https://api.github.com/users/erw7/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/erw7",
                "id": 11682285,
                "login": "erw7",
                "node_id": "MDQ6VXNlcjExNjgyMjg1",
                "organizations_url": "https://api.github.com/users/erw7/orgs",
                "received_events_url": "https://api.github.com/users/erw7/received_events",
                "repos_url": "https://api.github.com/users/erw7/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/erw7/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/erw7/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/erw7"
            }
        },
        {
            "author_association": "NONE",
            "body": "Can confirm that this happens even if we're executing lua apis.\r\n\r\n```lua\r\n--- ~/.config/nvim/lua/user/plugins/sessions.lua \r\n {\r\n    'stevearc/resession.nvim',\r\n    enabled = true,\r\n    lazy = true,\r\n    init = function()\r\n      vim.api.nvim_create_autocmd('UIEnter', {\r\n        callback = function()\r\n          if vim.fn.argc(-1) == 0 then\r\n            require('resession').load(get_session_name(), { dir = 'dirsession', silence_errors = true })\r\n          end\r\n        end,\r\n        group = au_session,\r\n      })\r\n    end,\r\n    config = function()\r\n      local resession = require 'resession'\r\n      resession.setup()\r\n      vim.api.nvim_create_autocmd('VimLeavePre', {\r\n        callback = function()\r\n          require('resession').save(get_session_name(), { dir = 'dirsession', notify = false, silence_errors = true })\r\n        end,\r\n        group = au_session,\r\n      })\r\n      -- Without I get the error that's mentioned above \r\n      -- vim.api.nvim_create_autocmd({ 'VimLeave' }, {\r\n      --   callback = function()\r\n      --     vim.cmd 'sleep 50m'\r\n      --   end,\r\n      --   group = au_session,\r\n      -- })\r\n    end,\r\n  },\r\n```",
            "created_at": "2024-01-06T12:56:53Z",
            "html_url": "https://github.com/neovim/neovim/issues/21856#issuecomment-1879674669",
            "id": 1879674669,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/21856",
            "node_id": "IC_kwDOAPphoM5wCY8t",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1879674669/reactions"
            },
            "updated_at": "2024-01-06T12:56:53Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1879674669",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31388020?v=4",
                "events_url": "https://api.github.com/users/shubham-cpp/events{/privacy}",
                "followers_url": "https://api.github.com/users/shubham-cpp/followers",
                "following_url": "https://api.github.com/users/shubham-cpp/following{/other_user}",
                "gists_url": "https://api.github.com/users/shubham-cpp/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/shubham-cpp",
                "id": 31388020,
                "login": "shubham-cpp",
                "node_id": "MDQ6VXNlcjMxMzg4MDIw",
                "organizations_url": "https://api.github.com/users/shubham-cpp/orgs",
                "received_events_url": "https://api.github.com/users/shubham-cpp/received_events",
                "repos_url": "https://api.github.com/users/shubham-cpp/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/shubham-cpp/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/shubham-cpp/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/shubham-cpp"
            }
        },
        {
            "author_association": "NONE",
            "body": "This bug also seems to affect exiting `nvim` with the `Nvim-R` plugin ([linked above](https://github.com/jalvesaq/Nvim-R/issues/792))",
            "created_at": "2024-01-09T09:55:10Z",
            "html_url": "https://github.com/neovim/neovim/issues/21856#issuecomment-1882749954",
            "id": 1882749954,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/21856",
            "node_id": "IC_kwDOAPphoM5wOHwC",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1882749954/reactions"
            },
            "updated_at": "2024-01-09T09:56:00Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1882749954",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/442360?v=4",
                "events_url": "https://api.github.com/users/mschubert/events{/privacy}",
                "followers_url": "https://api.github.com/users/mschubert/followers",
                "following_url": "https://api.github.com/users/mschubert/following{/other_user}",
                "gists_url": "https://api.github.com/users/mschubert/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mschubert",
                "id": 442360,
                "login": "mschubert",
                "node_id": "MDQ6VXNlcjQ0MjM2MA==",
                "organizations_url": "https://api.github.com/users/mschubert/orgs",
                "received_events_url": "https://api.github.com/users/mschubert/received_events",
                "repos_url": "https://api.github.com/users/mschubert/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mschubert/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mschubert/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mschubert"
            }
        }
    ],
    "comments": 10,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/21856/comments",
    "created_at": "2023-01-17T11:05:10Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/21856/events",
    "html_url": "https://github.com/neovim/neovim/issues/21856",
    "id": 1536190684,
    "labels": [
        {
            "color": "0E8A16",
            "default": false,
            "description": "issue is not fixed but can be circumvented until then",
            "id": 435850181,
            "name": "has:workaround",
            "node_id": "MDU6TGFiZWw0MzU4NTAxODE=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/has:workaround"
        },
        {
            "color": "F9D0C4",
            "default": false,
            "description": "issue reporting a crash or segfault",
            "id": 435854234,
            "name": "bug-crash",
            "node_id": "MDU6TGFiZWw0MzU4NTQyMzQ=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug-crash"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": null,
            "id": 520282574,
            "name": "event-loop",
            "node_id": "MDU6TGFiZWw1MjAyODI1NzQ=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/event-loop"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/21856/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM5bkGjc",
    "number": 21856,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 21,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 21,
        "url": "https://api.github.com/repos/neovim/neovim/issues/21856/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/21856/timeline",
    "title": "Error when closing Neovim with `VimLeavePre` autocommands that execute shell commands.",
    "updated_at": "2024-01-09T09:56:00Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/21856",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/36506250?v=4",
        "events_url": "https://api.github.com/users/vishalbalaji/events{/privacy}",
        "followers_url": "https://api.github.com/users/vishalbalaji/followers",
        "following_url": "https://api.github.com/users/vishalbalaji/following{/other_user}",
        "gists_url": "https://api.github.com/users/vishalbalaji/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/vishalbalaji",
        "id": 36506250,
        "login": "vishalbalaji",
        "node_id": "MDQ6VXNlcjM2NTA2MjUw",
        "organizations_url": "https://api.github.com/users/vishalbalaji/orgs",
        "received_events_url": "https://api.github.com/users/vishalbalaji/received_events",
        "repos_url": "https://api.github.com/users/vishalbalaji/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/vishalbalaji/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/vishalbalaji/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/vishalbalaji"
    }
}