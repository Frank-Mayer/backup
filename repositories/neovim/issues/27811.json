{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "body": "I will be working on an ext_cmdline/message implementation for the TUI. An internal C implementation was explored first, but dropped after coming to the conclusion that properly untangling the current cmdline from the message grid in C would require more work than leveraging and improving the already existing parallel ext_ code path.\r\n\r\n**Goals/progress:**\r\n- [ ] Implement a floating window in the cmdline area that mimics the current cmdline. Should allow us to verify there are no regressions.\r\n\t- [x] Allow floating window in cmdline area(#27687).\r\n\t- [x] Resolve issues with setting cursor position(#27858).\r\n\t- [ ] Resolve redrawing issues. Nvim should take responsibility for updating the screen after cmdline_ui_flush() while avoiding conflicts with cmdpreview/incsearch? I.e. the event handler should not have to call `:redraw`.\r\n\t- [ ] Add treesitter highlighting(#26346).\r\n- [ ] Initially also place messages in a floating window in the cmdline area for the same reason.\r\n\t- [x] Allow non-zero 'cmdheight' with ext_messages(#27812). In my opinion, a final implementation could still have the cmdline in the current 'cmdheight'-affected area, but:\r\n\t- [ ] Most messages should be placed elsewhere eventually, eliminating the hit-enter-prompt.\r\n\t- [ ] Separate handler for special messages(ruler, showcmd, showmode, search_count etc.).\r\n\t- [ ] Propagate highlight group id's instead of attrs for all messages(#27813). Initially started with this because it was necessary for the internal C implementation. Finished it because it is more useful for ext_message consumers.\r\n- [ ] Remove redundant C components:\r\n\t- [ ] Unmaintained Vimscript parser and cmdline highlighter.\r\n\t- [ ] Message grid.",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "Okay, I have basically finished the necessary plumbing for an initial ext_cmdline/message implementation(#27855). Now I find myself wondering if it will really be worth the effort to try to spoof the current message grid implementation if we intend to move away from it later. My initial implementation is close but actually making all screen tests pass will require more work. Maybe we @neovim/core @neovim/padawans should try to settle on what the default cmdline/message should look like first.\r\n\r\nI think there is merit in keeping the cmdline in the current 'cmdheight' area, as anything else might be too \"unfamiliar\"? If we don't care about that and can settle on a better alternative, I'm all for it. E.g. a floating window without borders on the last row (potentially on top of the statusline), or a floating window with borders positioned elsewhere.\r\n\r\nI suppose the most obvious candidate for an alternative message window would be a floating window with or without borders in the bottom right corner.\r\n\r\nWelcoming discussion.\r\n",
            "created_at": "2024-03-14T10:11:37Z",
            "html_url": "https://github.com/neovim/neovim/issues/27811#issuecomment-1997091918",
            "id": 1997091918,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27811",
            "node_id": "IC_kwDOAPphoM53CTRO",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1997091918/reactions"
            },
            "updated_at": "2024-03-14T10:11:37Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1997091918",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal"
            }
        }
    ],
    "comments": 1,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/27811/comments",
    "created_at": "2024-03-11T06:21:16Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/27811/events",
    "html_url": "https://github.com/neovim/neovim/issues/27811",
    "id": 2178319776,
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": "UI extensibility, events, protocol",
            "id": 640132777,
            "name": "ui-extensibility",
            "node_id": "MDU6TGFiZWw2NDAxMzI3Nzc=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/ui-extensibility"
        },
        {
            "color": "C5DEF5",
            "default": false,
            "description": "UI messages, log messages",
            "id": 5637083595,
            "name": "messages",
            "node_id": "LA_kwDOAPphoM8AAAABT_8Ryw",
            "url": "https://api.github.com/repos/neovim/neovim/labels/messages"
        },
        {
            "color": "C5DEF5",
            "default": false,
            "description": "command line, also cmdwin",
            "id": 5826989442,
            "name": "cmdline-mode",
            "node_id": "LA_kwDOAPphoM8AAAABW1DNgg",
            "url": "https://api.github.com/repos/neovim/neovim/labels/cmdline-mode"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/27811/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM6B1oWg",
    "number": 27811,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 8,
        "hooray": 0,
        "laugh": 0,
        "rocket": 13,
        "total_count": 21,
        "url": "https://api.github.com/repos/neovim/neovim/issues/27811/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/27811/timeline",
    "title": "ext_cmdline/message for the TUI: tracking issue",
    "updated_at": "2024-03-15T13:07:01Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/27811",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
        "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
        "followers_url": "https://api.github.com/users/luukvbaal/followers",
        "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
        "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/luukvbaal",
        "id": 31730729,
        "login": "luukvbaal",
        "node_id": "MDQ6VXNlcjMxNzMwNzI5",
        "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
        "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
        "repos_url": "https://api.github.com/users/luukvbaal/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/luukvbaal"
    }
}