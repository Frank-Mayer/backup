{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "body": "### Problem\n\nhttps://github.com/microsoft/vscode/issues/199610 explains the problem, but the TLDR is that some language servers (like the TypeScript one) don't perform any truncation on inlay hints, which might result on several lines of virtual text.\n\n### Expected behavior\n\nMy proposal is to add a configuration setting (and hence easily customizable with `vim.lsp.with`) that limits the length of inlay hints.",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "And as always, if people find this reasonable I'm more than happy to implement it :)",
            "created_at": "2024-01-28T03:10:38Z",
            "html_url": "https://github.com/neovim/neovim/issues/27240#issuecomment-1913429051",
            "id": 1913429051,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27240",
            "node_id": "IC_kwDOAPphoM5yDJw7",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 3,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 3,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1913429051/reactions"
            },
            "updated_at": "2024-01-28T03:10:38Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1913429051",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs"
            }
        },
        {
            "author_association": "NONE",
            "body": "Did anything come of this? looks like the PR was cancelled. Curious if you have any workarounds currently? I use TS mainly and have to disable `includeInlayVariableTypeHints` because many types/interfaces are too large inline especially for objects. I would love to be able to just add like a max length of 30 or 40 characters which for most types would give me what I need but for larger ones I atleast get an idea of the type/shape from the first 30 or 40 characters.",
            "created_at": "2024-04-14T01:40:49Z",
            "html_url": "https://github.com/neovim/neovim/issues/27240#issuecomment-2053842392",
            "id": 2053842392,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27240",
            "node_id": "IC_kwDOAPphoM56ayXY",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2053842392/reactions"
            },
            "updated_at": "2024-04-14T01:40:49Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2053842392",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/64155612?v=4",
                "events_url": "https://api.github.com/users/GitMurf/events{/privacy}",
                "followers_url": "https://api.github.com/users/GitMurf/followers",
                "following_url": "https://api.github.com/users/GitMurf/following{/other_user}",
                "gists_url": "https://api.github.com/users/GitMurf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/GitMurf",
                "id": 64155612,
                "login": "GitMurf",
                "node_id": "MDQ6VXNlcjY0MTU1NjEy",
                "organizations_url": "https://api.github.com/users/GitMurf/orgs",
                "received_events_url": "https://api.github.com/users/GitMurf/received_events",
                "repos_url": "https://api.github.com/users/GitMurf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/GitMurf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/GitMurf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/GitMurf"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "@GitMurf as a user (and maintainer) of TypeScript I understand your pain. \r\n\r\nThere's still a design discussion of whether this truncation should happen on the server or the client: The client would be able to provide \"more universal\" truncation mechanisms for several language servers, but the server is able to provide a \"smarter\" truncation based on what's semantically relevant.\r\n\r\nI'm <s>partly responsible</s> (okay yeah it's my fault) for the issue with TypeScript, since I removed the truncation when working on [interactive inlay hints](https://github.com/microsoft/TypeScript/pull/55141). However, the TypeScript server did nothing smart about truncation; [it had a hard-coded limit of 30 characters and just cut the inlay hint label after that](https://github.com/MariaSolOs/TypeScript/blob/5e8c261b6ab746213f19ee3501eb8c48a6215dd7/src/services/inlayHints.ts#L182).\r\n\r\nAll that being said, the following is **my personal hack**, which I don't recommend as a long term solution and I absolve myself from all negative consequences if you decide to copy-paste this into your dotfiles: https://github.com/MariaSolOs/dotfiles/blob/88646ab9bd20d6f36dacea0cdee8b6af3ffc4c50/.config/nvim/lua/lsp.lua#L275-L292\r\n\r\nThe above code should kind of reproduce the previous TypeScript behaviour.",
            "created_at": "2024-04-14T02:11:05Z",
            "html_url": "https://github.com/neovim/neovim/issues/27240#issuecomment-2053854899",
            "id": 2053854899,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27240",
            "node_id": "IC_kwDOAPphoM56a1az",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2053854899/reactions"
            },
            "updated_at": "2024-04-14T02:11:05Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2053854899",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs"
            }
        },
        {
            "author_association": "NONE",
            "body": "@MariaSolOs you are awesome! Love your work btw on both TS and neovim! saw your talk in the neovim annual conference. Appreciate all you do! That \"hack\" is exactly what I was looking for now!\r\n\r\nI also think an alternative \"solution\" (or helpful) would be this gh issue (https://github.com/neovim/neovim/issues/28261) for choosing to push inlay hints to end of line. Definitely not perfect, and lose some value, but it would be less disruptive to the code flow IMO.\r\n\r\nLastly, I am also using your toggle on insert mode autocmds from here: https://github.com/neovim/neovim/issues/24305 Thanks!",
            "created_at": "2024-04-14T02:24:31Z",
            "html_url": "https://github.com/neovim/neovim/issues/27240#issuecomment-2053860177",
            "id": 2053860177,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27240",
            "node_id": "IC_kwDOAPphoM56a2tR",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2053860177/reactions"
            },
            "updated_at": "2024-04-14T02:24:31Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2053860177",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/64155612?v=4",
                "events_url": "https://api.github.com/users/GitMurf/events{/privacy}",
                "followers_url": "https://api.github.com/users/GitMurf/followers",
                "following_url": "https://api.github.com/users/GitMurf/following{/other_user}",
                "gists_url": "https://api.github.com/users/GitMurf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/GitMurf",
                "id": 64155612,
                "login": "GitMurf",
                "node_id": "MDQ6VXNlcjY0MTU1NjEy",
                "organizations_url": "https://api.github.com/users/GitMurf/orgs",
                "received_events_url": "https://api.github.com/users/GitMurf/received_events",
                "repos_url": "https://api.github.com/users/GitMurf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/GitMurf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/GitMurf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/GitMurf"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "@GitMurf thanks for the kind words, it truly means a lot <3\r\n\r\nI've replied to the issue you linked. I'm trying to make everyone happy, remaining on what the LSP currently allows (we can always propose for a change though ;) ).",
            "created_at": "2024-04-14T02:52:09Z",
            "html_url": "https://github.com/neovim/neovim/issues/27240#issuecomment-2053870048",
            "id": 2053870048,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27240",
            "node_id": "IC_kwDOAPphoM56a5Hg",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 2,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 2,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2053870048/reactions"
            },
            "updated_at": "2024-04-14T02:52:09Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2053870048",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs"
            }
        }
    ],
    "comments": 5,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/27240/comments",
    "created_at": "2024-01-28T02:07:17Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/27240/events",
    "html_url": "https://github.com/neovim/neovim/issues/27240",
    "id": 2103918716,
    "labels": [
        {
            "color": "c2e0c6",
            "default": true,
            "description": "feature request",
            "id": 77997476,
            "name": "enhancement",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3Ng==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/enhancement"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": null,
            "id": 662566370,
            "name": "lsp",
            "node_id": "MDU6TGFiZWw2NjI1NjYzNzA=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/lsp"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/27240/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM59Z0B8",
    "number": 27240,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 14,
        "-1": 0,
        "confused": 0,
        "eyes": 1,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 15,
        "url": "https://api.github.com/repos/neovim/neovim/issues/27240/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/27240/timeline",
    "title": "Truncate long inlay hints",
    "updated_at": "2024-04-14T02:52:11Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/27240",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
        "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
        "followers_url": "https://api.github.com/users/MariaSolOs/followers",
        "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
        "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/MariaSolOs",
        "id": 62502207,
        "login": "MariaSolOs",
        "node_id": "MDQ6VXNlcjYyNTAyMjA3",
        "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
        "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
        "repos_url": "https://api.github.com/users/MariaSolOs/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/MariaSolOs"
    }
}