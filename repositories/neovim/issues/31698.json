{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\n\nLinks issue:\n- https://github.com/microsoft/terminal/issues/18312\n\nThe description of the issue and some discussions are in the above Issue link. Sorry, I'm not very good at summarizing them, so please check the link for details.\n\nIt is important to emphasize that the default $TERM in WSL within Windows Terminal is xterm-256color. Under normal circumstances, this poses no issues, and I can have colored undercurls. However, this does not work in zellij. When I set $TERM to vte-256color, I can see colored undercurls in zellij.\n\n![img](https://private-user-images.githubusercontent.com/70067449/395124885-32cc6c13-72c9-4041-a1c4-b5a55aff9508.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzQ5NTcyNzEsIm5iZiI6MTczNDk1Njk3MSwicGF0aCI6Ii83MDA2NzQ0OS8zOTUxMjQ4ODUtMzJjYzZjMTMtNzJjOS00MDQxLWExYzQtYjVhNTVhZmY5NTA4LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDEyMjMlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQxMjIzVDEyMjkzMVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTQ5N2M5ZjcwNWE5Nzk3NTEwNjFmMWVhMWNjYTRjNTAwZDZiZWY0NDVhMjI1NjM2MGEwZjVjZDRiYWMyODY0OGMmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.yHf0tv8T28FZUY9AH-Na3jMovSAFM60iLkMKLZt-O44)\n\n### Steps to reproduce\n\n- zellij\n- nvim --clean\n- input `:Term`\n- imput `printf '\\e[4:3mUnderlined\\n'`\n\n### Expected behavior\n\nYou can see the normal colored undercurl.\n\n### Nvim version (nvim -v)\n\nNVIM v0.10.2 Build type: Release LuaJIT 2.1.1713484068 Run \"nvim -V1 -v\" for more info\n\n### Vim (not Nvim) behaves the same?\n\nno\n\n### Operating system/version\n\nwsl ubuntu 2404\n\n### Terminal name/version\n\nWindows Terminal Preview Version: 1.22.3232.0\n\n### $TERM environment variable\n\nxterm-256color\n\n### Installation\n\nbob",
    "closed_at": "2024-12-23T12:54:49Z",
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
        "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
        "followers_url": "https://api.github.com/users/justinmk/followers",
        "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
        "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/justinmk",
        "id": 1359421,
        "login": "justinmk",
        "node_id": "MDQ6VXNlcjEzNTk0MjE=",
        "organizations_url": "https://api.github.com/users/justinmk/orgs",
        "received_events_url": "https://api.github.com/users/justinmk/received_events",
        "repos_url": "https://api.github.com/users/justinmk/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/justinmk",
        "user_view_type": "public"
    },
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "Always test the latest development version before reporting an issue. The [Releases](https://github.com/neovim/neovim/releases/tag/nightly) page has pre-built archives for Linux/Windows/macOS. Check `:version` to confirm the version.",
            "created_at": "2024-12-23T12:54:22Z",
            "html_url": "https://github.com/neovim/neovim/issues/31698#issuecomment-2559658047",
            "id": 2559658047,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31698",
            "node_id": "IC_kwDOAPphoM6YkUg_",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2559658047/reactions"
            },
            "updated_at": "2024-12-23T12:54:22Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2559658047",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> Sorry, I'm not very good at summarizing them, so please check the link for details.\n\nNope",
            "created_at": "2024-12-23T12:54:49Z",
            "html_url": "https://github.com/neovim/neovim/issues/31698#issuecomment-2559658723",
            "id": 2559658723,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31698",
            "node_id": "IC_kwDOAPphoM6YkUrj",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2559658723/reactions"
            },
            "updated_at": "2024-12-23T12:54:49Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2559658723",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "Hi @justinmk, thank you for your quick reply.  I've tried using the latest nightly version and the problem is still recurring:\n\n![Image](https://github.com/user-attachments/assets/528343ea-1621-434b-8a8a-763235d407d9)\n> The left is in zellij.\n\n```\n‚ùØ nvim --version\nNVIM v0.11.0-dev-1401+g7e1c1ff7fc\nBuild type: RelWithDebInfo\nLuaJIT 2.1.1734355927\nRun \"nvim -V1 -v\" for more inf\n```\n\n![Image](https://github.com/user-attachments/assets/d44ea1b3-48ca-4107-9577-c25fc8a01240)\n\n**After set TERM**\n\n![Image](https://github.com/user-attachments/assets/02d42a21-7a42-4550-b735-2fd40b2af032)\n",
            "created_at": "2024-12-24T02:41:38Z",
            "html_url": "https://github.com/neovim/neovim/issues/31698#issuecomment-2560561766",
            "id": 2560561766,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31698",
            "node_id": "IC_kwDOAPphoM6YnxJm",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2560561766/reactions"
            },
            "updated_at": "2024-12-24T02:41:38Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2560561766",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/70067449?v=4",
                "events_url": "https://api.github.com/users/Daydreamer-riri/events{/privacy}",
                "followers_url": "https://api.github.com/users/Daydreamer-riri/followers",
                "following_url": "https://api.github.com/users/Daydreamer-riri/following{/other_user}",
                "gists_url": "https://api.github.com/users/Daydreamer-riri/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Daydreamer-riri",
                "id": 70067449,
                "login": "Daydreamer-riri",
                "node_id": "MDQ6VXNlcjcwMDY3NDQ5",
                "organizations_url": "https://api.github.com/users/Daydreamer-riri/orgs",
                "received_events_url": "https://api.github.com/users/Daydreamer-riri/received_events",
                "repos_url": "https://api.github.com/users/Daydreamer-riri/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Daydreamer-riri/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Daydreamer-riri/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Daydreamer-riri",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "Hi @justinmk, what is the progress? Can we reopen this issue?",
            "created_at": "2024-12-29T16:28:16Z",
            "html_url": "https://github.com/neovim/neovim/issues/31698#issuecomment-2564774188",
            "id": 2564774188,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31698",
            "node_id": "IC_kwDOAPphoM6Y31ks",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2564774188/reactions"
            },
            "updated_at": "2024-12-29T16:28:16Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2564774188",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/70067449?v=4",
                "events_url": "https://api.github.com/users/Daydreamer-riri/events{/privacy}",
                "followers_url": "https://api.github.com/users/Daydreamer-riri/followers",
                "following_url": "https://api.github.com/users/Daydreamer-riri/following{/other_user}",
                "gists_url": "https://api.github.com/users/Daydreamer-riri/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Daydreamer-riri",
                "id": 70067449,
                "login": "Daydreamer-riri",
                "node_id": "MDQ6VXNlcjcwMDY3NDQ5",
                "organizations_url": "https://api.github.com/users/Daydreamer-riri/orgs",
                "received_events_url": "https://api.github.com/users/Daydreamer-riri/received_events",
                "repos_url": "https://api.github.com/users/Daydreamer-riri/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Daydreamer-riri/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Daydreamer-riri/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Daydreamer-riri",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": " https://github.com/zellij-org/zellij/pull/2678\n\nand your problem is unclear you print underline but you want see undercurl ? please search on zellij first ",
            "created_at": "2024-12-30T05:45:26Z",
            "html_url": "https://github.com/neovim/neovim/issues/31698#issuecomment-2565048873",
            "id": 2565048873,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31698",
            "node_id": "IC_kwDOAPphoM6Y44op",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2565048873/reactions"
            },
            "updated_at": "2024-12-30T05:59:13Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2565048873",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
                "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
                "followers_url": "https://api.github.com/users/glepnir/followers",
                "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
                "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glepnir",
                "id": 41671631,
                "login": "glepnir",
                "node_id": "MDQ6VXNlcjQxNjcxNjMx",
                "organizations_url": "https://api.github.com/users/glepnir/orgs",
                "received_events_url": "https://api.github.com/users/glepnir/received_events",
                "repos_url": "https://api.github.com/users/glepnir/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glepnir",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "I'm sorry if my description wasn't clear enough. What I mainly want to express is the following difference: I need to manually set the `Term` to `vte-256color` (originally `xterm-256color`) for everything in Neovim to work as expected. Outside of Neovim, even if I don't manually set `Term`, the undercurl works fine.\n\nYou can see the differences in the screenshot among the left, center, and right sections. The top left shows the undercurl in Zellij + Neovim, compared to the right side, which is Neovim in a regular Windows Terminal pane. The bottom left shows the effect of printing `\\e[4:3mUnderlined\\n` in the terminal within Zellij + Neovim (I haven't thoroughly studied the related escape sequences, so I assume this represents the undercurl), compared to the middle section, which shows the effect of printing `\\e[4:3mUnderlined\\n` in Zellij.\n\nYou can see that the undercurl, which works elsewhere, turns into a straight line in Neovim, and its color matches the foreground color of the text at its location.\n\nWhen I set `Term` to `vte-256color` in Zellij, all issues are resolved.\n\nTherefore, I personally think this might be related to how Neovim handles `Term` (though I might be wrong, as I'm not very familiar with the underlying principles).\n\nI just wanted to report this issue and try to find the cause. I'm not sure if the issue you referenced is related to what I'm experiencing. I've also opened an issue in the Zellij repository.",
            "created_at": "2024-12-30T06:22:11Z",
            "html_url": "https://github.com/neovim/neovim/issues/31698#issuecomment-2565069653",
            "id": 2565069653,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31698",
            "node_id": "IC_kwDOAPphoM6Y49tV",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2565069653/reactions"
            },
            "updated_at": "2024-12-30T06:22:11Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2565069653",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/70067449?v=4",
                "events_url": "https://api.github.com/users/Daydreamer-riri/events{/privacy}",
                "followers_url": "https://api.github.com/users/Daydreamer-riri/followers",
                "following_url": "https://api.github.com/users/Daydreamer-riri/following{/other_user}",
                "gists_url": "https://api.github.com/users/Daydreamer-riri/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Daydreamer-riri",
                "id": 70067449,
                "login": "Daydreamer-riri",
                "node_id": "MDQ6VXNlcjcwMDY3NDQ5",
                "organizations_url": "https://api.github.com/users/Daydreamer-riri/orgs",
                "received_events_url": "https://api.github.com/users/Daydreamer-riri/received_events",
                "repos_url": "https://api.github.com/users/Daydreamer-riri/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Daydreamer-riri/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Daydreamer-riri/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Daydreamer-riri",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 6,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/31698/comments",
    "created_at": "2024-12-23T12:36:44Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/31698/events",
    "html_url": "https://github.com/neovim/neovim/issues/31698",
    "id": 2755990077,
    "labels": [],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/31698/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM6kRRI9",
    "number": 31698,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/31698/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "not_planned",
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/31698/timeline",
    "title": "Undercurl error in zellij in neovim",
    "updated_at": "2024-12-30T06:22:13Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/31698",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/70067449?v=4",
        "events_url": "https://api.github.com/users/Daydreamer-riri/events{/privacy}",
        "followers_url": "https://api.github.com/users/Daydreamer-riri/followers",
        "following_url": "https://api.github.com/users/Daydreamer-riri/following{/other_user}",
        "gists_url": "https://api.github.com/users/Daydreamer-riri/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/Daydreamer-riri",
        "id": 70067449,
        "login": "Daydreamer-riri",
        "node_id": "MDQ6VXNlcjcwMDY3NDQ5",
        "organizations_url": "https://api.github.com/users/Daydreamer-riri/orgs",
        "received_events_url": "https://api.github.com/users/Daydreamer-riri/received_events",
        "repos_url": "https://api.github.com/users/Daydreamer-riri/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/Daydreamer-riri/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Daydreamer-riri/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/Daydreamer-riri",
        "user_view_type": "public"
    }
}