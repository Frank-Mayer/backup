{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "body": "### Problem\n\nAlacritty 0.14 released with a [kitty keyboard protocol fix](https://github.com/alacritty/alacritty/pull/7993) that causes key combinations like `c-]` with a qwertz keyboard layout to be interpreted as `<c-9>` of `c-]` within nvim.\n\nI'm not entirely sure if that's a alacritty regression, or if the kitty keyboard support in neovim is the problem. In vim the same works.\n\n### Steps to reproduce\n\n- Install alacritty 0.14 and setup qwertz keyboard layout \n- nvim --clean\n- Enter insert mode\n- Type `c-v` followed by `c-]` (or try to use tagfunc)\n\nIn case it matters: This is on linux with sway.\n\n### Expected behavior\n\nInserts `^]`  instead of `<c-9>`\n\n### Nvim version (nvim -v)\n\nNVIM v0.11.0-dev-1082+g3688a33354\n\n### Vim (not Nvim) behaves the same?\n\nNo\n\n### Operating system/version\n\nArchlinux\n\n### Terminal name/version\n\nalacritty 0.14\n\n### $TERM environment variable\n\nalacritty\n\n### Installation\n\nCMAKE_BUILD_TYPE=RelWithDebInfo make ",
    "closed_at": null,
    "closed_by": null,
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "I noticed that after a recent ITerm2 update, I'm not able to use shortcuts in terminal mode. For example `ctrl+p` to run the previous command just puts `^p` in the terminal input. Similar thing also happens for `ctrl+n` and `ctrl+r`. This made me pretty much abandon using terminal within neovim. I'm not knowledgeable enough to tell if this is related to the issue mentioned here, but I thought it might be potentially valuable to share my experience. ",
            "created_at": "2024-11-03T11:11:13Z",
            "html_url": "https://github.com/neovim/neovim/issues/31045#issuecomment-2453387540",
            "id": 2453387540,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31045",
            "node_id": "IC_kwDOAPphoM6SO7kU",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2453387540/reactions"
            },
            "updated_at": "2024-11-03T11:11:13Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2453387540",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/34251810?v=4",
                "events_url": "https://api.github.com/users/jakubsmolaga/events{/privacy}",
                "followers_url": "https://api.github.com/users/jakubsmolaga/followers",
                "following_url": "https://api.github.com/users/jakubsmolaga/following{/other_user}",
                "gists_url": "https://api.github.com/users/jakubsmolaga/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/jakubsmolaga",
                "id": 34251810,
                "login": "jakubsmolaga",
                "node_id": "MDQ6VXNlcjM0MjUxODEw",
                "organizations_url": "https://api.github.com/users/jakubsmolaga/orgs",
                "received_events_url": "https://api.github.com/users/jakubsmolaga/received_events",
                "repos_url": "https://api.github.com/users/jakubsmolaga/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/jakubsmolaga/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jakubsmolaga/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/jakubsmolaga",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> In vim the same works.\n\nIs it a vim version that supports and has enabled modifyOtherKeys/kitty keyboard protocol?",
            "created_at": "2024-11-03T16:17:21Z",
            "html_url": "https://github.com/neovim/neovim/issues/31045#issuecomment-2453482990",
            "id": 2453482990,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31045",
            "node_id": "IC_kwDOAPphoM6SPS3u",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2453482990/reactions"
            },
            "updated_at": "2024-11-03T16:17:21Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2453482990",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "`<c-9>` is strange. Do you only need to press Ctrl-9 to produce Ctrl-] on qwertz keyboard, or is some other modifier needed?",
            "created_at": "2024-11-03T23:30:54Z",
            "html_url": "https://github.com/neovim/neovim/issues/31045#issuecomment-2453619005",
            "id": 2453619005,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31045",
            "node_id": "IC_kwDOAPphoM6SP0E9",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2453619005/reactions"
            },
            "updated_at": "2024-11-04T08:37:55Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2453619005",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> , or is some other modifier needed?\n\nthe right alt key is needed.\n\nThe whole key event logs from alacritty looks like this:\n\n```\nKeyboardInput { device_id: DeviceId(Wayland(DeviceId)), event: KeyEvent { physical_key: Code(ControlLeft), logical_key: Named(Control), text: None, location: Left, state: Pressed, repeat: false, platform_specific: KeyEventExtra { text_with_all_modifiers: None, key_without_modifiers: Named(Control) } }, is_synthetic: false }\nModifiersChanged(Modifiers { state: ModifiersState(CONTROL), pressed_mods: ModifiersKeys(0x0) })\nAbout to wait\nKeyboardInput { device_id: DeviceId(Wayland(DeviceId)), event: KeyEvent { physical_key: Code(AltRight), logical_key: Named(AltGraph), text: None, location: Standard, state: Pressed, repeat: false, platform_specific: KeyEventExtra { text_with_all_modifiers: None, key_without_modifiers: Named(AltGraph) } }, is_synthetic: false }\nModifiersChanged(Modifiers { state: ModifiersState(CONTROL), pressed_mods: ModifiersKeys(0x0) })\nAbout to wait\nKeyboardInput { device_id: DeviceId(Wayland(DeviceId)), event: KeyEvent { physical_key: Code(Digit9), logical_key: Character(\"]\"), text: Some(\"]\"), location: Standard, state: Pressed, repeat: false, platform_specific: KeyEventExtra { text_with_all_modifiers: Some(\"\\u{1d}\"), key_without_modifiers: Character(\"9\") } }, is_synthetic: false }\nAbout to wait\nEvent { window_id: Some(WindowId(103962883445088)), payload: Terminal(Wakeup) }\nRedrawRequested\nAbout to wait\nAbout to wait\nKeyboardInput { device_id: DeviceId(Wayland(DeviceId)), event: KeyEvent { physical_key: Code(Digit9), logical_key: Character(\"]\"), text: Some(\"]\"), location: Standard, state: Released, repeat: false, platform_specific: KeyEventExtra { text_with_all_modifiers: Some(\"\\u{1d}\"), key_without_modifiers: Character(\"9\") } }, is_synthetic: false }\nAbout to wait\nKeyboardInput { device_id: DeviceId(Wayland(DeviceId)), event: KeyEvent { physical_key: Code(AltRight), logical_key: Named(AltGraph), text: None, location: Standard, state: Released, repeat: false, platform_specific: KeyEventExtra { text_with_all_modifiers: None, key_without_modifiers: Named(AltGraph) } }, is_synthetic: false }\nModifiersChanged(Modifiers { state: ModifiersState(CONTROL), pressed_mods: ModifiersKeys(0x0) })\nAbout to wait\nKeyboardInput { device_id: DeviceId(Wayland(DeviceId)), event: KeyEvent { physical_key: Code(ControlLeft), logical_key: Named(Control), text: None, location: Left, state: Released, repeat: false, platform_specific: KeyEventExtra { text_with_all_modifiers: None, key_without_modifiers: Named(Control) } }, is_synthetic: false }\n```\n\n\n> Is it a vim version that supports and has enabled modifyOtherKeys/kitty keyboard protocol?\n\nI'm not familiar with the differences there (or the whole terminal key handling in general). Based on it's `:h modifyOtherKeys` it sounds like it doesn't do an automatic detection like nvim, but even if I force enable it via the following it still handles the key sequence as `c-]`:\n\n```\nlet &t_TI = \"\\<Esc>[>4;2m\"\nlet &t_TE = \"\\<Esc>[>4;m\"\n```\n",
            "created_at": "2024-11-04T07:43:05Z",
            "html_url": "https://github.com/neovim/neovim/issues/31045#issuecomment-2454010986",
            "id": 2454010986,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31045",
            "node_id": "IC_kwDOAPphoM6SRTxq",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2454010986/reactions"
            },
            "updated_at": "2024-11-04T08:53:25Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2454010986",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/38700?v=4",
                "events_url": "https://api.github.com/users/mfussenegger/events{/privacy}",
                "followers_url": "https://api.github.com/users/mfussenegger/followers",
                "following_url": "https://api.github.com/users/mfussenegger/following{/other_user}",
                "gists_url": "https://api.github.com/users/mfussenegger/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mfussenegger",
                "id": 38700,
                "login": "mfussenegger",
                "node_id": "MDQ6VXNlcjM4NzAw",
                "organizations_url": "https://api.github.com/users/mfussenegger/orgs",
                "received_events_url": "https://api.github.com/users/mfussenegger/received_events",
                "repos_url": "https://api.github.com/users/mfussenegger/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mfussenegger/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mfussenegger/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mfussenegger",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "This problem doesn't apply to modifyOtherKeys, and it seems that enabling kitty keyboard protocol for Vim in alacritty doesn't work.",
            "created_at": "2024-11-04T11:05:30Z",
            "html_url": "https://github.com/neovim/neovim/issues/31045#issuecomment-2454421010",
            "id": 2454421010,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31045",
            "node_id": "IC_kwDOAPphoM6SS34S",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2454421010/reactions"
            },
            "updated_at": "2024-11-04T11:06:16Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2454421010",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 5,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/31045/comments",
    "created_at": "2024-11-02T11:24:29Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/31045/events",
    "html_url": "https://github.com/neovim/neovim/issues/31045",
    "id": 2630400836,
    "labels": [
        {
            "color": "f9d0c4",
            "default": true,
            "description": "issues reporting wrong behavior",
            "id": 77997474,
            "name": "bug",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3NA==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "",
            "id": 197254545,
            "name": "tui",
            "node_id": "MDU6TGFiZWwxOTcyNTQ1NDU=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/tui"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": null,
            "id": 396626349,
            "name": "input",
            "node_id": "MDU6TGFiZWwzOTY2MjYzNDk=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/input"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/31045/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 659,
        "created_at": "2014-05-10T20:43:04Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk",
            "user_view_type": "public"
        },
        "description": "Low priority items. We plan to work on this but don't have a target date.",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/6",
        "id": 655037,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/6/labels",
        "node_id": "MDk6TWlsZXN0b25lNjU1MDM3",
        "number": 6,
        "open_issues": 615,
        "state": "open",
        "title": "backlog",
        "updated_at": "2024-11-04T13:49:47Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/6"
    },
    "node_id": "I_kwDOAPphoM6cyLtE",
    "number": 31045,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/31045/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/31045/timeline",
    "title": "kitty keyboard protocol + shifted keys; qwertz keyboard not handling c-]",
    "updated_at": "2024-11-04T11:06:16Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/31045",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/38700?v=4",
        "events_url": "https://api.github.com/users/mfussenegger/events{/privacy}",
        "followers_url": "https://api.github.com/users/mfussenegger/followers",
        "following_url": "https://api.github.com/users/mfussenegger/following{/other_user}",
        "gists_url": "https://api.github.com/users/mfussenegger/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/mfussenegger",
        "id": 38700,
        "login": "mfussenegger",
        "node_id": "MDQ6VXNlcjM4NzAw",
        "organizations_url": "https://api.github.com/users/mfussenegger/orgs",
        "received_events_url": "https://api.github.com/users/mfussenegger/received_events",
        "repos_url": "https://api.github.com/users/mfussenegger/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/mfussenegger/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/mfussenegger/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/mfussenegger",
        "user_view_type": "public"
    }
}