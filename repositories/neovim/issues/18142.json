{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Neovim version (nvim -v)\n\nNVIM v0.7.0-dev+1280-gf2e5f509d Build type: RelWithDebInfo LuaJIT 2.1.0-beta3 Compilation: /bin/cc -march=x86-64 -mtune=generic -O2 -pipe -fno-plt -fexceptions     -Wp,-D_FORTIFY_SOURCE=2 -Wformat -Werror=format-security     -fstack-clash-protection -fcf-protection -Wp,-U_FORTIFY_SOURCE -Wp,-D_FORTIFY_SOURCE=1 -DNVIM_TS_HAS_SET_MATCH_LIMIT -O2 -g -Og -g -Wall -Wextra -pedantic -Wno-unused-parameter -Wstrict-prototypes -std=gnu99 -Wshadow -Wconversion -Wmissing-prototypes -Wimplicit-fallthrough -Wvla -fstack-protector-strong -fno-common -fdiagnostics-color=auto -DINCLUDE_GENERATED_DECLARATIONS -D_GNU_SOURCE -DNVIM_MSGPACK_HAS_FLOAT32 -DNVIM_UNIBI_HAS_VAR_FROM -DMIN_LOG_LEVEL=3 -I/var/cache/aura/vcs/neovim-git/neovim-git/src/build/config -I/var/cache/aura/vcs/neovim-git/neovim-git/src/neovim-git/src -I/usr/include -I/var/cache/aura/vcs/neovim-git/neovim-git/src/build/src/nvim/auto -I/var/cache/aura/vcs/neovim-git/neovim-git/src/build/include Compiled by ronan@XPS15  Features: +acl +iconv +tui See \":help feature-compile\"     system vimrc file: \"$VIM/sysinit.vim\"   fall-back for $VIM: \"/usr/share/nvim\"\n\n### Vim (not Nvim) behaves the same?\n\nN/A\n\n### Operating system/version\n\nArch Linux\n\n### Terminal name/version\n\nKitty 0.23.1\n\n### $TERM environment variable\n\nxterm-kitty\n\n### Installation\n\nAUR\n\n### How to reproduce the issue\n\n\r\n```lua\r\nlocal win = vim.api.nvim_open_win(0, false, {\r\n  relative = \"editor\",\r\n  anchor = \"NW\",\r\n  width = 50,\r\n  height = 4,\r\n  col = 1,\r\n  row = 1,\r\n  border = \"double\",\r\n  style = \"minimal\",\r\n})\r\n\r\nvim.schedule(function()\r\n  vim.api.nvim_win_set_config(win, { zindex = 400 })\r\n\r\n  vim.api.nvim_open_win(0, false, {\r\n    zindex = 300,\r\n    relative = \"editor\",\r\n    anchor = \"NW\",\r\n    style = \"minimal\",\r\n    width = 40,\r\n    height = 5,\r\n    row = 1,\r\n    col = 1,\r\n    border = \"single\",\r\n  })\r\nend)\r\n```\n\n### Expected behavior\n\nThe first window (double border) should appear above the second.\r\n\r\nRemove the schedule to see expected behaviour\r\n```lua\r\nlocal win = vim.api.nvim_open_win(0, false, {\r\n  relative = \"editor\",\r\n  anchor = \"NW\",\r\n  width = 50,\r\n  height = 4,\r\n  col = 1,\r\n  row = 1,\r\n  border = \"double\",\r\n  style = \"minimal\",\r\n})\r\n\r\nvim.api.nvim_win_set_config(win, { zindex = 400 })\r\n\r\nvim.api.nvim_open_win(0, false, {\r\nzindex = 300,\r\nrelative = \"editor\",\r\nanchor = \"NW\",\r\nstyle = \"minimal\",\r\nwidth = 40,\r\nheight = 5,\r\nrow = 1,\r\ncol = 1,\r\nborder = \"single\",\r\n})\r\n```\n\n### Actual behavior\n\nThe second window appears on top despite having a lower zindex.",
    "closed_at": "2024-12-12T10:45:58Z",
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
        "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
        "followers_url": "https://api.github.com/users/justinmk/followers",
        "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
        "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/justinmk",
        "id": 1359421,
        "login": "justinmk",
        "node_id": "MDQ6VXNlcjEzNTk0MjE=",
        "organizations_url": "https://api.github.com/users/justinmk/orgs",
        "received_events_url": "https://api.github.com/users/justinmk/received_events",
        "repos_url": "https://api.github.com/users/justinmk/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/justinmk",
        "user_view_type": "public"
    },
    "comment_data": [],
    "comments": 0,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/18142/comments",
    "created_at": "2022-04-17T09:30:57Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/18142/events",
    "html_url": "https://github.com/neovim/neovim/issues/18142",
    "id": 1206327851,
    "labels": [
        {
            "color": "f9d0c4",
            "default": true,
            "description": "issues reporting wrong behavior",
            "id": 77997474,
            "name": "bug",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3NA==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "",
            "id": 113026979,
            "name": "ui",
            "node_id": "MDU6TGFiZWwxMTMwMjY5Nzk=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/ui"
        },
        {
            "color": "C5DEF5",
            "default": false,
            "description": "floating windows, popups, hover",
            "id": 3234818716,
            "name": "floatwin",
            "node_id": "MDU6TGFiZWwzMjM0ODE4NzE2",
            "url": "https://api.github.com/repos/neovim/neovim/labels/floatwin"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/18142/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 113,
        "created_at": "2023-12-07T23:09:35Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk",
            "user_view_type": "public"
        },
        "description": "",
        "due_on": "2025-03-15T07:00:00Z",
        "html_url": "https://github.com/neovim/neovim/milestone/41",
        "id": 10283236,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/41/labels",
        "node_id": "MI_kwDOAPphoM4AnOjk",
        "number": 41,
        "open_issues": 56,
        "state": "open",
        "title": "0.11",
        "updated_at": "2024-12-13T12:25:45Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/41"
    },
    "node_id": "I_kwDOAPphoM5H5xor",
    "number": 18142,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 1,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 1,
        "url": "https://api.github.com/repos/neovim/neovim/issues/18142/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "completed",
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/18142/timeline",
    "title": "Updating zindex of a floating window does not work",
    "updated_at": "2024-12-12T10:45:59Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/18142",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/24252670?v=4",
        "events_url": "https://api.github.com/users/rcarriga/events{/privacy}",
        "followers_url": "https://api.github.com/users/rcarriga/followers",
        "following_url": "https://api.github.com/users/rcarriga/following{/other_user}",
        "gists_url": "https://api.github.com/users/rcarriga/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/rcarriga",
        "id": 24252670,
        "login": "rcarriga",
        "node_id": "MDQ6VXNlcjI0MjUyNjcw",
        "organizations_url": "https://api.github.com/users/rcarriga/orgs",
        "received_events_url": "https://api.github.com/users/rcarriga/received_events",
        "repos_url": "https://api.github.com/users/rcarriga/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/rcarriga/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/rcarriga/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/rcarriga",
        "user_view_type": "public"
    }
}