{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\r\n\r\nAt the moment there are certain options which are only local to window (such as wrap and list, and others), there are many plugins which implement a `bigfile` feature where when a sufficiently big file is explored certain features are turned off. Those plugins rely, often on restoring some of these options, by simply querying the global options table, however if you modify `vim.wo.wrap = false` it would automatically render `vim.go.wrap` or `vim.o.wrap` useless, (one must save the current window local options on VimEnter i suppose) since the wrap option is window local only, there is no `global` scope for them. Therefore `vim.o.wrap` will always return whatever the value of current `vim.wo.wrap` is.\r\n\r\n### Expected behavior\r\n\r\nOnly Window local options should not pollute the global options object i.e `vim.o.wrap` should result in an error, or window-global options should exist, this is quite a messy topic too.",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "Window options are a mess. But the described behavior sounds to me correct _given how these accessors are documented_. We will not make further convenience changes that makes reasoning about these even harder. If a plugin _must_ distinguish global and local options, it should check `vim.go` and `vim.wo` explicitly.",
            "created_at": "2024-03-28T13:16:39Z",
            "html_url": "https://github.com/neovim/neovim/issues/28079#issuecomment-2025165106",
            "id": 2025165106,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28079",
            "node_id": "IC_kwDOAPphoM54tZEy",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2025165106/reactions"
            },
            "updated_at": "2024-03-28T13:17:34Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2025165106",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        },
        {
            "author_association": "NONE",
            "body": "That is my argument, at the moment `vim.go` and `vim.wo` for wrap return the same value, which is inconsistent since `wrap` is window local ONLY. How would one distinguish that ? Imo `vim.go.wrap` makes no sense, as there is no global wrap option in the first place.\r\n\r\n\r\n```md\r\nvim.go                                                                vim.go\r\n    Get or set global options. Like :setglobal. **Invalid key is\r\n    an error.**\r\n```\r\n\r\n```lua\r\n-- by default wrap is on in neovim, both return true, at vim start\r\nvim.print(\"before-set\", vim.go.wrap, vim.wo.wrap)\r\n\r\nvim.wo.wrap = false\r\n-- now both return false, even though there is no global wrap option.\r\nvim.print(\"before-set\", vim.go.wrap, vim.wo.wrap)\r\n```",
            "created_at": "2024-03-28T13:24:29Z",
            "html_url": "https://github.com/neovim/neovim/issues/28079#issuecomment-2025181080",
            "id": 2025181080,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28079",
            "node_id": "IC_kwDOAPphoM54tc-Y",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2025181080/reactions"
            },
            "updated_at": "2024-03-28T13:26:20Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2025181080",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/15955811?v=4",
                "events_url": "https://api.github.com/users/asmodeus812/events{/privacy}",
                "followers_url": "https://api.github.com/users/asmodeus812/followers",
                "following_url": "https://api.github.com/users/asmodeus812/following{/other_user}",
                "gists_url": "https://api.github.com/users/asmodeus812/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/asmodeus812",
                "id": 15955811,
                "login": "asmodeus812",
                "node_id": "MDQ6VXNlcjE1OTU1ODEx",
                "organizations_url": "https://api.github.com/users/asmodeus812/orgs",
                "received_events_url": "https://api.github.com/users/asmodeus812/received_events",
                "repos_url": "https://api.github.com/users/asmodeus812/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/asmodeus812/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/asmodeus812/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/asmodeus812"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "So there's a bug with _one_ specific option; sounds to me like that should be fixed instead of adding yet more cards to the already teetering house?",
            "created_at": "2024-03-28T13:27:36Z",
            "html_url": "https://github.com/neovim/neovim/issues/28079#issuecomment-2025187852",
            "id": 2025187852,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28079",
            "node_id": "IC_kwDOAPphoM54teoM",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2025187852/reactions"
            },
            "updated_at": "2024-03-28T13:27:36Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2025187852",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        },
        {
            "author_association": "NONE",
            "body": "No it is not one specific option the same applies to all window options i tested, 'list' is the same, 'breakindent', 'cc', 'nu', 'nuw', and there are probably more. 'cursor' works fine, throws an error.\r\n\r\nI am not proposing a behavior change, i thought this was not a bug, but it seems like it is. Some window local options can be accessed from vim.go",
            "created_at": "2024-03-28T13:30:12Z",
            "html_url": "https://github.com/neovim/neovim/issues/28079#issuecomment-2025193082",
            "id": 2025193082,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28079",
            "node_id": "IC_kwDOAPphoM54tf56",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2025193082/reactions"
            },
            "updated_at": "2024-03-28T13:31:33Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2025193082",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/15955811?v=4",
                "events_url": "https://api.github.com/users/asmodeus812/events{/privacy}",
                "followers_url": "https://api.github.com/users/asmodeus812/followers",
                "following_url": "https://api.github.com/users/asmodeus812/following{/other_user}",
                "gists_url": "https://api.github.com/users/asmodeus812/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/asmodeus812",
                "id": 15955811,
                "login": "asmodeus812",
                "node_id": "MDQ6VXNlcjE1OTU1ODEx",
                "organizations_url": "https://api.github.com/users/asmodeus812/orgs",
                "received_events_url": "https://api.github.com/users/asmodeus812/received_events",
                "repos_url": "https://api.github.com/users/asmodeus812/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/asmodeus812/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/asmodeus812/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/asmodeus812"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Definitely bug. The intention is documented; if something doesn't match it, it's a bug. (And I did not say it was the only one with a bug...)",
            "created_at": "2024-03-28T13:32:21Z",
            "html_url": "https://github.com/neovim/neovim/issues/28079#issuecomment-2025198663",
            "id": 2025198663,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28079",
            "node_id": "IC_kwDOAPphoM54thRH",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2025198663/reactions"
            },
            "updated_at": "2024-03-28T13:32:21Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2025198663",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        }
    ],
    "comments": 5,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/28079/comments",
    "created_at": "2024-03-28T13:13:32Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/28079/events",
    "html_url": "https://github.com/neovim/neovim/issues/28079",
    "id": 2213215439,
    "labels": [
        {
            "color": "f9d0c4",
            "default": true,
            "description": "issues reporting wrong behavior",
            "id": 77997474,
            "name": "bug",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3NA==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "stdlib",
            "id": 573222693,
            "name": "lua",
            "node_id": "MDU6TGFiZWw1NzMyMjI2OTM=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/lua"
        },
        {
            "color": "C5DEF5",
            "default": false,
            "description": "",
            "id": 4242493821,
            "name": "options",
            "node_id": "LA_kwDOAPphoM7831F9",
            "url": "https://api.github.com/repos/neovim/neovim/labels/options"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/28079/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM6D6vzP",
    "number": 28079,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/28079/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/28079/timeline",
    "title": "Lua: `vim.go` accesses local-only options",
    "updated_at": "2024-03-28T13:33:02Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/28079",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/15955811?v=4",
        "events_url": "https://api.github.com/users/asmodeus812/events{/privacy}",
        "followers_url": "https://api.github.com/users/asmodeus812/followers",
        "following_url": "https://api.github.com/users/asmodeus812/following{/other_user}",
        "gists_url": "https://api.github.com/users/asmodeus812/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/asmodeus812",
        "id": 15955811,
        "login": "asmodeus812",
        "node_id": "MDQ6VXNlcjE1OTU1ODEx",
        "organizations_url": "https://api.github.com/users/asmodeus812/orgs",
        "received_events_url": "https://api.github.com/users/asmodeus812/received_events",
        "repos_url": "https://api.github.com/users/asmodeus812/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/asmodeus812/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/asmodeus812/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/asmodeus812"
    }
}