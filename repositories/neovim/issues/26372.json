{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "body": "### Problem\r\n\r\nWhen Nvim starts up, it is possible for the default colorscheme to be visible before any user colorscheme is loaded. This can result in a very annoying glitch in the colorscheme each time I open Nvim. This wasn't a problem before since the old default colorscheme did not set a background.\r\n\r\n\r\nhttps://github.com/neovim/neovim/assets/7904185/6919505e-c09d-49db-b811-452685f556e1\r\n\r\n\r\nSince I don't plan to use the default colorscheme I consider this a fairly large regression.\r\n\r\n### Steps to reproduce\r\n\r\n`nvim --clean -u NORC --cmd 'call system([\"sleep\", \"1\"])' --cmd 'color vim'`\r\n\r\n\r\n### Expected behavior\r\n\r\nThe background should not change as nvim is starting up.\r\n\r\n### Neovim version (nvim -v)\r\n\r\nNVIM v0.10.0-dev-1744+g0d885247\r\n\r\n### Vim (not Nvim) behaves the same?\r\n\r\nno\r\n\r\n### Operating system/version\r\n\r\nmacOS 14\r\n\r\n### Terminal name/version\r\n\r\nwezterm\r\n\r\n### $TERM environment variable\r\n\r\nxterm-256color\r\n\r\n### Installation\r\n\r\nSource\r\n\r\n---\r\n\r\nOne solution is to revert the background color in the new colorscheme so it is not set for `notermguicolors`.\n\n@echasnovski ",
    "closed_at": "2023-12-06T18:58:05Z",
    "comment_data": [
        {
            "author_association": "CONTRIBUTOR",
            "body": "I am honestly not sure how this can be solved to have both of these be true:\r\n- Make default color scheme have dedicated background color (even with `notermguicolors`, as it was the requirement).\r\n- Make it not show if redraw is triggered.\r\n\r\nMaybe it is better to fix the problem of why it becomes visible before loading custom color scheme (either in core or in setup itself)? I don't think I can register this being the case in my setup.\r\n\r\n@justinmk?",
            "created_at": "2023-12-03T18:54:21Z",
            "html_url": "https://github.com/neovim/neovim/issues/26372#issuecomment-1837567468",
            "id": 1837567468,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26372",
            "node_id": "IC_kwDOAPphoM5thw3s",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1837567468/reactions"
            },
            "updated_at": "2023-12-03T18:54:21Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1837567468",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/24854248?v=4",
                "events_url": "https://api.github.com/users/echasnovski/events{/privacy}",
                "followers_url": "https://api.github.com/users/echasnovski/followers",
                "following_url": "https://api.github.com/users/echasnovski/following{/other_user}",
                "gists_url": "https://api.github.com/users/echasnovski/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/echasnovski",
                "id": 24854248,
                "login": "echasnovski",
                "node_id": "MDQ6VXNlcjI0ODU0MjQ4",
                "organizations_url": "https://api.github.com/users/echasnovski/orgs",
                "received_events_url": "https://api.github.com/users/echasnovski/received_events",
                "repos_url": "https://api.github.com/users/echasnovski/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/echasnovski/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/echasnovski/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/echasnovski"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> Make default color scheme have dedicated background color (even with notermguicolors, as it was the requirement).\n\nWhy was this a requirement? IMO the opposite should have been a requirement. It is pretty uncommon for any terminal application to set a background color by default.\n\n> Maybe it is better to fix the problem of why it becomes visible before loading custom color scheme (either in core or in setup itself)? I don't think I can register this being the case in my setup.\n\nI don't think the repro can be any simpler. If any part of the config setup runs a system command synchronously then this can happen. I wouldn't be surprised if there were other cases that could cause it as well.",
            "created_at": "2023-12-03T19:00:08Z",
            "html_url": "https://github.com/neovim/neovim/issues/26372#issuecomment-1837568789",
            "id": 1837568789,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26372",
            "node_id": "IC_kwDOAPphoM5thxMV",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1837568789/reactions"
            },
            "updated_at": "2023-12-03T19:00:08Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1837568789",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> Why was this a requirement?\r\n\r\nBecause otherwise there is no way to actually design a set of colors that can work together with background, i.e. have enough contrast. ",
            "created_at": "2023-12-03T19:05:05Z",
            "html_url": "https://github.com/neovim/neovim/issues/26372#issuecomment-1837570235",
            "id": 1837570235,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26372",
            "node_id": "IC_kwDOAPphoM5thxi7",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1837570235/reactions"
            },
            "updated_at": "2023-12-03T19:05:05Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1837570235",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/24854248?v=4",
                "events_url": "https://api.github.com/users/echasnovski/events{/privacy}",
                "followers_url": "https://api.github.com/users/echasnovski/followers",
                "following_url": "https://api.github.com/users/echasnovski/following{/other_user}",
                "gists_url": "https://api.github.com/users/echasnovski/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/echasnovski",
                "id": 24854248,
                "login": "echasnovski",
                "node_id": "MDQ6VXNlcjI0ODU0MjQ4",
                "organizations_url": "https://api.github.com/users/echasnovski/orgs",
                "received_events_url": "https://api.github.com/users/echasnovski/received_events",
                "repos_url": "https://api.github.com/users/echasnovski/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/echasnovski/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/echasnovski/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/echasnovski"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Then maybe (IMO) the colorscheme with `notermguicolors` should have been restricted to colors 0-16. If there is not enough contrast then it is because of the users terminal theme.\n\nIf the user wants to opt-in to an opinionated set of colours they can enable `termguicolors`.",
            "created_at": "2023-12-03T19:18:40Z",
            "html_url": "https://github.com/neovim/neovim/issues/26372#issuecomment-1837573638",
            "id": 1837573638,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26372",
            "node_id": "IC_kwDOAPphoM5thyYG",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1837573638/reactions"
            },
            "updated_at": "2023-12-03T19:19:20Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1837573638",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> Then maybe (IMO) the colorscheme with `notermguicolors` should have been restricted to colors 0-16.\r\n\r\nWhy only 0-16? We can simply document that for `notermguicolors`, bg=dark means we assume a near-black bg, and bg=light means we assume a near-white bg. And we can choose 0-256 colors based on that assumption.\r\n",
            "created_at": "2023-12-03T22:25:11Z",
            "html_url": "https://github.com/neovim/neovim/issues/26372#issuecomment-1837619331",
            "id": 1837619331,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26372",
            "node_id": "IC_kwDOAPphoM5th9iD",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1837619331/reactions"
            },
            "updated_at": "2023-12-03T22:26:35Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1837619331",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Because that will be coherent with the users terminal palette. Only using the 17-255 colors results in a much more jarring experience since it completely deviates away from whatever the user may have configured.\n\nWe can still keep the \"use mostly green/blue\" mantra, it's just those specific shades of green/blue will be consistent with the users terminal colors as opposed to whatever the 17-255 space happens to be.",
            "created_at": "2023-12-03T22:29:42Z",
            "html_url": "https://github.com/neovim/neovim/issues/26372#issuecomment-1837620380",
            "id": 1837620380,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26372",
            "node_id": "IC_kwDOAPphoM5th9yc",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1837620380/reactions"
            },
            "updated_at": "2023-12-03T22:30:28Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1837620380",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Related #25377",
            "created_at": "2023-12-03T22:40:31Z",
            "html_url": "https://github.com/neovim/neovim/issues/26372#issuecomment-1837623319",
            "id": 1837623319,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26372",
            "node_id": "IC_kwDOAPphoM5th-gX",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1837623319/reactions"
            },
            "updated_at": "2023-12-03T22:40:31Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1837623319",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> Because that will be coherent with the users terminal palette. Only using the 17-255 colors results in a much more jarring experience since it completely deviates away from whatever the user may have configured.\r\n\r\nIsn't that separate from the \"background flicker\" problem?",
            "created_at": "2023-12-03T23:05:14Z",
            "html_url": "https://github.com/neovim/neovim/issues/26372#issuecomment-1837630539",
            "id": 1837630539,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26372",
            "node_id": "IC_kwDOAPphoM5tiARL",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1837630539/reactions"
            },
            "updated_at": "2023-12-03T23:05:14Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1837630539",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Ah yes, sorry, I misinterpreted what you said. So you're advocating to unset the background as per my suggestion?\r\n\r\nOn a related note, I do think the benefits outweigh the negatives on restricting the noguitermcolors version to only use colors 0-16, but I'll leave that as feedback on the other issue and maybe raise another issue about it. \r\n\r\nEDIT: raised #26385",
            "created_at": "2023-12-03T23:18:36Z",
            "html_url": "https://github.com/neovim/neovim/issues/26372#issuecomment-1837634050",
            "id": 1837634050,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26372",
            "node_id": "IC_kwDOAPphoM5tiBIC",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1837634050/reactions"
            },
            "updated_at": "2023-12-04T12:09:53Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1837634050",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "One important aspect of the default color scheme defining all colors (which I missed originally) is for it to be beginner-friendly. I have seen quite a few complaints that default UI in general was a big turn off at the start. To me, not having that is a good thing.\r\n\r\nNot defining background while defining all other colors somewhat defeats the purpose of having a built-in color scheme. Mostly because there is no way to ensure proper enough text (enough lightness and saturation contrasts) for any background. Documenting that it needs to be \"near black/white\" is doable, of course. While at the same time I am quite certain that the number of people using near black/white backgrounds are considerably lower than the number of users who have this type of flickering problem being *unavoidable* (i.e. by applying color scheme first thing in the config).\r\n\r\nThat said, #26381 seems to fix the core flickering issue.",
            "created_at": "2023-12-04T10:47:33Z",
            "html_url": "https://github.com/neovim/neovim/issues/26372#issuecomment-1838339141",
            "id": 1838339141,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26372",
            "node_id": "IC_kwDOAPphoM5tktRF",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1838339141/reactions"
            },
            "updated_at": "2023-12-04T10:47:33Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1838339141",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/24854248?v=4",
                "events_url": "https://api.github.com/users/echasnovski/events{/privacy}",
                "followers_url": "https://api.github.com/users/echasnovski/followers",
                "following_url": "https://api.github.com/users/echasnovski/following{/other_user}",
                "gists_url": "https://api.github.com/users/echasnovski/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/echasnovski",
                "id": 24854248,
                "login": "echasnovski",
                "node_id": "MDQ6VXNlcjI0ODU0MjQ4",
                "organizations_url": "https://api.github.com/users/echasnovski/orgs",
                "received_events_url": "https://api.github.com/users/echasnovski/received_events",
                "repos_url": "https://api.github.com/users/echasnovski/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/echasnovski/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/echasnovski/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/echasnovski"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> Not defining background while defining all other colors somewhat defeats the purpose of having a built-in color scheme.\r\n\r\nIt's a standard practice in terminal apps, especially because it affects (1) non-Nvim select-and-copy (the terminal treats the background as whitespace instead of non-text), and (2) [transparency](https://github.com/neovim/neovim/issues/26372#issuecomment-1839136437).\r\n\r\nNot setting bg for 'notermguicolors' is a reasonable compromise. OTOH, we could document how to opt-out of the bg color (requires #26381 to avoid flicker):\r\n\r\n    :highlight Normal guibg=NONE guifg=NONE ctermbg=NONE ctermfg=NONE\r\n\r\nhttps://github.com/neovim/neovim/issues/26385 would be a more complete solution, if it can be resolved.",
            "created_at": "2023-12-04T12:11:48Z",
            "html_url": "https://github.com/neovim/neovim/issues/26372#issuecomment-1838509513",
            "id": 1838509513,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26372",
            "node_id": "IC_kwDOAPphoM5tlW3J",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1838509513/reactions"
            },
            "updated_at": "2023-12-04T17:36:19Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1838509513",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> OTOH, we could document how to opt-out of the bg color (requires #26381 to avoid flicker):\r\n> \r\n> ```\r\n> :highlight Normal guibg=NONE guifg=NONE ctermbg=NONE ctermfg=NONE\r\n> ```\r\n\r\nI think this is a better compromise, for sure.",
            "created_at": "2023-12-04T12:19:51Z",
            "html_url": "https://github.com/neovim/neovim/issues/26372#issuecomment-1838521967",
            "id": 1838521967,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26372",
            "node_id": "IC_kwDOAPphoM5tlZ5v",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1838521967/reactions"
            },
            "updated_at": "2023-12-04T12:19:51Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1838521967",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/24854248?v=4",
                "events_url": "https://api.github.com/users/echasnovski/events{/privacy}",
                "followers_url": "https://api.github.com/users/echasnovski/followers",
                "following_url": "https://api.github.com/users/echasnovski/following{/other_user}",
                "gists_url": "https://api.github.com/users/echasnovski/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/echasnovski",
                "id": 24854248,
                "login": "echasnovski",
                "node_id": "MDQ6VXNlcjI0ODU0MjQ4",
                "organizations_url": "https://api.github.com/users/echasnovski/orgs",
                "received_events_url": "https://api.github.com/users/echasnovski/received_events",
                "repos_url": "https://api.github.com/users/echasnovski/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/echasnovski/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/echasnovski/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/echasnovski"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Honestly, that seems more like a rough workaround than a compromise.",
            "created_at": "2023-12-04T12:21:56Z",
            "html_url": "https://github.com/neovim/neovim/issues/26372#issuecomment-1838525048",
            "id": 1838525048,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26372",
            "node_id": "IC_kwDOAPphoM5tlap4",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 3,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 3,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1838525048/reactions"
            },
            "updated_at": "2023-12-04T12:22:04Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1838525048",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        },
        {
            "author_association": "NONE",
            "body": "I’d like to add one more facet to this discussion that I didn’t see mentioned yet: For several terminals, having an application use a background color for its whole UI (instead of leaving most of it at the “default” color) breaks terminal _transparency_.\r\n\r\nSo, as you might know, some terminals allow some degree of transparency, i.e. have whatever window is behind the terminal, or the desktop wallpaper, shine through the terminal window. It’s obviously eyecandy, but quite a few people use it. But: On some (or maybe even most?) of the terminals supporting this, only the “default background color” (i.e. `\\e[49m`) gets the special transparency treatment.\r\n\r\nFor example, here is Neovim running in tmux in WezTerm on Windows. You can see the desktop background image through the terminal, but NeoVim’s status bar, the separate items in the tmux status bar, and even the `'colorcolumn'` are not transparent at all.\r\n\r\n![image](https://github.com/neovim/neovim/assets/28629/584ad714-28fb-486c-91d8-0b3e3973b04f)\r\n\r\nI’d argue that this is a good thing, because it’s what makes the visual difference between “parts of the terminal are opaque, parts are see-through” vs. “I’ve just uniformly dialed down the opacity of the whole terminal, yolo”.\r\n\r\nThat being said, I understand both sides here: The one saying “I already _have_ a terminal background color, Vim shouldn’t bring its own”, but also the one saying “we can’t design a good colorscheme without defining the background color on which it is displayed”.",
            "created_at": "2023-12-04T17:31:34Z",
            "html_url": "https://github.com/neovim/neovim/issues/26372#issuecomment-1839136437",
            "id": 1839136437,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26372",
            "node_id": "IC_kwDOAPphoM5tnv61",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1839136437/reactions"
            },
            "updated_at": "2023-12-04T17:36:31Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1839136437",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/28629?v=4",
                "events_url": "https://api.github.com/users/scy/events{/privacy}",
                "followers_url": "https://api.github.com/users/scy/followers",
                "following_url": "https://api.github.com/users/scy/following{/other_user}",
                "gists_url": "https://api.github.com/users/scy/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/scy",
                "id": 28629,
                "login": "scy",
                "node_id": "MDQ6VXNlcjI4NjI5",
                "organizations_url": "https://api.github.com/users/scy/orgs",
                "received_events_url": "https://api.github.com/users/scy/received_events",
                "repos_url": "https://api.github.com/users/scy/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/scy/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/scy/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/scy"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Thanks, Björn!",
            "created_at": "2023-12-06T19:05:27Z",
            "html_url": "https://github.com/neovim/neovim/issues/26372#issuecomment-1843526243",
            "id": 1843526243,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26372",
            "node_id": "IC_kwDOAPphoM5t4fpj",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1843526243/reactions"
            },
            "updated_at": "2023-12-06T19:05:27Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1843526243",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/24854248?v=4",
                "events_url": "https://api.github.com/users/echasnovski/events{/privacy}",
                "followers_url": "https://api.github.com/users/echasnovski/followers",
                "following_url": "https://api.github.com/users/echasnovski/following{/other_user}",
                "gists_url": "https://api.github.com/users/echasnovski/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/echasnovski",
                "id": 24854248,
                "login": "echasnovski",
                "node_id": "MDQ6VXNlcjI0ODU0MjQ4",
                "organizations_url": "https://api.github.com/users/echasnovski/orgs",
                "received_events_url": "https://api.github.com/users/echasnovski/received_events",
                "repos_url": "https://api.github.com/users/echasnovski/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/echasnovski/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/echasnovski/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/echasnovski"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "@bfredl, as there is still an issue for the (now default) `termguicolors`, maybe it is a good idea to reopen this with 0.10 milestone so that it is not forgotten?",
            "created_at": "2023-12-12T19:00:06Z",
            "html_url": "https://github.com/neovim/neovim/issues/26372#issuecomment-1852634858",
            "id": 1852634858,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26372",
            "node_id": "IC_kwDOAPphoM5ubPbq",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1852634858/reactions"
            },
            "updated_at": "2023-12-12T19:00:06Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1852634858",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/24854248?v=4",
                "events_url": "https://api.github.com/users/echasnovski/events{/privacy}",
                "followers_url": "https://api.github.com/users/echasnovski/followers",
                "following_url": "https://api.github.com/users/echasnovski/following{/other_user}",
                "gists_url": "https://api.github.com/users/echasnovski/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/echasnovski",
                "id": 24854248,
                "login": "echasnovski",
                "node_id": "MDQ6VXNlcjI0ODU0MjQ4",
                "organizations_url": "https://api.github.com/users/echasnovski/orgs",
                "received_events_url": "https://api.github.com/users/echasnovski/received_events",
                "repos_url": "https://api.github.com/users/echasnovski/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/echasnovski/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/echasnovski/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/echasnovski"
            }
        }
    ],
    "comments": 16,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/26372/comments",
    "created_at": "2023-12-03T17:30:18Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/26372/events",
    "html_url": "https://github.com/neovim/neovim/issues/26372",
    "id": 2022634884,
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": "issues or PRs involving changing the defaults",
            "id": 103777064,
            "name": "defaults",
            "node_id": "MDU6TGFiZWwxMDM3NzcwNjQ=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/defaults"
        },
        {
            "color": "0E8A16",
            "default": false,
            "description": "",
            "id": 606691254,
            "name": "has:plan",
            "node_id": "MDU6TGFiZWw2MDY2OTEyNTQ=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/has:plan"
        },
        {
            "color": "f9d0c4",
            "default": false,
            "description": "wrong behavior that was introduced in a previous commit (please bisect)",
            "id": 619474658,
            "name": "bug-regression",
            "node_id": "MDU6TGFiZWw2MTk0NzQ2NTg=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug-regression"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "Nvim startup sequence (`:h startup`)",
            "id": 870629450,
            "name": "startup",
            "node_id": "MDU6TGFiZWw4NzA2Mjk0NTA=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/startup"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "",
            "id": 1786207367,
            "name": "highlight",
            "node_id": "MDU6TGFiZWwxNzg2MjA3MzY3",
            "url": "https://api.github.com/repos/neovim/neovim/labels/highlight"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/26372/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM54jvWE",
    "number": 26372,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 8,
        "-1": 0,
        "confused": 0,
        "eyes": 1,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 9,
        "url": "https://api.github.com/repos/neovim/neovim/issues/26372/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "completed",
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/26372/timeline",
    "title": "The new default colorscheme causes the background to change during startup",
    "updated_at": "2023-12-12T19:00:07Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/26372",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
        "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
        "followers_url": "https://api.github.com/users/lewis6991/followers",
        "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
        "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/lewis6991",
        "id": 7904185,
        "login": "lewis6991",
        "node_id": "MDQ6VXNlcjc5MDQxODU=",
        "organizations_url": "https://api.github.com/users/lewis6991/orgs",
        "received_events_url": "https://api.github.com/users/lewis6991/received_events",
        "repos_url": "https://api.github.com/users/lewis6991/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/lewis6991"
    }
}