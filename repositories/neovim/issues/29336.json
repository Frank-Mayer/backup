{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\n\nDescribe the bug\r\nI am not able to get neovim to detect python 3 on Windows 10 pro. I made several attempts.\r\n\r\ninstalled python 3.12 from the official site (before tried several times with 3.10, 3.11. 3.12 from the official site, winget and chocolatey)\r\ninstalled neovim 0.10 via winget \r\nfollowed the guide https://neovim.io/doc/user/provider.html . I am sure I used correct path, keys, etc.\r\nnvim has never detected a python provider able to import neovim (tested within several shells)\r\n\r\nEvery time I ran :checkhealth and got this:\r\n```\r\nprovider.python: require(\"provider.python.health\").check()\r\n\r\nPython 3 provider (optional) ~\r\n- `g:python3_host_prog` is not set. Searching for python in the environment.\r\n- Executable: C:\\Users\\ASUS\\AppData\\Local\\Programs\\Python\\Python312\\python.EXE\r\n- Python version: 3.12.4\r\n- pynvim version: 0.5.0\r\n- WARNING Could not contact PyPI to get latest version.\r\n- ERROR HTTP request failed: error: curl error with https://pypi.python.org/pypi/pynvim/json: 35\r\n\r\nPython virtualenv ~\r\n- OK no $VIRTUAL_ENV\r\n```\r\nNOTE: the Json problem gives 404 error \r\nLater I tried to config with the path but nvim can't detect the executable : \r\n```\r\nprovider.python: require(\"provider.python.health\").check()\r\n\r\nPython 3 provider (optional) ~\r\n- Using: g:python3_host_prog = \"C:\\Users\\ASUS\\AppData\\Local\\Programs\\Python\\Python312\\\"\r\n- Executable: Not found\r\n- ERROR Detected pip upgrade failure: Python executable can import \"pynvim\" but not \"neovim\": \r\n  - ADVICE:\r\n    - Use that Python version to reinstall \"pynvim\" and optionally \"neovim\".\r\n    -  -m pip uninstall pynvim neovim\r\n    -  -m pip install pynvim\r\n    -  -m pip install neovim  # only if needed by third-party software\r\n``` \n\n### Steps to reproduce\n\n- install neovim with winget\r\n- install python with different way ( winget, chocolatey, official site intaller)\r\n- use CMD,  powershell\r\n- checkhealth\r\n\n\n### Expected behavior\n\nI would expect neovim to detect the provider \n\n### Neovim version (nvim -v)\n\n0.10\n\n### Vim (not Nvim) behaves the same?\n\nnot installed\n\n### Operating system/version\n\nWindows 10\n\n### Terminal name/version\n\nWindows Terminal, CMD, powershell\n\n### $TERM environment variable\n\nNone\n\n### Installation\n\nWinget, Chocolatey, Installler",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "> ERROR HTTP request failed: error: curl error with https://pypi.python.org/pypi/pynvim/json: 35\r\n\r\nWhy is that HTTP request failing? https://github.com/neovim/neovim/blob/20a7eebec086129e605041d32916f36df50890de/runtime/lua/vim/provider/health.lua#L439\r\n\r\nDoes `curl https://pypi.python.org/pypi/pynvim/json` work for you?\r\n\r\n> Using: g:python3_host_prog = \"C:\\Users\\ASUS\\AppData\\Local\\Programs\\Python\\Python312\\\"\r\n\r\n`g:python3_host_prog` must point to the exe, not the directory.",
            "created_at": "2024-06-17T22:49:43Z",
            "html_url": "https://github.com/neovim/neovim/issues/29336#issuecomment-2174568420",
            "id": 2174568420,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/29336",
            "node_id": "IC_kwDOAPphoM6BnUfk",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2174568420/reactions"
            },
            "updated_at": "2024-06-17T22:49:43Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2174568420",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        }
    ],
    "comments": 1,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/29336/comments",
    "created_at": "2024-06-14T17:01:35Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/29336/events",
    "html_url": "https://github.com/neovim/neovim/issues/29336",
    "id": 2353763386,
    "labels": [
        {
            "color": "f9d0c4",
            "default": true,
            "description": "issues reporting wrong behavior",
            "id": 77997474,
            "name": "bug",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3NA==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug"
        },
        {
            "color": "d4c5f9",
            "default": false,
            "description": null,
            "id": 109461219,
            "name": "platform:windows",
            "node_id": "MDU6TGFiZWwxMDk0NjEyMTk=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/platform:windows"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": null,
            "id": 144672485,
            "name": "provider",
            "node_id": "MDU6TGFiZWwxNDQ2NzI0ODU=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/provider"
        },
        {
            "color": "FBCA04",
            "default": false,
            "description": "waiting for reply from the author",
            "id": 248229439,
            "name": "needs:response",
            "node_id": "MDU6TGFiZWwyNDgyMjk0Mzk=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/needs:response"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/29336/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM6MS5Q6",
    "number": 29336,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/29336/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/29336/timeline",
    "title": "can't detect python provider in Windows 10",
    "updated_at": "2024-06-17T22:50:01Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/29336",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/113310442?v=4",
        "events_url": "https://api.github.com/users/JDCerberus/events{/privacy}",
        "followers_url": "https://api.github.com/users/JDCerberus/followers",
        "following_url": "https://api.github.com/users/JDCerberus/following{/other_user}",
        "gists_url": "https://api.github.com/users/JDCerberus/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/JDCerberus",
        "id": 113310442,
        "login": "JDCerberus",
        "node_id": "U_kgDOBsD66g",
        "organizations_url": "https://api.github.com/users/JDCerberus/orgs",
        "received_events_url": "https://api.github.com/users/JDCerberus/received_events",
        "repos_url": "https://api.github.com/users/JDCerberus/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/JDCerberus/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/JDCerberus/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/JDCerberus"
    }
}