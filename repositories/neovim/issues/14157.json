{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "body": "<!-- Before reporting: search existing issues and check the FAQ. -->\r\n\r\n- `nvim --version`: v0.5.0-dev+1143-gdc8273f2f\r\n- `vim -u DEFAULTS` (version: ) behaves differently? No\r\n- Operating system/version: 5.11.5-arch1-1\r\n- Terminal name/version: kitty 0.19.3\r\n- `$TERM`: xterm-kitty\r\n\r\n### Steps to reproduce using `nvim -u NORC`\r\n\r\n```\r\nnvim -u NORC\r\n:set operatorfunc=v:lua.require('mymod').myfunc\r\ng@\r\n```\r\n\r\n### Actual behaviour\r\nNothing happens\r\n\r\n### Expected behaviour\r\nThe function `myfunc` in the module `mymod` to be called.\r\n\r\n### Possible reason\r\nSo I was trying to see why this is happening. Looking at the source code there is a [check](https://github.com/neovim/neovim/blob/master/src/nvim/eval.c#L1042) if a function starts with `v:lua.`. But then in [`check_luafunc_name`](https://github.com/neovim/neovim/blob/master/src/nvim/eval.c#L8501) it is asserted that all characters are `alphanum` or `_`/`.`. This check then fails I guess since the operatorfunc in this case also has `'`-characters. I haven't look much further yet to see what a solution might be but wanted to check if someone already knows since I'm not very familiar with the codebase yet.\r\n\r\n### Related\r\nhttps://github.com/neovim/neovim/issues/11306\r\nhttps://github.com/neovim/neovim/pull/11338",
    "closed_at": "2023-09-18T14:36:42Z",
    "comment_data": [
        {
            "author_association": "CONTRIBUTOR",
            "body": "Even more ideally, just like keymaps and autocommands are going in the direction of accepting lua functions directly. It would be great if operatorfunc could do the same. Then no global functions or even `require` based exporting would be required.\r\n\r\nMaybe something like `vim.operatorfunc.set(<function>)`. You also generally want to stash the previous operatorfunc somewhere so that we can nest operators, `operatorfunc.set` probably should do that to. Maybe we'd call it `operatorfunc.append/stack` then",
            "created_at": "2022-01-10T07:24:02Z",
            "html_url": "https://github.com/neovim/neovim/issues/14157#issuecomment-1008599639",
            "id": 1008599639,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/14157",
            "node_id": "IC_kwDOAPphoM48HgJX",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 8,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 8,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1008599639/reactions"
            },
            "updated_at": "2022-01-10T07:24:02Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1008599639",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5981889?v=4",
                "events_url": "https://api.github.com/users/IndianBoy42/events{/privacy}",
                "followers_url": "https://api.github.com/users/IndianBoy42/followers",
                "following_url": "https://api.github.com/users/IndianBoy42/following{/other_user}",
                "gists_url": "https://api.github.com/users/IndianBoy42/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/IndianBoy42",
                "id": 5981889,
                "login": "IndianBoy42",
                "node_id": "MDQ6VXNlcjU5ODE4ODk=",
                "organizations_url": "https://api.github.com/users/IndianBoy42/orgs",
                "received_events_url": "https://api.github.com/users/IndianBoy42/received_events",
                "repos_url": "https://api.github.com/users/IndianBoy42/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/IndianBoy42/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/IndianBoy42/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/IndianBoy42"
            }
        },
        {
            "author_association": "NONE",
            "body": "I would love to try to contribute here, but it's my first time in the codebase. Do you have a suggestion on where I might look to get started on this?\r\nI'd imagine this would be somewhat similar to using lua functions in keymap.set, right?",
            "created_at": "2022-07-05T22:16:34Z",
            "html_url": "https://github.com/neovim/neovim/issues/14157#issuecomment-1175555851",
            "id": 1175555851,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/14157",
            "node_id": "IC_kwDOAPphoM5GEY8L",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1175555851/reactions"
            },
            "updated_at": "2022-11-07T07:42:47Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1175555851",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/36716240?v=4",
                "events_url": "https://api.github.com/users/zdcthomas/events{/privacy}",
                "followers_url": "https://api.github.com/users/zdcthomas/followers",
                "following_url": "https://api.github.com/users/zdcthomas/following{/other_user}",
                "gists_url": "https://api.github.com/users/zdcthomas/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zdcthomas",
                "id": 36716240,
                "login": "zdcthomas",
                "node_id": "MDQ6VXNlcjM2NzE2MjQw",
                "organizations_url": "https://api.github.com/users/zdcthomas/orgs",
                "received_events_url": "https://api.github.com/users/zdcthomas/received_events",
                "repos_url": "https://api.github.com/users/zdcthomas/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zdcthomas/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zdcthomas/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zdcthomas"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "No. I guess is this more similar to Lua usercommands or autocommands.",
            "created_at": "2022-07-05T22:18:56Z",
            "html_url": "https://github.com/neovim/neovim/issues/14157#issuecomment-1175557276",
            "id": 1175557276,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/14157",
            "node_id": "IC_kwDOAPphoM5GEZSc",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1175557276/reactions"
            },
            "updated_at": "2022-11-07T07:42:53Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1175557276",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "author_association": "NONE",
            "body": "Ahh ok cool, any pointers on learning more about their implementation before I dive in?",
            "created_at": "2022-07-06T02:08:11Z",
            "html_url": "https://github.com/neovim/neovim/issues/14157#issuecomment-1175696634",
            "id": 1175696634,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/14157",
            "node_id": "IC_kwDOAPphoM5GE7T6",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1175696634/reactions"
            },
            "updated_at": "2022-11-07T07:42:57Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1175696634",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/36716240?v=4",
                "events_url": "https://api.github.com/users/zdcthomas/events{/privacy}",
                "followers_url": "https://api.github.com/users/zdcthomas/followers",
                "following_url": "https://api.github.com/users/zdcthomas/following{/other_user}",
                "gists_url": "https://api.github.com/users/zdcthomas/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zdcthomas",
                "id": 36716240,
                "login": "zdcthomas",
                "node_id": "MDQ6VXNlcjM2NzE2MjQw",
                "organizations_url": "https://api.github.com/users/zdcthomas/orgs",
                "received_events_url": "https://api.github.com/users/zdcthomas/received_events",
                "repos_url": "https://api.github.com/users/zdcthomas/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zdcthomas/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zdcthomas/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zdcthomas"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Since there was no activity on this. Can I create a draft PR?\r\nI got this working so far:\r\n```lua\r\nlocal counter = 0\r\nlocal function dot_repeat(motion)\r\n    if motion == nil then\r\n        vim.api.nvim_set_operatorfunc(dot_repeat)\r\n        return \"g@\"\r\n    end\r\n    print(\"counter:\", counter, \"motion:\", motion)\r\n    counter = counter + 1\r\nend\r\nvim.keymap.set(\"n\", \"gt\", dot_repeat, { expr = true })\r\n```\r\nEdit: Never mind, there's a recent PR on this.",
            "created_at": "2022-09-27T04:21:10Z",
            "html_url": "https://github.com/neovim/neovim/issues/14157#issuecomment-1258950086",
            "id": 1258950086,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/14157",
            "node_id": "IC_kwDOAPphoM5LCg3G",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1258950086/reactions"
            },
            "updated_at": "2022-09-27T04:41:29Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1258950086",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/30515389?v=4",
                "events_url": "https://api.github.com/users/tiagovla/events{/privacy}",
                "followers_url": "https://api.github.com/users/tiagovla/followers",
                "following_url": "https://api.github.com/users/tiagovla/following{/other_user}",
                "gists_url": "https://api.github.com/users/tiagovla/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/tiagovla",
                "id": 30515389,
                "login": "tiagovla",
                "node_id": "MDQ6VXNlcjMwNTE1Mzg5",
                "organizations_url": "https://api.github.com/users/tiagovla/orgs",
                "received_events_url": "https://api.github.com/users/tiagovla/received_events",
                "repos_url": "https://api.github.com/users/tiagovla/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/tiagovla/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/tiagovla/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/tiagovla"
            }
        },
        {
            "author_association": "NONE",
            "body": "Could you include a reference to the PR?",
            "created_at": "2022-10-19T16:48:19Z",
            "html_url": "https://github.com/neovim/neovim/issues/14157#issuecomment-1284300426",
            "id": 1284300426,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/14157",
            "node_id": "IC_kwDOAPphoM5MjN6K",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1284300426/reactions"
            },
            "updated_at": "2022-10-19T16:48:19Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1284300426",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/19517248?v=4",
                "events_url": "https://api.github.com/users/mroavi/events{/privacy}",
                "followers_url": "https://api.github.com/users/mroavi/followers",
                "following_url": "https://api.github.com/users/mroavi/following{/other_user}",
                "gists_url": "https://api.github.com/users/mroavi/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mroavi",
                "id": 19517248,
                "login": "mroavi",
                "node_id": "MDQ6VXNlcjE5NTE3MjQ4",
                "organizations_url": "https://api.github.com/users/mroavi/orgs",
                "received_events_url": "https://api.github.com/users/mroavi/received_events",
                "repos_url": "https://api.github.com/users/mroavi/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mroavi/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mroavi/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mroavi"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> Could you include a reference to the PR?\r\n\r\nhttps://github.com/neovim/neovim/pull/20187",
            "created_at": "2022-10-19T20:27:20Z",
            "html_url": "https://github.com/neovim/neovim/issues/14157#issuecomment-1284534908",
            "id": 1284534908,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/14157",
            "node_id": "IC_kwDOAPphoM5MkHJ8",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1284534908/reactions"
            },
            "updated_at": "2022-10-19T20:27:20Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1284534908",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/30515389?v=4",
                "events_url": "https://api.github.com/users/tiagovla/events{/privacy}",
                "followers_url": "https://api.github.com/users/tiagovla/followers",
                "following_url": "https://api.github.com/users/tiagovla/following{/other_user}",
                "gists_url": "https://api.github.com/users/tiagovla/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/tiagovla",
                "id": 30515389,
                "login": "tiagovla",
                "node_id": "MDQ6VXNlcjMwNTE1Mzg5",
                "organizations_url": "https://api.github.com/users/tiagovla/orgs",
                "received_events_url": "https://api.github.com/users/tiagovla/received_events",
                "repos_url": "https://api.github.com/users/tiagovla/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/tiagovla/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/tiagovla/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/tiagovla"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "In v0.9.0-dev there is a way to set `*func` options to Lua functions without adding global functions:\r\n\r\n`'operatorfunc'`:\r\n```lua\r\nlocal set_opfunc = vim.fn[vim.api.nvim_exec([[\r\n  func s:set_opfunc(val)\r\n    let &opfunc = a:val\r\n  endfunc\r\n  echon get(function('s:set_opfunc'), 'name')\r\n]], true)]\r\n```\r\n\r\n`'tagfunc'` for current buffer:\r\n```lua\r\nlocal set_tagfunc = vim.fn[vim.api.nvim_exec([[\r\n  func s:set_tagfunc(val)\r\n    let &l:tagfunc = a:val\r\n  endfunc\r\n  echon get(function('s:set_tagfunc'), 'name')\r\n]], true)]\r\n```\r\n\r\n`'tagfunc'` for non-current buffer:\r\n```lua\r\nlocal set_tagfunc = vim.fn[vim.api.nvim_exec([[\r\n  func s:set_tagfunc(buf, val)\r\n    call setbufvar(a:buf, '&tagfunc', string(a:val))\r\n  endfunc\r\n  echon get(function('s:set_tagfunc'), 'name')\r\n]], true)]\r\n```",
            "created_at": "2022-11-19T04:03:17Z",
            "html_url": "https://github.com/neovim/neovim/issues/14157#issuecomment-1320787927",
            "id": 1320787927,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/14157",
            "node_id": "IC_kwDOAPphoM5OuZ_X",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 3,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 3,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1320787927/reactions"
            },
            "updated_at": "2022-11-19T04:10:48Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1320787927",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Related: #18132",
            "created_at": "2022-11-19T04:56:02Z",
            "html_url": "https://github.com/neovim/neovim/issues/14157#issuecomment-1320802125",
            "id": 1320802125,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/14157",
            "node_id": "IC_kwDOAPphoM5OuddN",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1320802125/reactions"
            },
            "updated_at": "2022-11-19T04:56:02Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1320802125",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Just in case anyone else stumbles on this, at least from what I can tell, neither:\r\n* `v:lua.require('mymod')`\r\n* `v:lua.require\"mymod\"`\r\nworks, but\r\n* `v:lua.require'mymod'`\r\ndoes. So no brackets and single-quotes are required.",
            "created_at": "2023-04-06T16:05:00Z",
            "html_url": "https://github.com/neovim/neovim/issues/14157#issuecomment-1499300747",
            "id": 1499300747,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/14157",
            "node_id": "IC_kwDOAPphoM5ZXYOL",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 1,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1499300747/reactions"
            },
            "updated_at": "2023-04-06T16:05:00Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1499300747",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/23341710?v=4",
                "events_url": "https://api.github.com/users/AckslD/events{/privacy}",
                "followers_url": "https://api.github.com/users/AckslD/followers",
                "following_url": "https://api.github.com/users/AckslD/following{/other_user}",
                "gists_url": "https://api.github.com/users/AckslD/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/AckslD",
                "id": 23341710,
                "login": "AckslD",
                "node_id": "MDQ6VXNlcjIzMzQxNzEw",
                "organizations_url": "https://api.github.com/users/AckslD/orgs",
                "received_events_url": "https://api.github.com/users/AckslD/received_events",
                "repos_url": "https://api.github.com/users/AckslD/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/AckslD/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/AckslD/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/AckslD"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "That's (now) mentioned at `:help v:lua-call`:\r\n\r\n> Note: Only single quote form without parens is allowed. Using `require\"mypack\"` or `require('mypack')` as prefixes do NOT work (the latter is still valid as a function call of itself, in case require returns a useful value).\r\n",
            "created_at": "2023-07-16T13:11:39Z",
            "html_url": "https://github.com/neovim/neovim/issues/14157#issuecomment-1637081475",
            "id": 1637081475,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/14157",
            "node_id": "IC_kwDOAPphoM5hk-GD",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1637081475/reactions"
            },
            "updated_at": "2023-07-16T13:11:47Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1637081475",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "This limitation is documented and I don't think there's a path to fixing it. Instead the ideas in https://github.com/neovim/neovim/issues/11306 would be an alternative. See also https://github.com/neovim/neovim/issues/18132",
            "created_at": "2023-09-18T14:36:42Z",
            "html_url": "https://github.com/neovim/neovim/issues/14157#issuecomment-1723573293",
            "id": 1723573293,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/14157",
            "node_id": "IC_kwDOAPphoM5mu6Qt",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1723573293/reactions"
            },
            "updated_at": "2023-09-18T14:36:42Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1723573293",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        }
    ],
    "comments": 12,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/14157/comments",
    "created_at": "2021-03-18T15:33:58Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/14157/events",
    "html_url": "https://github.com/neovim/neovim/issues/14157",
    "id": 834951527,
    "labels": [
        {
            "color": "c2e0c6",
            "default": true,
            "description": "feature request",
            "id": 77997476,
            "name": "enhancement",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3Ng==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/enhancement"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": null,
            "id": 573222693,
            "name": "lua",
            "node_id": "MDU6TGFiZWw1NzMyMjI2OTM=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/lua"
        },
        {
            "color": "C5DEF5",
            "default": false,
            "description": "",
            "id": 4242493821,
            "name": "options",
            "node_id": "LA_kwDOAPphoM7831F9",
            "url": "https://api.github.com/repos/neovim/neovim/labels/options"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/14157/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 583,
        "created_at": "2014-05-10T20:43:04Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk"
        },
        "description": "Low priority. Not planned for the current target, may be reassigned.",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/6",
        "id": 655037,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/6/labels",
        "node_id": "MDk6TWlsZXN0b25lNjU1MDM3",
        "number": 6,
        "open_issues": 412,
        "state": "open",
        "title": "backlog",
        "updated_at": "2023-09-18T14:36:42Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/6"
    },
    "node_id": "MDU6SXNzdWU4MzQ5NTE1Mjc=",
    "number": 14157,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 7,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 7,
        "url": "https://api.github.com/repos/neovim/neovim/issues/14157/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "completed",
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/14157/timeline",
    "title": "operatorfunc with lua-function",
    "updated_at": "2023-09-18T14:36:42Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/14157",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/23341710?v=4",
        "events_url": "https://api.github.com/users/AckslD/events{/privacy}",
        "followers_url": "https://api.github.com/users/AckslD/followers",
        "following_url": "https://api.github.com/users/AckslD/following{/other_user}",
        "gists_url": "https://api.github.com/users/AckslD/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/AckslD",
        "id": 23341710,
        "login": "AckslD",
        "node_id": "MDQ6VXNlcjIzMzQxNzEw",
        "organizations_url": "https://api.github.com/users/AckslD/orgs",
        "received_events_url": "https://api.github.com/users/AckslD/received_events",
        "repos_url": "https://api.github.com/users/AckslD/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/AckslD/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/AckslD/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/AckslD"
    }
}