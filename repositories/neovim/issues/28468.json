{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\n\nthe `gc` command comments C++ code incorrectly. \r\n![image](https://github.com/neovim/neovim/assets/114076356/6570f4d3-5125-4970-b885-9a9794573ad4)\r\n\n\n### Steps to reproduce\n\n1. Open a C++ file and write some code.\r\n2. Go into a visual block and highlight some lines.\r\n3. Run `gc`\r\n4. See incorrect comments\n\n### Expected behavior\n\nC++ code should be commented either like this:\r\n```cpp\r\n    /*\r\n    if (strcmp(argv[1], \"help\")) {\r\n        printf(\"Commands :\\n\");\r\n        printf(\"Help: Prints a list of commands.\\n\");\r\n    }\r\n    */\r\n```\r\nor like this\r\n```cpp\r\n    // if (strcmp(argv[1], \"help\")) {\r\n    //     printf(\"Commands :\\n\");\r\n    //     printf(\"Help: Prints a list of commands.\\n\");\r\n    // }\r\n```\r\nCommenting each line with a multiline comment is not correct\n\n### Neovim version (nvim -v)\n\nNVIM v0.10.0-dev-3305bb9e4 \n\n### Vim (not Nvim) behaves the same?\n\nN/A\n\n### Operating system/version\n\nPopOS 22.04\n\n### Terminal name/version\n\nalacritty 0.13.2\n\n### $TERM environment variable\n\nscreen-256color\n\n### Installation\n\nBuild master from source",
    "closed_at": "2024-04-23T08:00:54Z",
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "_Is_ the file C++? What does `:set filetype?` say?",
            "created_at": "2024-04-23T07:57:43Z",
            "html_url": "https://github.com/neovim/neovim/issues/28468#issuecomment-2071664113",
            "id": 2071664113,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28468",
            "node_id": "IC_kwDOAPphoM57exXx",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2071664113/reactions"
            },
            "updated_at": "2024-04-23T07:57:43Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2071664113",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        },
        {
            "author_association": "NONE",
            "body": "It echos `filetype=cpp`",
            "created_at": "2024-04-23T07:59:51Z",
            "html_url": "https://github.com/neovim/neovim/issues/28468#issuecomment-2071667814",
            "id": 2071667814,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28468",
            "node_id": "IC_kwDOAPphoM57eyRm",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2071667814/reactions"
            },
            "updated_at": "2024-04-23T07:59:51Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2071667814",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/114076356?v=4",
                "events_url": "https://api.github.com/users/spacey-sooty/events{/privacy}",
                "followers_url": "https://api.github.com/users/spacey-sooty/followers",
                "following_url": "https://api.github.com/users/spacey-sooty/following{/other_user}",
                "gists_url": "https://api.github.com/users/spacey-sooty/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/spacey-sooty",
                "id": 114076356,
                "login": "spacey-sooty",
                "node_id": "U_kgDOBsyqxA",
                "organizations_url": "https://api.github.com/users/spacey-sooty/orgs",
                "received_events_url": "https://api.github.com/users/spacey-sooty/received_events",
                "repos_url": "https://api.github.com/users/spacey-sooty/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/spacey-sooty/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/spacey-sooty/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/spacey-sooty"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "...which also has `/*%s*/` as the commentstring, so this is working as intended. If you want that changed, open an issue (or a PR) at vim/vim.\r\n\r\n(Or install a commenting plugin; block comments are intentionally not implemented.)",
            "created_at": "2024-04-23T08:00:54Z",
            "html_url": "https://github.com/neovim/neovim/issues/28468#issuecomment-2071669603",
            "id": 2071669603,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28468",
            "node_id": "IC_kwDOAPphoM57eytj",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2071669603/reactions"
            },
            "updated_at": "2024-04-23T08:01:50Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2071669603",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "This is working as documented:\r\n```\r\n3. Commenting\t\t\t\t\t\t\t*commenting*\r\n\r\nNvim supports commenting and uncommenting of lines based on 'commentstring'.\r\n\r\nActing on a single line behaves as follows:\r\n- If the line matches 'commentstring', the comment markers are removed (e.g.\r\n  `/*foo*/` is transformed to `foo`).\r\n- Otherwise the comment markers are added to the current line (e.g. `foo` is\r\n  transformed to `/*foo*/`). Blank lines are ignored.\r\n\r\nActing on multiple lines behaves as follows:\r\n- If each affected non-blank line matches 'commentstring', then all comment\r\n  markers are removed.\r\n- Otherwise all affected lines are converted to comments; blank lines are\r\n  transformed to empty comments (e.g. `/**/`). Comment markers are aligned to\r\n  the least indented line.\r\n```",
            "created_at": "2024-04-23T08:03:12Z",
            "html_url": "https://github.com/neovim/neovim/issues/28468#issuecomment-2071673730",
            "id": 2071673730,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28468",
            "node_id": "IC_kwDOAPphoM57ezuC",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2071673730/reactions"
            },
            "updated_at": "2024-04-23T08:03:12Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2071673730",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        }
    ],
    "comments": 4,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/28468/comments",
    "created_at": "2024-04-23T07:55:31Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/28468/events",
    "html_url": "https://github.com/neovim/neovim/issues/28468",
    "id": 2258207664,
    "labels": [
        {
            "color": "e6e6e6",
            "default": false,
            "description": "issues that are closed as usage questions",
            "id": 77997478,
            "name": "closed:question",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3OA==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/closed:question"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/28468/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM6GmYOw",
    "number": 28468,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/28468/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "not_planned",
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/28468/timeline",
    "title": "gc Comments C++ incorrectly",
    "updated_at": "2024-04-23T08:03:39Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/28468",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/114076356?v=4",
        "events_url": "https://api.github.com/users/spacey-sooty/events{/privacy}",
        "followers_url": "https://api.github.com/users/spacey-sooty/followers",
        "following_url": "https://api.github.com/users/spacey-sooty/following{/other_user}",
        "gists_url": "https://api.github.com/users/spacey-sooty/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/spacey-sooty",
        "id": 114076356,
        "login": "spacey-sooty",
        "node_id": "U_kgDOBsyqxA",
        "organizations_url": "https://api.github.com/users/spacey-sooty/orgs",
        "received_events_url": "https://api.github.com/users/spacey-sooty/received_events",
        "repos_url": "https://api.github.com/users/spacey-sooty/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/spacey-sooty/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/spacey-sooty/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/spacey-sooty"
    }
}