{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "body": "### Problem\n\nvim/neovim difference in `getmousepos()` for floating-windows/popup-windows\r\nIn `:help getmousepos`\r\n- `vim`: If the mouse is over a popup window then that window is used.\r\n- `neovim`: If the mouse is over a focusable floating window then that window is used.\r\n\r\nI'm looking for a way to get a non-focusable non-hidden window under the mouse. I want to\r\nfill in some of the missing capabilities of plenary.nvim's popup.lua. And popup can not be\r\nfocusable. I could go through a list of all windows, filtering as required, and if needed\r\nconvert mousepos from screen to floating window. But that seems like a lot of work\r\nto replicate in lua code something that is already mostly in core neovim.\r\n\r\n(I noticed that `CTRL-W_CTRL-W` will move to a `hidden` `focusable` window. Is that a bug?)\r\n\n\n### Steps to reproduce\n\nCan provide an executable test case if needed.\r\n\r\n(https://github.com/neovim/neovim/commit/4e4b1b65903b973cb447b5a70413d0e0363c20f0)\n\n### Expected behavior\n\nSome way to get a non-focusable window from `getmousepos()`.\r\n\r\nIs the default, \"must be focusable\", wrong for `getmousepos()`? Should/can it be changed?\r\n\r\nIf there is a way to have an option to `getmousepos()`, like ANY_WINDOW, in the following\r\ncode, that might take care of this problem. Could get there with optional arg to\r\ngetmousepos(). Probably `getmousepos([{dict of options}])`. I'm assuming that\r\n`get_win_by_grid_handle()`/`FOR_ALL_WINDOWS_IN_TAB` is sorted by `zindex`. Also, don't\r\nwant a \"hidden\" window, not sure how that works with FOR_ALL_WINDOWS_IN_TAB.\r\n\r\n```\r\nstatic win_T *mouse_find_grid_win(int *gridp, int *rowp, int *colp)\r\n{\r\n  ...\r\n    if (wp && wp->w_grid_alloc.chars\r\n        && (ANY_WINDOW || !(wp->w_floating && !wp->w_config.focusable))) {\r\n      *rowp = MIN(*rowp - wp->w_grid.row_offset, wp->w_grid.rows - 1);\r\n      *colp = MIN(*colp - wp->w_grid.col_offset, wp->w_grid.cols - 1);\r\n      return wp;\r\n    }\r\n```\r\nor maybe it's something more like\r\n```\r\n&& !(wp->w_floating && (!(ANY_FOCUS || wp->w_config.focusable)))) {\r\n```\r\n\r\nSomething like `getmousepos({focusable: any, hide: false})` for my case.\r\n\r\nI came across nvim__inspect_cell, but it doesn't return the win_id (and ignoring the fact\r\nthat it's hidden somewhere in lua metadata).\r\n\r\nBTW. I wanted to find the dispatch code to see how f_whatever is called. Opened termdebug\r\non nvim, put a breakpoint at f_getmousepos, run... But the forking got in the way. Doing\r\n\"set follow-fork-mode child\" but no luck. Saw some stuff about \"dap\", but didn't see\r\nanyway to hook up gdb to nvim with dap.\r\n\r\nWhen I found the binary in build, and looked more carefully in there, I came across\r\n\"include/*.h.generated.h\" and \".../auto/funcs.generated.h\", now to see where those came\r\nfrom...\r\n\n\n### Nvim version (nvim -v)\n\nv0.11.0-dev commit db4e4b1b65903b\n\n### Vim (not Nvim) behaves the same?\n\nNo, vim 9.1.695 (and for a while)\n\n### Operating system/version\n\nubuntu\n\n### Terminal name/version\n\ngnome\n\n### $TERM environment variable\n\nxterm-256color\n\n### Installation\n\nmake install",
    "closed_at": "2024-10-24T12:40:05Z",
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/20450427?v=4",
        "events_url": "https://api.github.com/users/errael/events{/privacy}",
        "followers_url": "https://api.github.com/users/errael/followers",
        "following_url": "https://api.github.com/users/errael/following{/other_user}",
        "gists_url": "https://api.github.com/users/errael/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/errael",
        "id": 20450427,
        "login": "errael",
        "node_id": "MDQ6VXNlcjIwNDUwNDI3",
        "organizations_url": "https://api.github.com/users/errael/orgs",
        "received_events_url": "https://api.github.com/users/errael/received_events",
        "repos_url": "https://api.github.com/users/errael/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/errael/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/errael/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/errael",
        "user_view_type": "public"
    },
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "I do think the default behavior makes sense, as one may want `getmousepos()` to get where the cursor actually moves to on a mouse click.\r\n\r\n> I'm assuming that `get_win_by_grid_handle()`/`FOR_ALL_WINDOWS_IN_TAB` is sorted by `zindex`.\r\n\r\nThat's actually not the case. They are sorted in reverse order of creation (i.e. newest floating windows first).\r\n\r\nHowever, you are checking the wrong branch here, as the branch used in your case is the `*gridp == 0` branch, and `ui_comp_mouse_focus()` is sorted by `zindex`:\r\n```c\r\n  for (ssize_t i = (ssize_t)kv_size(layers) - 1; i > 0; i--) {\r\n    ScreenGrid *grid = kv_A(layers, i);\r\n    if (grid->focusable\r\n        && row >= grid->comp_row && row < grid->comp_row + grid->rows\r\n        && col >= grid->comp_col && col < grid->comp_col + grid->cols) {\r\n      return grid;\r\n    }\r\n  }\r\n```",
            "created_at": "2024-09-23T23:52:19Z",
            "html_url": "https://github.com/neovim/neovim/issues/30490#issuecomment-2369797078",
            "id": 2369797078,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30490",
            "node_id": "IC_kwDOAPphoM6NQDvW",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2369797078/reactions"
            },
            "updated_at": "2024-09-23T23:52:19Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2369797078",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> I do think the default behavior makes sense, as one may want `getmousepos()` to get where the cursor actually moves to on a mouse click.\r\n\r\n\r\nI'm not familiar enough with `neovim`, but I thought that usually the builtin function were similar to `vim`. And it's also possible the tha `neovim` behavior pre-dates the addition of `vim`'s popup stuff. I forget to mention that this might better be considered a feature request if the current behavior is fully intended. Thanks for changing it.\r\n\r\n\"one may want ... actually move to on a click\" and one may want to know what window is displayed under the click. But only one or the other is not the main point of this issue, unless `neovim` said, yes that's a bug:). The idea is to have a way to find either.\r\n\r\nThe main issue is whether or not something like `getmousepos([{dict_of_options}])` would be accepted, assuming it met the \"standards\". `neovim` is completely new to me except for the parts that aren't. Don't want to spend much time working on something if there's no chance...\r\n\r\nAn alternate approach is a vim function that takes screen x/y and some options and return info similar to getmousepos().\r\n\r\nCan anyone point me to some links about debuggering nvim. I had no luck with termdebug. I have seen that there's a log file, but no other reference. I see the lua vim.log.levels; is that related?\r\n\r\n\r\n> > I'm assuming that `get_win_by_grid_handle()`/`FOR_ALL_WINDOWS_IN_TAB` is sorted by `zindex`.\r\n> \r\n> That's actually not the case. They are sorted in reverse order of creation (i.e. newest floating windows first).\r\n\r\nThanks for the clarification. Ah `ScreenGrid` I saw some stuff about grids. Is `ScreenGrid` and \"cell\" directly related? I don't get the `multigrid` and `linegrid` and such. (so much new stuff).\r\n\r\n> However, you are checking the wrong branch here, as the branch used in your case is the `*gridp == 0` branch, and `ui_comp_mouse_focus()` is sorted by `zindex`:\r\n\r\nCool. I'll take a look. `kv_A(layers, i)` that's interesting.\r\n\r\n> ```c\r\n>   for (ssize_t i = (ssize_t)kv_size(layers) - 1; i > 0; i--) {\r\n>     ScreenGrid *grid = kv_A(layers, i);\r\n>     if (grid->focusable\r\n>         && row >= grid->comp_row && row < grid->comp_row + grid->rows\r\n>         && col >= grid->comp_col && col < grid->comp_col + grid->cols) {\r\n>       return grid;\r\n>     }\r\n>   }\r\n> ```\r\n",
            "created_at": "2024-09-24T01:15:50Z",
            "html_url": "https://github.com/neovim/neovim/issues/30490#issuecomment-2369910046",
            "id": 2369910046,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30490",
            "node_id": "IC_kwDOAPphoM6NQfUe",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2369910046/reactions"
            },
            "updated_at": "2024-09-24T01:15:50Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2369910046",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/20450427?v=4",
                "events_url": "https://api.github.com/users/errael/events{/privacy}",
                "followers_url": "https://api.github.com/users/errael/followers",
                "following_url": "https://api.github.com/users/errael/following{/other_user}",
                "gists_url": "https://api.github.com/users/errael/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/errael",
                "id": 20450427,
                "login": "errael",
                "node_id": "MDQ6VXNlcjIwNDUwNDI3",
                "organizations_url": "https://api.github.com/users/errael/orgs",
                "received_events_url": "https://api.github.com/users/errael/received_events",
                "repos_url": "https://api.github.com/users/errael/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/errael/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/errael/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/errael",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> but I thought that usually the builtin function were similar to `vim`\r\n\r\nYes, but nvim floating windows are a totally different system than vim \"popup\" windows (which are more limited but sometimes more [DWIM](https://en.wikipedia.org/wiki/DWIM) as well, though we are open to improving DWIM where possible). ",
            "created_at": "2024-09-24T09:44:56Z",
            "html_url": "https://github.com/neovim/neovim/issues/30490#issuecomment-2370793875",
            "id": 2370793875,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30490",
            "node_id": "IC_kwDOAPphoM6NT3GT",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2370793875/reactions"
            },
            "updated_at": "2024-09-24T09:44:56Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2370793875",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> > but I thought that usually the builtin function were similar to `vim`\r\n> \r\n> Yes, but nvim floating windows are a totally different system than vim \"popup\" windows\r\n\r\nI've noticed that :) Doesn't explain why visible non-focusable windows are ignored.\r\n\r\n> (which are more limited but sometimes more [DWIM](https://en.wikipedia.org/wiki/DWIM) as well, though we are open to improving DWIM where possible).\r\n\r\nAssuming the default for `getmousepos()` can't be changed, the first thing that comes to mind is extending it with an optional arg. Possibilities include\r\n1. `getmousepos([boolean])`   - two possible behaviors\r\n2. `getmousepos([enum])`      - \"n\" behaviors, e.g. 4 based on hide/focusable\r\n3. `getmousepos([dict])`      - dict based on `nvim_open_win`'s `{config}`\r\n\r\nA new function could be introduced which might return a list of window position info, matching some criteria specified by dict, optionally orderd by `zindex`, e.g. all the windows under screen x/y or intersecting a bounding box. Like (3) on steroids.\r\n\r\nMy preference is 3, and the initial implementation only supports `hide`/`focusable` dict keys. If a key is not present, then `any` value is OK. Picks the highest zindex that matches criteria. Easily extended.\r\n\r\nIf no window matches the criteria could set winrow/wincol to 0, should winid be 0 as well? Could add a new key \"found\"; only present if dict is used or always present (usual true) and set to false when click in command line (currently indicated by \"the others are zero\"). Or could have values \"window\", \"command-line\", \"no-match\" (in which case the key could be \"result\" instead of \"found\").\r\n\r\n**Example**\r\nFor `popup` compatibility use `getmousepos({hide: false})` and ignore if window is not a popup window. If add `focusability: false` then if the popup is obscured by a focusable window the popup would be returned even if it isn't visible. (Could add a `{visible: bool}` key/value which is probably better presented as `{hide: false, zindex: \"top\"}`)\r\n",
            "created_at": "2024-09-24T17:21:59Z",
            "html_url": "https://github.com/neovim/neovim/issues/30490#issuecomment-2371882644",
            "id": 2371882644,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30490",
            "node_id": "IC_kwDOAPphoM6NYA6U",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2371882644/reactions"
            },
            "updated_at": "2024-09-24T17:21:59Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2371882644",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/20450427?v=4",
                "events_url": "https://api.github.com/users/errael/events{/privacy}",
                "followers_url": "https://api.github.com/users/errael/followers",
                "following_url": "https://api.github.com/users/errael/following{/other_user}",
                "gists_url": "https://api.github.com/users/errael/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/errael",
                "id": 20450427,
                "login": "errael",
                "node_id": "MDQ6VXNlcjIwNDUwNDI3",
                "organizations_url": "https://api.github.com/users/errael/orgs",
                "received_events_url": "https://api.github.com/users/errael/received_events",
                "repos_url": "https://api.github.com/users/errael/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/errael/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/errael/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/errael",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> Is the default, \"must be focusable\", wrong for getmousepos()? Should/can it be changed?\r\n\r\nThe default is correct. \"focusable\" actually means \"focusable\" which includes both keyboard and mouse. fine as opt-in via a flag. ",
            "created_at": "2024-09-24T17:53:30Z",
            "html_url": "https://github.com/neovim/neovim/issues/30490#issuecomment-2371941023",
            "id": 2371941023,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30490",
            "node_id": "IC_kwDOAPphoM6NYPKf",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2371941023/reactions"
            },
            "updated_at": "2024-09-24T17:53:30Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2371941023",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1363104?v=4",
                "events_url": "https://api.github.com/users/bfredl/events{/privacy}",
                "followers_url": "https://api.github.com/users/bfredl/followers",
                "following_url": "https://api.github.com/users/bfredl/following{/other_user}",
                "gists_url": "https://api.github.com/users/bfredl/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/bfredl",
                "id": 1363104,
                "login": "bfredl",
                "node_id": "MDQ6VXNlcjEzNjMxMDQ=",
                "organizations_url": "https://api.github.com/users/bfredl/orgs",
                "received_events_url": "https://api.github.com/users/bfredl/received_events",
                "repos_url": "https://api.github.com/users/bfredl/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/bfredl/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/bfredl/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/bfredl",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "An alternative is to add a another flag to floating windows that makes a non-focusable floating window \"clickable\". Clicking on such a floating window won't move cursor there, but won't move cursor in the window below either, and `getmousepos()` returns the click position in the floating window, so that a script can implement custom click behavior. That's also more similar to how clicks on popup windows are handled in Vim.",
            "created_at": "2024-09-24T23:22:07Z",
            "html_url": "https://github.com/neovim/neovim/issues/30490#issuecomment-2372559394",
            "id": 2372559394,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30490",
            "node_id": "IC_kwDOAPphoM6NamIi",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2372559394/reactions"
            },
            "updated_at": "2024-09-24T23:23:11Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2372559394",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> An alternative is to add a another flag to floating windows that makes a non-focusable floating window \"clickable\". Clicking on such a floating window won't move cursor there, but won't move cursor in the window below either, and `getmousepos()` returns the click position in the floating window, so that a script can implement custom click behavior. That's also more similar to how clicks on popup windows are handled in Vim.\r\n\r\nThat's exactly the conclusion I came to when looking at another issue relating to popup/mouse. I'm about to file an enhancement request with that. I'll go ahead and open it. and things can be closed as needed.",
            "created_at": "2024-09-25T00:08:44Z",
            "html_url": "https://github.com/neovim/neovim/issues/30490#issuecomment-2372605335",
            "id": 2372605335,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30490",
            "node_id": "IC_kwDOAPphoM6NaxWX",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2372605335/reactions"
            },
            "updated_at": "2024-09-25T00:08:44Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2372605335",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/20450427?v=4",
                "events_url": "https://api.github.com/users/errael/events{/privacy}",
                "followers_url": "https://api.github.com/users/errael/followers",
                "following_url": "https://api.github.com/users/errael/following{/other_user}",
                "gists_url": "https://api.github.com/users/errael/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/errael",
                "id": 20450427,
                "login": "errael",
                "node_id": "MDQ6VXNlcjIwNDUwNDI3",
                "organizations_url": "https://api.github.com/users/errael/orgs",
                "received_events_url": "https://api.github.com/users/errael/received_events",
                "repos_url": "https://api.github.com/users/errael/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/errael/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/errael/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/errael",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Opened #30504",
            "created_at": "2024-09-25T00:12:42Z",
            "html_url": "https://github.com/neovim/neovim/issues/30490#issuecomment-2372609254",
            "id": 2372609254,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30490",
            "node_id": "IC_kwDOAPphoM6NayTm",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2372609254/reactions"
            },
            "updated_at": "2024-09-25T00:12:42Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2372609254",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/20450427?v=4",
                "events_url": "https://api.github.com/users/errael/events{/privacy}",
                "followers_url": "https://api.github.com/users/errael/followers",
                "following_url": "https://api.github.com/users/errael/following{/other_user}",
                "gists_url": "https://api.github.com/users/errael/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/errael",
                "id": 20450427,
                "login": "errael",
                "node_id": "MDQ6VXNlcjIwNDUwNDI3",
                "organizations_url": "https://api.github.com/users/errael/orgs",
                "received_events_url": "https://api.github.com/users/errael/received_events",
                "repos_url": "https://api.github.com/users/errael/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/errael/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/errael/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/errael",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> add a another flag to floating windows that makes a non-focusable floating window \"clickable\"\r\n\r\nJust to note. There is not necessarily a \"click\" involved when doing `getmousepos()` probably best considered independent events.",
            "created_at": "2024-09-25T00:22:11Z",
            "html_url": "https://github.com/neovim/neovim/issues/30490#issuecomment-2372619427",
            "id": 2372619427,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30490",
            "node_id": "IC_kwDOAPphoM6Na0yj",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2372619427/reactions"
            },
            "updated_at": "2024-09-25T00:22:11Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2372619427",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/20450427?v=4",
                "events_url": "https://api.github.com/users/errael/events{/privacy}",
                "followers_url": "https://api.github.com/users/errael/followers",
                "following_url": "https://api.github.com/users/errael/following{/other_user}",
                "gists_url": "https://api.github.com/users/errael/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/errael",
                "id": 20450427,
                "login": "errael",
                "node_id": "MDQ6VXNlcjIwNDUwNDI3",
                "organizations_url": "https://api.github.com/users/errael/orgs",
                "received_events_url": "https://api.github.com/users/errael/received_events",
                "repos_url": "https://api.github.com/users/errael/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/errael/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/errael/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/errael",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Closing. With #30844, `getmousepos()` works with floating windows that have `mouse = true`",
            "created_at": "2024-10-24T12:40:06Z",
            "html_url": "https://github.com/neovim/neovim/issues/30490#issuecomment-2435186354",
            "id": 2435186354,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30490",
            "node_id": "IC_kwDOAPphoM6RJf6y",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2435186354/reactions"
            },
            "updated_at": "2024-10-24T12:40:06Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2435186354",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/20450427?v=4",
                "events_url": "https://api.github.com/users/errael/events{/privacy}",
                "followers_url": "https://api.github.com/users/errael/followers",
                "following_url": "https://api.github.com/users/errael/following{/other_user}",
                "gists_url": "https://api.github.com/users/errael/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/errael",
                "id": 20450427,
                "login": "errael",
                "node_id": "MDQ6VXNlcjIwNDUwNDI3",
                "organizations_url": "https://api.github.com/users/errael/orgs",
                "received_events_url": "https://api.github.com/users/errael/received_events",
                "repos_url": "https://api.github.com/users/errael/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/errael/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/errael/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/errael",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 10,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/30490/comments",
    "created_at": "2024-09-23T23:26:10Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/30490/events",
    "html_url": "https://github.com/neovim/neovim/issues/30490",
    "id": 2543934113,
    "labels": [
        {
            "color": "c2e0c6",
            "default": true,
            "description": "feature request",
            "id": 77997476,
            "name": "enhancement",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3Ng==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/enhancement"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "",
            "id": 646043375,
            "name": "mouse",
            "node_id": "MDU6TGFiZWw2NDYwNDMzNzU=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/mouse"
        },
        {
            "color": "C5DEF5",
            "default": false,
            "description": "floating windows, popups, hover",
            "id": 3234818716,
            "name": "floatwin",
            "node_id": "MDU6TGFiZWwzMjM0ODE4NzE2",
            "url": "https://api.github.com/repos/neovim/neovim/labels/floatwin"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/30490/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM6XoVqh",
    "number": 30490,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/30490/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "completed",
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/30490/timeline",
    "title": "getmousepos() doesn't find non-focusable windows",
    "updated_at": "2024-10-24T12:40:08Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/30490",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/20450427?v=4",
        "events_url": "https://api.github.com/users/errael/events{/privacy}",
        "followers_url": "https://api.github.com/users/errael/followers",
        "following_url": "https://api.github.com/users/errael/following{/other_user}",
        "gists_url": "https://api.github.com/users/errael/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/errael",
        "id": 20450427,
        "login": "errael",
        "node_id": "MDQ6VXNlcjIwNDUwNDI3",
        "organizations_url": "https://api.github.com/users/errael/orgs",
        "received_events_url": "https://api.github.com/users/errael/received_events",
        "repos_url": "https://api.github.com/users/errael/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/errael/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/errael/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/errael",
        "user_view_type": "public"
    }
}