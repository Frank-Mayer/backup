{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "body": "A tracking issue of pros and cons of upgrading the minimum cmake version (currently 3.10).\r\n\r\nNote: \"Drops support\" sounds worse than it actually is; it only means that\r\nneovim can't be built with the cmake that is provided by the package manager by\r\ndefault. It's still very easy to build and download any cmake version (either\r\nmanually or with something like PPA/backports).\r\n\r\n---\r\n\r\n## 3.11\r\n- FindIconv module, meaning we can remove `cmake/FindIconv.cmake`\r\n- FetchContent module, which is essentially \"ExternalProject but good\".\r\n    - It is way more flexible and less hacky than ExternalProject. For example,\r\n      it has a `FETCHCONTENT_FULLY_DISCONNECTED` variable users can set to\r\n      disable download/update step which distributions can use, which would\r\n      eliminate the `USE_EXISTING_SRC_DIR` option and the use-existing-src test\r\n      in `build.yml`\r\n    - ccache works on dependencies (since it becomes part of our), meaning\r\n      faster dependency building with ccache.\r\n#### Drops support for\r\n- Ubuntu 18.04\r\n\r\n## 3.12\r\n- `CONFIGURE_DEPENDS` flag for `file(GLOB)`\r\n    - We're already using these behind a version check, so mostly code reduction.\r\n#### Drops support for\r\n- Fedora 28\r\n\r\n## 3.13\r\n- QOL `-B` and `-S` flags\r\n- `target_link_options` which is like LINK_FLAGS but nicer syntax-wise.\r\n#### Drops support for\r\n- Fedora 29\r\n\r\n## 3.14\r\n- `FetchContent_MakeAvailable`\r\n    - As I understand it, it basically reduces a bunch of boilerplate required\r\n      when using the `FetchContent` module.\r\n- Cross-platform symlinking\r\n#### Drops support for\r\n- Debian 10\r\n\r\n## 3.15\r\n- `--install` flag\r\n    - Possible to install neovim the same way across all platforms and generators.\r\n- `$<REMOVE_DUPLICATES>` generator expression\r\n    - Allows us to remove `cmake.config/versiondef_old.h.in`\r\n- Possible to build on Windows without getting spammed by linker warnings.\r\n- POP_FRONT and POP_BACK\r\n- CMAKE_GENERATOR to specify default generator if `-G` isn't provided\r\n- Possible to set log level on messages\r\n#### Drops support for\r\n- Fedora 30-31\r\n \r\n## 3.16\r\n- Message indenting (useful for debugging)\r\n\r\n## 3.17\r\n- Didn't find anything useful\r\n#### Drops support for\r\n- Ubuntu 20.04\r\n\r\n## 3.18\r\n- CheckLinkerFlag module\r\n- `REQUIRED` option for all \"find_\" commands.\r\n#### Drops support for\r\n- Fedora 32\r\n\r\n## 3.19\r\n- `string` gained `JSON` subcommands\r\n    - Allows us to specify dependencies in JSON instead of our bespoke format in `cmake.deps/deps.txt`\r\n#### Drops support for\r\n- Debian 11\r\n- Fedora 33",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "And to complement this excellent write-up, a summary of which distro version comes with which CMake version:\r\n\r\n### Debian\r\n* Buster (oldstable, LTS until June 2024): 3.13 (backports: 3.18)\r\n* Bullseye (stable, LTS until June 2026): 3.18 (backports: 3.25)\r\n* Bookworm (new stable): 3.25\r\n\r\n### Ubuntu\r\n* 18.04 (End of standard support June 2023, EOL April 2028): 3.10 (updates: 3.10)\r\n* 20.04 (LTS until 2025): 3.16\r\n* 22.04 (LTS until 2027): 3.22\r\n* 22.10: 3.24\r\n* 23.04: 3.25\r\n\r\n### Fedora\r\n* 36 (EOL May 2023): 3.22 (updates: 3.26)\r\n* 37: 3.24 (updates: 3.26)\r\n* 38: 3.26\r\n\r\nThe biggest blocker is that we use an 18.04 image in our release workflow to support GLIBC 2.27. We'd either have to build a new CMake on that runner ourselves, or finally drop support for GLIBC 2.27 (20.04 has 2.29).",
            "created_at": "2023-06-12T17:14:50Z",
            "html_url": "https://github.com/neovim/neovim/issues/24004#issuecomment-1587741071",
            "id": 1587741071,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24004",
            "node_id": "IC_kwDOAPphoM5eowGP",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1587741071/reactions"
            },
            "updated_at": "2023-07-14T08:00:40Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1587741071",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I think I'll need to make a second and more thorough look at the cmake release notes, so consider the issue text as a work in progress for now. I should probably also include cmake versions for some other popular distros.\r\n\r\nI kinda convinced myself with when writing this that we'd benefit a lot from `FetchContent`, so 3.11 and maybe 3.14 would be nice. I think that'd be the next biggest improvement we can strive for. I'd personally be satisfied with a bump to 3.13 as that'd give us `FetchContent` and `-B`/`-S` flags (I know I can already use this myself, but we can't do this in the Makefile or wiki for example).",
            "created_at": "2023-06-12T17:45:29Z",
            "html_url": "https://github.com/neovim/neovim/issues/24004#issuecomment-1587792266",
            "id": 1587792266,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24004",
            "node_id": "IC_kwDOAPphoM5eo8mK",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 2,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 2,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1587792266/reactions"
            },
            "updated_at": "2023-06-12T17:45:29Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1587792266",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33953936?v=4",
                "events_url": "https://api.github.com/users/dundargoc/events{/privacy}",
                "followers_url": "https://api.github.com/users/dundargoc/followers",
                "following_url": "https://api.github.com/users/dundargoc/following{/other_user}",
                "gists_url": "https://api.github.com/users/dundargoc/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dundargoc",
                "id": 33953936,
                "login": "dundargoc",
                "node_id": "MDQ6VXNlcjMzOTUzOTM2",
                "organizations_url": "https://api.github.com/users/dundargoc/orgs",
                "received_events_url": "https://api.github.com/users/dundargoc/received_events",
                "repos_url": "https://api.github.com/users/dundargoc/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dundargoc/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dundargoc/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dundargoc"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> I should probably also include cmake versions for some other popular distros.\r\n\r\nhttps://repology.org/project/cmake/versions gotchu covered",
            "created_at": "2023-06-12T17:47:41Z",
            "html_url": "https://github.com/neovim/neovim/issues/24004#issuecomment-1587797066",
            "id": 1587797066,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24004",
            "node_id": "IC_kwDOAPphoM5eo9xK",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1587797066/reactions"
            },
            "updated_at": "2023-06-12T17:47:41Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1587797066",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I don't think we need to track backport/non-standard versions. I interpreted this issue to be about mainline/release distro versions only without any additional modifications. It is e.g. trivial to simply build latest cmake on any system.",
            "created_at": "2023-06-13T14:28:24Z",
            "html_url": "https://github.com/neovim/neovim/issues/24004#issuecomment-1589429249",
            "id": 1589429249,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24004",
            "node_id": "IC_kwDOAPphoM5evMQB",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1589429249/reactions"
            },
            "updated_at": "2023-06-13T14:28:24Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1589429249",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33953936?v=4",
                "events_url": "https://api.github.com/users/dundargoc/events{/privacy}",
                "followers_url": "https://api.github.com/users/dundargoc/followers",
                "following_url": "https://api.github.com/users/dundargoc/following{/other_user}",
                "gists_url": "https://api.github.com/users/dundargoc/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dundargoc",
                "id": 33953936,
                "login": "dundargoc",
                "node_id": "MDQ6VXNlcjMzOTUzOTM2",
                "organizations_url": "https://api.github.com/users/dundargoc/orgs",
                "received_events_url": "https://api.github.com/users/dundargoc/received_events",
                "repos_url": "https://api.github.com/users/dundargoc/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dundargoc/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dundargoc/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dundargoc"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Yup, just added that for the sake of completeness (and to prevent \"but did you know you could install later versions manually?\" comments).",
            "created_at": "2023-06-13T14:37:59Z",
            "html_url": "https://github.com/neovim/neovim/issues/24004#issuecomment-1589445457",
            "id": 1589445457,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24004",
            "node_id": "IC_kwDOAPphoM5evQNR",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1589445457/reactions"
            },
            "updated_at": "2023-06-13T14:37:59Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1589445457",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        }
    ],
    "comments": 5,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/24004/comments",
    "created_at": "2023-06-12T17:07:08Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/24004/events",
    "html_url": "https://github.com/neovim/neovim/issues/24004",
    "id": 1753187151,
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": "building and installing Neovim using the provided scripts",
            "id": 84723321,
            "name": "build",
            "node_id": "MDU6TGFiZWw4NDcyMzMyMQ==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/build"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/24004/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 587,
        "created_at": "2014-05-10T20:43:04Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk"
        },
        "description": "Low priority. Not planned for the current target, may be reassigned.",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/6",
        "id": 655037,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/6/labels",
        "node_id": "MDk6TWlsZXN0b25lNjU1MDM3",
        "number": 6,
        "open_issues": 413,
        "state": "open",
        "title": "backlog",
        "updated_at": "2023-10-16T15:28:26Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/6"
    },
    "node_id": "I_kwDOAPphoM5of4NP",
    "number": 24004,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 3,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 2,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 5,
        "url": "https://api.github.com/repos/neovim/neovim/issues/24004/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/24004/timeline",
    "title": "Cmake version tracking issue",
    "updated_at": "2023-10-16T17:50:54Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/24004",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/33953936?v=4",
        "events_url": "https://api.github.com/users/dundargoc/events{/privacy}",
        "followers_url": "https://api.github.com/users/dundargoc/followers",
        "following_url": "https://api.github.com/users/dundargoc/following{/other_user}",
        "gists_url": "https://api.github.com/users/dundargoc/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/dundargoc",
        "id": 33953936,
        "login": "dundargoc",
        "node_id": "MDQ6VXNlcjMzOTUzOTM2",
        "organizations_url": "https://api.github.com/users/dundargoc/orgs",
        "received_events_url": "https://api.github.com/users/dundargoc/received_events",
        "repos_url": "https://api.github.com/users/dundargoc/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/dundargoc/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/dundargoc/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/dundargoc"
    }
}