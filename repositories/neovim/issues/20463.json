{
    "active_lock_reason": null,
    "assignee": {
        "avatar_url": "https://avatars.githubusercontent.com/u/29580810?v=4",
        "events_url": "https://api.github.com/users/famiu/events{/privacy}",
        "followers_url": "https://api.github.com/users/famiu/followers",
        "following_url": "https://api.github.com/users/famiu/following{/other_user}",
        "gists_url": "https://api.github.com/users/famiu/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/famiu",
        "id": 29580810,
        "login": "famiu",
        "node_id": "MDQ6VXNlcjI5NTgwODEw",
        "organizations_url": "https://api.github.com/users/famiu/orgs",
        "received_events_url": "https://api.github.com/users/famiu/received_events",
        "repos_url": "https://api.github.com/users/famiu/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/famiu/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/famiu/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/famiu"
    },
    "assignees": [
        {
            "avatar_url": "https://avatars.githubusercontent.com/u/29580810?v=4",
            "events_url": "https://api.github.com/users/famiu/events{/privacy}",
            "followers_url": "https://api.github.com/users/famiu/followers",
            "following_url": "https://api.github.com/users/famiu/following{/other_user}",
            "gists_url": "https://api.github.com/users/famiu/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/famiu",
            "id": 29580810,
            "login": "famiu",
            "node_id": "MDQ6VXNlcjI5NTgwODEw",
            "organizations_url": "https://api.github.com/users/famiu/orgs",
            "received_events_url": "https://api.github.com/users/famiu/received_events",
            "repos_url": "https://api.github.com/users/famiu/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/famiu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/famiu/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/famiu"
        }
    ],
    "author_association": "MEMBER",
    "body": "When using `vim.ui_attach` with `ext_cmdline`, `:redraw` doesn't update the ui during `substitute`",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "The following hack seems to work:\r\n\r\n```lua\r\n  if vim.api.nvim_get_mode().mode == \"c\" and vim.fn.getcmdline():find(\"s/\") then\r\n    -- HACK: this will trigger redraw during substitue\r\n    vim.api.nvim_input(\"<space><bs>\")\r\n  end\r\n```",
            "created_at": "2022-10-24T12:00:07Z",
            "html_url": "https://github.com/neovim/neovim/issues/20463#issuecomment-1288927319",
            "id": 1288927319,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/20463",
            "node_id": "IC_kwDOAPphoM5M03hX",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1288927319/reactions"
            },
            "updated_at": "2022-10-24T12:00:07Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1288927319",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/292349?v=4",
                "events_url": "https://api.github.com/users/folke/events{/privacy}",
                "followers_url": "https://api.github.com/users/folke/followers",
                "following_url": "https://api.github.com/users/folke/following{/other_user}",
                "gists_url": "https://api.github.com/users/folke/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/folke",
                "id": 292349,
                "login": "folke",
                "node_id": "MDQ6VXNlcjI5MjM0OQ==",
                "organizations_url": "https://api.github.com/users/folke/orgs",
                "received_events_url": "https://api.github.com/users/folke/received_events",
                "repos_url": "https://api.github.com/users/folke/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/folke/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/folke/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/folke"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Hmm, this seem to be intentional from #9783",
            "created_at": "2022-10-27T08:58:44Z",
            "html_url": "https://github.com/neovim/neovim/issues/20463#issuecomment-1293209983",
            "id": 1293209983,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/20463",
            "node_id": "IC_kwDOAPphoM5NFNF_",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1293209983/reactions"
            },
            "updated_at": "2022-10-27T08:58:44Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1293209983",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Damn, you're right. Any idea how my hack works?\r\n\r\nWould there be a better way to force a redraw that doesnt enter characters?",
            "created_at": "2022-10-27T09:15:38Z",
            "html_url": "https://github.com/neovim/neovim/issues/20463#issuecomment-1293230878",
            "id": 1293230878,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/20463",
            "node_id": "IC_kwDOAPphoM5NFSMe",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1293230878/reactions"
            },
            "updated_at": "2022-10-27T09:15:38Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1293230878",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/292349?v=4",
                "events_url": "https://api.github.com/users/folke/events{/privacy}",
                "followers_url": "https://api.github.com/users/folke/followers",
                "following_url": "https://api.github.com/users/folke/following{/other_user}",
                "gists_url": "https://api.github.com/users/folke/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/folke",
                "id": 292349,
                "login": "folke",
                "node_id": "MDQ6VXNlcjI5MjM0OQ==",
                "organizations_url": "https://api.github.com/users/folke/orgs",
                "received_events_url": "https://api.github.com/users/folke/received_events",
                "repos_url": "https://api.github.com/users/folke/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/folke/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/folke/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/folke"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "The `cmdline_show` events also do come in **before** the redraw lock, but it seems the `cmdline_pos` events come in **after** the redraw lock.\r\n\r\nMaybe it can be fixes by also sending the `cmdline_pos` events before the redraw lock?",
            "created_at": "2022-10-27T09:32:31Z",
            "html_url": "https://github.com/neovim/neovim/issues/20463#issuecomment-1293252298",
            "id": 1293252298,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/20463",
            "node_id": "IC_kwDOAPphoM5NFXbK",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1293252298/reactions"
            },
            "updated_at": "2022-10-27T09:32:31Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1293252298",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/292349?v=4",
                "events_url": "https://api.github.com/users/folke/events{/privacy}",
                "followers_url": "https://api.github.com/users/folke/followers",
                "following_url": "https://api.github.com/users/folke/following{/other_user}",
                "gists_url": "https://api.github.com/users/folke/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/folke",
                "id": 292349,
                "login": "folke",
                "node_id": "MDQ6VXNlcjI5MjM0OQ==",
                "organizations_url": "https://api.github.com/users/folke/orgs",
                "received_events_url": "https://api.github.com/users/folke/received_events",
                "repos_url": "https://api.github.com/users/folke/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/folke/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/folke/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/folke"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "So, that's why my hack works. I simply get a new `cmdline_show` event",
            "created_at": "2022-10-27T09:36:10Z",
            "html_url": "https://github.com/neovim/neovim/issues/20463#issuecomment-1293256455",
            "id": 1293256455,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/20463",
            "node_id": "IC_kwDOAPphoM5NFYcH",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1293256455/reactions"
            },
            "updated_at": "2022-10-27T09:36:10Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1293256455",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/292349?v=4",
                "events_url": "https://api.github.com/users/folke/events{/privacy}",
                "followers_url": "https://api.github.com/users/folke/followers",
                "following_url": "https://api.github.com/users/folke/following{/other_user}",
                "gists_url": "https://api.github.com/users/folke/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/folke",
                "id": 292349,
                "login": "folke",
                "node_id": "MDQ6VXNlcjI5MjM0OQ==",
                "organizations_url": "https://api.github.com/users/folke/orgs",
                "received_events_url": "https://api.github.com/users/folke/received_events",
                "repos_url": "https://api.github.com/users/folke/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/folke/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/folke/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/folke"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I was able to fix this for Noice by calling `update_screen()` with **ffi**\r\n\r\n```lua\r\n  local ffi = require(\"noice.util.ffi\")\r\n  if ffi.cmdpreview then\r\n    -- HACK: this will trigger redraw during substitute and cmdpreview,\r\n    -- but when moving the cursor, the screen will be cleared until\r\n    -- a new character is entered\r\n    ffi.update_screen()\r\n  end\r\n```\r\n\r\nI only call that code during substitute and when the cmdline cursor is not at the end of the cmdline, to prevent flickering.",
            "created_at": "2022-11-16T19:58:25Z",
            "html_url": "https://github.com/neovim/neovim/issues/20463#issuecomment-1317594168",
            "id": 1317594168,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/20463",
            "node_id": "IC_kwDOAPphoM5OiOQ4",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1317594168/reactions"
            },
            "updated_at": "2022-11-16T20:40:19Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1317594168",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/292349?v=4",
                "events_url": "https://api.github.com/users/folke/events{/privacy}",
                "followers_url": "https://api.github.com/users/folke/followers",
                "following_url": "https://api.github.com/users/folke/following{/other_user}",
                "gists_url": "https://api.github.com/users/folke/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/folke",
                "id": 292349,
                "login": "folke",
                "node_id": "MDQ6VXNlcjI5MjM0OQ==",
                "organizations_url": "https://api.github.com/users/folke/orgs",
                "received_events_url": "https://api.github.com/users/folke/received_events",
                "repos_url": "https://api.github.com/users/folke/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/folke/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/folke/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/folke"
            }
        },
        {
            "author_association": "NONE",
            "body": "has there been any news about this issue?\r\n",
            "created_at": "2024-02-26T20:37:08Z",
            "html_url": "https://github.com/neovim/neovim/issues/20463#issuecomment-1965223502",
            "id": 1965223502,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/20463",
            "node_id": "IC_kwDOAPphoM51Iu5O",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1965223502/reactions"
            },
            "updated_at": "2024-02-26T21:11:40Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1965223502",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/98118238?v=4",
                "events_url": "https://api.github.com/users/AndreM222/events{/privacy}",
                "followers_url": "https://api.github.com/users/AndreM222/followers",
                "following_url": "https://api.github.com/users/AndreM222/following{/other_user}",
                "gists_url": "https://api.github.com/users/AndreM222/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/AndreM222",
                "id": 98118238,
                "login": "AndreM222",
                "node_id": "U_kgDOBdkqXg",
                "organizations_url": "https://api.github.com/users/AndreM222/orgs",
                "received_events_url": "https://api.github.com/users/AndreM222/received_events",
                "repos_url": "https://api.github.com/users/AndreM222/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/AndreM222/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/AndreM222/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/AndreM222"
            }
        }
    ],
    "comments": 7,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/20463/comments",
    "created_at": "2022-10-03T11:10:27Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/20463/events",
    "html_url": "https://github.com/neovim/neovim/issues/20463",
    "id": 1394551599,
    "labels": [
        {
            "color": "f9d0c4",
            "default": true,
            "description": "issues reporting wrong behavior",
            "id": 77997474,
            "name": "bug",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3NA==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "",
            "id": 113026979,
            "name": "ui",
            "node_id": "MDU6TGFiZWwxMTMwMjY5Nzk=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/ui"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/20463/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM5THysv",
    "number": 20463,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/20463/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/20463/timeline",
    "title": "redraw doesn't update the UI during substitute",
    "updated_at": "2024-02-26T21:11:40Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/20463",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/292349?v=4",
        "events_url": "https://api.github.com/users/folke/events{/privacy}",
        "followers_url": "https://api.github.com/users/folke/followers",
        "following_url": "https://api.github.com/users/folke/following{/other_user}",
        "gists_url": "https://api.github.com/users/folke/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/folke",
        "id": 292349,
        "login": "folke",
        "node_id": "MDQ6VXNlcjI5MjM0OQ==",
        "organizations_url": "https://api.github.com/users/folke/orgs",
        "received_events_url": "https://api.github.com/users/folke/received_events",
        "repos_url": "https://api.github.com/users/folke/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/folke/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/folke/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/folke"
    }
}