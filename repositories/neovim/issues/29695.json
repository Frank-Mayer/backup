{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\r\n\r\nI really love the new builtin snippet + lsp completion. \r\nThese native features simply Neovim usage and removes the needs for two plugins. \r\n\r\nHowever the usage could be just slightly improved by allowing lsp completion to **not** expand snippets, possibly via a additional argument to the completion commands. \r\n\r\nWhy? Function pointers. \r\n\r\nConsider this scenario:\r\n\r\n![image](https://github.com/user-attachments/assets/9298e9a3-a6c3-4357-b1cc-310d9cf24ad6)\r\n\r\nIn the image I'm trying to provide a pointer to a function to this structure via lsp completion. \r\nIt gets really clumsy here. \r\n\r\n I can complete the completion and be placed inside the first snippet, however pressing `backspace` here does not remove all arguments. Even if this did, we still need to remove the remaining parenthesis `()`. \r\n\r\nIt would be nice to either\r\n1. Allow a way to fill the completion without any snippets\r\nor\r\n2. When the snippet is 'active' provide a way to remove all arguments + '()'.\r\n\r\nFor 2. I could understand that removing the parenthesis maybe awkward. I think this could be optional since most individuals with pairs plugs will easily delete both parenths (when you delete the first one, the pairs plugin usually removes the other).\r\n\r\n### Expected behavior\r\n\r\nI wouldn't say I have an 'expected behavior'. As outlined above, I'm hoping that the suggestion for usability is agreed with. Its cool if the core team just doesn't agree with this, in which case feel free to close the feature request. ",
    "closed_at": "2024-07-15T18:05:01Z",
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "Neovim just implements the LSP specification in this regard and does exactly what the LSP server tells it to. You can disable snippets either through server configuration or by just setting the client snippet capability to `false`. The second ask is completely out of scope for the core implementation, but maybe a plugin can handle it.\r\n\r\n(This is a general Neovim policy: core gives you a hackable implementation with reasonable (nonconfigurable) defaults; anything beyond that is the job of a plugin where a wide choice is usually available so everybody will find one that fits their needs.)",
            "created_at": "2024-07-14T09:47:10Z",
            "html_url": "https://github.com/neovim/neovim/issues/29695#issuecomment-2227284675",
            "id": 2227284675,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/29695",
            "node_id": "IC_kwDOAPphoM6EwarD",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 2,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 2,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2227284675/reactions"
            },
            "updated_at": "2024-07-14T09:47:10Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2227284675",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        },
        {
            "author_association": "NONE",
            "body": "Yup I can totally understand that. I can look into the completion and snippet code and see if a tiny plugin can be devised to do the want in this. Thanks for the quick response. ",
            "created_at": "2024-07-14T13:37:04Z",
            "html_url": "https://github.com/neovim/neovim/issues/29695#issuecomment-2227352561",
            "id": 2227352561,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/29695",
            "node_id": "IC_kwDOAPphoM6EwrPx",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2227352561/reactions"
            },
            "updated_at": "2024-07-14T13:37:04Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2227352561",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5642902?v=4",
                "events_url": "https://api.github.com/users/ldelossa/events{/privacy}",
                "followers_url": "https://api.github.com/users/ldelossa/followers",
                "following_url": "https://api.github.com/users/ldelossa/following{/other_user}",
                "gists_url": "https://api.github.com/users/ldelossa/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ldelossa",
                "id": 5642902,
                "login": "ldelossa",
                "node_id": "MDQ6VXNlcjU2NDI5MDI=",
                "organizations_url": "https://api.github.com/users/ldelossa/orgs",
                "received_events_url": "https://api.github.com/users/ldelossa/received_events",
                "repos_url": "https://api.github.com/users/ldelossa/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ldelossa/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ldelossa/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ldelossa"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "The snippet is only expanded if you accept a suggestion (`:h complete_CTRL-Y`)\r\n\r\nIf you only pre-select it (`i_CTRL-N`) it shouldn't expand the snippet and you can continue typing.\r\n\r\n\r\nIf the pre-selection already includes the parenthesis and arguments we may be able to tune things a bit depending on how the exact server response looks like. Similar to the cases in https://github.com/neovim/neovim/blob/45b7a2c50335e1943a36715101e40eda5a1423f3/test/functional/plugin/lsp/completion_spec.lua#L200-L278 \r\n\r\nCould you share the payload the server is sending as response to a completion request or post a small reproduction?\r\n",
            "created_at": "2024-07-15T18:40:04Z",
            "html_url": "https://github.com/neovim/neovim/issues/29695#issuecomment-2229148348",
            "id": 2229148348,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/29695",
            "node_id": "IC_kwDOAPphoM6E3hq8",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2229148348/reactions"
            },
            "updated_at": "2024-07-15T18:40:04Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2229148348",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/38700?v=4",
                "events_url": "https://api.github.com/users/mfussenegger/events{/privacy}",
                "followers_url": "https://api.github.com/users/mfussenegger/followers",
                "following_url": "https://api.github.com/users/mfussenegger/following{/other_user}",
                "gists_url": "https://api.github.com/users/mfussenegger/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mfussenegger",
                "id": 38700,
                "login": "mfussenegger",
                "node_id": "MDQ6VXNlcjM4NzAw",
                "organizations_url": "https://api.github.com/users/mfussenegger/orgs",
                "received_events_url": "https://api.github.com/users/mfussenegger/received_events",
                "repos_url": "https://api.github.com/users/mfussenegger/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mfussenegger/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mfussenegger/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mfussenegger"
            }
        }
    ],
    "comments": 3,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/29695/comments",
    "created_at": "2024-07-13T22:58:26Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/29695/events",
    "html_url": "https://github.com/neovim/neovim/issues/29695",
    "id": 2407189571,
    "labels": [
        {
            "color": "c2e0c6",
            "default": true,
            "description": "feature request",
            "id": 77997476,
            "name": "enhancement",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3Ng==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/enhancement"
        },
        {
            "color": "C5DEF5",
            "default": false,
            "description": "",
            "id": 6207355257,
            "name": "snippet",
            "node_id": "LA_kwDOAPphoM8AAAABcfy5eQ",
            "url": "https://api.github.com/repos/neovim/neovim/labels/snippet"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/29695/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM6PesxD",
    "number": 29695,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 1,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 1,
        "url": "https://api.github.com/repos/neovim/neovim/issues/29695/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "not_planned",
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/29695/timeline",
    "title": "[Snippets] Allow completion to not expand snippets on completion",
    "updated_at": "2024-07-15T18:40:04Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/29695",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/5642902?v=4",
        "events_url": "https://api.github.com/users/ldelossa/events{/privacy}",
        "followers_url": "https://api.github.com/users/ldelossa/followers",
        "following_url": "https://api.github.com/users/ldelossa/following{/other_user}",
        "gists_url": "https://api.github.com/users/ldelossa/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/ldelossa",
        "id": 5642902,
        "login": "ldelossa",
        "node_id": "MDQ6VXNlcjU2NDI5MDI=",
        "organizations_url": "https://api.github.com/users/ldelossa/orgs",
        "received_events_url": "https://api.github.com/users/ldelossa/received_events",
        "repos_url": "https://api.github.com/users/ldelossa/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/ldelossa/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ldelossa/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/ldelossa"
    }
}