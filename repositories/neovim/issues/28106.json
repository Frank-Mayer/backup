{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "body": "### Problem\n\nOn master, a mapping like `<C-d>zz` prevents the cursor from moving, while this correctly scrolled and centered the cursor previously.\n\n### Steps to reproduce\n\n1. Write the following config file to `repro.lua`:\r\n```lua\r\nvim.keymap.set('n', '<C-d>', '<C-d>zz', { desc = 'Scroll downwards' })\r\nvim.keymap.set('n', '<C-u>', '<C-u>zz', { desc = 'Scroll upwards' })\r\n```\r\n\r\n2. Open Neovim with `nvim --clean -u repro.lua file`, where `file` has enough content to be able to scroll through it.\r\n3. Type `<C-d>` or `<C-u>`. Notice how the cursor stays fixed.\n\n### Expected behavior\n\nFor the mappings to scroll and center the cursor.\n\n### Neovim version (nvim -v)\n\nv0.10.0-dev-38e38d1b4\n\n### Vim (not Nvim) behaves the same?\n\nNo, vim seems to have the correct behaviour\n\n### Operating system/version\n\nAsahi Fedora Linux 39\n\n### Terminal name/version\n\nwezterm 20240325_093507_e5ac32f2\n\n### $TERM environment variable\n\nwezterm\n\n### Installation\n\nFrom source",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "@luukvbaal, I believe this is a consequence of 2f638c0ac6275bebacd12671481642fa43d7ba10.",
            "created_at": "2024-03-29T20:02:56Z",
            "html_url": "https://github.com/neovim/neovim/issues/28106#issuecomment-2027684684",
            "id": 2027684684,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28106",
            "node_id": "IC_kwDOAPphoM543ANM",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 1,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2027684684/reactions"
            },
            "updated_at": "2024-03-29T20:02:56Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2027684684",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/24854248?v=4",
                "events_url": "https://api.github.com/users/echasnovski/events{/privacy}",
                "followers_url": "https://api.github.com/users/echasnovski/followers",
                "following_url": "https://api.github.com/users/echasnovski/following{/other_user}",
                "gists_url": "https://api.github.com/users/echasnovski/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/echasnovski",
                "id": 24854248,
                "login": "echasnovski",
                "node_id": "MDQ6VXNlcjI0ODU0MjQ4",
                "organizations_url": "https://api.github.com/users/echasnovski/orgs",
                "received_events_url": "https://api.github.com/users/echasnovski/received_events",
                "repos_url": "https://api.github.com/users/echasnovski/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/echasnovski/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/echasnovski/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/echasnovski"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Uhuh, already discussing this over at vim/vim#14338 as well.",
            "created_at": "2024-03-29T20:37:53Z",
            "html_url": "https://github.com/neovim/neovim/issues/28106#issuecomment-2027714344",
            "id": 2027714344,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28106",
            "node_id": "IC_kwDOAPphoM543Hco",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 1,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2027714344/reactions"
            },
            "updated_at": "2024-04-01T11:50:39Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2027714344",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal"
            }
        },
        {
            "author_association": "NONE",
            "body": "I confirm, the same behavior on my side. On v0.9.5 everything is ok.",
            "created_at": "2024-03-29T21:16:31Z",
            "html_url": "https://github.com/neovim/neovim/issues/28106#issuecomment-2027744766",
            "id": 2027744766,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28106",
            "node_id": "IC_kwDOAPphoM543O3-",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2027744766/reactions"
            },
            "updated_at": "2024-03-29T23:33:06Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2027744766",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/3128467?v=4",
                "events_url": "https://api.github.com/users/wojciech-kulik/events{/privacy}",
                "followers_url": "https://api.github.com/users/wojciech-kulik/followers",
                "following_url": "https://api.github.com/users/wojciech-kulik/following{/other_user}",
                "gists_url": "https://api.github.com/users/wojciech-kulik/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/wojciech-kulik",
                "id": 3128467,
                "login": "wojciech-kulik",
                "node_id": "MDQ6VXNlcjMxMjg0Njc=",
                "organizations_url": "https://api.github.com/users/wojciech-kulik/orgs",
                "received_events_url": "https://api.github.com/users/wojciech-kulik/received_events",
                "repos_url": "https://api.github.com/users/wojciech-kulik/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/wojciech-kulik/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/wojciech-kulik/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/wojciech-kulik"
            }
        },
        {
            "author_association": "NONE",
            "body": "I am also having this problem with Neovim `v0.10.0-dev-2749+g38e38d1b40`.",
            "created_at": "2024-03-29T23:24:19Z",
            "html_url": "https://github.com/neovim/neovim/issues/28106#issuecomment-2027817722",
            "id": 2027817722,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28106",
            "node_id": "IC_kwDOAPphoM543gr6",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2027817722/reactions"
            },
            "updated_at": "2024-03-29T23:33:11Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2027817722",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2100484?v=4",
                "events_url": "https://api.github.com/users/leiteg/events{/privacy}",
                "followers_url": "https://api.github.com/users/leiteg/followers",
                "following_url": "https://api.github.com/users/leiteg/following{/other_user}",
                "gists_url": "https://api.github.com/users/leiteg/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/leiteg",
                "id": 2100484,
                "login": "leiteg",
                "node_id": "MDQ6VXNlcjIxMDA0ODQ=",
                "organizations_url": "https://api.github.com/users/leiteg/orgs",
                "received_events_url": "https://api.github.com/users/leiteg/received_events",
                "repos_url": "https://api.github.com/users/leiteg/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/leiteg/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/leiteg/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/leiteg"
            }
        },
        {
            "author_association": "NONE",
            "body": "glad to know im not the only one who noticed it.",
            "created_at": "2024-04-01T10:40:22Z",
            "html_url": "https://github.com/neovim/neovim/issues/28106#issuecomment-2029561626",
            "id": 2029561626,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28106",
            "node_id": "IC_kwDOAPphoM54-Kca",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2029561626/reactions"
            },
            "updated_at": "2024-04-01T10:41:16Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2029561626",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/16737095?v=4",
                "events_url": "https://api.github.com/users/dagadbm/events{/privacy}",
                "followers_url": "https://api.github.com/users/dagadbm/followers",
                "following_url": "https://api.github.com/users/dagadbm/following{/other_user}",
                "gists_url": "https://api.github.com/users/dagadbm/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dagadbm",
                "id": 16737095,
                "login": "dagadbm",
                "node_id": "MDQ6VXNlcjE2NzM3MDk1",
                "organizations_url": "https://api.github.com/users/dagadbm/orgs",
                "received_events_url": "https://api.github.com/users/dagadbm/received_events",
                "repos_url": "https://api.github.com/users/dagadbm/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dagadbm/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dagadbm/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dagadbm"
            }
        },
        {
            "author_association": "NONE",
            "body": "is there a safer mapping we can use to prevent this issue? that does the same thing?",
            "created_at": "2024-04-01T10:53:46Z",
            "html_url": "https://github.com/neovim/neovim/issues/28106#issuecomment-2029576953",
            "id": 2029576953,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28106",
            "node_id": "IC_kwDOAPphoM54-OL5",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2029576953/reactions"
            },
            "updated_at": "2024-04-01T10:53:46Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2029576953",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/16737095?v=4",
                "events_url": "https://api.github.com/users/dagadbm/events{/privacy}",
                "followers_url": "https://api.github.com/users/dagadbm/followers",
                "following_url": "https://api.github.com/users/dagadbm/following{/other_user}",
                "gists_url": "https://api.github.com/users/dagadbm/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dagadbm",
                "id": 16737095,
                "login": "dagadbm",
                "node_id": "MDQ6VXNlcjE2NzM3MDk1",
                "organizations_url": "https://api.github.com/users/dagadbm/orgs",
                "received_events_url": "https://api.github.com/users/dagadbm/received_events",
                "repos_url": "https://api.github.com/users/dagadbm/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dagadbm/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dagadbm/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dagadbm"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "```lua\r\nvim.keymap.set('n', '<C-d>', '<C-d>M', { desc = 'Scroll downwards' })\r\n```",
            "created_at": "2024-04-01T11:25:14Z",
            "html_url": "https://github.com/neovim/neovim/issues/28106#issuecomment-2029612927",
            "id": 2029612927,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28106",
            "node_id": "IC_kwDOAPphoM54-W9_",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2029612927/reactions"
            },
            "updated_at": "2024-04-01T11:29:33Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2029612927",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal"
            }
        }
    ],
    "comments": 7,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/28106/comments",
    "created_at": "2024-03-29T19:48:47Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/28106/events",
    "html_url": "https://github.com/neovim/neovim/issues/28106",
    "id": 2215925219,
    "labels": [
        {
            "color": "f9d0c4",
            "default": false,
            "description": "wrong behavior that was introduced in a previous commit (please bisect)",
            "id": 619474658,
            "name": "bug-regression",
            "node_id": "MDU6TGFiZWw2MTk0NzQ2NTg=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug-regression"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/28106/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 343,
        "created_at": "2023-02-02T14:11:43Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1363104?v=4",
            "events_url": "https://api.github.com/users/bfredl/events{/privacy}",
            "followers_url": "https://api.github.com/users/bfredl/followers",
            "following_url": "https://api.github.com/users/bfredl/following{/other_user}",
            "gists_url": "https://api.github.com/users/bfredl/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/bfredl",
            "id": 1363104,
            "login": "bfredl",
            "node_id": "MDQ6VXNlcjEzNjMxMDQ=",
            "organizations_url": "https://api.github.com/users/bfredl/orgs",
            "received_events_url": "https://api.github.com/users/bfredl/received_events",
            "repos_url": "https://api.github.com/users/bfredl/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/bfredl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/bfredl/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/bfredl"
        },
        "description": "",
        "due_on": "2024-05-01T07:00:00Z",
        "html_url": "https://github.com/neovim/neovim/milestone/36",
        "id": 8997654,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/36/labels",
        "node_id": "MI_kwDOAPphoM4AiUsW",
        "number": 36,
        "open_issues": 38,
        "state": "open",
        "title": "0.10",
        "updated_at": "2024-04-01T11:13:57Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/36"
    },
    "node_id": "I_kwDOAPphoM6EFFXj",
    "number": 28106,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 7,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 7,
        "url": "https://api.github.com/repos/neovim/neovim/issues/28106/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/28106/timeline",
    "title": "Broken scroll + zz mappings",
    "updated_at": "2024-04-01T11:50:39Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/28106",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
        "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
        "followers_url": "https://api.github.com/users/MariaSolOs/followers",
        "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
        "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/MariaSolOs",
        "id": 62502207,
        "login": "MariaSolOs",
        "node_id": "MDQ6VXNlcjYyNTAyMjA3",
        "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
        "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
        "repos_url": "https://api.github.com/users/MariaSolOs/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/MariaSolOs"
    }
}