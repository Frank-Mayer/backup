{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\r\n\r\nI'm sure you have a reason for doing this, I do not understand that reason and want to. Moreover, the lack of documentation on this makes this very difficult to troubl shoot. CORE neovim is the _last_ thing someone will troubleshoot to find this. First they will destroy their plugins, configuration, distribution configurations, etc before they get down to neovim and suspect the neovim project itself for doing it.\r\n\r\nHere is the area of confusion,\r\n\r\n* User adopts kitty.\r\n* User selects a kitty color scheme.\r\n* User launches vim and sees the color scheme is broken? What did it?\r\n\r\nThis is where I was when I asked this question: https://vi.stackexchange.com/q/45122/5078 \r\n\r\nFrom what I can ascertain the reason is because you want a more complete color scheme, and you don't feel you can provide that if you can't depend on a background color. That's fine. \r\n\r\nWhat I don't understand is the purported fix for people that were fine before, and want the experience from 0.9. For us, we're told to run `notermguicolors`. And if that's weird because that option is documented as\r\n\r\n> Enables 24-bit RGB color in the TUI.  Uses \"gui\" :highlight attributes instead of \"cterm\" attributes. Requires an ISO-8613-3 compatible terminal.\r\n\r\nAnd that sounds like what I want.... What I don't want is the one background-set to override the terminal.\r\n\r\nI mean `set bg=noclear` or something is where I would look for this problem if you told me it was in neovim. I would never assume that before pulling my hair out for many hours. I live in tuis. I run 20 of them at least. This is the only one that overrides my terminal background color.\r\n\r\nAll this to say, consider the user experience. This is likely not what a lot of people want, even if it is a minority. And the documentation for `termguicolors` and the Changelog doesn't at all indicate where the problem is.\r\n\r\nA note like this in the Changelog would go a long way to helping us find a solution,\r\n\r\n> Is your background color wrong on 0.10? Do you want to see your terminal's background color rather than the vim theme's background color? Do you see bars around you terminal? We did it! We changed the long standing behavior here. Read more about the reasoning [AT THIS LINK] which documents potential workarounds. \r\n\r\nThanks for neovim.\r\n\r\n### Expected behavior\r\n\r\nSome direction...",
    "closed_at": "2024-06-28T08:15:01Z",
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "Here is what I use in my nvim config\r\n```lua\r\nlocal fg = \"#e0e0e0\"\r\nlocal bg = \"#242424\"\r\nlocal set_terminal_default_colors = \"\\x1b]10;\" .. fg .. \"\\a\\x1b]11;\" .. bg .. \"\\a\"\r\nlocal reset_terminal_colors = \"\\x1b]110\\a\\x1b]111\\a\"\r\n\r\n-- Change terminal default colors to avoid having to highlight the normal group for performance\r\nvim.cmd('highlight Normal guibg=NONE guifg=NONE ctermbg=NONE ctermfg=NONE')\r\nio.stdout:write(set_terminal_default_colors)\r\nvim.api.nvim_create_autocmd({ \"VimEnter\", \"VimResume\" }, {\r\n    group = vim.api.nvim_create_augroup(\"KittySetNormalColors\", { clear = true }),\r\n    callback = function()\r\n        io.stdout:write(set_terminal_default_colors)\r\n    end,\r\n})\r\n\r\nvim.api.nvim_create_autocmd({ \"VimLeave\", \"VimSuspend\" }, {\r\n    group = vim.api.nvim_create_augroup(\"KittyUnsetNormalColors\", { clear = true }),\r\n    callback = function()\r\n        io.stdout:write(reset_terminal_colors)\r\n    end,\r\n})\r\n```\r\nThis has the added benefit that nvim doesn't need to style Normal style cells at all, which at least in theory means it can send less bytes to draw the screen, whether it actually does so I haven't got around to checking.",
            "created_at": "2024-06-28T05:12:10Z",
            "html_url": "https://github.com/neovim/neovim/issues/29505#issuecomment-2196156331",
            "id": 2196156331,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/29505",
            "node_id": "IC_kwDOAPphoM6C5q-r",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2196156331/reactions"
            },
            "updated_at": "2024-06-28T05:12:10Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2196156331",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1308621?v=4",
                "events_url": "https://api.github.com/users/kovidgoyal/events{/privacy}",
                "followers_url": "https://api.github.com/users/kovidgoyal/followers",
                "following_url": "https://api.github.com/users/kovidgoyal/following{/other_user}",
                "gists_url": "https://api.github.com/users/kovidgoyal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/kovidgoyal",
                "id": 1308621,
                "login": "kovidgoyal",
                "node_id": "MDQ6VXNlcjEzMDg2MjE=",
                "organizations_url": "https://api.github.com/users/kovidgoyal/orgs",
                "received_events_url": "https://api.github.com/users/kovidgoyal/received_events",
                "repos_url": "https://api.github.com/users/kovidgoyal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/kovidgoyal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/kovidgoyal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/kovidgoyal"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> A note like this in the Changelog would go a long way to helping us find a solution,\r\n\r\nIt's mentioned at the very top of `:h news`.",
            "created_at": "2024-06-28T08:15:02Z",
            "html_url": "https://github.com/neovim/neovim/issues/29505#issuecomment-2196381099",
            "id": 2196381099,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/29505",
            "node_id": "IC_kwDOAPphoM6C6h2r",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2196381099/reactions"
            },
            "updated_at": "2024-06-28T08:15:02Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2196381099",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        },
        {
            "author_association": "NONE",
            "body": "Maybe the OP's confusion would be alleviated by a note somewhere in the docs that you can run `:hi Normal guigb=NONE` to get a \"transparent\" background in the terminal when `termguicolors` is set.",
            "created_at": "2024-06-28T18:27:09Z",
            "html_url": "https://github.com/neovim/neovim/issues/29505#issuecomment-2197432853",
            "id": 2197432853,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/29505",
            "node_id": "IC_kwDOAPphoM6C-ioV",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2197432853/reactions"
            },
            "updated_at": "2024-06-28T18:28:06Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2197432853",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5758789?v=4",
                "events_url": "https://api.github.com/users/gwerbin/events{/privacy}",
                "followers_url": "https://api.github.com/users/gwerbin/followers",
                "following_url": "https://api.github.com/users/gwerbin/following{/other_user}",
                "gists_url": "https://api.github.com/users/gwerbin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/gwerbin",
                "id": 5758789,
                "login": "gwerbin",
                "node_id": "MDQ6VXNlcjU3NTg3ODk=",
                "organizations_url": "https://api.github.com/users/gwerbin/orgs",
                "received_events_url": "https://api.github.com/users/gwerbin/received_events",
                "repos_url": "https://api.github.com/users/gwerbin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/gwerbin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/gwerbin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/gwerbin"
            }
        },
        {
            "author_association": "NONE",
            "body": "\r\n> This has the added benefit that nvim doesn't need to style Normal style cells at all, which at least in theory means it can send less bytes to draw the screen, whether it actually does so I haven't got around to checking.\r\n\r\nWhen you do that investigation please keep us updated. I prefer just the `vim.cmd('highlight Normal guibg=NONE guifg=NONE ctermbg=NONE ctermfg=NONE')` otherwise I have to keep my fg and bg in sync with my kitty theme manually\r\n",
            "created_at": "2024-06-28T19:30:23Z",
            "html_url": "https://github.com/neovim/neovim/issues/29505#issuecomment-2197507904",
            "id": 2197507904,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/29505",
            "node_id": "IC_kwDOAPphoM6C-09A",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2197507904/reactions"
            },
            "updated_at": "2024-06-28T19:30:23Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2197507904",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/19922?v=4",
                "events_url": "https://api.github.com/users/EvanCarroll/events{/privacy}",
                "followers_url": "https://api.github.com/users/EvanCarroll/followers",
                "following_url": "https://api.github.com/users/EvanCarroll/following{/other_user}",
                "gists_url": "https://api.github.com/users/EvanCarroll/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/EvanCarroll",
                "id": 19922,
                "login": "EvanCarroll",
                "node_id": "MDQ6VXNlcjE5OTIy",
                "organizations_url": "https://api.github.com/users/EvanCarroll/orgs",
                "received_events_url": "https://api.github.com/users/EvanCarroll/received_events",
                "repos_url": "https://api.github.com/users/EvanCarroll/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/EvanCarroll/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/EvanCarroll/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/EvanCarroll"
            }
        }
    ],
    "comments": 4,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/29505/comments",
    "created_at": "2024-06-27T23:51:06Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/29505/events",
    "html_url": "https://github.com/neovim/neovim/issues/29505",
    "id": 2379272786,
    "labels": [
        {
            "color": "c5def5",
            "default": true,
            "description": "",
            "id": 84744038,
            "name": "documentation",
            "node_id": "MDU6TGFiZWw4NDc0NDAzOA==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/documentation"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "issues or PRs involving changing the defaults",
            "id": 103777064,
            "name": "defaults",
            "node_id": "MDU6TGFiZWwxMDM3NzcwNjQ=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/defaults"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/29505/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM6N0NJS",
    "number": 29505,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/29505/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "not_planned",
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/29505/timeline",
    "title": "Document the 0.10 behavior regarding termguicolors",
    "updated_at": "2024-06-28T19:30:24Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/29505",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/19922?v=4",
        "events_url": "https://api.github.com/users/EvanCarroll/events{/privacy}",
        "followers_url": "https://api.github.com/users/EvanCarroll/followers",
        "following_url": "https://api.github.com/users/EvanCarroll/following{/other_user}",
        "gists_url": "https://api.github.com/users/EvanCarroll/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/EvanCarroll",
        "id": 19922,
        "login": "EvanCarroll",
        "node_id": "MDQ6VXNlcjE5OTIy",
        "organizations_url": "https://api.github.com/users/EvanCarroll/orgs",
        "received_events_url": "https://api.github.com/users/EvanCarroll/received_events",
        "repos_url": "https://api.github.com/users/EvanCarroll/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/EvanCarroll/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/EvanCarroll/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/EvanCarroll"
    }
}