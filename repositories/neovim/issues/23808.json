{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\r\n\r\nWhen I edit a file through a symlink (eg `:e ~/.vimrc` where .vimrc is a symlink to another location) nvim replaces the symlink with a copy of the linked file (`backupcopy=auto` behaves like `no` for symlinks?)\r\n\r\nEdit: Specifically happens to symlinks created with `ln -s` in git bash (and maybe other cygwin-like shells?)\r\n\r\n### Steps to reproduce\r\n\r\n`nvim --clean`\r\n`:e foo` (where foo is a symlink)\r\nobserve that `foo` is no longer a symlink\r\n\r\n### Expected behavior\r\n\r\nEdit the linked file without destroying the symlink\r\n(behave as if `backupcopy=yes` for symlinks?)\r\n\r\n### Neovim version (nvim -v)\r\n\r\n0.9.0\r\n\r\n### Vim (not Nvim) behaves the same?\r\n\r\nUnknown, but see https://superuser.com/questions/193872/vim-destroys-symbolic-links-under-windows\r\n\r\n### Operating system/version\r\n\r\nWindows 11 22H2\r\n\r\n### Terminal name/version\r\n\r\nNvy 0.3.5, cmd.exe\r\n\r\n### $TERM environment variable\r\n\r\nN/A?\r\n\r\n### Installation\r\n\r\nWindows msi",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "CONTRIBUTOR",
            "body": "Doesn't happen for me, even though OP and I are using the same version of Windows.  Interesting.\r\n\r\n@thirstyice how did you create the symlink?  I used this:\r\n\r\n```\r\nNew-Item -Type SymbolicLink -Path .\\link.txt -Value .\\main.txt\r\n```\r\n",
            "created_at": "2023-06-02T14:23:54Z",
            "html_url": "https://github.com/neovim/neovim/issues/23808#issuecomment-1573824190",
            "id": 1573824190,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/23808",
            "node_id": "IC_kwDOAPphoM5dzqa-",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1573824190/reactions"
            },
            "updated_at": "2023-06-02T14:23:54Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1573824190",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/32037751?v=4",
                "events_url": "https://api.github.com/users/3N4N/events{/privacy}",
                "followers_url": "https://api.github.com/users/3N4N/followers",
                "following_url": "https://api.github.com/users/3N4N/following{/other_user}",
                "gists_url": "https://api.github.com/users/3N4N/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/3N4N",
                "id": 32037751,
                "login": "3N4N",
                "node_id": "MDQ6VXNlcjMyMDM3NzUx",
                "organizations_url": "https://api.github.com/users/3N4N/orgs",
                "received_events_url": "https://api.github.com/users/3N4N/received_events",
                "repos_url": "https://api.github.com/users/3N4N/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/3N4N/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/3N4N/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/3N4N"
            }
        },
        {
            "author_association": "NONE",
            "body": "Did some further investigating:\r\nIf I make the link with the method described by @3N4N, then it doesn't get overridden.\r\nIf I make the link using `mklink`, then it doesn't get overridden\r\nBut, if I make the link using `ln -s` from mintty, it gets overridden\r\n\r\nSo it looks like something about the links created by `ln -s` is causing them to not be recognized as links by nvim.\r\nAnd it's definitely still a \"nvim overriding the link\" problem because the hidden attribute also gets unset, in addition to the link being broken",
            "created_at": "2023-06-16T19:32:52Z",
            "html_url": "https://github.com/neovim/neovim/issues/23808#issuecomment-1595192948",
            "id": 1595192948,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/23808",
            "node_id": "IC_kwDOAPphoM5fFLZ0",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1595192948/reactions"
            },
            "updated_at": "2023-06-16T19:32:52Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1595192948",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5591891?v=4",
                "events_url": "https://api.github.com/users/thirstyice/events{/privacy}",
                "followers_url": "https://api.github.com/users/thirstyice/followers",
                "following_url": "https://api.github.com/users/thirstyice/following{/other_user}",
                "gists_url": "https://api.github.com/users/thirstyice/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/thirstyice",
                "id": 5591891,
                "login": "thirstyice",
                "node_id": "MDQ6VXNlcjU1OTE4OTE=",
                "organizations_url": "https://api.github.com/users/thirstyice/orgs",
                "received_events_url": "https://api.github.com/users/thirstyice/received_events",
                "repos_url": "https://api.github.com/users/thirstyice/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/thirstyice/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/thirstyice/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/thirstyice"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Interesting.  By mintty (which is a terminal emulator for cygwin or cygwin-like shells), I assume you mean cygwin or cygwin-like shell (e.g., git-bash, msys, etc).  I use msys, but I don't use its symlink feature.  I don't think enabled by default anyway.  In any case, yes, it is a \"neovim overriding the link\" problem.  Perhaps neovim isn't realizing it's a symlink.  Which begs the question, __what are the different kinds of links available in Windows and which of these is created by `ln -s`?__\r\n\r\nI have no insight into this and no interest to acquire any.  I personally prefer the native solution (e.g., `mklink` instead of `ln -s`) as far as possible, so I don't have the incentive to investigate this.  Leaving the previous paragraph of this comment for any tentative contributor.\r\n\r\nP.S.  @thirstyice consider updating the original issue description with the name of your cygwin-like shell.",
            "created_at": "2023-06-18T04:44:51Z",
            "html_url": "https://github.com/neovim/neovim/issues/23808#issuecomment-1595952899",
            "id": 1595952899,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/23808",
            "node_id": "IC_kwDOAPphoM5fIE8D",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1595952899/reactions"
            },
            "updated_at": "2023-06-18T04:44:51Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1595952899",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/32037751?v=4",
                "events_url": "https://api.github.com/users/3N4N/events{/privacy}",
                "followers_url": "https://api.github.com/users/3N4N/followers",
                "following_url": "https://api.github.com/users/3N4N/following{/other_user}",
                "gists_url": "https://api.github.com/users/3N4N/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/3N4N",
                "id": 32037751,
                "login": "3N4N",
                "node_id": "MDQ6VXNlcjMyMDM3NzUx",
                "organizations_url": "https://api.github.com/users/3N4N/orgs",
                "received_events_url": "https://api.github.com/users/3N4N/received_events",
                "repos_url": "https://api.github.com/users/3N4N/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/3N4N/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/3N4N/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/3N4N"
            }
        },
        {
            "author_association": "NONE",
            "body": "You're right, I was using git-bash.\r\n\r\nI don't really have any insight into this either since I'm not very familiar with how windows files work re:links. I'm usually more of a unix person (hence why I originally went for `ln -s`).\r\n\r\nI'd be down to do some poking if anyone is jazzed to get to the bottom of this, but it's not super high on my priority list since it's so easy to just avoid the problem altogether (using `mklink`)",
            "created_at": "2023-06-18T06:26:49Z",
            "html_url": "https://github.com/neovim/neovim/issues/23808#issuecomment-1595983899",
            "id": 1595983899,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/23808",
            "node_id": "IC_kwDOAPphoM5fIMgb",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1595983899/reactions"
            },
            "updated_at": "2023-06-18T06:29:37Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1595983899",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5591891?v=4",
                "events_url": "https://api.github.com/users/thirstyice/events{/privacy}",
                "followers_url": "https://api.github.com/users/thirstyice/followers",
                "following_url": "https://api.github.com/users/thirstyice/following{/other_user}",
                "gists_url": "https://api.github.com/users/thirstyice/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/thirstyice",
                "id": 5591891,
                "login": "thirstyice",
                "node_id": "MDQ6VXNlcjU1OTE4OTE=",
                "organizations_url": "https://api.github.com/users/thirstyice/orgs",
                "received_events_url": "https://api.github.com/users/thirstyice/received_events",
                "repos_url": "https://api.github.com/users/thirstyice/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/thirstyice/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/thirstyice/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/thirstyice"
            }
        },
        {
            "author_association": "NONE",
            "body": "To allow `ln -s` to work in git bash, you will need to either (a) enable symlinks in the Git Bash installer, (b) enable Windows Developer Mode in Settings and set `export MSYS=winsymlinks:nativestrict` in your .bashrc, or (c) run git bash as Administrator and set `export MSYS=winsymlinks:nativestrict` in your .bashrc.\r\n\r\nSee this answer and its comments: https://stackoverflow.com/a/40914277/8917573.",
            "created_at": "2024-05-28T19:29:28Z",
            "html_url": "https://github.com/neovim/neovim/issues/23808#issuecomment-2135964070",
            "id": 2135964070,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/23808",
            "node_id": "IC_kwDOAPphoM5_UDmm",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 2,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 2,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2135964070/reactions"
            },
            "updated_at": "2024-05-29T15:43:32Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2135964070",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/51864191?v=4",
                "events_url": "https://api.github.com/users/ykhan21/events{/privacy}",
                "followers_url": "https://api.github.com/users/ykhan21/followers",
                "following_url": "https://api.github.com/users/ykhan21/following{/other_user}",
                "gists_url": "https://api.github.com/users/ykhan21/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ykhan21",
                "id": 51864191,
                "login": "ykhan21",
                "node_id": "MDQ6VXNlcjUxODY0MTkx",
                "organizations_url": "https://api.github.com/users/ykhan21/orgs",
                "received_events_url": "https://api.github.com/users/ykhan21/received_events",
                "repos_url": "https://api.github.com/users/ykhan21/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ykhan21/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ykhan21/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ykhan21"
            }
        }
    ],
    "comments": 5,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/23808/comments",
    "created_at": "2023-05-28T22:13:46Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/23808/events",
    "html_url": "https://github.com/neovim/neovim/issues/23808",
    "id": 1729707559,
    "labels": [
        {
            "color": "f9d0c4",
            "default": true,
            "description": "issues reporting wrong behavior",
            "id": 77997474,
            "name": "bug",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3NA==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug"
        },
        {
            "color": "d4c5f9",
            "default": false,
            "description": null,
            "id": 109461219,
            "name": "platform:windows",
            "node_id": "MDU6TGFiZWwxMDk0NjEyMTk=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/platform:windows"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/23808/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM5nGT4n",
    "number": 23808,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/23808/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/23808/timeline",
    "title": "Neovim destroying symlinks on windows",
    "updated_at": "2024-05-29T15:43:32Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/23808",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/5591891?v=4",
        "events_url": "https://api.github.com/users/thirstyice/events{/privacy}",
        "followers_url": "https://api.github.com/users/thirstyice/followers",
        "following_url": "https://api.github.com/users/thirstyice/following{/other_user}",
        "gists_url": "https://api.github.com/users/thirstyice/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/thirstyice",
        "id": 5591891,
        "login": "thirstyice",
        "node_id": "MDQ6VXNlcjU1OTE4OTE=",
        "organizations_url": "https://api.github.com/users/thirstyice/orgs",
        "received_events_url": "https://api.github.com/users/thirstyice/received_events",
        "repos_url": "https://api.github.com/users/thirstyice/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/thirstyice/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/thirstyice/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/thirstyice"
    }
}