{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\r\n\r\nCreating a relative floating window when on another tab page, creates the floating window for the current tab page, instead of the actual tab page for the one where the actual window is located. Further more going to the first tab page where the target window is actually located, has no floating window.\r\n\r\nAnother issue is that for some reason the tab page is obscured, rendered under the floating window, when the floating window is shown / rendered for the first time\r\n![image](https://github.com/neovim/neovim/assets/15955811/1db1d06d-b145-40cf-9f85-212452b9d954)\r\n \r\nIf you go to the first tab page, then go back to the second the tab page line is correctly rendered above and not overlapping with the floating window.\r\n![image](https://github.com/neovim/neovim/assets/15955811/01badc8c-ee0e-47ea-bf7b-5152879c60a4)\r\n\r\n\r\n### Steps to reproduce\r\n\r\n```lua\r\n\r\nvim.cmd(\"set showtabline=2\")\r\n\r\nlocal winid = vim.api.nvim_get_current_win()\r\nvim.print('current window on page 1 ' .. winid)\r\nvim.cmd.tabnew()\r\n\r\nlocal lines = { \"Test float text\" }\r\nlocal bufnr = vim.api.nvim_create_buf(false, true)\r\nvim.api.nvim_buf_set_option(bufnr, 'modifiable', true)\r\nvim.api.nvim_buf_set_lines(bufnr, 0, -1, false, lines)\r\nvim.api.nvim_buf_set_option(bufnr, 'modifiable', false)\r\n\r\nlocal winid2 = vim.api.nvim_get_current_win()\r\nvim.print('current window on page 2 ' .. winid2)\r\n\r\nvim.api.nvim_open_win(bufnr, false, { win = winid, width = 50, col = 0, row = 0, height = 1, relative = 'win' })\r\n\r\n```\r\n\r\n### Expected behavior\r\n\r\nFloating relative windows should be tab page aware. \r\n\r\n### Neovim version (nvim -v)\r\n\r\n0.9.5\r\n\r\n### Vim (not Nvim) behaves the same?\r\n\r\nno\r\n\r\n### Operating system/version\r\n\r\nubuntu 22\r\n\r\n### Terminal name/version\r\n\r\nalacritty\r\n\r\n### $TERM environment variable\r\n\r\nalacritty\r\n\r\n### Installation\r\n\r\ngithub",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "I think the expectation here is wrong. `win` is not the target window that will be made floating, but rather the window where the newly opened float's position will be relative to.\r\nSupplying a `win` from a different tabpage with `relative == 'win'` should probably be an error. ",
            "created_at": "2024-04-09T15:50:52Z",
            "html_url": "https://github.com/neovim/neovim/issues/28234#issuecomment-2045534002",
            "id": 2045534002,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28234",
            "node_id": "IC_kwDOAPphoM557F8y",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2045534002/reactions"
            },
            "updated_at": "2024-04-09T15:50:52Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2045534002",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal"
            }
        },
        {
            "author_association": "NONE",
            "body": "I never implied that the passed in win is the one to be made floating. What the relative to win implies to me is that the newly created floating window by the api will be rendrred and anchored / relative  to the target win. However, the target win is not in the current tab page, so either the correct tabpahe layout has to be modified to correctly reflect and render the floating window or error out. ",
            "created_at": "2024-04-09T16:07:18Z",
            "html_url": "https://github.com/neovim/neovim/issues/28234#issuecomment-2045568420",
            "id": 2045568420,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28234",
            "node_id": "IC_kwDOAPphoM557OWk",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2045568420/reactions"
            },
            "updated_at": "2024-04-09T16:07:18Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2045568420",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/15955811?v=4",
                "events_url": "https://api.github.com/users/asmodeus812/events{/privacy}",
                "followers_url": "https://api.github.com/users/asmodeus812/followers",
                "following_url": "https://api.github.com/users/asmodeus812/following{/other_user}",
                "gists_url": "https://api.github.com/users/asmodeus812/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/asmodeus812",
                "id": 15955811,
                "login": "asmodeus812",
                "node_id": "MDQ6VXNlcjE1OTU1ODEx",
                "organizations_url": "https://api.github.com/users/asmodeus812/orgs",
                "received_events_url": "https://api.github.com/users/asmodeus812/received_events",
                "repos_url": "https://api.github.com/users/asmodeus812/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/asmodeus812/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/asmodeus812/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/asmodeus812"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "OK fair I interpreted incorrectly. But yeah the issue is not that the relative float is rendered on the wrong tab page, but rather that the API does not support opening a float on a non-current tabpage, and unexpectedly does not give an error with a relative window from a different tabpage.",
            "created_at": "2024-04-09T16:19:10Z",
            "html_url": "https://github.com/neovim/neovim/issues/28234#issuecomment-2045592668",
            "id": 2045592668,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28234",
            "node_id": "IC_kwDOAPphoM557URc",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2045592668/reactions"
            },
            "updated_at": "2024-04-09T16:19:10Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2045592668",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> Supplying a `win` from a different tabpage with `relative == 'win'` should probably be an error. \n\nImo this should only be an error in the short-term if at all. I think the expectation to be able to open windows in non-current tabpages is reasonable and should be supported if possible. Splits should already support this since #25550, I'll have to check again, but maybe I can look into getting that working for floats as well.\n",
            "created_at": "2024-04-14T09:24:07Z",
            "html_url": "https://github.com/neovim/neovim/issues/28234#issuecomment-2053980645",
            "id": 2053980645,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28234",
            "node_id": "IC_kwDOAPphoM56bUHl",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2053980645/reactions"
            },
            "updated_at": "2024-04-14T09:24:07Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2053980645",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/38540736?v=4",
                "events_url": "https://api.github.com/users/willothy/events{/privacy}",
                "followers_url": "https://api.github.com/users/willothy/followers",
                "following_url": "https://api.github.com/users/willothy/following{/other_user}",
                "gists_url": "https://api.github.com/users/willothy/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/willothy",
                "id": 38540736,
                "login": "willothy",
                "node_id": "MDQ6VXNlcjM4NTQwNzM2",
                "organizations_url": "https://api.github.com/users/willothy/orgs",
                "received_events_url": "https://api.github.com/users/willothy/received_events",
                "repos_url": "https://api.github.com/users/willothy/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/willothy/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/willothy/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/willothy"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Note: if this is supported, it's also necessary to prevent `nvim_win_set_config` from moving autocmd window into another tabpage.",
            "created_at": "2024-04-14T09:27:32Z",
            "html_url": "https://github.com/neovim/neovim/issues/28234#issuecomment-2053981535",
            "id": 2053981535,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28234",
            "node_id": "IC_kwDOAPphoM56bUVf",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2053981535/reactions"
            },
            "updated_at": "2024-04-14T09:28:24Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2053981535",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        }
    ],
    "comments": 5,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/28234/comments",
    "created_at": "2024-04-08T14:10:34Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/28234/events",
    "html_url": "https://github.com/neovim/neovim/issues/28234",
    "id": 2231330988,
    "labels": [
        {
            "color": "f9d0c4",
            "default": true,
            "description": "issues reporting wrong behavior",
            "id": 77997474,
            "name": "bug",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3NA==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug"
        },
        {
            "color": "C5DEF5",
            "default": false,
            "description": "floating windows",
            "id": 3234818716,
            "name": "float",
            "node_id": "MDU6TGFiZWwzMjM0ODE4NzE2",
            "url": "https://api.github.com/repos/neovim/neovim/labels/float"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/28234/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 603,
        "created_at": "2014-05-10T20:43:04Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk"
        },
        "description": "Low priority. Not planned for the current target, may be reassigned.",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/6",
        "id": 655037,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/6/labels",
        "node_id": "MDk6TWlsZXN0b25lNjU1MDM3",
        "number": 6,
        "open_issues": 521,
        "state": "open",
        "title": "backlog",
        "updated_at": "2024-04-15T19:43:11Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/6"
    },
    "node_id": "I_kwDOAPphoM6E_2is",
    "number": 28234,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/28234/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/28234/timeline",
    "title": "Relative floating window rendered on wrong tab page",
    "updated_at": "2024-04-14T15:26:52Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/28234",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/15955811?v=4",
        "events_url": "https://api.github.com/users/asmodeus812/events{/privacy}",
        "followers_url": "https://api.github.com/users/asmodeus812/followers",
        "following_url": "https://api.github.com/users/asmodeus812/following{/other_user}",
        "gists_url": "https://api.github.com/users/asmodeus812/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/asmodeus812",
        "id": 15955811,
        "login": "asmodeus812",
        "node_id": "MDQ6VXNlcjE1OTU1ODEx",
        "organizations_url": "https://api.github.com/users/asmodeus812/orgs",
        "received_events_url": "https://api.github.com/users/asmodeus812/received_events",
        "repos_url": "https://api.github.com/users/asmodeus812/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/asmodeus812/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/asmodeus812/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/asmodeus812"
    }
}