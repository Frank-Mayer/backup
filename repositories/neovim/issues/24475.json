{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\r\n\r\nMovement plugins like sneak, leap, flash, etc. can be used in conjuction with macros for quick editing and are quite convenient in a lot of situations. However, custom hl groups and highlighting patterns (like for underlining urls) make them perform horribly and look ugly compared to using native `f`/`F`.\r\n\r\n![Screen Recording 2023-07-24 at 8 00 26 PM](https://github.com/neovim/neovim/assets/56745535/992f9f29-1785-4c82-9f2b-06e12a5d1994)\r\n\r\n### Expected behavior\r\n\r\nThere are already macro events like `RecordingEnter` and `RecordingLeave`. It would be cool if there were also autocmd events for macro execution. This way functionality like hlgroups, highlighting patterns, etc. can be disabled to improve performance when executing a macro that invokes a motion plugin in addition to avoiding visual clutter and flickering on the screen. Maybe an optional regex pattern could be provided to match macros that involve certain keys or sequences of keys. \r\n\r\nThanks for your consideration!",
    "closed_at": "2023-07-25T22:26:20Z",
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "> This way functionality like hlgroups, highlighting patterns, etc. can be disabled to improve performance when executing a macro\r\n\r\nWhy can't `reg_executing()` be used for that purpose?",
            "created_at": "2023-07-25T11:05:41Z",
            "html_url": "https://github.com/neovim/neovim/issues/24475#issuecomment-1649622412",
            "id": 1649622412,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24475",
            "node_id": "IC_kwDOAPphoM5iUz2M",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1649622412/reactions"
            },
            "updated_at": "2023-07-25T11:05:41Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1649622412",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "author_association": "NONE",
            "body": "You're right, I didn't even know that was a thing. Closing this issue now.",
            "created_at": "2023-07-25T22:26:20Z",
            "html_url": "https://github.com/neovim/neovim/issues/24475#issuecomment-1650646153",
            "id": 1650646153,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24475",
            "node_id": "IC_kwDOAPphoM5iYtyJ",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1650646153/reactions"
            },
            "updated_at": "2023-07-25T22:26:20Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1650646153",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/56745535?v=4",
                "events_url": "https://api.github.com/users/Subjective/events{/privacy}",
                "followers_url": "https://api.github.com/users/Subjective/followers",
                "following_url": "https://api.github.com/users/Subjective/following{/other_user}",
                "gists_url": "https://api.github.com/users/Subjective/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Subjective",
                "id": 56745535,
                "login": "Subjective",
                "node_id": "MDQ6VXNlcjU2NzQ1NTM1",
                "organizations_url": "https://api.github.com/users/Subjective/orgs",
                "received_events_url": "https://api.github.com/users/Subjective/received_events",
                "repos_url": "https://api.github.com/users/Subjective/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Subjective/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Subjective/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Subjective"
            }
        },
        {
            "author_association": "NONE",
            "body": "hi folks, i have an usecase requires these events. i have a plugin to switch the mode of Rime, a input method, between 'ascii' and 'normal' based on InsertLeave event.\r\nto avoid a `999@a` invokes that switching too many times, i could:\r\n1. add rate limiting to the plugin\r\n2. or add `if reg_executing()` everywhere\r\n3. or listen to the appropriate events, and do a function switch\r\n\r\n```\r\n.create_autocmd('MacroExecuting', function() myplugin.insertleave_handler = nop end()\r\n.create_autocmd('MacroDone', function() myplugin.insertleave_handler = restored end()\r\n```\r\n\r\ndo you think it's a valid argument to propose adding such events?",
            "created_at": "2023-08-04T01:55:34Z",
            "html_url": "https://github.com/neovim/neovim/issues/24475#issuecomment-1664864176",
            "id": 1664864176,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24475",
            "node_id": "IC_kwDOAPphoM5jO8-w",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1664864176/reactions"
            },
            "updated_at": "2023-08-04T01:55:34Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1664864176",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6236829?v=4",
                "events_url": "https://api.github.com/users/haolian9/events{/privacy}",
                "followers_url": "https://api.github.com/users/haolian9/followers",
                "following_url": "https://api.github.com/users/haolian9/following{/other_user}",
                "gists_url": "https://api.github.com/users/haolian9/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/haolian9",
                "id": 6236829,
                "login": "haolian9",
                "node_id": "MDQ6VXNlcjYyMzY4Mjk=",
                "organizations_url": "https://api.github.com/users/haolian9/orgs",
                "received_events_url": "https://api.github.com/users/haolian9/received_events",
                "repos_url": "https://api.github.com/users/haolian9/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/haolian9/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/haolian9/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/haolian9"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "No. You only need to check reg_executing() in once place if you structure your plugin to use a common handler for the relevant events.",
            "created_at": "2023-08-04T12:25:11Z",
            "html_url": "https://github.com/neovim/neovim/issues/24475#issuecomment-1665526601",
            "id": 1665526601,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24475",
            "node_id": "IC_kwDOAPphoM5jRetJ",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1665526601/reactions"
            },
            "updated_at": "2023-08-04T12:25:11Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1665526601",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        }
    ],
    "comments": 4,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/24475/comments",
    "created_at": "2023-07-25T03:07:47Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/24475/events",
    "html_url": "https://github.com/neovim/neovim/issues/24475",
    "id": 1819473702,
    "labels": [
        {
            "color": "c2e0c6",
            "default": true,
            "description": "feature request",
            "id": 77997476,
            "name": "enhancement",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3Ng==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/enhancement"
        },
        {
            "color": "C5DEF5",
            "default": false,
            "description": "events, autocommands",
            "id": 3341085842,
            "name": "events",
            "node_id": "MDU6TGFiZWwzMzQxMDg1ODQy",
            "url": "https://api.github.com/repos/neovim/neovim/labels/events"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/24475/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM5scvcm",
    "number": 24475,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/24475/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "completed",
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/24475/timeline",
    "title": "Add `MacroExecutionPre` and `MacroExecutionPost` autocmd events",
    "updated_at": "2023-08-04T12:25:11Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/24475",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/56745535?v=4",
        "events_url": "https://api.github.com/users/Subjective/events{/privacy}",
        "followers_url": "https://api.github.com/users/Subjective/followers",
        "following_url": "https://api.github.com/users/Subjective/following{/other_user}",
        "gists_url": "https://api.github.com/users/Subjective/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/Subjective",
        "id": 56745535,
        "login": "Subjective",
        "node_id": "MDQ6VXNlcjU2NzQ1NTM1",
        "organizations_url": "https://api.github.com/users/Subjective/orgs",
        "received_events_url": "https://api.github.com/users/Subjective/received_events",
        "repos_url": "https://api.github.com/users/Subjective/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/Subjective/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Subjective/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/Subjective"
    }
}