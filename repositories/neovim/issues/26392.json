{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\n\nThe `breakindent` option fails to apply to a line that appears right below a deleted line in diff mode.\r\n\r\nHere's a screenshot of what it looks like:\r\n\r\n![CleanShot 2023-12-04 at 18 26 37@2x](https://github.com/neovim/neovim/assets/125832/8a672d2f-6016-4115-a730-03b214474ff4)\r\n\r\n(the last line is indented correctly on the right, but not on the left)\r\n\r\nI think this issue must be from before the beginning of Neovim, since standard Vim has the same bug, and I first noticed the issue probably about a year ago (just never got around to filing a bug because I hoped I'd be able to figure it out myself and submit a PR, lol).\n\n### Steps to reproduce\n\nThis can be run as a shell script to see the issue (make sure the window isn't too wide, so the last line of the file actually wraps):\r\n\r\n```\r\necho \"Line 1\" > one.txt\r\necho \"extra line\" >> one.txt\r\necho \"    this is a line that will need to word-wrap. it will look wrong in one of the files.\" >> one.txt\r\n\r\necho \"Line 1\" > two.txt\r\necho \"    this is a line that will need to word-wrap. it will look wrong in one of the files.\" >> two.txt\r\n\r\necho \":set wrap|set breakindent|e one.txt|vs two.txt|windo difft|windo se wrap\" | ./build/bin/nvim -u NONE -s -\r\n```\n\n### Expected behavior\n\nThe last line should be break-indented properly in both files.\n\n### Neovim version (nvim -v)\n\nNVIM v0.10.0-dev-1749+g66f1563c7-dirty, commit 66f1563c7a48d76f99c89e32de030e57af2abfb4\n\n### Vim (not Nvim) behaves the same?\n\nyes, vim 9.0\n\n### Operating system/version\n\nmacOS 14.0\n\n### Terminal name/version\n\niTerm2 v3.5.0beta\n\n### $TERM environment variable\n\nscreen-256color\n\n### Installation\n\nbuilt from repo and Homebrew",
    "closed_at": null,
    "comment_data": [],
    "comments": 0,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/26392/comments",
    "created_at": "2023-12-04T18:42:23Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/26392/events",
    "html_url": "https://github.com/neovim/neovim/issues/26392",
    "id": 2024491020,
    "labels": [
        {
            "color": "f9d0c4",
            "default": true,
            "description": "issues reporting wrong behavior",
            "id": 77997474,
            "name": "bug",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3NA==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug"
        },
        {
            "color": "F9D0C4",
            "default": false,
            "description": "wrong behavior inherited from vim",
            "id": 154310492,
            "name": "bug-vim",
            "node_id": "MDU6TGFiZWwxNTQzMTA0OTI=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug-vim"
        },
        {
            "color": "FBCA04",
            "default": false,
            "description": "upstream issue that needs to be fixed in vim first",
            "id": 2639399975,
            "name": "needs:vim-patch",
            "node_id": "MDU6TGFiZWwyNjM5Mzk5OTc1",
            "url": "https://api.github.com/repos/neovim/neovim/labels/needs:vim-patch"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "",
            "id": 3010934759,
            "name": "diff",
            "node_id": "MDU6TGFiZWwzMDEwOTM0NzU5",
            "url": "https://api.github.com/repos/neovim/neovim/labels/diff"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/26392/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 591,
        "created_at": "2014-05-10T20:43:04Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk"
        },
        "description": "Low priority. Not planned for the current target, may be reassigned.",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/6",
        "id": 655037,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/6/labels",
        "node_id": "MDk6TWlsZXN0b25lNjU1MDM3",
        "number": 6,
        "open_issues": 426,
        "state": "open",
        "title": "backlog",
        "updated_at": "2023-12-04T18:54:47Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/6"
    },
    "node_id": "I_kwDOAPphoM54q0gM",
    "number": 26392,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/26392/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/26392/timeline",
    "title": "breakindent fails on the line immediately following a DiffDelete line",
    "updated_at": "2023-12-04T20:26:56Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/26392",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/125832?v=4",
        "events_url": "https://api.github.com/users/nino/events{/privacy}",
        "followers_url": "https://api.github.com/users/nino/followers",
        "following_url": "https://api.github.com/users/nino/following{/other_user}",
        "gists_url": "https://api.github.com/users/nino/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/nino",
        "id": 125832,
        "login": "nino",
        "node_id": "MDQ6VXNlcjEyNTgzMg==",
        "organizations_url": "https://api.github.com/users/nino/orgs",
        "received_events_url": "https://api.github.com/users/nino/received_events",
        "repos_url": "https://api.github.com/users/nino/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/nino/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/nino/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/nino"
    }
}