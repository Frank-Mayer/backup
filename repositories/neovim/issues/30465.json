{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\r\n\r\nNo way to “truly” disable built-in maps if you have enabled timout.\r\n\r\n### Steps to reproduce\r\n\r\n`nvim --clean`\r\n\r\n`:nnoremap q: <nop>`\r\n\r\npress `q:` quickly. Nothing happens as expeded\r\n\r\npress `q` wait 2 seconed, press `:`. Now the default action of `q:` is executed, which opens the command-line window.\r\n\r\n### Expected behavior\r\n\r\nIn this specific case, I would expect that nothing would happen and that the command-line window would not open.\r\n\r\nThe behavior here seems to be that built-in multi-key mappings, which do not have a defined prefix key action, (like q is not mapped to anything and waits for a second key to be pressed, before something is done.) will execute the built-in action, instead of the mapped action if timoutlen expires.\r\n\r\nI personally cannot think of a single good reason why this would be expected/wanted behavior for multi-key built-in mappings.\r\n\r\n### Nvim version (nvim -v)\r\n\r\nNVIM v0.11.0-dev-812+ge697c1b43\r\n\r\n### Vim (not Nvim) behaves the same?\r\n\r\nYes, 9.1\r\n\r\n### Operating system/version\r\n\r\nNixOS 24.05\r\n\r\n### Terminal name/version\r\n\r\nkitty 0.34.1\r\n\r\n### $TERM environment variable\r\n\r\nxterm-kitty\r\n\r\n### Installation\r\n\r\nbuild from source, as well as NixOS package. Same issue.",
    "closed_at": "2024-09-22T12:52:38Z",
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
        "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
        "followers_url": "https://api.github.com/users/zeertzjq/followers",
        "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
        "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/zeertzjq",
        "id": 35768171,
        "login": "zeertzjq",
        "node_id": "MDQ6VXNlcjM1NzY4MTcx",
        "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
        "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
        "repos_url": "https://api.github.com/users/zeertzjq/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/zeertzjq"
    },
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "Why don't you just disable timeouts then?",
            "created_at": "2024-09-22T12:42:50Z",
            "html_url": "https://github.com/neovim/neovim/issues/30465#issuecomment-2366770047",
            "id": 2366770047,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30465",
            "node_id": "IC_kwDOAPphoM6NEgt_",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2366770047/reactions"
            },
            "updated_at": "2024-09-22T12:42:50Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2366770047",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "author_association": "NONE",
            "body": "Yes, that will probably be my workaround, but I do not think that the default behavior makes sense, which is why I reported it.",
            "created_at": "2024-09-22T12:46:07Z",
            "html_url": "https://github.com/neovim/neovim/issues/30465#issuecomment-2366771152",
            "id": 2366771152,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30465",
            "node_id": "IC_kwDOAPphoM6NEg_Q",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2366771152/reactions"
            },
            "updated_at": "2024-09-22T12:46:07Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2366771152",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41991455?v=4",
                "events_url": "https://api.github.com/users/crazyminecuber/events{/privacy}",
                "followers_url": "https://api.github.com/users/crazyminecuber/followers",
                "following_url": "https://api.github.com/users/crazyminecuber/following{/other_user}",
                "gists_url": "https://api.github.com/users/crazyminecuber/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/crazyminecuber",
                "id": 41991455,
                "login": "crazyminecuber",
                "node_id": "MDQ6VXNlcjQxOTkxNDU1",
                "organizations_url": "https://api.github.com/users/crazyminecuber/orgs",
                "received_events_url": "https://api.github.com/users/crazyminecuber/received_events",
                "repos_url": "https://api.github.com/users/crazyminecuber/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/crazyminecuber/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/crazyminecuber/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/crazyminecuber"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Maybe, but the default behavior is easier to understand as it is the same for all mappings. The behavior you are suggesting requires different timeout behavior for different mappings, which is harder to understand.",
            "created_at": "2024-09-22T12:52:38Z",
            "html_url": "https://github.com/neovim/neovim/issues/30465#issuecomment-2366773266",
            "id": 2366773266,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30465",
            "node_id": "IC_kwDOAPphoM6NEhgS",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2366773266/reactions"
            },
            "updated_at": "2024-09-22T12:52:38Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2366773266",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "author_association": "NONE",
            "body": "I am not suggesting different timeout behavior for different key. I am suggesting that it should be impossible to trigger a built-in mapping if the user has manually overridden it, even if timeoutlen has expired. Because if the user has explicitly overridden the mapping, why would they want the built-in behavior to trigger?\r\n\r\nMy understanding of timeoutlen is that it is intended to trigger prefix-mappings if there exists a longer mapping. So I guess my suggestion is in the gray area when the prefix-mapping does not do a specific action (like a single q or d or y), but it requires additional keys to complete the mapping. In these cases, I am suggesting that the user specified action should be executed and not the built-in action as it currently works.",
            "created_at": "2024-09-22T13:40:41Z",
            "html_url": "https://github.com/neovim/neovim/issues/30465#issuecomment-2366792855",
            "id": 2366792855,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30465",
            "node_id": "IC_kwDOAPphoM6NEmSX",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2366792855/reactions"
            },
            "updated_at": "2024-09-22T13:40:41Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2366792855",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41991455?v=4",
                "events_url": "https://api.github.com/users/crazyminecuber/events{/privacy}",
                "followers_url": "https://api.github.com/users/crazyminecuber/followers",
                "following_url": "https://api.github.com/users/crazyminecuber/following{/other_user}",
                "gists_url": "https://api.github.com/users/crazyminecuber/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/crazyminecuber",
                "id": 41991455,
                "login": "crazyminecuber",
                "node_id": "MDQ6VXNlcjQxOTkxNDU1",
                "organizations_url": "https://api.github.com/users/crazyminecuber/orgs",
                "received_events_url": "https://api.github.com/users/crazyminecuber/received_events",
                "repos_url": "https://api.github.com/users/crazyminecuber/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/crazyminecuber/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/crazyminecuber/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/crazyminecuber"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "That'll require different timeout behavior for different mappings, because builtin commands are not mappings, and mappings are independent of builtin commands.",
            "created_at": "2024-09-22T13:49:55Z",
            "html_url": "https://github.com/neovim/neovim/issues/30465#issuecomment-2366797869",
            "id": 2366797869,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/30465",
            "node_id": "IC_kwDOAPphoM6NEngt",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2366797869/reactions"
            },
            "updated_at": "2024-09-22T14:28:33Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2366797869",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        }
    ],
    "comments": 5,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/30465/comments",
    "created_at": "2024-09-22T12:38:36Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/30465/events",
    "html_url": "https://github.com/neovim/neovim/issues/30465",
    "id": 2541059845,
    "labels": [
        {
            "color": "e6e6e6",
            "default": false,
            "description": "current behavior is by design, and change is not desired",
            "id": 77997479,
            "name": "closed:wontfix",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3OQ==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/closed:wontfix"
        },
        {
            "color": "C5DEF5",
            "default": false,
            "description": "key bindings",
            "id": 3304938718,
            "name": "mappings",
            "node_id": "MDU6TGFiZWwzMzA0OTM4NzE4",
            "url": "https://api.github.com/repos/neovim/neovim/labels/mappings"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/30465/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM6XdX8F",
    "number": 30465,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/30465/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "not_planned",
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/30465/timeline",
    "title": "One more example of timoutlen breaking mappings",
    "updated_at": "2024-09-22T14:28:33Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/30465",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/41991455?v=4",
        "events_url": "https://api.github.com/users/crazyminecuber/events{/privacy}",
        "followers_url": "https://api.github.com/users/crazyminecuber/followers",
        "following_url": "https://api.github.com/users/crazyminecuber/following{/other_user}",
        "gists_url": "https://api.github.com/users/crazyminecuber/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/crazyminecuber",
        "id": 41991455,
        "login": "crazyminecuber",
        "node_id": "MDQ6VXNlcjQxOTkxNDU1",
        "organizations_url": "https://api.github.com/users/crazyminecuber/orgs",
        "received_events_url": "https://api.github.com/users/crazyminecuber/received_events",
        "repos_url": "https://api.github.com/users/crazyminecuber/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/crazyminecuber/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/crazyminecuber/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/crazyminecuber"
    }
}