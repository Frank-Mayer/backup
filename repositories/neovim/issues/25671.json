{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\n\nHi All,\r\n\r\nI noticed very slow nvim startup time. I have built nvim from source:\r\n\r\n```\r\nNVIM v0.9.4\r\nBuild type: Release\r\nLuaJIT 2.1.1692716794\r\n```\r\n\r\nWhen I run `nvim --startuptime startup.log MyFile.cpp` here is what I get: https://pastebin.com/G2Kzcgrf. It looks like the problem is occuring on line 328: `10672.003  10377.402: opening buffers`. The file I am trying to open is ~3000LOC of C++ code, although opening smaller C++ files (200LOC) or even my nvim/init.lua (100LOC) also faces the same long startup time.\r\n\r\nYou can see my health check: https://pastebin.com/UZSBr5BW\r\n\r\nI am connected through ssh, attached to a tmux session on that device, and opening the file using nvim. The file is on the device I am sshed into and that the tmux session is over. The issue still exists even if I am not using tmux.\r\n\r\nI have tried the same init.lua file on my host machine and I do not face this problem. I am using https://github.com/nvim-lua/kickstart.nvim/blob/master/init.lua as my `.config/nvim/init.lua` file.\r\n\r\nAny ideas on what may be going wrong when opening buffers and what I can do to remedy?\n\n### Steps to reproduce\n\n* ssh me@mydevice\r\n* tmux\r\n* Build NVIM v0.9.4 Build type: Release LuaJIT 2.1.1692716794 (using stable branch)\r\n* Set `.config/nvim/init.lua` as https://github.com/nvim-lua/kickstart.nvim/blob/master/init.lua\n\n### Expected behavior\n\nIt should not take that long to open buffers.\n\n### Neovim version (nvim -v)\n\nNVIM v0.9.4 Build type: Release LuaJIT 2.1.1692716794\n\n### Vim (not Nvim) behaves the same?\n\nVIM - Vi IMproved 9.0 does not have this problem\n\n### Operating system/version\n\nRedHat 4.18.0\n\n### Terminal name/version\n\niTerm\n\n### $TERM environment variable\n\nscreen\n\n### Installation\n\nbuild from repo",
    "closed_at": "2023-10-16T20:10:18Z",
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "Are you sure the treesitter parsers etc. are already installed on the target machine when running the startup log? Try disabling treesitter altogether (in fact, that should be the first step: minimize the config until the timings align, then you know the source of the problem and can investigate further).",
            "created_at": "2023-10-16T17:10:21Z",
            "html_url": "https://github.com/neovim/neovim/issues/25671#issuecomment-1764916856",
            "id": 1764916856,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/25671",
            "node_id": "IC_kwDOAPphoM5pMn54",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1764916856/reactions"
            },
            "updated_at": "2023-10-16T17:10:21Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1764916856",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Looks oddly familiar to https://github.com/nvim-treesitter/nvim-treesitter-textobjects/issues/507",
            "created_at": "2023-10-16T17:41:54Z",
            "html_url": "https://github.com/neovim/neovim/issues/25671#issuecomment-1764964974",
            "id": 1764964974,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/25671",
            "node_id": "IC_kwDOAPphoM5pMzpu",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1764964974/reactions"
            },
            "updated_at": "2023-10-16T17:41:54Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1764964974",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/29790821?v=4",
                "events_url": "https://api.github.com/users/lucario387/events{/privacy}",
                "followers_url": "https://api.github.com/users/lucario387/followers",
                "following_url": "https://api.github.com/users/lucario387/following{/other_user}",
                "gists_url": "https://api.github.com/users/lucario387/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lucario387",
                "id": 29790821,
                "login": "lucario387",
                "node_id": "MDQ6VXNlcjI5NzkwODIx",
                "organizations_url": "https://api.github.com/users/lucario387/orgs",
                "received_events_url": "https://api.github.com/users/lucario387/received_events",
                "repos_url": "https://api.github.com/users/lucario387/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lucario387/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lucario387/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lucario387"
            }
        },
        {
            "author_association": "NONE",
            "body": "I did some experiments and I think that nvim-lspconfig may be having a big impact. I saw slowdown with LSP plugin but Mason, nvim-cmp, treesitter, telescope commented out.",
            "created_at": "2023-10-16T19:07:57Z",
            "html_url": "https://github.com/neovim/neovim/issues/25671#issuecomment-1765114275",
            "id": 1765114275,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/25671",
            "node_id": "IC_kwDOAPphoM5pNYGj",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1765114275/reactions"
            },
            "updated_at": "2023-10-16T19:07:57Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1765114275",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6876996?v=4",
                "events_url": "https://api.github.com/users/michaelmaitland/events{/privacy}",
                "followers_url": "https://api.github.com/users/michaelmaitland/followers",
                "following_url": "https://api.github.com/users/michaelmaitland/following{/other_user}",
                "gists_url": "https://api.github.com/users/michaelmaitland/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/michaelmaitland",
                "id": 6876996,
                "login": "michaelmaitland",
                "node_id": "MDQ6VXNlcjY4NzY5OTY=",
                "organizations_url": "https://api.github.com/users/michaelmaitland/orgs",
                "received_events_url": "https://api.github.com/users/michaelmaitland/received_events",
                "repos_url": "https://api.github.com/users/michaelmaitland/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/michaelmaitland/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/michaelmaitland/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/michaelmaitland"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Try https://vi.stackexchange.com or https://github.com/neovim/neovim/discussions for questions about usage and configuration.\r\n\r\nThe issue tracker is for bugs and feature requests.",
            "created_at": "2023-10-16T20:10:18Z",
            "html_url": "https://github.com/neovim/neovim/issues/25671#issuecomment-1765195724",
            "id": 1765195724,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/25671",
            "node_id": "IC_kwDOAPphoM5pNr_M",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1765195724/reactions"
            },
            "updated_at": "2023-10-16T20:10:34Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1765195724",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        }
    ],
    "comments": 4,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/25671/comments",
    "created_at": "2023-10-16T17:03:55Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/25671/events",
    "html_url": "https://github.com/neovim/neovim/issues/25671",
    "id": 1945703125,
    "labels": [
        {
            "color": "FEF2C0",
            "default": false,
            "description": "issues reporting performance problems",
            "id": 101930601,
            "name": "performance",
            "node_id": "MDU6TGFiZWwxMDE5MzA2MDE=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/performance"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/25671/labels{/name}",
    "locked": true,
    "milestone": null,
    "node_id": "I_kwDOAPphoM5z-RLV",
    "number": 25671,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/25671/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "not_planned",
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/25671/timeline",
    "title": "Slow neovim startup time due to opening buffers",
    "updated_at": "2023-10-16T20:10:50Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/25671",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/6876996?v=4",
        "events_url": "https://api.github.com/users/michaelmaitland/events{/privacy}",
        "followers_url": "https://api.github.com/users/michaelmaitland/followers",
        "following_url": "https://api.github.com/users/michaelmaitland/following{/other_user}",
        "gists_url": "https://api.github.com/users/michaelmaitland/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/michaelmaitland",
        "id": 6876996,
        "login": "michaelmaitland",
        "node_id": "MDQ6VXNlcjY4NzY5OTY=",
        "organizations_url": "https://api.github.com/users/michaelmaitland/orgs",
        "received_events_url": "https://api.github.com/users/michaelmaitland/received_events",
        "repos_url": "https://api.github.com/users/michaelmaitland/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/michaelmaitland/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/michaelmaitland/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/michaelmaitland"
    }
}