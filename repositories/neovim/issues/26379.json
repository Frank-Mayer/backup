{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "body": "### Problem\r\n\r\nNo mention of treesitter parsers as dependencies when Nvim is built with `USE_BUNDLED=OFF`\r\n\r\n### Steps to reproduce\r\n\r\n1. Build Nvim with `make USE_BUNDLED=OFF`\r\n2. Install Nvim with `sudo make install USE_BUNDLED=OFF`\r\n3. Run `nvim --clean`\r\n4. Run `:h`\r\n5. `E5108: Error executing lua /usr/share/nvim/runtime/lua/vim/treesitter/language.lua:98: no parser for 'vimdoc' language, see :help treesitter-parsers`\r\n\r\n### Expected behavior\r\n\r\nEither of the following two:\r\n- No error when opening a help file when Nvim is built with `USE_BUNDLED=OFF` and vimdoc parser is not available\r\n- A mention of required treesitter parsers in the build instructions of Nvim\r\n\r\n### Neovim version (nvim -v)\r\n\r\nv0.10.0-dev-1746+g5651c1ff2\r\n\r\n### Vim (not Nvim) behaves the same?\r\n\r\nN/A\r\n\r\n### Operating system/version\r\n\r\nArch Linux\r\n\r\n### Terminal name/version\r\n\r\nkitty 0.31.0\r\n\r\n### $TERM environment variable\r\n\r\nxterm-kitty\r\n\r\n### Installation\r\n\r\nSee above",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "> No error when opening a help file when Nvim is built with USE_BUNDLED=OFF and vimdoc parser is not available\n\nThere's no good way to transfer this information to the main build because it's supposed to be separate. The best hack is probably just checking if parsers exists in bundled location in main script. Even that is undesirable as that propagates the \"different builds\" think from vim.\n\nThe second is more reasonable IMO.\n\nRelated: https://github.com/neovim/neovim/pull/22923",
            "created_at": "2023-12-04T10:05:14Z",
            "html_url": "https://github.com/neovim/neovim/issues/26379#issuecomment-1838213879",
            "id": 1838213879,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26379",
            "node_id": "IC_kwDOAPphoM5tkOr3",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1838213879/reactions"
            },
            "updated_at": "2023-12-04T10:05:49Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1838213879",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33953936?v=4",
                "events_url": "https://api.github.com/users/dundargoc/events{/privacy}",
                "followers_url": "https://api.github.com/users/dundargoc/followers",
                "following_url": "https://api.github.com/users/dundargoc/following{/other_user}",
                "gists_url": "https://api.github.com/users/dundargoc/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dundargoc",
                "id": 33953936,
                "login": "dundargoc",
                "node_id": "MDQ6VXNlcjMzOTUzOTM2",
                "organizations_url": "https://api.github.com/users/dundargoc/orgs",
                "received_events_url": "https://api.github.com/users/dundargoc/received_events",
                "repos_url": "https://api.github.com/users/dundargoc/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dundargoc/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dundargoc/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dundargoc"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "It can also be just a `pcall()` :)",
            "created_at": "2023-12-04T10:17:31Z",
            "html_url": "https://github.com/neovim/neovim/issues/26379#issuecomment-1838235488",
            "id": 1838235488,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26379",
            "node_id": "IC_kwDOAPphoM5tkT9g",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1838235488/reactions"
            },
            "updated_at": "2023-12-04T10:17:31Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1838235488",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Oh, you mean handling it in runtime? Hmm, yeah, could work I guess.",
            "created_at": "2023-12-04T10:20:41Z",
            "html_url": "https://github.com/neovim/neovim/issues/26379#issuecomment-1838240993",
            "id": 1838240993,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26379",
            "node_id": "IC_kwDOAPphoM5tkVTh",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1838240993/reactions"
            },
            "updated_at": "2023-12-04T10:20:41Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1838240993",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33953936?v=4",
                "events_url": "https://api.github.com/users/dundargoc/events{/privacy}",
                "followers_url": "https://api.github.com/users/dundargoc/followers",
                "following_url": "https://api.github.com/users/dundargoc/following{/other_user}",
                "gists_url": "https://api.github.com/users/dundargoc/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dundargoc",
                "id": 33953936,
                "login": "dundargoc",
                "node_id": "MDQ6VXNlcjMzOTUzOTM2",
                "organizations_url": "https://api.github.com/users/dundargoc/orgs",
                "received_events_url": "https://api.github.com/users/dundargoc/received_events",
                "repos_url": "https://api.github.com/users/dundargoc/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dundargoc/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dundargoc/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dundargoc"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "No. Treesitter parsers are required, and an installation without them is broken, same as the Lua runtime. I don't want to paper over a broken installation; this will only lead to messy bug reports. \n\nWe need to decide how to handle missing runtime dependencies (even when they now include binaries). Currently, that is checkhealth. Clear messaging in our build instructions also never hurts. ",
            "created_at": "2023-12-04T10:25:01Z",
            "html_url": "https://github.com/neovim/neovim/issues/26379#issuecomment-1838248147",
            "id": 1838248147,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26379",
            "node_id": "IC_kwDOAPphoM5tkXDT",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1838248147/reactions"
            },
            "updated_at": "2023-12-04T10:25:01Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1838248147",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        }
    ],
    "comments": 4,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/26379/comments",
    "created_at": "2023-12-04T05:55:36Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/26379/events",
    "html_url": "https://github.com/neovim/neovim/issues/26379",
    "id": 2023086811,
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": "building and installing Neovim using the provided scripts",
            "id": 84723321,
            "name": "build",
            "node_id": "MDU6TGFiZWw4NDcyMzMyMQ==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/build"
        },
        {
            "color": "c5def5",
            "default": true,
            "description": "",
            "id": 84744038,
            "name": "documentation",
            "node_id": "MDU6TGFiZWw4NDc0NDAzOA==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/documentation"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "",
            "id": 1799626557,
            "name": "treesitter",
            "node_id": "MDU6TGFiZWwxNzk5NjI2NTU3",
            "url": "https://api.github.com/repos/neovim/neovim/labels/treesitter"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/26379/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM54ldrb",
    "number": 26379,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/26379/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/26379/timeline",
    "title": "No mention of treesitter parsers as dependencies when Nvim is built with USE_BUNDLED=OFF",
    "updated_at": "2023-12-04T10:25:02Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/26379",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
        "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
        "followers_url": "https://api.github.com/users/zeertzjq/followers",
        "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
        "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/zeertzjq",
        "id": 35768171,
        "login": "zeertzjq",
        "node_id": "MDQ6VXNlcjM1NzY4MTcx",
        "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
        "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
        "repos_url": "https://api.github.com/users/zeertzjq/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/zeertzjq"
    }
}