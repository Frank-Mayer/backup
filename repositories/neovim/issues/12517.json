{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Environment\r\n- `nvim --version`:\r\n```\r\nNVIM v0.4.3\r\nBuild type: Release\r\nLuaJIT 2.0.5\r\nCompilation: /usr/bin/cc -march=x86-64 -mtune=generic -O2 -pipe -fno-plt -O2 -DNDEBUG -DMIN_LOG_LEVEL=3 -Wall -Wextra -pedantic -Wno-unused-parameter -Wstrict-prototypes -std=gnu99 -Wshadow -Wconversion -Wmissing-prototypes -Wimplicit-fallthrough -Wvla -fstack-protector-strong -fdiagnostics-color=always -DINCLUDE_GENERATED_DECLARATIONS -D_GNU_SOURCE -DNVIM_MSGPACK_HAS_FLOAT32 -DNVIM_UNIBI_HAS_VAR_FROM -I/build/neovim/src/build/config -I/build/neovim/src/neovim-0.4.3/src -I/usr/include -I/build/neovim/src/build/src/nvim/auto -I/build/neovim/src/build/include\r\nCompiled by builduser\r\n\r\nFeatures: +acl +iconv +tui\r\nSee \":help feature-compile\"\r\n\r\n   system vimrc file: \"$VIM/sysinit.vim\"\r\n  fall-back for $VIM: \"/usr/share/nvim\"\r\n\r\nRun :checkhealth for more info\r\n```\r\n- `vim -u DEFAULTS` (version: ) behaves differently?: no\r\n- Operating system/version: Arch linux\r\n- Terminal name/version: alacritty 0.4.3\r\n- `$TERM`: alacritty\r\n\r\n\r\n### Actual behaviour\r\n\r\nThis is a suggestion to solve a general problem plugin developers encounter.\r\n\r\nConsider the following scenario:\r\n\r\nYou have a file manager plugin installed (like NERDTree) and you wish to keep it's buffer through your nvim session.\r\nThe main problem is that if you try to open another file (For example with :FZF) you need to check if your focus is not on the file manager buffer or else this would happen:\r\n\r\n![](https://cloud.githubusercontent.com/assets/675604/11937133/891f0592-a7f9-11e5-8dd3-24aaa7da93e0.gif)\r\n(Taken from https://github.com/junegunn/fzf/issues/453)\r\n\r\nThe workaround is to use hacky vimscript to try detect the buffer name and then shift the focus:\r\n```vim\r\nnnoremap <silent> <expr> <Leader><Leader> (expand('%') =~ 'NERD_tree' ? \"\\<c-w>\\<c-w>\" : '').\":FZF\\<cr>\"\r\n```\r\nBut you'll have to use the prefix `(expand('%') =~ 'NERD_tree' ? \"\\<c-w>\\<c-w>\" : '').\"` for each possible command you would like, which is tedious.\r\nWhat if you would like to switch from NERDTree to other file manager? You would have to change everything to match the new buffer name.\r\nThis use case is also relevant when using a terminal buffer in normal mode, I don't want to accidently overwrite it with something else.\r\n\r\nPlugin developers cannot make their plugin to act nicely with other plugins as fzf developer describes the problem perfectly in https://github.com/junegunn/fzf.vim/issues/326#issuecomment-282936932\r\n### Reproduce with nvim -u NORC\r\n```\r\nnvim -u NORC\r\ninstall fzf.vim and NERDTree\r\n:NERDTREE (opens nerdtree)\r\nFocus nerdtree buffer\r\n:FZF and choose any file\r\nnerdtree is gone\r\n\r\n```\r\n### Expected behaviour\r\n\r\nOpening a file when the focus is on a buffer that I would like to keep, the file will be open in a different buffer or a vertical split if there are no more buffers.\r\nMaybe marking buffers with sticky mode which can only be close only with :quit ?\r\n\r\n```\r\n\r\n1. nvim -u NORC\r\n2. install fzf.vim and NERDTree\r\n3. :NERDTREE (opens nerdtree)\r\n4. Focus nerdtree buffer\r\n5. Mark buffer as sticky\r\n6. :FZF and choose any file\r\n7. The file is opened in a split \r\n8. Focus nerdtree buffer\r\n9. :FZF and choose any file\r\n10. The file is opened in the same split as in step 7\r\n\r\n\r\n```\r\n\r\nIs there a better solution for this problem other than detecting buffer names?\r\n\r\nI'm aware there are mapping to open files in vertical or horizontal split. But the main issue is that I constantly need to know where my focus is and be careful not to overwrite a buffer that I want to keep.\r\n\r\nThank you for your time.\r\n",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "CONTRIBUTOR",
            "body": "It would be very useful. Without this I need to create a function and wrap all commands that changes current buffer.\r\nThere is also `switchbuf` option, but it  honored only for quickfix window.",
            "created_at": "2020-07-09T23:35:05Z",
            "html_url": "https://github.com/neovim/neovim/issues/12517#issuecomment-656401079",
            "id": 656401079,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/12517",
            "node_id": "MDEyOklzc3VlQ29tbWVudDY1NjQwMTA3OQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/656401079/reactions"
            },
            "updated_at": "2020-07-09T23:35:05Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/656401079",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/22453358?v=4",
                "events_url": "https://api.github.com/users/Shatur/events{/privacy}",
                "followers_url": "https://api.github.com/users/Shatur/followers",
                "following_url": "https://api.github.com/users/Shatur/following{/other_user}",
                "gists_url": "https://api.github.com/users/Shatur/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Shatur",
                "id": 22453358,
                "login": "Shatur",
                "node_id": "MDQ6VXNlcjIyNDUzMzU4",
                "organizations_url": "https://api.github.com/users/Shatur/orgs",
                "received_events_url": "https://api.github.com/users/Shatur/received_events",
                "repos_url": "https://api.github.com/users/Shatur/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Shatur/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Shatur/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Shatur"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Could you resend the issue to the [vim](https://github.com/vim/vim) repo first? Maybe it will be better to just backport it.",
            "created_at": "2020-07-09T23:51:54Z",
            "html_url": "https://github.com/neovim/neovim/issues/12517#issuecomment-656405382",
            "id": 656405382,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/12517",
            "node_id": "MDEyOklzc3VlQ29tbWVudDY1NjQwNTM4Mg==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/656405382/reactions"
            },
            "updated_at": "2020-07-09T23:51:54Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/656405382",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/22453358?v=4",
                "events_url": "https://api.github.com/users/Shatur/events{/privacy}",
                "followers_url": "https://api.github.com/users/Shatur/followers",
                "following_url": "https://api.github.com/users/Shatur/following{/other_user}",
                "gists_url": "https://api.github.com/users/Shatur/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Shatur",
                "id": 22453358,
                "login": "Shatur",
                "node_id": "MDQ6VXNlcjIyNDUzMzU4",
                "organizations_url": "https://api.github.com/users/Shatur/orgs",
                "received_events_url": "https://api.github.com/users/Shatur/received_events",
                "repos_url": "https://api.github.com/users/Shatur/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Shatur/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Shatur/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Shatur"
            }
        },
        {
            "author_association": "NONE",
            "body": "Sure, done: https://github.com/vim/vim/issues/6445",
            "created_at": "2020-07-12T18:34:48Z",
            "html_url": "https://github.com/neovim/neovim/issues/12517#issuecomment-657259059",
            "id": 657259059,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/12517",
            "node_id": "MDEyOklzc3VlQ29tbWVudDY1NzI1OTA1OQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 2,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 2,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/657259059/reactions"
            },
            "updated_at": "2020-07-12T18:34:48Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/657259059",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/28672915?v=4",
                "events_url": "https://api.github.com/users/amitlevy21/events{/privacy}",
                "followers_url": "https://api.github.com/users/amitlevy21/followers",
                "following_url": "https://api.github.com/users/amitlevy21/following{/other_user}",
                "gists_url": "https://api.github.com/users/amitlevy21/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/amitlevy21",
                "id": 28672915,
                "login": "amitlevy21",
                "node_id": "MDQ6VXNlcjI4NjcyOTE1",
                "organizations_url": "https://api.github.com/users/amitlevy21/orgs",
                "received_events_url": "https://api.github.com/users/amitlevy21/received_events",
                "repos_url": "https://api.github.com/users/amitlevy21/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/amitlevy21/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/amitlevy21/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/amitlevy21"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "I would love to see this get a proper implementation in vim core, but in the meantime I made a plugin that mimics the functionality as best I could with some hacks: https://github.com/stevearc/stickybuf.nvim",
            "created_at": "2021-07-31T19:21:16Z",
            "html_url": "https://github.com/neovim/neovim/issues/12517#issuecomment-890393531",
            "id": 890393531,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/12517",
            "node_id": "IC_kwDOAPphoM41ElO7",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 15,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 15,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/890393531/reactions"
            },
            "updated_at": "2021-07-31T19:21:16Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/890393531",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/506791?v=4",
                "events_url": "https://api.github.com/users/stevearc/events{/privacy}",
                "followers_url": "https://api.github.com/users/stevearc/followers",
                "following_url": "https://api.github.com/users/stevearc/following{/other_user}",
                "gists_url": "https://api.github.com/users/stevearc/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/stevearc",
                "id": 506791,
                "login": "stevearc",
                "node_id": "MDQ6VXNlcjUwNjc5MQ==",
                "organizations_url": "https://api.github.com/users/stevearc/orgs",
                "received_events_url": "https://api.github.com/users/stevearc/received_events",
                "repos_url": "https://api.github.com/users/stevearc/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/stevearc/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/stevearc/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/stevearc"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "That's a lot of words. IIUC, the one-sentence feature request is:\r\n\r\n> lock a buffer to a window",
            "created_at": "2021-09-24T14:13:16Z",
            "html_url": "https://github.com/neovim/neovim/issues/12517#issuecomment-926659063",
            "id": 926659063,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/12517",
            "node_id": "IC_kwDOAPphoM43O7H3",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 4,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 6,
                "rocket": 0,
                "total_count": 10,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/926659063/reactions"
            },
            "updated_at": "2021-09-24T14:13:16Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/926659063",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "I gave this work a shot and have something about ... 70% working. Not every command is 'stickybuf' aware yet but most of the important ones are in already.\r\n\r\nhttps://github.com/ColinKennedy/neovim/tree/add_stickybuf\r\n\r\nIt'll eventually become a Vim PR, which I hope the Vim maintainers will be keen on since the other GitHub issue has no replies. I started the branch in Neovim since that's my daily driver.\r\n\r\nOnce the holiday season is over I'll be able to focus on completing the missing commands + polish",
            "created_at": "2023-12-18T08:13:58Z",
            "html_url": "https://github.com/neovim/neovim/issues/12517#issuecomment-1859741324",
            "id": 1859741324,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/12517",
            "node_id": "IC_kwDOAPphoM5u2WaM",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 4,
                "laugh": 0,
                "rocket": 4,
                "total_count": 8,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1859741324/reactions"
            },
            "updated_at": "2023-12-18T08:18:43Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1859741324",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10103049?v=4",
                "events_url": "https://api.github.com/users/ColinKennedy/events{/privacy}",
                "followers_url": "https://api.github.com/users/ColinKennedy/followers",
                "following_url": "https://api.github.com/users/ColinKennedy/following{/other_user}",
                "gists_url": "https://api.github.com/users/ColinKennedy/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ColinKennedy",
                "id": 10103049,
                "login": "ColinKennedy",
                "node_id": "MDQ6VXNlcjEwMTAzMDQ5",
                "organizations_url": "https://api.github.com/users/ColinKennedy/orgs",
                "received_events_url": "https://api.github.com/users/ColinKennedy/received_events",
                "repos_url": "https://api.github.com/users/ColinKennedy/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ColinKennedy/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ColinKennedy/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ColinKennedy"
            }
        }
    ],
    "comments": 6,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/12517/comments",
    "created_at": "2020-06-22T19:28:15Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/12517/events",
    "html_url": "https://github.com/neovim/neovim/issues/12517",
    "id": 643309283,
    "labels": [
        {
            "color": "c2e0c6",
            "default": true,
            "description": "feature request",
            "id": 77997476,
            "name": "enhancement",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3Ng==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/enhancement"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/12517/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 201,
        "created_at": "2014-11-26T22:13:11Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk"
        },
        "description": "Zero priority; no timeline. Promote an item from this state by taking ownership of it.",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/9",
        "id": 881978,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/9/labels",
        "node_id": "MDk6TWlsZXN0b25lODgxOTc4",
        "number": 9,
        "open_issues": 241,
        "state": "open",
        "title": "unplanned",
        "updated_at": "2023-12-16T13:43:05Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/9"
    },
    "node_id": "MDU6SXNzdWU2NDMzMDkyODM=",
    "number": 12517,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 34,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 34,
        "url": "https://api.github.com/repos/neovim/neovim/issues/12517/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/12517/timeline",
    "title": "Sticky Buffers",
    "updated_at": "2023-12-18T08:18:43Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/12517",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/28672915?v=4",
        "events_url": "https://api.github.com/users/amitlevy21/events{/privacy}",
        "followers_url": "https://api.github.com/users/amitlevy21/followers",
        "following_url": "https://api.github.com/users/amitlevy21/following{/other_user}",
        "gists_url": "https://api.github.com/users/amitlevy21/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/amitlevy21",
        "id": 28672915,
        "login": "amitlevy21",
        "node_id": "MDQ6VXNlcjI4NjcyOTE1",
        "organizations_url": "https://api.github.com/users/amitlevy21/orgs",
        "received_events_url": "https://api.github.com/users/amitlevy21/received_events",
        "repos_url": "https://api.github.com/users/amitlevy21/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/amitlevy21/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/amitlevy21/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/amitlevy21"
    }
}