{
    "active_lock_reason": "resolved",
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "body": "<!-- Before reporting: search existing issues and check the FAQ. -->\r\n\r\n- `nvim --version`:0.3.4\r\n- Vim (version: ) behaves differently?N/A\r\n- Operating system/version:mac os high serria 10.13.6\r\n- Terminal name/version: iterm2 the latest\r\n- `$TERM`:xterm-256color\r\n\r\n### Steps to reproduce using `nvim -u NORC`\r\n`nvim --startuptime ~/vimstart_up.log`\r\n### Actual behaviour\r\nFirst\r\n```\r\n184.853  014.465: VimEnter autocommands\r\n223.115  038.132  038.132: sourcing /usr/local/Cellar/neovim/0.3.4/share/nvim/runtime/autoload/provider/clipboard.vim\r\n\r\n```\r\nSecond \r\n```\r\n123.482  015.762: VimEnter autocommands\r\n167.129  043.377  043.377: sourcing /usr/local/Cellar/neovim/0.3.4/share/nvim/runtime/autoload/provider/clipboard.vim\r\n```\r\n\r\nIs it because I installed through brew?\r\n### Expected behaviour\r\nfaster\r\n",
    "closed_at": "2019-02-01T13:40:02Z",
    "comment_data": [
        {
            "author_association": "CONTRIBUTOR",
            "body": "See https://www.reddit.com/r/neovim/comments/ab01n8/improve_neovim_startup_by_60ms_for_free_on_macos/",
            "created_at": "2019-02-01T13:38:52Z",
            "html_url": "https://github.com/neovim/neovim/issues/9570#issuecomment-459725218",
            "id": 459725218,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/9570",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQ1OTcyNTIxOA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 5,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 5,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/459725218/reactions"
            },
            "updated_at": "2019-02-01T13:38:52Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/459725218",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/4117685?v=4",
                "events_url": "https://api.github.com/users/KillTheMule/events{/privacy}",
                "followers_url": "https://api.github.com/users/KillTheMule/followers",
                "following_url": "https://api.github.com/users/KillTheMule/following{/other_user}",
                "gists_url": "https://api.github.com/users/KillTheMule/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/KillTheMule",
                "id": 4117685,
                "login": "KillTheMule",
                "node_id": "MDQ6VXNlcjQxMTc2ODU=",
                "organizations_url": "https://api.github.com/users/KillTheMule/orgs",
                "received_events_url": "https://api.github.com/users/KillTheMule/received_events",
                "repos_url": "https://api.github.com/users/KillTheMule/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/KillTheMule/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/KillTheMule/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/KillTheMule"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Missing steps to reproduce with `nvim -u NORC`. clipboard.vim won't be sourced _at all_ on startup unless you have something like `set clipboard=unnamed`.\r\n\r\nHere's what I see with current HEAD (0.4.0 f89d0d8) on macOS HFS+ spinning rust HDD (not SDD):\r\n\r\n    nvim -u NORC +'set clipboard=unnamed' --startuptime foo.txt\r\n\r\n    053.261  000.596  000.596: sourcing /usr/local/Cellar/neovim/HEAD-f89d0d8/share/nvim/runtime/autoload/provider/clipboard.vim\r\n\r\n> Is it because I installed through brew?\r\n\r\nNo. Homebrew-installed Neovim is the same as any other Neovim, unless you explicitly changed the build type to DEBUG or something like that ...",
            "created_at": "2019-02-01T13:40:02Z",
            "html_url": "https://github.com/neovim/neovim/issues/9570#issuecomment-459725522",
            "id": 459725522,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/9570",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQ1OTcyNTUyMg==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/459725522/reactions"
            },
            "updated_at": "2019-02-01T13:40:55Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/459725522",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> 请参阅https://www.reddit.com/r/neovim/comments/ab01n8/improve_neovim_startup_by_60ms_for_free_on_macos/\r\n\r\n\r\nthank you very much. It helped me",
            "created_at": "2019-02-02T03:07:31Z",
            "html_url": "https://github.com/neovim/neovim/issues/9570#issuecomment-459929867",
            "id": 459929867,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/9570",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQ1OTkyOTg2Nw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/459929867/reactions"
            },
            "updated_at": "2019-02-02T03:07:31Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/459929867",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
                "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
                "followers_url": "https://api.github.com/users/glepnir/followers",
                "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
                "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glepnir",
                "id": 41671631,
                "login": "glepnir",
                "node_id": "MDQ6VXNlcjQxNjcxNjMx",
                "organizations_url": "https://api.github.com/users/glepnir/orgs",
                "received_events_url": "https://api.github.com/users/glepnir/received_events",
                "repos_url": "https://api.github.com/users/glepnir/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glepnir"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> 缺少重现的步骤`nvim -u NORC`。clipboard.vim不会采购_都_在启动，除非你有类似的东西`set clipboard=unnamed`。\r\n> \r\n> 这是我在macOS HFS +旋转生锈HDD（不是SDD）上使用当前HEAD（0.4.0 [f89d0d8](https://github.com/neovim/neovim/commit/f89d0d8230f34dca49eddbea179d274955b572b9)）看到的内容：\r\n> \r\n> ```\r\n> nvim -u NORC +'set clipboard=unnamed' --startuptime foo.txt\r\n> \r\n> 053.261  000.596  000.596: sourcing /usr/local/Cellar/neovim/HEAD-f89d0d8/share/nvim/runtime/autoload/provider/clipboard.vim\r\n> ```\r\n> > 是因为我是通过brew安装的吗？\r\n> \r\n> 不，Homebrew安装的Neovim与任何其他Neovim相同，除非您明确地将构建类型更改为DEBUG或类似的东西......\r\n\r\n`nvim -u NORC +'set clipboard=unnamed' --startuptime ~/foo.txt`\r\ni got these\r\n```\r\n028.571  000.161: VimEnter autocommands\r\n064.434  035.717  035.717: sourcing /usr/local/Cellar/neovim/0.3.4/share/nvim/runtime/autoload/provider/clipboard.vim\r\n```\r\ni set `set clipboard=unnamed`  Turns out that this file tries to find my clipboard provider — which is obviously pbcopy on macOS — by doing `s:cmd_ok` which does a system( call. System calls are slow.）Solve by setting it up\r\n```\r\nlet g:clipboard = {\r\n  \\ 'name': 'pbcopy',\r\n  \\ 'copy': {\r\n  \\    '+': 'pbcopy',\r\n  \\    '*': 'pbcopy',\r\n  \\  },\r\n  \\ 'paste': {\r\n  \\    '+': 'pbpaste',\r\n  \\    '*': 'pbpaste',\r\n  \\ },\r\n  \\ 'cache_enabled': 0,\r\n  \\ }\r\n```",
            "created_at": "2019-02-02T03:11:28Z",
            "html_url": "https://github.com/neovim/neovim/issues/9570#issuecomment-459930104",
            "id": 459930104,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/9570",
            "node_id": "MDEyOklzc3VlQ29tbWVudDQ1OTkzMDEwNA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/459930104/reactions"
            },
            "updated_at": "2019-02-02T03:11:28Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/459930104",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
                "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
                "followers_url": "https://api.github.com/users/glepnir/followers",
                "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
                "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glepnir",
                "id": 41671631,
                "login": "glepnir",
                "node_id": "MDQ6VXNlcjQxNjcxNjMx",
                "organizations_url": "https://api.github.com/users/glepnir/orgs",
                "received_events_url": "https://api.github.com/users/glepnir/received_events",
                "repos_url": "https://api.github.com/users/glepnir/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glepnir"
            }
        },
        {
            "author_association": "NONE",
            "body": "According above method, I tried to add the following script before `set clipboard=unnamed` on Windows. It works well and imporved my startup time by about 800ms! Really thank you.\r\n```\r\n  let g:clipboard = {\r\n  \\ 'name': 'win32yank',\r\n  \\ 'copy': {\r\n  \\    '+': 'win32yank.exe -i --crlf',\r\n  \\    '*': 'win32yank.exe -i --crlf',\r\n  \\  },\r\n  \\ 'paste': {\r\n  \\    '+': 'win32yank.exe -o --lf',\r\n  \\    '*': 'win32yank.exe -o --lf',\r\n  \\ },\r\n  \\ 'cache_enabled': 0,\r\n  \\ }\r\n```",
            "created_at": "2020-05-10T05:21:17Z",
            "html_url": "https://github.com/neovim/neovim/issues/9570#issuecomment-626275405",
            "id": 626275405,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/9570",
            "node_id": "MDEyOklzc3VlQ29tbWVudDYyNjI3NTQwNQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 5,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 2,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 7,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/626275405/reactions"
            },
            "updated_at": "2023-07-16T13:03:12Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/626275405",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/26739999?v=4",
                "events_url": "https://api.github.com/users/mzr1996/events{/privacy}",
                "followers_url": "https://api.github.com/users/mzr1996/followers",
                "following_url": "https://api.github.com/users/mzr1996/following{/other_user}",
                "gists_url": "https://api.github.com/users/mzr1996/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mzr1996",
                "id": 26739999,
                "login": "mzr1996",
                "node_id": "MDQ6VXNlcjI2NzM5OTk5",
                "organizations_url": "https://api.github.com/users/mzr1996/orgs",
                "received_events_url": "https://api.github.com/users/mzr1996/received_events",
                "repos_url": "https://api.github.com/users/mzr1996/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mzr1996/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mzr1996/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mzr1996"
            }
        },
        {
            "author_association": "NONE",
            "body": "For those looking for a lua equivalent:\r\n```\r\nvim.g.clipboard = {\r\n  name = 'win32yank',\r\n  copy = {\r\n     [\"+\"] = 'win32yank.exe -i --crlf',\r\n     [\"*\"] = 'win32yank.exe -i --crlf',\r\n   },\r\n  paste = {\r\n     [\"+\"] = 'win32yank.exe -o --lf',\r\n     [\"*\"] = 'win32yank.exe -o --lf',\r\n  },\r\n  cache_enabled = 0,\r\n}\r\n```",
            "created_at": "2023-04-01T13:15:05Z",
            "html_url": "https://github.com/neovim/neovim/issues/9570#issuecomment-1492968112",
            "id": 1492968112,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/9570",
            "node_id": "IC_kwDOAPphoM5Y_OKw",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1492968112/reactions"
            },
            "updated_at": "2023-07-16T13:02:59Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1492968112",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1764586?v=4",
                "events_url": "https://api.github.com/users/jaghaimo/events{/privacy}",
                "followers_url": "https://api.github.com/users/jaghaimo/followers",
                "following_url": "https://api.github.com/users/jaghaimo/following{/other_user}",
                "gists_url": "https://api.github.com/users/jaghaimo/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/jaghaimo",
                "id": 1764586,
                "login": "jaghaimo",
                "node_id": "MDQ6VXNlcjE3NjQ1ODY=",
                "organizations_url": "https://api.github.com/users/jaghaimo/orgs",
                "received_events_url": "https://api.github.com/users/jaghaimo/received_events",
                "repos_url": "https://api.github.com/users/jaghaimo/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/jaghaimo/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jaghaimo/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/jaghaimo"
            }
        },
        {
            "author_association": "NONE",
            "body": "@jaghaimo Thanks! \r\n\r\nI added:\r\n```lua\r\nvim.g.clipboard = {\r\n  name = 'win32yank',\r\n  copy = {\r\n     [\"+\"] = 'win32yank.exe -i --crlf',\r\n     [\"*\"] = 'win32yank.exe -i --crlf',\r\n   },\r\n  paste = {\r\n     [\"+\"] = 'win32yank.exe -o --lf',\r\n     [\"*\"] = 'win32yank.exe -o --lf',\r\n  },\r\n  cache_enabled = 0,\r\n}\r\n```\r\nin my `~/.config/lvim/config.lua` just before line\r\n```\r\nvim.opt.clipboard = \"unnamedplus\" -- allows neovim to access the system clipboard\r\n```\r\n\r\nI saved almost 2 sec in loading time.\r\n\r\nNow LunarVim opens in 300ms\r\n",
            "created_at": "2023-04-11T16:39:26Z",
            "html_url": "https://github.com/neovim/neovim/issues/9570#issuecomment-1503748366",
            "id": 1503748366,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/9570",
            "node_id": "IC_kwDOAPphoM5ZoWEO",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1503748366/reactions"
            },
            "updated_at": "2023-04-11T16:39:26Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1503748366",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1032724?v=4",
                "events_url": "https://api.github.com/users/bitroniq/events{/privacy}",
                "followers_url": "https://api.github.com/users/bitroniq/followers",
                "following_url": "https://api.github.com/users/bitroniq/following{/other_user}",
                "gists_url": "https://api.github.com/users/bitroniq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/bitroniq",
                "id": 1032724,
                "login": "bitroniq",
                "node_id": "MDQ6VXNlcjEwMzI3MjQ=",
                "organizations_url": "https://api.github.com/users/bitroniq/orgs",
                "received_events_url": "https://api.github.com/users/bitroniq/received_events",
                "repos_url": "https://api.github.com/users/bitroniq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/bitroniq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/bitroniq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/bitroniq"
            }
        }
    ],
    "comments": 7,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/9570/comments",
    "created_at": "2019-02-01T13:33:05Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/9570/events",
    "html_url": "https://github.com/neovim/neovim/issues/9570",
    "id": 405703473,
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": "clipboard, paste",
            "id": 186192409,
            "name": "clipboard",
            "node_id": "MDU6TGFiZWwxODYxOTI0MDk=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/clipboard"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/9570/labels{/name}",
    "locked": true,
    "milestone": null,
    "node_id": "MDU6SXNzdWU0MDU3MDM0NzM=",
    "number": 9570,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/9570/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "completed",
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/9570/timeline",
    "title": "clipboard.vim takes a long time to start ",
    "updated_at": "2023-07-16T13:03:20Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/9570",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
        "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
        "followers_url": "https://api.github.com/users/glepnir/followers",
        "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
        "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/glepnir",
        "id": 41671631,
        "login": "glepnir",
        "node_id": "MDQ6VXNlcjQxNjcxNjMx",
        "organizations_url": "https://api.github.com/users/glepnir/orgs",
        "received_events_url": "https://api.github.com/users/glepnir/received_events",
        "repos_url": "https://api.github.com/users/glepnir/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/glepnir"
    }
}