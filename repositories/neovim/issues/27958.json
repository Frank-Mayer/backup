{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "body": "### Problem\n\nwhitespace characters like `\\n` and `\\t` are being half swallowed by `vim.fs.normalize()`\r\n\n\n### Steps to reproduce\n\n`:so %` \r\n```lua\r\nprint(vim.fs.normalize([[/tmp/hello\\tworld]])) --> /tmp/hello/tworld\r\n```\n\n### Expected behavior\n\n`vim.fs.normalize([[/tmp/hello\\tworld]])` returns the original path `/tmp/hello\\tworld` with no modifications\r\n\r\nThis is the behavior of https://docs.python.org/3/library/os.path.html#os.path.normpath\n\n### Neovim version (nvim -v)\n\nNVIM v0.10.0-dev-2593+ga6b6d036b\n\n### Vim (not Nvim) behaves the same?\n\nno, vim.fs\n\n### Operating system/version\n\nLinux archlinux 6.7.5-arch1-1\n\n### Terminal name/version\n\nkitty 0.31.0 \n\n### $TERM environment variable\n\ntmux-256color\n\n### Installation\n\nbuild from repo",
    "closed_at": "2024-03-21T02:15:59Z",
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "> `vim.fs.normalize([[/tmp/hello\\tworld]])` returns the original path `/tmp/hello\\tworld` with no modifications\r\n\r\nWhy? Why should a backslash be treated differently if it's followed by `t`? Python 3 doesn't change backslashes to forward slashes at, so it's not a good example:\r\n```\r\n>>> import os\r\n>>> print(os.path.normpath(r'/tmp/hello\\tworld'))\r\n/tmp/hello\\tworld\r\n>>> print(os.path.normpath(r'/tmp/hello\\kworld'))\r\n/tmp/hello\\kworld\r\n```",
            "created_at": "2024-03-21T02:03:22Z",
            "html_url": "https://github.com/neovim/neovim/issues/27958#issuecomment-2011049299",
            "id": 2011049299,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27958",
            "node_id": "IC_kwDOAPphoM533i1T",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2011049299/reactions"
            },
            "updated_at": "2024-03-21T02:11:21Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2011049299",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "And if you really have a `\\t` character in the path then it works as expected:\r\n```vim\r\n:lua print(vim.fs.normalize('/tmp/hello\\tworld'))\r\n```\r\n```\r\n/tmp/hello^Iworld\r\n```",
            "created_at": "2024-03-21T02:15:59Z",
            "html_url": "https://github.com/neovim/neovim/issues/27958#issuecomment-2011065704",
            "id": 2011065704,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27958",
            "node_id": "IC_kwDOAPphoM533m1o",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2011065704/reactions"
            },
            "updated_at": "2024-03-21T02:15:59Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2011065704",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "If I'm getting filepath from say an external process (`fd`) or even `vim.api.nvim_buf_get_name`, I need to manually do some string manipulation before using `vim.fs.normalize`?\r\n\r\n```lua\r\nlocal bufname = vim.api.nvim_buf_get_name(4) --> /tmp/hello\\tworld\r\nprint(vim.fs.normalize(bufname)) --> /tmp/testing/hello/tworld.lua\r\n```\r\nMaybe it's just a bad use case..",
            "created_at": "2024-03-21T02:26:21Z",
            "html_url": "https://github.com/neovim/neovim/issues/27958#issuecomment-2011075008",
            "id": 2011075008,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27958",
            "node_id": "IC_kwDOAPphoM533pHA",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2011075008/reactions"
            },
            "updated_at": "2024-03-21T02:30:17Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2011075008",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/66286082?v=4",
                "events_url": "https://api.github.com/users/jamestrew/events{/privacy}",
                "followers_url": "https://api.github.com/users/jamestrew/followers",
                "following_url": "https://api.github.com/users/jamestrew/following{/other_user}",
                "gists_url": "https://api.github.com/users/jamestrew/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/jamestrew",
                "id": 66286082,
                "login": "jamestrew",
                "node_id": "MDQ6VXNlcjY2Mjg2MDgy",
                "organizations_url": "https://api.github.com/users/jamestrew/orgs",
                "received_events_url": "https://api.github.com/users/jamestrew/received_events",
                "repos_url": "https://api.github.com/users/jamestrew/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/jamestrew/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jamestrew/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/jamestrew"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "If `nvim_buf_get_name` returns `\\n` or `\\t` then they are literal `\\` and `n` or `\\` and `t` characters, not whitespace.",
            "created_at": "2024-03-21T02:31:59Z",
            "html_url": "https://github.com/neovim/neovim/issues/27958#issuecomment-2011079110",
            "id": 2011079110,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27958",
            "node_id": "IC_kwDOAPphoM533qHG",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2011079110/reactions"
            },
            "updated_at": "2024-03-21T02:31:59Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2011079110",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Yeah you're right sorry. Just a bad expectations on my parts.",
            "created_at": "2024-03-21T02:36:24Z",
            "html_url": "https://github.com/neovim/neovim/issues/27958#issuecomment-2011082528",
            "id": 2011082528,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27958",
            "node_id": "IC_kwDOAPphoM533q8g",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2011082528/reactions"
            },
            "updated_at": "2024-03-21T02:36:24Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2011082528",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/66286082?v=4",
                "events_url": "https://api.github.com/users/jamestrew/events{/privacy}",
                "followers_url": "https://api.github.com/users/jamestrew/followers",
                "following_url": "https://api.github.com/users/jamestrew/following{/other_user}",
                "gists_url": "https://api.github.com/users/jamestrew/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/jamestrew",
                "id": 66286082,
                "login": "jamestrew",
                "node_id": "MDQ6VXNlcjY2Mjg2MDgy",
                "organizations_url": "https://api.github.com/users/jamestrew/orgs",
                "received_events_url": "https://api.github.com/users/jamestrew/received_events",
                "repos_url": "https://api.github.com/users/jamestrew/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/jamestrew/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jamestrew/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/jamestrew"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "This kept bugging me... I definitely confused the issue originally and I apologize for wasting time.\r\nBut let me try again in a form of a question first and I can reopen a new issue if it's warranted.\r\n\r\nSo `vim.fs.normalize` currently mangles valid unix paths with literal backslashes. This makes `vim.fs.normalize` undesirable to use as a catch all for \"normalizing\" paths. Is this the intended design of `vim.fs.normalize`?",
            "created_at": "2024-03-27T02:40:51Z",
            "html_url": "https://github.com/neovim/neovim/issues/27958#issuecomment-2021814280",
            "id": 2021814280,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27958",
            "node_id": "IC_kwDOAPphoM54gnAI",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2021814280/reactions"
            },
            "updated_at": "2024-03-27T02:40:51Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2021814280",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/66286082?v=4",
                "events_url": "https://api.github.com/users/jamestrew/events{/privacy}",
                "followers_url": "https://api.github.com/users/jamestrew/followers",
                "following_url": "https://api.github.com/users/jamestrew/following{/other_user}",
                "gists_url": "https://api.github.com/users/jamestrew/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/jamestrew",
                "id": 66286082,
                "login": "jamestrew",
                "node_id": "MDQ6VXNlcjY2Mjg2MDgy",
                "organizations_url": "https://api.github.com/users/jamestrew/orgs",
                "received_events_url": "https://api.github.com/users/jamestrew/received_events",
                "repos_url": "https://api.github.com/users/jamestrew/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/jamestrew/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jamestrew/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/jamestrew"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "@gpanders",
            "created_at": "2024-03-27T02:45:55Z",
            "html_url": "https://github.com/neovim/neovim/issues/27958#issuecomment-2021818044",
            "id": 2021818044,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27958",
            "node_id": "IC_kwDOAPphoM54gn68",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2021818044/reactions"
            },
            "updated_at": "2024-03-27T02:45:55Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2021818044",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> So `vim.fs.normalize` currently mangles valid unix paths with literal backslashes. This makes `vim.fs.normalize` undesirable to use as a catch all for \"normalizing\" paths. Is this the intended design of `vim.fs.normalize`?\r\n\r\nNot intentional. normalize() should be reliable.",
            "created_at": "2024-03-27T14:36:45Z",
            "html_url": "https://github.com/neovim/neovim/issues/27958#issuecomment-2022937067",
            "id": 2022937067,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27958",
            "node_id": "IC_kwDOAPphoM54k5Hr",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2022937067/reactions"
            },
            "updated_at": "2024-03-27T14:36:45Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2022937067",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "opened a new issue to avoid confusion with this original erroneous issue.",
            "created_at": "2024-03-27T16:00:33Z",
            "html_url": "https://github.com/neovim/neovim/issues/27958#issuecomment-2023136938",
            "id": 2023136938,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27958",
            "node_id": "IC_kwDOAPphoM54lp6q",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2023136938/reactions"
            },
            "updated_at": "2024-03-27T16:00:33Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2023136938",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/66286082?v=4",
                "events_url": "https://api.github.com/users/jamestrew/events{/privacy}",
                "followers_url": "https://api.github.com/users/jamestrew/followers",
                "following_url": "https://api.github.com/users/jamestrew/following{/other_user}",
                "gists_url": "https://api.github.com/users/jamestrew/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/jamestrew",
                "id": 66286082,
                "login": "jamestrew",
                "node_id": "MDQ6VXNlcjY2Mjg2MDgy",
                "organizations_url": "https://api.github.com/users/jamestrew/orgs",
                "received_events_url": "https://api.github.com/users/jamestrew/received_events",
                "repos_url": "https://api.github.com/users/jamestrew/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/jamestrew/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jamestrew/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/jamestrew"
            }
        }
    ],
    "comments": 9,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/27958/comments",
    "created_at": "2024-03-21T01:56:21Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/27958/events",
    "html_url": "https://github.com/neovim/neovim/issues/27958",
    "id": 2198936273,
    "labels": [
        {
            "color": "e6e6e6",
            "default": false,
            "description": "Issues that are closed as \"invalid\"",
            "id": 77997477,
            "name": "closed:invalid",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3Nw==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/closed:invalid"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/27958/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM6DERrR",
    "number": 27958,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/27958/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "not_planned",
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/27958/timeline",
    "title": "`vim.fs.normalize` swallows whitespace escape characters",
    "updated_at": "2024-03-27T16:00:34Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/27958",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/66286082?v=4",
        "events_url": "https://api.github.com/users/jamestrew/events{/privacy}",
        "followers_url": "https://api.github.com/users/jamestrew/followers",
        "following_url": "https://api.github.com/users/jamestrew/following{/other_user}",
        "gists_url": "https://api.github.com/users/jamestrew/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/jamestrew",
        "id": 66286082,
        "login": "jamestrew",
        "node_id": "MDQ6VXNlcjY2Mjg2MDgy",
        "organizations_url": "https://api.github.com/users/jamestrew/orgs",
        "received_events_url": "https://api.github.com/users/jamestrew/received_events",
        "repos_url": "https://api.github.com/users/jamestrew/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/jamestrew/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/jamestrew/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/jamestrew"
    }
}