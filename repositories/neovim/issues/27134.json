{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\n\nUsing \":split | term\" as a command in neovim will create a horizontal split, attach the cursor to the newly created window and open a terminal buffer in that split.\r\n\r\nUsing the same sequence of commands from an autocmd, will open a horizontal split, create the terminal, but stay attached to the non-terminal window.\r\n\r\nIs this a bug or expected behaviour? Is there any possible workaround?\n\n### Steps to reproduce\n\nnvim --clean\r\n:e foo\r\n:split | term echo hallo welt\r\n:q\r\n:autocmd BufWritePost * ++nested :split | term echo hello world\r\n:w\n\n### Expected behavior\n\nSame as `:split | term`.\n\n### Neovim version (nvim -v)\n\nNVIM v0.9.5\n\n### Vim (not Nvim) behaves the same?\n\ndon't know\n\n### Operating system/version\n\nmacOs 14.1\n\n### Terminal name/version\n\nkitty 0.31.0\n\n### $TERM environment variable\n\nxterm-kitty\n\n### Installation\n\nbrew",
    "closed_at": "2024-01-22T22:23:45Z",
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "In your repro, it doesn't have to be with `:term`, just `BufWritePost * :split` behaves differently (i.e. not moving the cursor to the splitted window)",
            "created_at": "2024-01-22T16:16:21Z",
            "html_url": "https://github.com/neovim/neovim/issues/27134#issuecomment-1904342444",
            "id": 1904342444,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27134",
            "node_id": "IC_kwDOAPphoM5xgfWs",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1904342444/reactions"
            },
            "updated_at": "2024-01-22T16:16:21Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1904342444",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1009873?v=4",
                "events_url": "https://api.github.com/users/wookayin/events{/privacy}",
                "followers_url": "https://api.github.com/users/wookayin/followers",
                "following_url": "https://api.github.com/users/wookayin/following{/other_user}",
                "gists_url": "https://api.github.com/users/wookayin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/wookayin",
                "id": 1009873,
                "login": "wookayin",
                "node_id": "MDQ6VXNlcjEwMDk4NzM=",
                "organizations_url": "https://api.github.com/users/wookayin/orgs",
                "received_events_url": "https://api.github.com/users/wookayin/received_events",
                "repos_url": "https://api.github.com/users/wookayin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/wookayin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/wookayin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/wookayin"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "This is how `BufWritePost` works and I don't think it's a good idea to change that. For v0.10.0-dev you can use a `autocmd SafeState ++once` command to circumvent that. For v0.9.5 you can use a timer.",
            "created_at": "2024-01-22T22:23:45Z",
            "html_url": "https://github.com/neovim/neovim/issues/27134#issuecomment-1904932757",
            "id": 1904932757,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27134",
            "node_id": "IC_kwDOAPphoM5xiveV",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1904932757/reactions"
            },
            "updated_at": "2024-01-22T22:23:45Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1904932757",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "author_association": "NONE",
            "body": "Alright, I see, it should be noted though, that the documentation says otherwise.\r\n\r\nFrom `:h autocmd-use`:\r\n\r\n```\r\nBefore executing the autocommands, the buffer from which the lines are to be\r\nwritten temporarily becomes the current buffer.  Unless the autocommands\r\nchange the current buffer or delete the previously current buffer, the\r\npreviously current buffer is made the current buffer again.\r\n```\r\n\r\nThanks for the suggested workarounds <3",
            "created_at": "2024-01-23T09:59:35Z",
            "html_url": "https://github.com/neovim/neovim/issues/27134#issuecomment-1905696007",
            "id": 1905696007,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27134",
            "node_id": "IC_kwDOAPphoM5xlp0H",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1905696007/reactions"
            },
            "updated_at": "2024-01-23T09:59:35Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1905696007",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/11719344?v=4",
                "events_url": "https://api.github.com/users/sirno/events{/privacy}",
                "followers_url": "https://api.github.com/users/sirno/followers",
                "following_url": "https://api.github.com/users/sirno/following{/other_user}",
                "gists_url": "https://api.github.com/users/sirno/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/sirno",
                "id": 11719344,
                "login": "sirno",
                "node_id": "MDQ6VXNlcjExNzE5MzQ0",
                "organizations_url": "https://api.github.com/users/sirno/orgs",
                "received_events_url": "https://api.github.com/users/sirno/received_events",
                "repos_url": "https://api.github.com/users/sirno/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/sirno/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/sirno/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/sirno"
            }
        }
    ],
    "comments": 3,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/27134/comments",
    "created_at": "2024-01-22T15:44:26Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/27134/events",
    "html_url": "https://github.com/neovim/neovim/issues/27134",
    "id": 2094203929,
    "labels": [
        {
            "color": "e6e6e6",
            "default": false,
            "description": "current behavior is by design, and change is not desired",
            "id": 77997479,
            "name": "closed:wontfix",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3OQ==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/closed:wontfix"
        },
        {
            "color": "C5DEF5",
            "default": false,
            "description": "events, autocommands",
            "id": 3341085842,
            "name": "events",
            "node_id": "MDU6TGFiZWwzMzQxMDg1ODQy",
            "url": "https://api.github.com/repos/neovim/neovim/labels/events"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/27134/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM580wQZ",
    "number": 27134,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/27134/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "not_planned",
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/27134/timeline",
    "title": "Inconsistent behaviour when running \":split | term %\" from autocmd",
    "updated_at": "2024-01-23T09:59:36Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/27134",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/11719344?v=4",
        "events_url": "https://api.github.com/users/sirno/events{/privacy}",
        "followers_url": "https://api.github.com/users/sirno/followers",
        "following_url": "https://api.github.com/users/sirno/following{/other_user}",
        "gists_url": "https://api.github.com/users/sirno/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/sirno",
        "id": 11719344,
        "login": "sirno",
        "node_id": "MDQ6VXNlcjExNzE5MzQ0",
        "organizations_url": "https://api.github.com/users/sirno/orgs",
        "received_events_url": "https://api.github.com/users/sirno/received_events",
        "repos_url": "https://api.github.com/users/sirno/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/sirno/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/sirno/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/sirno"
    }
}