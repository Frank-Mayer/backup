{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\r\n\r\nSince pull request https://github.com/neovim/neovim/pull/29357 was merged into nightly, line numbers seem to have been interacting very strangely with `statuscolumn` and the `number` option and additional whitespace is getting inserted. Explained through recreation below.\r\n\r\n### Steps to reproduce\r\n\r\n* `nvim --clean -u minimal.lua`\r\n* `:edit ~/anyfile.txt`\r\n* `:set statuscolumn=%s`\r\n* (Nothing is seen to the left of the file, as expected - there are not any signs to show).\r\n* `:set number`\r\n* ***Error - four columns of whitespace are shown to the left of the file, but this doesn't make much sense. If `statuscolumn` is responsible for drawing the line numbers, there is nothing in `statuscolumn` which should do this - no `%l` or any line-drawing logic. If `number` is responsible for drawing line numbers (which I don't think is the intended behaviour of `statuscolumn`), actual line numbers should be shown.***\r\n\r\n### Expected behavior\r\n\r\nNo additional whitespace shown to the left of the file.\r\n\r\n### Neovim version (nvim -v)\r\n\r\nNVIM v0.11.0-dev-301+g6c3f7e7e2\r\n\r\n### Vim (not Nvim) behaves the same?\r\n\r\nNo `statuscolumn` option in Vim\r\n\r\n### Operating system/version\r\n\r\nArch Linux\r\n\r\n### Terminal name/version\r\n\r\nkitty 0.35.1\r\n\r\n### $TERM environment variable\r\n\r\nxterm-kitty\r\n\r\n### Installation\r\n\r\nnvenv",
    "closed_at": "2024-06-25T07:33:22Z",
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "> Error - four columns of whitespace are shown to the left of the file, but this doesn't make much sense.\r\n\r\n'statuscolumn' follows the 'numberwidth' option. This is doucmented and did not change in #29357.",
            "created_at": "2024-06-23T13:18:47Z",
            "html_url": "https://github.com/neovim/neovim/issues/29461#issuecomment-2184986175",
            "id": 2184986175,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/29461",
            "node_id": "IC_kwDOAPphoM6CPD4_",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2184986175/reactions"
            },
            "updated_at": "2024-06-23T13:18:47Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2184986175",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal"
            }
        },
        {
            "author_association": "NONE",
            "body": "> > Error - four columns of whitespace are shown to the left of the file, but this doesn't make much sense.\r\n> \r\n> 'statuscolumn' follows the 'numberwidth' option. This is doucmented and did not change in #29357.\r\n\r\nOK, it's possible that I got confused about the pull req having changed something; nevertheless, I don't think this behaviour makes much sense. Isn't the idea that `statuscolumn` will override the complete drawing of the status column? In this case, the fact that `%l` isn't part of the statuscolumn should surely mean that nothing is shown for line numbers, either them or whitespace for them?\r\n\r\nIn case I'm not being clear, I'm not talking about *extra* whitespace being shown next to line numbers, I'm talking about no line numbers being shown at all. I've attached an image in case it's not clear what I meant...",
            "created_at": "2024-06-23T13:31:36Z",
            "html_url": "https://github.com/neovim/neovim/issues/29461#issuecomment-2184990998",
            "id": 2184990998,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/29461",
            "node_id": "IC_kwDOAPphoM6CPFEW",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2184990998/reactions"
            },
            "updated_at": "2024-06-23T13:31:36Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2184990998",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/107015?v=4",
                "events_url": "https://api.github.com/users/andrewferrier/events{/privacy}",
                "followers_url": "https://api.github.com/users/andrewferrier/followers",
                "following_url": "https://api.github.com/users/andrewferrier/following{/other_user}",
                "gists_url": "https://api.github.com/users/andrewferrier/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/andrewferrier",
                "id": 107015,
                "login": "andrewferrier",
                "node_id": "MDQ6VXNlcjEwNzAxNQ==",
                "organizations_url": "https://api.github.com/users/andrewferrier/orgs",
                "received_events_url": "https://api.github.com/users/andrewferrier/received_events",
                "repos_url": "https://api.github.com/users/andrewferrier/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/andrewferrier/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/andrewferrier/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/andrewferrier"
            }
        },
        {
            "author_association": "NONE",
            "body": "![2024-06-23T14:25:24+01:00](https://github.com/neovim/neovim/assets/107015/f17100a6-7203-4f06-810b-41cac226c22e)\r\n",
            "created_at": "2024-06-23T13:33:26Z",
            "html_url": "https://github.com/neovim/neovim/issues/29461#issuecomment-2184991663",
            "id": 2184991663,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/29461",
            "node_id": "IC_kwDOAPphoM6CPFOv",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2184991663/reactions"
            },
            "updated_at": "2024-06-23T13:33:26Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2184991663",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/107015?v=4",
                "events_url": "https://api.github.com/users/andrewferrier/events{/privacy}",
                "followers_url": "https://api.github.com/users/andrewferrier/followers",
                "following_url": "https://api.github.com/users/andrewferrier/following{/other_user}",
                "gists_url": "https://api.github.com/users/andrewferrier/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/andrewferrier",
                "id": 107015,
                "login": "andrewferrier",
                "node_id": "MDQ6VXNlcjEwNzAxNQ==",
                "organizations_url": "https://api.github.com/users/andrewferrier/orgs",
                "received_events_url": "https://api.github.com/users/andrewferrier/received_events",
                "repos_url": "https://api.github.com/users/andrewferrier/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/andrewferrier/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/andrewferrier/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/andrewferrier"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "If you set '(relative)number', it is just assumed that the statuscolumn will contain line numbers, and thus follows 'numberwidth'. Nvim cannot reasonably determine whether that is the case, so if it is not, you must unset '(relative)number' if you don't want the extra padding for 'numberwidth'.",
            "created_at": "2024-06-23T13:35:51Z",
            "html_url": "https://github.com/neovim/neovim/issues/29461#issuecomment-2184992539",
            "id": 2184992539,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/29461",
            "node_id": "IC_kwDOAPphoM6CPFcb",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2184992539/reactions"
            },
            "updated_at": "2024-06-23T13:35:51Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2184992539",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Can't we make `%l` be empty (zero length) if both `nu` and `rnu` are unset?",
            "created_at": "2024-06-24T21:22:18Z",
            "html_url": "https://github.com/neovim/neovim/issues/29461#issuecomment-2187424653",
            "id": 2187424653,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/29461",
            "node_id": "IC_kwDOAPphoM6CYXON",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2187424653/reactions"
            },
            "updated_at": "2024-06-24T21:22:18Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2187424653",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "It already is. But then if '(r)nu' is enabled the statuscolumn itself is padded to 'numberwidth', even if it doesn't contain `%l`. This is what @andrewferrier finds unexpected but it is done deliberately because the statuscolumn may contain line numbers despite that through `vim.v.(re)lnum`.",
            "created_at": "2024-06-24T22:15:13Z",
            "html_url": "https://github.com/neovim/neovim/issues/29461#issuecomment-2187502579",
            "id": 2187502579,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/29461",
            "node_id": "IC_kwDOAPphoM6CYqPz",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2187502579/reactions"
            },
            "updated_at": "2024-06-24T22:15:13Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2187502579",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Ah ok, makes sense. This should be closed as intended then.",
            "created_at": "2024-06-24T23:23:23Z",
            "html_url": "https://github.com/neovim/neovim/issues/29461#issuecomment-2187593980",
            "id": 2187593980,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/29461",
            "node_id": "IC_kwDOAPphoM6CZAj8",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2187593980/reactions"
            },
            "updated_at": "2024-06-24T23:23:23Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2187593980",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        },
        {
            "author_association": "NONE",
            "body": "@luukvbaal so to summarize, I think what you're saying is that if `number` or `relativenumber` is set (or both), `statuscolumn` will always pad by `numberwidth`, even if `%l` is missing, because the assumption is that any custom logic called from `statuscolumn` will want to render numbers/relnumbers instead. I re-read the docs and whilst I don't think it's stated there quite that explicitly, all of this is kind of covered by the `statuscolumn` description.\r\n\r\nSo that all makes some sense to me. I think you can close this, agreed. Thanks for your patience and all your hard work on NeoVim :)",
            "created_at": "2024-06-25T07:29:38Z",
            "html_url": "https://github.com/neovim/neovim/issues/29461#issuecomment-2188181542",
            "id": 2188181542,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/29461",
            "node_id": "IC_kwDOAPphoM6CbQAm",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2188181542/reactions"
            },
            "updated_at": "2024-06-25T07:29:38Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2188181542",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/107015?v=4",
                "events_url": "https://api.github.com/users/andrewferrier/events{/privacy}",
                "followers_url": "https://api.github.com/users/andrewferrier/followers",
                "following_url": "https://api.github.com/users/andrewferrier/following{/other_user}",
                "gists_url": "https://api.github.com/users/andrewferrier/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/andrewferrier",
                "id": 107015,
                "login": "andrewferrier",
                "node_id": "MDQ6VXNlcjEwNzAxNQ==",
                "organizations_url": "https://api.github.com/users/andrewferrier/orgs",
                "received_events_url": "https://api.github.com/users/andrewferrier/received_events",
                "repos_url": "https://api.github.com/users/andrewferrier/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/andrewferrier/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/andrewferrier/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/andrewferrier"
            }
        }
    ],
    "comments": 8,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/29461/comments",
    "created_at": "2024-06-23T13:13:32Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/29461/events",
    "html_url": "https://github.com/neovim/neovim/issues/29461",
    "id": 2368556765,
    "labels": [
        {
            "color": "f9d0c4",
            "default": true,
            "description": "issues reporting wrong behavior",
            "id": 77997474,
            "name": "bug",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3NA==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "sign/number column",
            "id": 2962322085,
            "name": "column",
            "node_id": "MDU6TGFiZWwyOTYyMzIyMDg1",
            "url": "https://api.github.com/repos/neovim/neovim/labels/column"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/29461/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM6NLU7d",
    "number": 29461,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/29461/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "completed",
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/29461/timeline",
    "title": "`statuscolumn` shows room for line numbers but no actual line numbers",
    "updated_at": "2024-06-25T07:33:22Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/29461",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/107015?v=4",
        "events_url": "https://api.github.com/users/andrewferrier/events{/privacy}",
        "followers_url": "https://api.github.com/users/andrewferrier/followers",
        "following_url": "https://api.github.com/users/andrewferrier/following{/other_user}",
        "gists_url": "https://api.github.com/users/andrewferrier/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/andrewferrier",
        "id": 107015,
        "login": "andrewferrier",
        "node_id": "MDQ6VXNlcjEwNzAxNQ==",
        "organizations_url": "https://api.github.com/users/andrewferrier/orgs",
        "received_events_url": "https://api.github.com/users/andrewferrier/received_events",
        "repos_url": "https://api.github.com/users/andrewferrier/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/andrewferrier/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/andrewferrier/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/andrewferrier"
    }
}