{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\n\nWhen using `laststatus=0` and `cmdheight=1`, the ruler does not update in horizontal split, but does update for vertical splits.\r\n\r\nConfig:\r\n```lua\r\nvim.opt.laststatus = 0\r\nvim.opt.statusline = \"---\"\r\nvim.opt.rulerformat = \"%20(%f %p%%%)\"\r\nvim.opt.cmdheight = 1\r\n\r\n-- For easier navigation in demo\r\nvim.keymap.set(\"n\", \"<C-h>\", \"<C-w>h\")\r\nvim.keymap.set(\"n\", \"<C-l>\", \"<C-w>l\")\r\nvim.keymap.set(\"n\", \"<C-k>\", \"<C-w>k\")\r\nvim.keymap.set(\"n\", \"<C-j>\", \"<C-w>j\")\r\n```\r\n\r\nScreen recording:\r\n\r\nhttps://github.com/neovim/neovim/assets/50042066/8496e1ff-c1b8-4886-8ee6-4fd4a28203b7\r\n\r\n\r\nI'm currently on nvim 0.9:\r\n```\r\nNVIM v0.9.4\r\nBuild type: Release\r\nLuaJIT 2.1.1692716794\r\n\r\n   system vimrc file: \"$VIM/sysinit.vim\"\r\n  fall-back for $VIM: \"/usr/local/share/nvim\"\r\n\r\nRun :checkhealth for more info\r\n```\n\n### Steps to reproduce\n\n1. Save the config from above somewhere\r\n2. Run nvim with `nvim -u the-config.lua`\r\n3. Open horizontal split for any file\r\n4. See how the ruler updates correctly for newly opened buffer, but when cursor is at the previous buffer, it still shows the ruler as if cursor was in the new buffer\r\n\r\nIf you close the new buffer, it works correctly again.\r\n\r\nThis is not a problem in vertical splits.\n\n### Expected behavior\n\nThe ruler should update based on the buffer the cursor is in, regardless of vertical/horizontal splits.\r\n\r\nFrom `:help ruler`:\r\n\r\n```\r\n\t\t\t\t\t *'ruler'* *'ru'* *'noruler'* *'noru'*\r\n'ruler' 'ru'\t\tboolean\t(default on)\r\n\t\t\tglobal\r\n\tShow the line and column number of the cursor position, [...]\r\n\r\n```\r\n\r\nTo my understanding it's basically like statusline which also updates based on cursor position.\n\n### Neovim version (nvim -v)\n\n0.9.4\n\n### Vim (not Nvim) behaves the same?\n\nActually vim doesn't show the ruler at all with this config.\n\n### Operating system/version\n\nmacOS 13\n\n### Terminal name/version\n\nkitty\n\n### $TERM environment variable\n\nxterm-256color\n\n### Installation\n\napp image from github release",
    "closed_at": "2023-11-10T01:42:50Z",
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "The help also says:\r\n```\r\n\tthe last line of the screen.  If the statusline is given by\r\n\t'statusline' (i.e. not empty), this option takes precedence over\r\n\t'ruler' and 'rulerformat'.\r\n```\r\nSo this is working as intended.",
            "created_at": "2023-11-10T01:42:50Z",
            "html_url": "https://github.com/neovim/neovim/issues/25960#issuecomment-1804944353",
            "id": 1804944353,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/25960",
            "node_id": "IC_kwDOAPphoM5rlUPh",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1804944353/reactions"
            },
            "updated_at": "2023-11-10T01:42:56Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1804944353",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "author_association": "NONE",
            "body": "Completely missed the fact that with horizontal splits the statusline is used which takes over the ruler... oops",
            "created_at": "2023-11-10T05:11:05Z",
            "html_url": "https://github.com/neovim/neovim/issues/25960#issuecomment-1805098067",
            "id": 1805098067,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/25960",
            "node_id": "IC_kwDOAPphoM5rl5xT",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1805098067/reactions"
            },
            "updated_at": "2023-11-10T05:11:05Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1805098067",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/50042066?v=4",
                "events_url": "https://api.github.com/users/hedyhli/events{/privacy}",
                "followers_url": "https://api.github.com/users/hedyhli/followers",
                "following_url": "https://api.github.com/users/hedyhli/following{/other_user}",
                "gists_url": "https://api.github.com/users/hedyhli/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/hedyhli",
                "id": 50042066,
                "login": "hedyhli",
                "node_id": "MDQ6VXNlcjUwMDQyMDY2",
                "organizations_url": "https://api.github.com/users/hedyhli/orgs",
                "received_events_url": "https://api.github.com/users/hedyhli/received_events",
                "repos_url": "https://api.github.com/users/hedyhli/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/hedyhli/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/hedyhli/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/hedyhli"
            }
        }
    ],
    "comments": 2,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/25960/comments",
    "created_at": "2023-11-10T01:35:17Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/25960/events",
    "html_url": "https://github.com/neovim/neovim/issues/25960",
    "id": 1986684961,
    "labels": [
        {
            "color": "e6e6e6",
            "default": false,
            "description": "issues that are closed as usage questions",
            "id": 77997478,
            "name": "closed:question",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3OA==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/closed:question"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/25960/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM52amgh",
    "number": 25960,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/25960/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "not_planned",
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/25960/timeline",
    "title": "Ruler doesn't update properly in horizontal split",
    "updated_at": "2023-11-10T05:11:05Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/25960",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/50042066?v=4",
        "events_url": "https://api.github.com/users/hedyhli/events{/privacy}",
        "followers_url": "https://api.github.com/users/hedyhli/followers",
        "following_url": "https://api.github.com/users/hedyhli/following{/other_user}",
        "gists_url": "https://api.github.com/users/hedyhli/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/hedyhli",
        "id": 50042066,
        "login": "hedyhli",
        "node_id": "MDQ6VXNlcjUwMDQyMDY2",
        "organizations_url": "https://api.github.com/users/hedyhli/orgs",
        "received_events_url": "https://api.github.com/users/hedyhli/received_events",
        "repos_url": "https://api.github.com/users/hedyhli/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/hedyhli/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/hedyhli/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/hedyhli"
    }
}