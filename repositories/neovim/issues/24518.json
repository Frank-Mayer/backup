{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\n\nIt is not possible to use the below keymap on `HEAD`:\r\n\r\n```lua\r\nvim.api.nvim_set_keymap(\"v\", \"<leader>rp\", \"*Ncgn\", {noremap = false, silent = true})\r\n```\r\n\r\nThis is not an issue on `stable`.\n\n### Steps to reproduce\n\nOpen Neovim, create the keymap (`:lua vim.api.nvim_set_keymap(\"v\", \"<leader>rp\", \"*Ncgn\", {noremap = false, silent = true})`) then try to use it.\n\n### Expected behavior\n\nIt's expected to `*` the visual selection and then enter insert mode on that selection.\n\n### Neovim version (nvim -v)\n\nNVIM v0.10.0-dev-741+g996dd36c7-Homebrew\n\n### Vim (not Nvim) behaves the same?\n\nno\n\n### Operating system/version\n\nmacOS 13.4.1\n\n### Terminal name/version\n\niTerm 2\n\n### $TERM environment variable\n\ntmux-256color\n\n### Installation\n\nhomebrew",
    "closed_at": "2023-08-01T10:07:04Z",
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "Can you bisect?\r\n",
            "created_at": "2023-07-31T07:19:19Z",
            "html_url": "https://github.com/neovim/neovim/issues/24518#issuecomment-1657806333",
            "id": 1657806333,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24518",
            "node_id": "IC_kwDOAPphoM5i0B39",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1657806333/reactions"
            },
            "updated_at": "2023-07-31T07:19:19Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1657806333",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "`*` is a default mapping. `noremap = false` means you have enabled recursive mapping. Try `noremap = true`.\r\n\r\n(We should name that option `remap` or `recursive`...)",
            "created_at": "2023-07-31T10:53:32Z",
            "html_url": "https://github.com/neovim/neovim/issues/24518#issuecomment-1658132701",
            "id": 1658132701,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24518",
            "node_id": "IC_kwDOAPphoM5i1Rjd",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1658132701/reactions"
            },
            "updated_at": "2023-07-31T10:54:29Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1658132701",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "But the claim is that this is a regression from 0.9.1, so if that is the issue, it shouldn't have worked before either. @lourenci can you verify this? Bisecting to which commit exactly changed the behavior would be helpful (if not necessary).\r\n\r\n> (We should name that option remap or recursive...)\r\n\r\nThat's why we changed it for `vim.keymap.set` ;)",
            "created_at": "2023-07-31T10:56:33Z",
            "html_url": "https://github.com/neovim/neovim/issues/24518#issuecomment-1658139016",
            "id": 1658139016,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24518",
            "node_id": "IC_kwDOAPphoM5i1TGI",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1658139016/reactions"
            },
            "updated_at": "2023-07-31T10:56:33Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1658139016",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        },
        {
            "author_association": "NONE",
            "body": "> We should name that option remap\r\n\r\nI agree a 100% on that.\r\n\r\n> Try noremap = true\r\n\r\nI did it already. The result for the keymap is slightly different: it replaces with gn text.\r\n\r\nWhat we want is: select this visual, get back to the previous result and change it keeping in insert mode (`cgn`). The result of this is that we can dot-repeat the next result with the typed one. \r\n\r\n",
            "created_at": "2023-07-31T10:59:29Z",
            "html_url": "https://github.com/neovim/neovim/issues/24518#issuecomment-1658143230",
            "id": 1658143230,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24518",
            "node_id": "IC_kwDOAPphoM5i1UH-",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1658143230/reactions"
            },
            "updated_at": "2023-07-31T10:59:29Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1658143230",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2339362?v=4",
                "events_url": "https://api.github.com/users/lourenci/events{/privacy}",
                "followers_url": "https://api.github.com/users/lourenci/followers",
                "following_url": "https://api.github.com/users/lourenci/following{/other_user}",
                "gists_url": "https://api.github.com/users/lourenci/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lourenci",
                "id": 2339362,
                "login": "lourenci",
                "node_id": "MDQ6VXNlcjIzMzkzNjI=",
                "organizations_url": "https://api.github.com/users/lourenci/orgs",
                "received_events_url": "https://api.github.com/users/lourenci/received_events",
                "repos_url": "https://api.github.com/users/lourenci/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lourenci/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lourenci/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lourenci"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Let's stick to the actual issue reported here, which is the _regression_ of behavior for the _same_ command. We can talk about what you want to achieve and how in a different (feature request) issue or discussion.",
            "created_at": "2023-07-31T11:03:35Z",
            "html_url": "https://github.com/neovim/neovim/issues/24518#issuecomment-1658148896",
            "id": 1658148896,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24518",
            "node_id": "IC_kwDOAPphoM5i1Vgg",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1658148896/reactions"
            },
            "updated_at": "2023-07-31T11:03:35Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1658148896",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Then why is ~~noremap=true~~ noremap=false  part of the repro steps? That is a useless complication.\r\n\r\nin vim 9.0.1424 i see the same behavior with:\r\n\r\n    vnoremap x *Ncgn\r\n",
            "created_at": "2023-07-31T11:09:01Z",
            "html_url": "https://github.com/neovim/neovim/issues/24518#issuecomment-1658156551",
            "id": 1658156551,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24518",
            "node_id": "IC_kwDOAPphoM5i1XYH",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1658156551/reactions"
            },
            "updated_at": "2023-07-31T11:20:42Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1658156551",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "But the repro steps have `noremap=false`...\r\n\r\nTo be very clear: the only thing I care about in this issue is the \r\n\r\n> This is not an issue on stable.\r\n\r\npart.",
            "created_at": "2023-07-31T11:11:58Z",
            "html_url": "https://github.com/neovim/neovim/issues/24518#issuecomment-1658161134",
            "id": 1658161134,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24518",
            "node_id": "IC_kwDOAPphoM5i1Yfu",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1658161134/reactions"
            },
            "updated_at": "2023-07-31T11:12:32Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1658161134",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason"
            }
        }
    ],
    "comments": 7,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/24518/comments",
    "created_at": "2023-07-31T03:57:01Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/24518/events",
    "html_url": "https://github.com/neovim/neovim/issues/24518",
    "id": 1828355837,
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": "issues or PRs involving changing the defaults",
            "id": 103777064,
            "name": "defaults",
            "node_id": "MDU6TGFiZWwxMDM3NzcwNjQ=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/defaults"
        },
        {
            "color": "f9d0c4",
            "default": false,
            "description": "wrong behavior that was introduced in a previous commit (please bisect)",
            "id": 619474658,
            "name": "bug-regression",
            "node_id": "MDU6TGFiZWw2MTk0NzQ2NTg=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug-regression"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/24518/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM5s-n79",
    "number": 24518,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/24518/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "completed",
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/24518/timeline",
    "title": "Keymap containing `*` doesn't work as expected on nightly",
    "updated_at": "2023-08-01T10:07:04Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/24518",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/2339362?v=4",
        "events_url": "https://api.github.com/users/lourenci/events{/privacy}",
        "followers_url": "https://api.github.com/users/lourenci/followers",
        "following_url": "https://api.github.com/users/lourenci/following{/other_user}",
        "gists_url": "https://api.github.com/users/lourenci/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/lourenci",
        "id": 2339362,
        "login": "lourenci",
        "node_id": "MDQ6VXNlcjIzMzkzNjI=",
        "organizations_url": "https://api.github.com/users/lourenci/orgs",
        "received_events_url": "https://api.github.com/users/lourenci/received_events",
        "repos_url": "https://api.github.com/users/lourenci/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/lourenci/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/lourenci/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/lourenci"
    }
}