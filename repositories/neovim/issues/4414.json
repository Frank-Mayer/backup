{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "body": "Manual folds are lost and other fold types are recomputed when leaving a buffer even if the buffer wasn't deleted (i.e it's hidden) and the window we used to show it is still \"alive\"\nI would expect that opening a couple of files in neovim `nvim file1 file2` and switching between them in the same window wouldn't lose folds state and/or recompute folds. This problem can be solved with mkview but it's incredibly slow, especially if the files is big and with many folds.\n\n**My usecase:**\nSince folding using anything that isn't the marker method or indentation method is super slow I personally use two plugins that allow for faster syntax folding (https://github.com/Konfekt/FastFold) and saving of folds state (https://github.com/kopischke/vim-stay). The first computes the folds with the method you prefers and \"converts\" them in manual folds, the seconds just saves the state in view files.\nThis works extremely well with files that aren't too big or don't have a large number of folds.\nEverything start to fall a part when dealing with really big files with a lot of folds. For example when opening the eval.c source of neovim it can take up to 4-5 seconds to switch back and forth to it because the view file must be executed every time we enter the buffer to restore folds state. \n",
    "closed_at": "2024-09-04T09:44:22Z",
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
        "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
        "followers_url": "https://api.github.com/users/lewis6991/followers",
        "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
        "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/lewis6991",
        "id": 7904185,
        "login": "lewis6991",
        "node_id": "MDQ6VXNlcjc5MDQxODU=",
        "organizations_url": "https://api.github.com/users/lewis6991/orgs",
        "received_events_url": "https://api.github.com/users/lewis6991/received_events",
        "repos_url": "https://api.github.com/users/lewis6991/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/lewis6991"
    },
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "Might be better to optimize `mkview`. But in all cases, if the content of a file doesn't change, it's trivial to verify that using a checksum, so yes, there's no reason we should need to recompute a darn thing in that case.\n",
            "created_at": "2016-03-05T20:03:19Z",
            "html_url": "https://github.com/neovim/neovim/issues/4414#issuecomment-192720727",
            "id": 192720727,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/4414",
            "node_id": "MDEyOklzc3VlQ29tbWVudDE5MjcyMDcyNw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/192720727/reactions"
            },
            "updated_at": "2016-03-05T20:03:19Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/192720727",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Pretty sure this isn't a problem anymore. There's also treesitter highlighting now which I think is more efficient for C.\r\n\r\nAFAIK folds in vim are cached and I've never had problems with `eval.c` which is given as an example.\r\n\r\nReopen if I'm wrong.",
            "created_at": "2024-09-04T09:44:22Z",
            "html_url": "https://github.com/neovim/neovim/issues/4414#issuecomment-2328398988",
            "id": 2328398988,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/4414",
            "node_id": "IC_kwDOAPphoM6KyIyM",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2328398988/reactions"
            },
            "updated_at": "2024-09-04T09:44:22Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2328398988",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        }
    ],
    "comments": 2,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/4414/comments",
    "created_at": "2016-03-05T10:20:08Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/4414/events",
    "html_url": "https://github.com/neovim/neovim/issues/4414",
    "id": 138666866,
    "labels": [
        {
            "color": "FEF2C0",
            "default": false,
            "description": "performance, latency, cpu/memory usage",
            "id": 101930601,
            "name": "performance",
            "node_id": "MDU6TGFiZWwxMDE5MzA2MDE=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/performance"
        },
        {
            "color": "F9D0C4",
            "default": false,
            "description": "wrong behavior inherited from vim",
            "id": 154310492,
            "name": "bug-vim",
            "node_id": "MDU6TGFiZWwxNTQzMTA0OTI=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug-vim"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/4414/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 645,
        "created_at": "2014-05-10T20:43:04Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk"
        },
        "description": "Low priority items. We plan to work on this but don't have a target date.",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/6",
        "id": 655037,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/6/labels",
        "node_id": "MDk6TWlsZXN0b25lNjU1MDM3",
        "number": 6,
        "open_issues": 566,
        "state": "open",
        "title": "backlog",
        "updated_at": "2024-09-09T18:06:19Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/6"
    },
    "node_id": "MDU6SXNzdWUxMzg2NjY4NjY=",
    "number": 4414,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/4414/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "completed",
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/4414/timeline",
    "title": "Would it be possible to cache folds for a window?",
    "updated_at": "2024-09-04T09:44:22Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/4414",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/85527?v=4",
        "events_url": "https://api.github.com/users/choco/events{/privacy}",
        "followers_url": "https://api.github.com/users/choco/followers",
        "following_url": "https://api.github.com/users/choco/following{/other_user}",
        "gists_url": "https://api.github.com/users/choco/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/choco",
        "id": 85527,
        "login": "choco",
        "node_id": "MDQ6VXNlcjg1NTI3",
        "organizations_url": "https://api.github.com/users/choco/orgs",
        "received_events_url": "https://api.github.com/users/choco/received_events",
        "repos_url": "https://api.github.com/users/choco/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/choco/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/choco/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/choco"
    }
}