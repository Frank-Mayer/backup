{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\r\n\r\nNeovim don't show files and directories in a directory if the parent directory name contains curly braces.\r\n\r\nIt works under windows-git bash's vim.\r\n\r\n### Steps to reproduce\r\n\r\n- Setup env. (from bash like command line in a directory):\r\n    - mkdir -p \"{{ cookiecutter.project_slug }}/dir1\"\r\n    - touch \"{{ cookiecutter.project_slug }}/file1.txt\"\r\n    - touch \"{{ cookiecutter.project_slug }}/file2\"\r\n    - echo -e \"set nocp\\nfiletype plugin on\" > vimrc\r\n- Run neovim (from windows command line):\r\n    - nvim-qt.exe -- -u vimrc .\r\n- Try to enter the \"{{ cookiecutter.project_slug }}\" directory with enter\r\n\r\n### Expected behavior\r\n\r\nEnter the directory and shows the directory's content like for any other directory.\r\n\r\n### Neovim version (nvim -v)\r\n\r\nNVIM v0.9.1, Build type: RelWithDebInfo, LuaJIT 2.1.0-beta3\r\n\r\n### Vim (not Nvim) behaves the same?\r\n\r\nno, VIM - Vi IMproved 9.0, Included patches: 1-1403\r\n\r\n### Operating system/version\r\n\r\nWindows 10\r\n\r\n### Terminal name/version\r\n\r\nwindows commandline, nvim-qt\r\n\r\n### $TERM environment variable\r\n\r\nnone\r\n\r\n### Installation\r\n\r\nnvim-win64.zip from github release page",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "> It works under windows-git bash's vim.\r\n\r\nThat doesn't count, at all. You need to compare gVim. And make sure that all options have the same defaults.",
            "created_at": "2023-07-24T15:38:11Z",
            "html_url": "https://github.com/neovim/neovim/issues/24421#issuecomment-1648156107",
            "id": 1648156107,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24421",
            "node_id": "IC_kwDOAPphoM5iPN3L",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1648156107/reactions"
            },
            "updated_at": "2023-07-24T15:38:11Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1648156107",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "I was able to reproduce the problem, and seems its a problem with the `glob` function.\r\nBoth Vim and Neovim pass the same value to `glob` but Neovim's return an empty list.\r\n\r\nSteps to reproduce _(maybe a little to much but I did to add logs to `netrw`)_\r\n\r\nCreate the following folder structure on C:\\temp\r\n```\r\nC:\\TEMP\\NETRW\r\n│   netrw.vimrc\r\n├───folder\r\n│   └───dir\r\n├───nvim\r\n│       netrw.vim\r\n│       netrwPlugin.vim\r\n├───vim\r\n│       netrw.vim\r\n│       netrwPlugin.vim\r\n└───{{ folder }}\r\n    └───dir\r\n```\r\n_Copy the respectives **autoload/netrw.vim** and **plugins/netrwPlugin.vim** from Neovim's and Vim's repository_\r\n\r\nThe contents of netrw.vimrc are:\r\n```Vimscript\r\nset nocp\r\nif has('nvim')\r\n  \" Align Nvim defaults to Vim.\r\n  set backspace=\r\n  set commentstring=/*%s*/\r\n  set complete=.,w,b,u,t,i\r\n  set define=^\\\\s*#\\\\s*define\r\n  set directory^=.\r\n  set display=\r\n  set fillchars=vert:\\|,foldsep:\\|,fold:-\r\n  set formatoptions=tcq\r\n  set fsync\r\n  set include=^\\\\s*#\\\\s*include\r\n  set laststatus=1\r\n  set listchars=eol:$\r\n  set joinspaces\r\n  set mousemodel=extend\r\n  set nohidden nosmarttab noautoindent noautoread noruler noshowcmd\r\n  set nohlsearch noincsearch\r\n  set nrformats=bin,octal,hex\r\n  set shortmess=filnxtToOS\r\n  set sidescroll=0\r\n  set tags=./tags,tags\r\n  set undodir^=.\r\n  set wildoptions=\r\n  set startofline\r\n  set sessionoptions+=options\r\n  set viewoptions+=options\r\n  set switchbuf=\r\n  so C:\\Temp\\netrw\\nvim\\netrw.vim\r\n  so C:\\Temp\\netrw\\nvim\\netrwPlugin.vim\r\nelse\r\n  so C:\\Temp\\netrw\\vim\\netrw.vim\r\n  so C:\\Temp\\netrw\\vim\\netrwPlugin.vim\r\nendif\r\n```\r\n\r\nTo add the logs do the following: _(I wasn't able to use Decho)_\r\n\r\nOn `vim/netrw.vim`:\r\n  - Line 10902 remove `sil!`\r\n  - Before line 5823 (inside the elseif) add:\r\n    ```\r\n     echom \"s:ComposePath \" . s:ComposePath(fnameescape(a:direntry), a:expr)\r\n     echom \"glob size \" . len(glob(s:ComposePath(fnameescape(a:direntry),a:expr),0,1,1))\r\n    ``` \r\nOn `nvim/netrw.vim`:\r\n  - Line 10792 remove `sil!`\r\n  - Before line 5781 (inside the elseif) add:\r\n    ```\r\n     echom \"s:ComposePath \" . s:ComposePath(fnameescape(a:direntry), a:expr)\r\n     echom \"glob size \" . len(glob(s:ComposePath(fnameescape(a:direntry),a:expr),0,1,1))\r\n    ``` \r\n\r\nStart Neovim with `nvim -u netrw.vimrc --noplugins -i NONE .` and Vim with `vim -u netrw.vimrc --noplugins -i NONE .`.\r\nThen navigate to the `{{ folder }}` you will notice that the result of **s:ComposePath** is the same, but the size of the glob is different.\r\n\r\n![image](https://github.com/neovim/neovim/assets/70452831/6c54efff-32d9-48d7-95a1-72bb29136d95)\r\n_Neovim on the left and Vim on the right_\r\n\r\n",
            "created_at": "2023-09-28T13:21:34Z",
            "html_url": "https://github.com/neovim/neovim/issues/24421#issuecomment-1739156907",
            "id": 1739156907,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24421",
            "node_id": "IC_kwDOAPphoM5nqW2r",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1739156907/reactions"
            },
            "updated_at": "2023-09-28T13:21:34Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1739156907",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/70452831?v=4",
                "events_url": "https://api.github.com/users/lsvmello/events{/privacy}",
                "followers_url": "https://api.github.com/users/lsvmello/followers",
                "following_url": "https://api.github.com/users/lsvmello/following{/other_user}",
                "gists_url": "https://api.github.com/users/lsvmello/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lsvmello",
                "id": 70452831,
                "login": "lsvmello",
                "node_id": "MDQ6VXNlcjcwNDUyODMx",
                "organizations_url": "https://api.github.com/users/lsvmello/orgs",
                "received_events_url": "https://api.github.com/users/lsvmello/received_events",
                "repos_url": "https://api.github.com/users/lsvmello/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lsvmello/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lsvmello/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lsvmello"
            }
        }
    ],
    "comments": 2,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/24421/comments",
    "created_at": "2023-07-22T05:50:14Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/24421/events",
    "html_url": "https://github.com/neovim/neovim/issues/24421",
    "id": 1816635954,
    "labels": [
        {
            "color": "f9d0c4",
            "default": true,
            "description": "issues reporting wrong behavior",
            "id": 77997474,
            "name": "bug",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3NA==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug"
        },
        {
            "color": "d4c5f9",
            "default": false,
            "description": null,
            "id": 109461219,
            "name": "platform:windows",
            "node_id": "MDU6TGFiZWwxMDk0NjEyMTk=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/platform:windows"
        },
        {
            "color": "C5DEF5",
            "default": false,
            "description": "Nvim built-in (omni)completion",
            "id": 3214348835,
            "name": "completion",
            "node_id": "MDU6TGFiZWwzMjE0MzQ4ODM1",
            "url": "https://api.github.com/repos/neovim/neovim/labels/completion"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/24421/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM5sR6oy",
    "number": 24421,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/24421/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/24421/timeline",
    "title": "Netrw can't enter directory when name contains curly {{ }} braces",
    "updated_at": "2023-09-28T23:08:07Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/24421",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/10976627?v=4",
        "events_url": "https://api.github.com/users/crash5/events{/privacy}",
        "followers_url": "https://api.github.com/users/crash5/followers",
        "following_url": "https://api.github.com/users/crash5/following{/other_user}",
        "gists_url": "https://api.github.com/users/crash5/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/crash5",
        "id": 10976627,
        "login": "crash5",
        "node_id": "MDQ6VXNlcjEwOTc2NjI3",
        "organizations_url": "https://api.github.com/users/crash5/orgs",
        "received_events_url": "https://api.github.com/users/crash5/received_events",
        "repos_url": "https://api.github.com/users/crash5/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/crash5/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/crash5/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/crash5"
    }
}