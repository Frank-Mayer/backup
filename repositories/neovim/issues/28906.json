{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "body": "### Problem\r\n\r\nOn NEovim nightly, but **not** on **0.10.0**, I sometimes get segfaults when undoing.\r\n\r\nstack trace:\r\n\r\n```c\r\n#0  0x0000746da4456e44 in ?? () from /usr/lib/libc.so.6\r\n#1  0x0000746da43fea30 in raise () from /usr/lib/libc.so.6\r\n#2  0x0000746da43e64c3 in abort () from /usr/lib/libc.so.6\r\n#3  0x0000746da43e63df in ?? () from /usr/lib/libc.so.6\r\n#4  0x0000746da43f6c67 in __assert_fail () from /usr/lib/libc.so.6\r\n#5  0x00005db5c84d43bb in buf_signcols_count_range (buf=0x5db5c8aff9b0, row1=4, row2=5, add=add@entry=1, clear=clear@entry=kFalse)\r\n    at /home/folke/projects/neovim/src/nvim/decoration.c:839\r\n#6  0x00005db5c84d44b5 in buf_put_decor_sh (buf=buf@entry=0x5db5c8aff9b0, sh=sh@entry=0x5db5c8c55fe8, row1=row1@entry=4, row2=row2@entry=5)\r\n    at /home/folke/projects/neovim/src/nvim/decoration.c:193\r\n#7  0x00005db5c84d4507 in buf_put_decor (buf=0x5db5c8aff9b0, decor=..., row=4, row2=5) at /home/folke/projects/neovim/src/nvim/decoration.c:181\r\n#8  0x00005db5c855ad8e in extmark_setraw (buf=0x5db5c8aff9b0, mark=<optimized out>, row=4, col=0, invalid=true) at /home/folke/projects/neovim/src/nvim/extmark.c:144\r\n#9  0x00005db5c855e118 in extmark_apply_undo (undo_info=..., undo=<optimized out>) at /home/folke/projects/neovim/src/nvim/extmark.c:440\r\n#10 0x00005db5c86ce286 in u_undoredo (undo=undo@entry=true, do_buf_event=do_buf_event@entry=true) at /home/folke/projects/neovim/src/nvim/undo.c:2431\r\n#11 0x00005db5c86cebab in u_doit (startcount=startcount@entry=1, quiet=quiet@entry=false, do_buf_event=do_buf_event@entry=true)\r\n    at /home/folke/projects/neovim/src/nvim/undo.c:1900\r\n#12 0x00005db5c86cec42 in u_undo (count=1) at /home/folke/projects/neovim/src/nvim/undo.c:1797\r\n#13 0x00005db5c85f8e46 in nv_kundo (cap=0x7fffa8e11140) at /home/folke/projects/neovim/src/nvim/normal.c:4432\r\n#14 0x00005db5c85fc410 in nv_undo (cap=<optimized out>) at /home/folke/projects/neovim/src/nvim/normal.c:4417\r\n#15 0x00005db5c85f6328 in normal_execute (state=0x7fffa8e110d0, key=<optimized out>) at /home/folke/projects/neovim/src/nvim/normal.c:1229\r\n#16 0x00005db5c8697f8e in state_enter (s=0x7fffa8e110d0) at /home/folke/projects/neovim/src/nvim/state.c:101\r\n#17 0x00005db5c85f350a in normal_enter (cmdwin=<optimized out>, noexmode=<optimized out>) at /home/folke/projects/neovim/src/nvim/normal.c:518\r\n#18 0x00005db5c85b5bed in main (argc=2, argv=<optimized out>) at /home/folke/projects/neovim/src/nvim/main.c:664\r\n```\r\n\r\n### Steps to reproduce\r\n\r\nI can reliably reproduce the issue in my config, but haven't been able to create a minimal repro.\r\n\r\nI did find however that it seems to be related to setting `vim.opt.satuscolumn`. Even when setting to a lua function that returns an empty string, the segafult happens.\r\n\r\nWhen not setting the option, I dont get the segfaults.\r\n\r\n### Expected behavior\r\n\r\nShould not segfault\r\n\r\n### Neovim version (nvim -v)\r\n\r\nNVIM v0.11.0-dev-45+g879d17ea8\r\n\r\n### Vim (not Nvim) behaves the same?\r\n\r\nna\r\n\r\n### Operating system/version\r\n\r\nlinux\r\n\r\n### Terminal name/version\r\n\r\nwezterm\r\n\r\n### $TERM environment variable\r\n\r\nxterm-256-color\r\n\r\n### Installation\r\n\r\nbob",
    "closed_at": "2024-05-26T17:55:58Z",
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "@echasnovski: It seems that it's somehow triggered by https://github.com/echasnovski/mini.diff\r\nIf I disable the plugin, I can no longer reproduce the segfault.\r\n",
            "created_at": "2024-05-21T22:01:09Z",
            "html_url": "https://github.com/neovim/neovim/issues/28906#issuecomment-2123510332",
            "id": 2123510332,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28906",
            "node_id": "IC_kwDOAPphoM5-kjI8",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2123510332/reactions"
            },
            "updated_at": "2024-05-21T22:02:55Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2123510332",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/292349?v=4",
                "events_url": "https://api.github.com/users/folke/events{/privacy}",
                "followers_url": "https://api.github.com/users/folke/followers",
                "following_url": "https://api.github.com/users/folke/following{/other_user}",
                "gists_url": "https://api.github.com/users/folke/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/folke",
                "id": 292349,
                "login": "folke",
                "node_id": "MDQ6VXNlcjI5MjM0OQ==",
                "organizations_url": "https://api.github.com/users/folke/orgs",
                "received_events_url": "https://api.github.com/users/folke/received_events",
                "repos_url": "https://api.github.com/users/folke/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/folke/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/folke/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/folke"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Not a segfault but an assert(asserts are not enabled in release builds). `'statuscolumn'` is loosely related but only in that it's not possible to hit the assert without either `'signcolumn' > 1` or `'statuscolumn'` set, see #27046,#27273 for previous discussions.\r\n\r\nI believe finding a minimal repro without plugins will be difficult. A minimal repro that includes some plugins will still be helpful.",
            "created_at": "2024-05-21T22:21:29Z",
            "html_url": "https://github.com/neovim/neovim/issues/28906#issuecomment-2123531509",
            "id": 2123531509,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28906",
            "node_id": "IC_kwDOAPphoM5-koT1",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2123531509/reactions"
            },
            "updated_at": "2024-05-21T23:11:40Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2123531509",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> @echasnovski: It seems that it's somehow triggered by https://github.com/echasnovski/mini.diff If I disable the plugin, I can no longer reproduce the segfault.\r\n\r\n> I believe finding a minimal repro without plugins will be difficult. A minimal repro that includes some plugins will still be helpful.\r\n\r\nJudging by stacktrace, my guess would be that this is triggered by setting extmarks with `invalidate = true` (and default `undo_restore = true`) inside decoration provider. Might need some combination of 'statuscolumn' and/or 'signcolumn'.",
            "created_at": "2024-05-22T08:31:50Z",
            "html_url": "https://github.com/neovim/neovim/issues/28906#issuecomment-2124188282",
            "id": 2124188282,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28906",
            "node_id": "IC_kwDOAPphoM5-nIp6",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2124188282/reactions"
            },
            "updated_at": "2024-05-22T08:31:50Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2124188282",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/24854248?v=4",
                "events_url": "https://api.github.com/users/echasnovski/events{/privacy}",
                "followers_url": "https://api.github.com/users/echasnovski/followers",
                "following_url": "https://api.github.com/users/echasnovski/following{/other_user}",
                "gists_url": "https://api.github.com/users/echasnovski/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/echasnovski",
                "id": 24854248,
                "login": "echasnovski",
                "node_id": "MDQ6VXNlcjI0ODU0MjQ4",
                "organizations_url": "https://api.github.com/users/echasnovski/orgs",
                "received_events_url": "https://api.github.com/users/echasnovski/received_events",
                "repos_url": "https://api.github.com/users/echasnovski/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/echasnovski/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/echasnovski/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/echasnovski"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I've tried isolating the issue further with just the mini.diff plugin, but I'm not able to trigger it with that plugin alone, so there's for sure some interplay with other plugins.\r\n\r\nThis is when it happens:\r\n\r\nInitial state of the file. See the two changed lines with a sign from mini.diff:\r\n\r\n![image](https://github.com/neovim/neovim/assets/292349/ac3834d8-30eb-4a07-9b93-ed999861d86f)\r\n\r\nThen I comment that line and important, **wait** till I get the parsing errors: (when not waiting, undo works fine)\r\n\r\n![image](https://github.com/neovim/neovim/assets/292349/95de2571-084b-4be0-9fe9-2086e2af5fee)\r\n\r\nWhen I now `undo`, I get the assertion failure:\r\n![image](https://github.com/neovim/neovim/assets/292349/938e5150-2bdf-4c00-97cc-360ee5a40d8d)\r\n\r\nI hope this helps!",
            "created_at": "2024-05-23T05:09:40Z",
            "html_url": "https://github.com/neovim/neovim/issues/28906#issuecomment-2126244404",
            "id": 2126244404,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28906",
            "node_id": "IC_kwDOAPphoM5-u-o0",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2126244404/reactions"
            },
            "updated_at": "2024-05-23T05:09:40Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2126244404",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/292349?v=4",
                "events_url": "https://api.github.com/users/folke/events{/privacy}",
                "followers_url": "https://api.github.com/users/folke/followers",
                "following_url": "https://api.github.com/users/folke/following{/other_user}",
                "gists_url": "https://api.github.com/users/folke/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/folke",
                "id": 292349,
                "login": "folke",
                "node_id": "MDQ6VXNlcjI5MjM0OQ==",
                "organizations_url": "https://api.github.com/users/folke/orgs",
                "received_events_url": "https://api.github.com/users/folke/received_events",
                "repos_url": "https://api.github.com/users/folke/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/folke/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/folke/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/folke"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "It doesn't really, I tried to reproduce but couldn't. Please try to provide the list of \"other plugins\" (with required settings), and reproduce this in a Lua/C file from the Neovim repro.\r\n",
            "created_at": "2024-05-23T11:22:18Z",
            "html_url": "https://github.com/neovim/neovim/issues/28906#issuecomment-2126864797",
            "id": 2126864797,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28906",
            "node_id": "IC_kwDOAPphoM5-xWGd",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2126864797/reactions"
            },
            "updated_at": "2024-05-23T11:22:18Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2126864797",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Was able to reproduce it with `lua_ls` and `mini.diff`:\r\n\r\n* start `nvim -u repro.lua` from the neovim directory\r\n* this will also open `_comment.lua`\r\n* make sure `lua_ls` works and is attached\r\n* on line 9 & 10, delete the `l` of `local` (so first character)\r\n* make sure you see lua-ls warnings/errors\r\n* set the cursor on line 9\r\n* comment the line with `gcc`\r\n* press `u`\r\n* this should trigger the assert\r\n\r\n<details>\r\n<summary>repro.lua</summary>\r\n\r\n```lua\r\n-- DO NOT change the paths and don't remove the colorscheme\r\nlocal root = vim.fn.fnamemodify(\"./.repro\", \":p\")\r\n\r\n-- set stdpaths to use .repro\r\nfor _, name in ipairs({ \"config\", \"data\", \"state\", \"cache\" }) do\r\n\tvim.env[(\"XDG_%s_HOME\"):format(name:upper())] = root .. \"/\" .. name\r\nend\r\n\r\n-- bootstrap lazy\r\nlocal lazypath = root .. \"/plugins/lazy.nvim\"\r\nif not vim.loop.fs_stat(lazypath) then\r\n\tvim.fn.system({ \"git\", \"clone\", \"--filter=blob:none\", \"https://github.com/folke/lazy.nvim.git\", lazypath })\r\nend\r\nvim.opt.runtimepath:prepend(lazypath)\r\n\r\nrequire(\"lazy\").setup({\r\n\troot = root .. \"/plugins\",\r\n\tspec = {\r\n\t\t\"folke/tokyonight.nvim\",\r\n\t\t{\r\n\t\t\t\"echasnovski/mini.diff\",\r\n\t\t\topts = {\r\n\t\t\t\tview = {\r\n\t\t\t\t\tstyle = \"sign\",\r\n\t\t\t\t\tsigns = {\r\n\t\t\t\t\t\tadd = \"▎\",\r\n\t\t\t\t\t\tchange = \"▎\",\r\n\t\t\t\t\t\tdelete = \"\",\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\t{ \"neovim/nvim-lspconfig\" },\r\n\t},\r\n})\r\n\r\nvim.cmd.colorscheme(\"tokyonight\")\r\nvim.diagnostic.config({\r\n\tsigns = true,\r\n})\r\nvim.opt.number = true\r\nvim.opt.signcolumn = \"yes\"\r\nvim.opt.statuscolumn = \"%l %s\"\r\nrequire(\"lspconfig\")[\"lua_ls\"].setup({})\r\nvim.cmd([[e runtime/lua/vim/_comment.lua]])\r\n```\r\n\r\n</details>",
            "created_at": "2024-05-23T15:09:45Z",
            "html_url": "https://github.com/neovim/neovim/issues/28906#issuecomment-2127385108",
            "id": 2127385108,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28906",
            "node_id": "IC_kwDOAPphoM5-zVIU",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2127385108/reactions"
            },
            "updated_at": "2024-05-23T15:09:45Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2127385108",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/292349?v=4",
                "events_url": "https://api.github.com/users/folke/events{/privacy}",
                "followers_url": "https://api.github.com/users/folke/followers",
                "following_url": "https://api.github.com/users/folke/following{/other_user}",
                "gists_url": "https://api.github.com/users/folke/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/folke",
                "id": 292349,
                "login": "folke",
                "node_id": "MDQ6VXNlcjI5MjM0OQ==",
                "organizations_url": "https://api.github.com/users/folke/orgs",
                "received_events_url": "https://api.github.com/users/folke/received_events",
                "repos_url": "https://api.github.com/users/folke/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/folke/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/folke/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/folke"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "all three of the diagnotsic config, signcolumn and statuscolumn need to be set to trigger the assert",
            "created_at": "2024-05-23T15:10:59Z",
            "html_url": "https://github.com/neovim/neovim/issues/28906#issuecomment-2127387850",
            "id": 2127387850,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28906",
            "node_id": "IC_kwDOAPphoM5-zVzK",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2127387850/reactions"
            },
            "updated_at": "2024-05-23T15:10:59Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2127387850",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/292349?v=4",
                "events_url": "https://api.github.com/users/folke/events{/privacy}",
                "followers_url": "https://api.github.com/users/folke/followers",
                "following_url": "https://api.github.com/users/folke/following{/other_user}",
                "gists_url": "https://api.github.com/users/folke/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/folke",
                "id": 292349,
                "login": "folke",
                "node_id": "MDQ6VXNlcjI5MjM0OQ==",
                "organizations_url": "https://api.github.com/users/folke/orgs",
                "received_events_url": "https://api.github.com/users/folke/received_events",
                "repos_url": "https://api.github.com/users/folke/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/folke/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/folke/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/folke"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Thanks!\r\n\r\n> signcolumn and statuscolumn need to be set to trigger the assert\r\n\r\n(Like I said before; signcolumn tracking just needs to be active which hapens with **either** `'signcolumn' == \"auto:x>2\"` **or** `'statuscolumn' != \"\"`).",
            "created_at": "2024-05-23T15:40:01Z",
            "html_url": "https://github.com/neovim/neovim/issues/28906#issuecomment-2127449810",
            "id": 2127449810,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28906",
            "node_id": "IC_kwDOAPphoM5-zk7S",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2127449810/reactions"
            },
            "updated_at": "2024-05-23T15:40:01Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2127449810",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal"
            }
        },
        {
            "author_association": "NONE",
            "body": "![image](https://github.com/neovim/neovim/assets/55286472/de51f1d5-83ba-4010-9a0a-5fcfc980b78d)\r\nGot the same sort of fault when doing something with @echasnovski's mini.align, interestingly enough. don't know if it helps to mention or not, but here ya go! ",
            "created_at": "2024-05-24T14:17:23Z",
            "html_url": "https://github.com/neovim/neovim/issues/28906#issuecomment-2129643503",
            "id": 2129643503,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28906",
            "node_id": "IC_kwDOAPphoM5-78fv",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 1,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2129643503/reactions"
            },
            "updated_at": "2024-05-24T14:17:23Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2129643503",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/55286472?v=4",
                "events_url": "https://api.github.com/users/WillEhrendreich/events{/privacy}",
                "followers_url": "https://api.github.com/users/WillEhrendreich/followers",
                "following_url": "https://api.github.com/users/WillEhrendreich/following{/other_user}",
                "gists_url": "https://api.github.com/users/WillEhrendreich/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/WillEhrendreich",
                "id": 55286472,
                "login": "WillEhrendreich",
                "node_id": "MDQ6VXNlcjU1Mjg2NDcy",
                "organizations_url": "https://api.github.com/users/WillEhrendreich/orgs",
                "received_events_url": "https://api.github.com/users/WillEhrendreich/received_events",
                "repos_url": "https://api.github.com/users/WillEhrendreich/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/WillEhrendreich/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/WillEhrendreich/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/WillEhrendreich"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "@WillEhrendreich if you can reproduce reliably, checking if #28961 resolves it could help :)",
            "created_at": "2024-05-24T14:21:09Z",
            "html_url": "https://github.com/neovim/neovim/issues/28906#issuecomment-2129651091",
            "id": 2129651091,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28906",
            "node_id": "IC_kwDOAPphoM5-7-WT",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2129651091/reactions"
            },
            "updated_at": "2024-05-24T14:21:09Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2129651091",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal"
            }
        }
    ],
    "comments": 10,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/28906/comments",
    "created_at": "2024-05-21T21:44:02Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/28906/events",
    "html_url": "https://github.com/neovim/neovim/issues/28906",
    "id": 2309170042,
    "labels": [
        {
            "color": "0E8A16",
            "default": false,
            "description": "issue contains a stacktrace/ASAN log",
            "id": 435854079,
            "name": "has:backtrace",
            "node_id": "MDU6TGFiZWw0MzU4NTQwNzk=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/has:backtrace"
        },
        {
            "color": "F9D0C4",
            "default": false,
            "description": "issue reporting a crash or segfault",
            "id": 435854234,
            "name": "bug-crash",
            "node_id": "MDU6TGFiZWw0MzU4NTQyMzQ=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug-crash"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "marks, extmarks, decorations, virtual text, namespaces",
            "id": 1680119719,
            "name": "marks",
            "node_id": "MDU6TGFiZWwxNjgwMTE5NzE5",
            "url": "https://api.github.com/repos/neovim/neovim/labels/marks"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "sign/number column",
            "id": 2962322085,
            "name": "column",
            "node_id": "MDU6TGFiZWwyOTYyMzIyMDg1",
            "url": "https://api.github.com/repos/neovim/neovim/labels/column"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/28906/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDOAPphoM6JoyN6",
    "number": 28906,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 1,
        "-1": 0,
        "confused": 0,
        "eyes": 1,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 2,
        "url": "https://api.github.com/repos/neovim/neovim/issues/28906/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "closed",
    "state_reason": "completed",
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/28906/timeline",
    "title": "Undo sometimes triggers assert when restoring extmarks",
    "updated_at": "2024-05-26T17:55:58Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/28906",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/292349?v=4",
        "events_url": "https://api.github.com/users/folke/events{/privacy}",
        "followers_url": "https://api.github.com/users/folke/followers",
        "following_url": "https://api.github.com/users/folke/following{/other_user}",
        "gists_url": "https://api.github.com/users/folke/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/folke",
        "id": 292349,
        "login": "folke",
        "node_id": "MDQ6VXNlcjI5MjM0OQ==",
        "organizations_url": "https://api.github.com/users/folke/orgs",
        "received_events_url": "https://api.github.com/users/folke/received_events",
        "repos_url": "https://api.github.com/users/folke/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/folke/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/folke/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/folke"
    }
}