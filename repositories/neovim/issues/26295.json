{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Problem\r\n\r\nI regularly build neovim from Git (through the `neovim-git` package on Arch). Recently I've had a strange issue where it seems on startup that there's a rouge `rg` being issued.\r\n\r\nI did a `git bisect` to find that the commit that introduces this problem for me is ab102f188e86bdbfce1d4de2ef633092a906e8fe (by @gpanders).\r\n\r\nI can't reproduce this problem with `xterm`.\r\n\r\n### Steps to reproduce\r\n\r\n* Given a simple `test.txt` with only the word \"ABCD\" on the first line.\r\n* I open `urxvt`\r\n* I run `nvim --clean test.txt`\r\n* I observe that the buffer contains \"gBCD\" and that it is changed (as shown in screenshot below)\r\n\r\n![image](https://github.com/neovim/neovim/assets/998898/98debdfe-6ae4-407c-82a8-b6e7f062f68a)\r\n\r\n### Expected behavior\r\n\r\nBuffer is not changed on start.\r\n\r\n### Neovim version (nvim -v)\r\n\r\n0.10.0 ab102f188e86bdbfce1d4de2ef633092a906e8fe\r\n\r\n### Vim (not Nvim) behaves the same?\r\n\r\nNo\r\n\r\n### Operating system/version\r\n\r\nArch Linux\r\n\r\n### Terminal name/version\r\n\r\nurxvt v9.31\r\n\r\n### $TERM environment variable\r\n\r\nrxvt-256color\r\n\r\n### Installation\r\n\r\nbuild from repo",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "`neovim-git` package is not \"build from repo\" as it uses external dependencies. Try `neovim-nightly-bin`.",
            "created_at": "2023-11-29T08:12:46Z",
            "html_url": "https://github.com/neovim/neovim/issues/26295#issuecomment-1831411510",
            "id": 1831411510,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26295",
            "node_id": "IC_kwDOAPphoM5tKR82",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1831411510/reactions"
            },
            "updated_at": "2023-11-29T08:40:36Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1831411510",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "author_association": "NONE",
            "body": "Sorry for being unclear; I use `neovim-git` for daily use, which is where I first experiences this bug. But I also built directly from source to verify and reproduce the problem and to `git bisect` it.",
            "created_at": "2023-11-29T08:14:58Z",
            "html_url": "https://github.com/neovim/neovim/issues/26295#issuecomment-1831414543",
            "id": 1831414543,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26295",
            "node_id": "IC_kwDOAPphoM5tKSsP",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1831414543/reactions"
            },
            "updated_at": "2023-11-29T08:15:52Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1831414543",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/998898?v=4",
                "events_url": "https://api.github.com/users/lervag/events{/privacy}",
                "followers_url": "https://api.github.com/users/lervag/followers",
                "following_url": "https://api.github.com/users/lervag/following{/other_user}",
                "gists_url": "https://api.github.com/users/lervag/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lervag",
                "id": 998898,
                "login": "lervag",
                "node_id": "MDQ6VXNlcjk5ODg5OA==",
                "organizations_url": "https://api.github.com/users/lervag/orgs",
                "received_events_url": "https://api.github.com/users/lervag/received_events",
                "repos_url": "https://api.github.com/users/lervag/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lervag/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lervag/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lervag"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Oh, I can reproduce this using Nvim built from source.",
            "created_at": "2023-11-29T08:23:47Z",
            "html_url": "https://github.com/neovim/neovim/issues/26295#issuecomment-1831426968",
            "id": 1831426968,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26295",
            "node_id": "IC_kwDOAPphoM5tKVuY",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1831426968/reactions"
            },
            "updated_at": "2023-11-29T08:23:47Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1831426968",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "The TUI is forwarding this:\r\n```\r\n<M-]>11;rgb:ffff/ffff/ffff<Escape>\r\n```\r\nThe OSC response is missing a backslash?",
            "created_at": "2023-11-29T08:29:52Z",
            "html_url": "https://github.com/neovim/neovim/issues/26295#issuecomment-1831435709",
            "id": 1831435709,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26295",
            "node_id": "IC_kwDOAPphoM5tKX29",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1831435709/reactions"
            },
            "updated_at": "2023-11-29T08:29:52Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1831435709",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "This will fix the problem if you build from source:\r\n```diff\r\ndiff --git a/runtime/lua/vim/_defaults.lua b/runtime/lua/vim/_defaults.lua\r\nindex 09d6d43e7..e49ae3d49 100644\r\n--- a/runtime/lua/vim/_defaults.lua\r\n+++ b/runtime/lua/vim/_defaults.lua\r\n@@ -280,7 +280,7 @@ do\r\n       end,\r\n     })\r\n \r\n-    io.stdout:write('\\027]11;?\\027\\\\')\r\n+    io.stdout:write('\\027]11;?\\a')\r\n \r\n     timer:start(1000, 0, function()\r\n       -- No response received. Delete the autocommand\r\n```\r\n\r\nBut it will not fix the problem for `neovim-git` because it uses external dependencies.",
            "created_at": "2023-11-29T08:35:33Z",
            "html_url": "https://github.com/neovim/neovim/issues/26295#issuecomment-1831443765",
            "id": 1831443765,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26295",
            "node_id": "IC_kwDOAPphoM5tKZ01",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1831443765/reactions"
            },
            "updated_at": "2023-11-29T08:35:33Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1831443765",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "author_association": "NONE",
            "body": "> This will fix the problem if you build from source:\r\n> \r\n> …\r\n> \r\n> But it will not fix the problem for `neovim-git` because it uses external dependencies.\r\n\r\nCool, thanks. Would you propose this as a fix for the current issue?\r\n\r\nI don't quite understand why this would not fix the problem for [`neovim-git`](https://aur.archlinux.org/packages/neovim-git), though.",
            "created_at": "2023-11-29T09:48:52Z",
            "html_url": "https://github.com/neovim/neovim/issues/26295#issuecomment-1831559090",
            "id": 1831559090,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26295",
            "node_id": "IC_kwDOAPphoM5tK1-y",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1831559090/reactions"
            },
            "updated_at": "2023-11-29T09:48:52Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1831559090",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/998898?v=4",
                "events_url": "https://api.github.com/users/lervag/events{/privacy}",
                "followers_url": "https://api.github.com/users/lervag/followers",
                "following_url": "https://api.github.com/users/lervag/following{/other_user}",
                "gists_url": "https://api.github.com/users/lervag/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lervag",
                "id": 998898,
                "login": "lervag",
                "node_id": "MDQ6VXNlcjk5ODg5OA==",
                "organizations_url": "https://api.github.com/users/lervag/orgs",
                "received_events_url": "https://api.github.com/users/lervag/received_events",
                "repos_url": "https://api.github.com/users/lervag/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lervag/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lervag/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lervag"
            }
        },
        {
            "author_association": "NONE",
            "body": "I included the patch in the PKGBUILD file; after trying to build again with `makepkg` and running `nvim --clean test.txt` I now see this:\r\n\r\n![image](https://github.com/neovim/neovim/assets/998898/0a3aa91b-7758-4a33-832e-0851955cd508)\r\n\r\nThis might be as expected, based on your previous comment about neovim-git needing external dependencies?",
            "created_at": "2023-11-29T10:01:45Z",
            "html_url": "https://github.com/neovim/neovim/issues/26295#issuecomment-1831579932",
            "id": 1831579932,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26295",
            "node_id": "IC_kwDOAPphoM5tK7Ec",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1831579932/reactions"
            },
            "updated_at": "2023-11-29T10:01:45Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1831579932",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/998898?v=4",
                "events_url": "https://api.github.com/users/lervag/events{/privacy}",
                "followers_url": "https://api.github.com/users/lervag/followers",
                "following_url": "https://api.github.com/users/lervag/following{/other_user}",
                "gists_url": "https://api.github.com/users/lervag/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lervag",
                "id": 998898,
                "login": "lervag",
                "node_id": "MDQ6VXNlcjk5ODg5OA==",
                "organizations_url": "https://api.github.com/users/lervag/orgs",
                "received_events_url": "https://api.github.com/users/lervag/received_events",
                "repos_url": "https://api.github.com/users/lervag/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lervag/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lervag/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lervag"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "@lervag That issue is the same as https://github.com/neovim/neovim/issues/26038. It is caused by a bug in one of our dependencies (libtermkey). The vendored/bundled version of libtermkey has been updated, but not \"official\" release has been made yet, so using the version from the package manager will still have that issue.",
            "created_at": "2023-11-29T14:56:44Z",
            "html_url": "https://github.com/neovim/neovim/issues/26295#issuecomment-1832054784",
            "id": 1832054784,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26295",
            "node_id": "IC_kwDOAPphoM5tMvAA",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1832054784/reactions"
            },
            "updated_at": "2023-11-29T14:56:44Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1832054784",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8965202?v=4",
                "events_url": "https://api.github.com/users/gpanders/events{/privacy}",
                "followers_url": "https://api.github.com/users/gpanders/followers",
                "following_url": "https://api.github.com/users/gpanders/following{/other_user}",
                "gists_url": "https://api.github.com/users/gpanders/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/gpanders",
                "id": 8965202,
                "login": "gpanders",
                "node_id": "MDQ6VXNlcjg5NjUyMDI=",
                "organizations_url": "https://api.github.com/users/gpanders/orgs",
                "received_events_url": "https://api.github.com/users/gpanders/received_events",
                "repos_url": "https://api.github.com/users/gpanders/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/gpanders/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/gpanders/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/gpanders"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> This will fix the problem if you build from source:\r\n> \r\n> ```diff\r\n> diff --git a/runtime/lua/vim/_defaults.lua b/runtime/lua/vim/_defaults.lua\r\n> index 09d6d43e7..e49ae3d49 100644\r\n> --- a/runtime/lua/vim/_defaults.lua\r\n> +++ b/runtime/lua/vim/_defaults.lua\r\n> @@ -280,7 +280,7 @@ do\r\n>        end,\r\n>      })\r\n>  \r\n> -    io.stdout:write('\\027]11;?\\027\\\\')\r\n> +    io.stdout:write('\\027]11;?\\a')\r\n>  \r\n>      timer:start(1000, 0, function()\r\n>        -- No response received. Delete the autocommand\r\n> ```\r\n> \r\n> But it will not fix the problem for `neovim-git` because it uses external dependencies.\r\n\r\nSo this sounds like a urxvt bug that it only accepts BEL and not ST as a terminator?\r\n\r\nIf we apply this patch then we will see a lot more instances of https://github.com/neovim/neovim/issues/26038 happen, because now _all_ terminals will respond with the BEL terminator and anyone (regardless of terminal emulator) not using the updated/bundled libtermkey will have that problem.\r\n\r\nThe old C implementation used `\\a` as the terminator too, but the response was not parsed by libtermkey.",
            "created_at": "2023-11-29T14:58:50Z",
            "html_url": "https://github.com/neovim/neovim/issues/26295#issuecomment-1832058777",
            "id": 1832058777,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26295",
            "node_id": "IC_kwDOAPphoM5tMv-Z",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1832058777/reactions"
            },
            "updated_at": "2023-11-29T15:01:47Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1832058777",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8965202?v=4",
                "events_url": "https://api.github.com/users/gpanders/events{/privacy}",
                "followers_url": "https://api.github.com/users/gpanders/followers",
                "following_url": "https://api.github.com/users/gpanders/following{/other_user}",
                "gists_url": "https://api.github.com/users/gpanders/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/gpanders",
                "id": 8965202,
                "login": "gpanders",
                "node_id": "MDQ6VXNlcjg5NjUyMDI=",
                "organizations_url": "https://api.github.com/users/gpanders/orgs",
                "received_events_url": "https://api.github.com/users/gpanders/received_events",
                "repos_url": "https://api.github.com/users/gpanders/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/gpanders/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/gpanders/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/gpanders"
            }
        },
        {
            "author_association": "NONE",
            "body": "> @lervag That issue is the same as #26038. It is caused by a bug in one of our dependencies (libtermkey). The vendored/bundled version of libtermkey has been updated, but not \"official\" release has been made yet, so using the version from the package manager will still have that issue.\r\n\r\nAh, I see. And thanks for the explanation. It does bring a couple of questions though. First, do I understand correctly that, since I'm currently relying on the `neovim-git` version from Arch AUR, I will have to wait until an official release of libtermkey? Or is there some way of relying on a bundled and more up-to-date version of libtermkey?\r\n\r\n> > This will fix the problem if you build from source:\r\n> > ```diff\r\n> > diff --git a/runtime/lua/vim/_defaults.lua b/runtime/lua/vim/_defaults.lua\r\n> > index 09d6d43e7..e49ae3d49 100644\r\n> > --- a/runtime/lua/vim/_defaults.lua\r\n> > +++ b/runtime/lua/vim/_defaults.lua\r\n> > @@ -280,7 +280,7 @@ do\r\n> >        end,\r\n> >      })\r\n> >  \r\n> > -    io.stdout:write('\\027]11;?\\027\\\\')\r\n> > +    io.stdout:write('\\027]11;?\\a')\r\n> >  \r\n> >      timer:start(1000, 0, function()\r\n> >        -- No response received. Delete the autocommand\r\n> > ```\r\n> > \r\n> > But it will not fix the problem for `neovim-git` because it uses external dependencies.\r\n> \r\n> So this sounds like a urxvt bug that it only accepts BEL and not ST as a terminator?\r\n\r\n:shrug: I don't know these things :)",
            "created_at": "2023-11-29T21:12:07Z",
            "html_url": "https://github.com/neovim/neovim/issues/26295#issuecomment-1832706981",
            "id": 1832706981,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26295",
            "node_id": "IC_kwDOAPphoM5tPOOl",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1832706981/reactions"
            },
            "updated_at": "2023-11-29T21:12:07Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1832706981",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/998898?v=4",
                "events_url": "https://api.github.com/users/lervag/events{/privacy}",
                "followers_url": "https://api.github.com/users/lervag/followers",
                "following_url": "https://api.github.com/users/lervag/following{/other_user}",
                "gists_url": "https://api.github.com/users/lervag/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lervag",
                "id": 998898,
                "login": "lervag",
                "node_id": "MDQ6VXNlcjk5ODg5OA==",
                "organizations_url": "https://api.github.com/users/lervag/orgs",
                "received_events_url": "https://api.github.com/users/lervag/received_events",
                "repos_url": "https://api.github.com/users/lervag/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lervag/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lervag/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lervag"
            }
        },
        {
            "author_association": "NONE",
            "body": "> My theory is that st is sending the OSC 11 response terminated with BEL (0x07) instead of ST (0x1b 0x5c) as it should be. We learned recently that libtermkey https://github.com/neovim/libtermkey/pull/4, so if my theory is correct what is likely happening is that st is sending us the OSC 11 response and it is not being interpreted correctly by termkey as an OSC sequence. Thus, it never gets sent in the TermResponse autocommand and is instead treated like regular terminal input, where it then appears in Nvim.\r\n\r\n@gpanders If I understand correctly, you mean that your theory for `st` also holds for `urxvt`? If so, then I could attempt to verify this by following the steps you outlined.",
            "created_at": "2023-11-29T21:17:26Z",
            "html_url": "https://github.com/neovim/neovim/issues/26295#issuecomment-1832713710",
            "id": 1832713710,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26295",
            "node_id": "IC_kwDOAPphoM5tPP3u",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1832713710/reactions"
            },
            "updated_at": "2023-11-29T21:17:26Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1832713710",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/998898?v=4",
                "events_url": "https://api.github.com/users/lervag/events{/privacy}",
                "followers_url": "https://api.github.com/users/lervag/followers",
                "following_url": "https://api.github.com/users/lervag/following{/other_user}",
                "gists_url": "https://api.github.com/users/lervag/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lervag",
                "id": 998898,
                "login": "lervag",
                "node_id": "MDQ6VXNlcjk5ODg5OA==",
                "organizations_url": "https://api.github.com/users/lervag/orgs",
                "received_events_url": "https://api.github.com/users/lervag/received_events",
                "repos_url": "https://api.github.com/users/lervag/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lervag/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lervag/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lervag"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "No. `urxvt` has a different bug than `st`.",
            "created_at": "2023-11-29T21:52:26Z",
            "html_url": "https://github.com/neovim/neovim/issues/26295#issuecomment-1832758516",
            "id": 1832758516,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26295",
            "node_id": "IC_kwDOAPphoM5tPaz0",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1832758516/reactions"
            },
            "updated_at": "2023-11-29T21:52:26Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1832758516",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> > My theory is that st is sending the OSC 11 response terminated with BEL (0x07) instead of ST (0x1b 0x5c) as it should be. We learned recently that libtermkey [neovim/libtermkey#4](https://github.com/neovim/libtermkey/pull/4), so if my theory is correct what is likely happening is that st is sending us the OSC 11 response and it is not being interpreted correctly by termkey as an OSC sequence. Thus, it never gets sent in the TermResponse autocommand and is instead treated like regular terminal input, where it then appears in Nvim.\r\n> \r\n> @gpanders If I understand correctly, you mean that your theory for `st` also holds for `urxvt`? If so, then I could attempt to verify this by following the steps you outlined.\r\n\r\nNo, urxvt seems to have a different problem altogether. I can't run urxvt locally to verify, so I'm only going off of what @zeertzjq suggested, but it _seems_ like urxvt doesn't recognize ST (`\\e\\\\`) as a valid terminator, but it does accept BEL (`\\a`).\r\n\r\nYou can very easily verify this yourself though. In urxvt enter `printf '\\e]11;?\\e\\\\'` in your shell and let me know what it spits back. Then do the same with but with `printf '\\e]11;?\\a'` (note the different terminator).",
            "created_at": "2023-11-29T21:54:36Z",
            "html_url": "https://github.com/neovim/neovim/issues/26295#issuecomment-1832761312",
            "id": 1832761312,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26295",
            "node_id": "IC_kwDOAPphoM5tPbfg",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1832761312/reactions"
            },
            "updated_at": "2023-11-29T21:54:36Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1832761312",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8965202?v=4",
                "events_url": "https://api.github.com/users/gpanders/events{/privacy}",
                "followers_url": "https://api.github.com/users/gpanders/followers",
                "following_url": "https://api.github.com/users/gpanders/following{/other_user}",
                "gists_url": "https://api.github.com/users/gpanders/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/gpanders",
                "id": 8965202,
                "login": "gpanders",
                "node_id": "MDQ6VXNlcjg5NjUyMDI=",
                "organizations_url": "https://api.github.com/users/gpanders/orgs",
                "received_events_url": "https://api.github.com/users/gpanders/received_events",
                "repos_url": "https://api.github.com/users/gpanders/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/gpanders/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/gpanders/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/gpanders"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "`urxvt`'s response is missing the final backslash when query ends with ST.",
            "created_at": "2023-11-30T00:55:04Z",
            "html_url": "https://github.com/neovim/neovim/issues/26295#issuecomment-1832934079",
            "id": 1832934079,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26295",
            "node_id": "IC_kwDOAPphoM5tQFq_",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1832934079/reactions"
            },
            "updated_at": "2023-11-30T00:55:52Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1832934079",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        }
    ],
    "comments": 14,
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/26295/comments",
    "created_at": "2023-11-29T08:04:06Z",
    "events_url": "https://api.github.com/repos/neovim/neovim/issues/26295/events",
    "html_url": "https://github.com/neovim/neovim/issues/26295",
    "id": 2016028928,
    "labels": [
        {
            "color": "f9d0c4",
            "default": true,
            "description": "issues reporting wrong behavior",
            "id": 77997474,
            "name": "bug",
            "node_id": "MDU6TGFiZWw3Nzk5NzQ3NA==",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug"
        },
        {
            "color": "FEF2C0",
            "default": false,
            "description": "Needs a third-party / external change or fix",
            "id": 101945532,
            "name": "status:blocked-external",
            "node_id": "MDU6TGFiZWwxMDE5NDU1MzI=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/status:blocked-external"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "issues or PRs involving changing the defaults",
            "id": 103777064,
            "name": "defaults",
            "node_id": "MDU6TGFiZWwxMDM3NzcwNjQ=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/defaults"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "",
            "id": 197254545,
            "name": "tui",
            "node_id": "MDU6TGFiZWwxOTcyNTQ1NDU=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/tui"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/neovim/issues/26295/labels{/name}",
    "locked": false,
    "milestone": {
        "closed_at": null,
        "closed_issues": 193,
        "created_at": "2023-02-02T14:11:43Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1363104?v=4",
            "events_url": "https://api.github.com/users/bfredl/events{/privacy}",
            "followers_url": "https://api.github.com/users/bfredl/followers",
            "following_url": "https://api.github.com/users/bfredl/following{/other_user}",
            "gists_url": "https://api.github.com/users/bfredl/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/bfredl",
            "id": 1363104,
            "login": "bfredl",
            "node_id": "MDQ6VXNlcjEzNjMxMDQ=",
            "organizations_url": "https://api.github.com/users/bfredl/orgs",
            "received_events_url": "https://api.github.com/users/bfredl/received_events",
            "repos_url": "https://api.github.com/users/bfredl/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/bfredl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/bfredl/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/bfredl"
        },
        "description": "",
        "due_on": "2024-03-01T08:00:00Z",
        "html_url": "https://github.com/neovim/neovim/milestone/36",
        "id": 8997654,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/36/labels",
        "node_id": "MI_kwDOAPphoM4AiUsW",
        "number": 36,
        "open_issues": 129,
        "state": "open",
        "title": "0.10",
        "updated_at": "2023-11-29T08:37:16Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/36"
    },
    "node_id": "I_kwDOAPphoM54KikA",
    "number": 26295,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/neovim/issues/26295/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/neovim",
    "state": "open",
    "state_reason": null,
    "timeline_url": "https://api.github.com/repos/neovim/neovim/issues/26295/timeline",
    "title": "Strange bug with neovim and urxvt: Seems like something is running \"rg\" on startup",
    "updated_at": "2023-11-30T00:55:52Z",
    "url": "https://api.github.com/repos/neovim/neovim/issues/26295",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/998898?v=4",
        "events_url": "https://api.github.com/users/lervag/events{/privacy}",
        "followers_url": "https://api.github.com/users/lervag/followers",
        "following_url": "https://api.github.com/users/lervag/following{/other_user}",
        "gists_url": "https://api.github.com/users/lervag/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/lervag",
        "id": 998898,
        "login": "lervag",
        "node_id": "MDQ6VXNlcjk5ODg5OA==",
        "organizations_url": "https://api.github.com/users/lervag/orgs",
        "received_events_url": "https://api.github.com/users/lervag/received_events",
        "repos_url": "https://api.github.com/users/lervag/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/lervag/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/lervag/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/lervag"
    }
}