{
    "_links": {
        "comments": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/26384/comments"
        },
        "commits": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/26384/commits"
        },
        "html": {
            "href": "https://github.com/neovim/neovim/pull/26384"
        },
        "issue": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/26384"
        },
        "review_comment": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}"
        },
        "review_comments": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/26384/comments"
        },
        "self": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/26384"
        },
        "statuses": {
            "href": "https://api.github.com/repos/neovim/neovim/statuses/d3233c501e9070e0e59cdc1b66a0e5f4265120f5"
        }
    },
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "auto_merge": null,
    "base": {
        "label": "neovim:master",
        "ref": "master",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/neovim/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/neovim/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/neovim/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/neovim/neovim/branches{/branch}",
            "clone_url": "https://github.com/neovim/neovim.git",
            "collaborators_url": "https://api.github.com/repos/neovim/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/neovim/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/neovim/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/neovim/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/neovim/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/neovim/neovim/contributors",
            "created_at": "2014-01-31T13:39:22Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/neovim/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/neovim/neovim/downloads",
            "events_url": "https://api.github.com/repos/neovim/neovim/events",
            "fork": false,
            "forks": 5038,
            "forks_count": 5038,
            "forks_url": "https://api.github.com/repos/neovim/neovim/forks",
            "full_name": "neovim/neovim",
            "git_commits_url": "https://api.github.com/repos/neovim/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/neovim/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/neovim/neovim/git/tags{/sha}",
            "git_url": "git://github.com/neovim/neovim.git",
            "has_discussions": true,
            "has_downloads": true,
            "has_issues": true,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/neovim/neovim/hooks",
            "html_url": "https://github.com/neovim/neovim",
            "id": 16408992,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/neovim/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/neovim/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/neovim/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/neovim/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/neovim/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/neovim/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/neovim/neovim/merges",
            "milestones_url": "https://api.github.com/repos/neovim/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "MDEwOlJlcG9zaXRvcnkxNjQwODk5Mg==",
            "notifications_url": "https://api.github.com/repos/neovim/neovim/notifications{?since,all,participating}",
            "open_issues": 1704,
            "open_issues_count": 1704,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
                "events_url": "https://api.github.com/users/neovim/events{/privacy}",
                "followers_url": "https://api.github.com/users/neovim/followers",
                "following_url": "https://api.github.com/users/neovim/following{/other_user}",
                "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/neovim",
                "id": 6471485,
                "login": "neovim",
                "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
                "organizations_url": "https://api.github.com/users/neovim/orgs",
                "received_events_url": "https://api.github.com/users/neovim/received_events",
                "repos_url": "https://api.github.com/users/neovim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
                "type": "Organization",
                "url": "https://api.github.com/users/neovim"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/neovim/neovim/pulls{/number}",
            "pushed_at": "2023-12-08T01:42:53Z",
            "releases_url": "https://api.github.com/repos/neovim/neovim/releases{/id}",
            "size": 241217,
            "ssh_url": "git@github.com:neovim/neovim.git",
            "stargazers_count": 71571,
            "stargazers_url": "https://api.github.com/repos/neovim/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/neovim/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/neovim/neovim/subscription",
            "svn_url": "https://github.com/neovim/neovim",
            "tags_url": "https://api.github.com/repos/neovim/neovim/tags",
            "teams_url": "https://api.github.com/repos/neovim/neovim/teams",
            "topics": [
                "api",
                "c",
                "lua",
                "neovim",
                "nvim",
                "text-editor",
                "vim"
            ],
            "trees_url": "https://api.github.com/repos/neovim/neovim/git/trees{/sha}",
            "updated_at": "2023-12-08T01:57:01Z",
            "url": "https://api.github.com/repos/neovim/neovim",
            "visibility": "public",
            "watchers": 71571,
            "watchers_count": 71571,
            "web_commit_signoff_required": false
        },
        "sha": "040369e1e4b86c4655a6885b36ee89ad4f10ca16",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
            "events_url": "https://api.github.com/users/neovim/events{/privacy}",
            "followers_url": "https://api.github.com/users/neovim/followers",
            "following_url": "https://api.github.com/users/neovim/following{/other_user}",
            "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/neovim",
            "id": 6471485,
            "login": "neovim",
            "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
            "organizations_url": "https://api.github.com/users/neovim/orgs",
            "received_events_url": "https://api.github.com/users/neovim/received_events",
            "repos_url": "https://api.github.com/users/neovim/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
            "type": "Organization",
            "url": "https://api.github.com/users/neovim"
        }
    },
    "body": "add an option in `nvim_open_term` to convert `\\n` to `\\r\\n` default is false\r\n\r\nFix #14557",
    "closed_at": null,
    "comment_data": [
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26384#discussion_r1413759199"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26384"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413759199"
                }
            },
            "author_association": "MEMBER",
            "body": "This is not backward-compatible.",
            "commit_id": "d3233c501e9070e0e59cdc1b66a0e5f4265120f5",
            "created_at": "2023-12-04T11:46:29Z",
            "diff_hunk": "@@ -1002,6 +1003,8 @@ Integer nvim_open_term(Buffer buffer, DictionaryOf(LuaRef) opts, Error *err)\n   }\n \n   LuaRef cb = LUA_NOREF;\n+  // LF\n+  bool newline_conv = true;",
            "html_url": "https://github.com/neovim/neovim/pull/26384#discussion_r1413759199",
            "id": 1413759199,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5UREDf",
            "original_commit_id": "f117cb9374e84ae0caa18c3f4b6e2342298682de",
            "original_line": 1007,
            "original_position": 13,
            "original_start_line": null,
            "path": "src/nvim/api/vim.c",
            "position": null,
            "pull_request_review_id": 1762214355,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26384",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413759199/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-04T11:47:46Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413759199",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26384#discussion_r1413759441"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26384"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413759441"
                }
            },
            "author_association": "MEMBER",
            "body": "`opts` can be changed to a keyset.",
            "commit_id": "d3233c501e9070e0e59cdc1b66a0e5f4265120f5",
            "created_at": "2023-12-04T11:46:38Z",
            "diff_hunk": "@@ -985,6 +985,7 @@ Buffer nvim_create_buf(Boolean listed, Boolean scratch, Error *err)\n ///            as a \"\\r\", not as a \"\\n\". |textlock| applies. It is possible\n ///            to call |nvim_chan_send()| directly in the callback however.\n ///                 [\"input\", term, bufnr, data]\n+///         - newline_conv: boolean convert \\n to \\r\\n\n /// @param[out] err Error details, if any\n /// @return Channel id, or 0 on error\n Integer nvim_open_term(Buffer buffer, DictionaryOf(LuaRef) opts, Error *err)",
            "html_url": "https://github.com/neovim/neovim/pull/26384#discussion_r1413759441",
            "id": 1413759441,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5UREHR",
            "original_commit_id": "f117cb9374e84ae0caa18c3f4b6e2342298682de",
            "original_line": 991,
            "original_position": 7,
            "original_start_line": null,
            "path": "src/nvim/api/vim.c",
            "position": null,
            "pull_request_review_id": 1762214355,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26384",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413759441/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-04T11:47:46Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413759441",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26384#discussion_r1413764563"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26384"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413764563"
                }
            },
            "author_association": "MEMBER",
            "body": "okay..do you think this patch is correct ",
            "commit_id": "d3233c501e9070e0e59cdc1b66a0e5f4265120f5",
            "created_at": "2023-12-04T11:51:20Z",
            "diff_hunk": "@@ -1002,6 +1003,8 @@ Integer nvim_open_term(Buffer buffer, DictionaryOf(LuaRef) opts, Error *err)\n   }\n \n   LuaRef cb = LUA_NOREF;\n+  // LF\n+  bool newline_conv = true;",
            "html_url": "https://github.com/neovim/neovim/pull/26384#discussion_r1413764563",
            "id": 1413764563,
            "in_reply_to_id": 1413759199,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5URFXT",
            "original_commit_id": "f117cb9374e84ae0caa18c3f4b6e2342298682de",
            "original_line": 1007,
            "original_position": 13,
            "original_start_line": null,
            "path": "src/nvim/api/vim.c",
            "position": null,
            "pull_request_review_id": 1762222460,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26384",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413764563/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-04T11:57:18Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413764563",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
                "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
                "followers_url": "https://api.github.com/users/glepnir/followers",
                "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
                "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glepnir",
                "id": 41671631,
                "login": "glepnir",
                "node_id": "MDQ6VXNlcjQxNjcxNjMx",
                "organizations_url": "https://api.github.com/users/glepnir/orgs",
                "received_events_url": "https://api.github.com/users/glepnir/received_events",
                "repos_url": "https://api.github.com/users/glepnir/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glepnir"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26384#discussion_r1413784935"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26384"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413784935"
                }
            },
            "author_association": "MEMBER",
            "body": "It should default to `false`.",
            "commit_id": "d3233c501e9070e0e59cdc1b66a0e5f4265120f5",
            "created_at": "2023-12-04T12:10:19Z",
            "diff_hunk": "@@ -1002,6 +1003,8 @@ Integer nvim_open_term(Buffer buffer, DictionaryOf(LuaRef) opts, Error *err)\n   }\n \n   LuaRef cb = LUA_NOREF;\n+  // LF\n+  bool newline_conv = true;",
            "html_url": "https://github.com/neovim/neovim/pull/26384#discussion_r1413784935",
            "id": 1413784935,
            "in_reply_to_id": 1413759199,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5URKVn",
            "original_commit_id": "f117cb9374e84ae0caa18c3f4b6e2342298682de",
            "original_line": 1007,
            "original_position": 13,
            "original_start_line": null,
            "path": "src/nvim/api/vim.c",
            "position": null,
            "pull_request_review_id": 1762258005,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26384",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413784935/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-04T12:10:20Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413784935",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26384#discussion_r1413786222"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26384"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413786222"
                }
            },
            "author_association": "MEMBER",
            "body": "has been changed to false. need rebase after your refactor merge then.",
            "commit_id": "d3233c501e9070e0e59cdc1b66a0e5f4265120f5",
            "created_at": "2023-12-04T12:11:35Z",
            "diff_hunk": "@@ -1002,6 +1003,8 @@ Integer nvim_open_term(Buffer buffer, DictionaryOf(LuaRef) opts, Error *err)\n   }\n \n   LuaRef cb = LUA_NOREF;\n+  // LF\n+  bool newline_conv = true;",
            "html_url": "https://github.com/neovim/neovim/pull/26384#discussion_r1413786222",
            "id": 1413786222,
            "in_reply_to_id": 1413759199,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5URKpu",
            "original_commit_id": "f117cb9374e84ae0caa18c3f4b6e2342298682de",
            "original_line": 1007,
            "original_position": 13,
            "original_start_line": null,
            "path": "src/nvim/api/vim.c",
            "position": null,
            "pull_request_review_id": 1762260028,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26384",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413786222/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-04T12:11:55Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413786222",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
                "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
                "followers_url": "https://api.github.com/users/glepnir/followers",
                "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
                "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glepnir",
                "id": 41671631,
                "login": "glepnir",
                "node_id": "MDQ6VXNlcjQxNjcxNjMx",
                "organizations_url": "https://api.github.com/users/glepnir/orgs",
                "received_events_url": "https://api.github.com/users/glepnir/received_events",
                "repos_url": "https://api.github.com/users/glepnir/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glepnir"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26384#discussion_r1413804831"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26384"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413804831"
                }
            },
            "author_association": "MEMBER",
            "body": "better to use something like `kvec_t(char)` while building the string to avoid frequent reallocation. ",
            "commit_id": "d3233c501e9070e0e59cdc1b66a0e5f4265120f5",
            "created_at": "2023-12-04T12:29:20Z",
            "diff_hunk": "@@ -786,7 +786,26 @@ void terminal_receive(Terminal *term, char *data, size_t len)\n     return;\n   }\n \n-  vterm_input_write(term->vt, data, len);\n+  if (term->opts.newline_conv) {\n+    String crlf_data = { .data = NULL, .size = 0 };\n+    for (size_t i = 0; i < len; i++) {\n+      if (data[i] == '\\n') {\n+        crlf_data.data = xrealloc(crlf_data.data, crlf_data.size + 2);",
            "html_url": "https://github.com/neovim/neovim/pull/26384#discussion_r1413804831",
            "id": 1413804831,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5URPMf",
            "original_commit_id": "b8232f68a1062ce1d13a93114104d13ff1768a3c",
            "original_line": 793,
            "original_position": 9,
            "original_start_line": null,
            "path": "src/nvim/terminal.c",
            "position": null,
            "pull_request_review_id": 1762289951,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26384",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413804831/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-04T12:29:20Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413804831",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1363104?v=4",
                "events_url": "https://api.github.com/users/bfredl/events{/privacy}",
                "followers_url": "https://api.github.com/users/bfredl/followers",
                "following_url": "https://api.github.com/users/bfredl/following{/other_user}",
                "gists_url": "https://api.github.com/users/bfredl/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/bfredl",
                "id": 1363104,
                "login": "bfredl",
                "node_id": "MDQ6VXNlcjEzNjMxMDQ=",
                "organizations_url": "https://api.github.com/users/bfredl/orgs",
                "received_events_url": "https://api.github.com/users/bfredl/received_events",
                "repos_url": "https://api.github.com/users/bfredl/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/bfredl/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/bfredl/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/bfredl"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26384#discussion_r1413808227"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26384"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413808227"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n• Added \"newline_conv\" option field in |nvim_open_term()|. \r\n```",
            "commit_id": "d3233c501e9070e0e59cdc1b66a0e5f4265120f5",
            "created_at": "2023-12-04T12:32:38Z",
            "diff_hunk": "@@ -331,6 +331,8 @@ The following changes to existing APIs or features add new behavior.\n \n • |vim.wait()| is no longer allowed to be called in |api-fast|.\n \n+• add |newlin_conv| option field in |nvim_open_term()|. ",
            "html_url": "https://github.com/neovim/neovim/pull/26384#discussion_r1413808227",
            "id": 1413808227,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5URQBj",
            "original_commit_id": "5999466236f3260b6915165d9f3de3f8c9bdc425",
            "original_line": 334,
            "original_position": 4,
            "original_start_line": null,
            "path": "runtime/doc/news.txt",
            "position": null,
            "pull_request_review_id": 1762294976,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26384",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413808227/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-04T12:33:50Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413808227",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26384#discussion_r1413808946"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26384"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413808946"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n///          - newline_conv: (boolean, default false) Convert \"\\n\" to \"\\r\\n\".\r\n```",
            "commit_id": "d3233c501e9070e0e59cdc1b66a0e5f4265120f5",
            "created_at": "2023-12-04T12:33:20Z",
            "diff_hunk": "@@ -985,9 +985,10 @@ Buffer nvim_create_buf(Boolean listed, Boolean scratch, Error *err)\n ///            as a \"\\r\", not as a \"\\n\". |textlock| applies. It is possible\n ///            to call |nvim_chan_send()| directly in the callback however.\n ///                 [\"input\", term, bufnr, data]\n+///          - newline_conv: (false) convert \"\\n\" to \"\\r\\n\"",
            "html_url": "https://github.com/neovim/neovim/pull/26384#discussion_r1413808946",
            "id": 1413808946,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5URQMy",
            "original_commit_id": "5999466236f3260b6915165d9f3de3f8c9bdc425",
            "original_line": 988,
            "original_position": 4,
            "original_start_line": null,
            "path": "src/nvim/api/vim.c",
            "position": null,
            "pull_request_review_id": 1762294976,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26384",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413808946/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-04T12:33:50Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413808946",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26384#discussion_r1413810569"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26384"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413810569"
                }
            },
            "author_association": "MEMBER",
            "body": "Or `StringBuilder`",
            "commit_id": "d3233c501e9070e0e59cdc1b66a0e5f4265120f5",
            "created_at": "2023-12-04T12:34:53Z",
            "diff_hunk": "@@ -786,7 +786,26 @@ void terminal_receive(Terminal *term, char *data, size_t len)\n     return;\n   }\n \n-  vterm_input_write(term->vt, data, len);\n+  if (term->opts.newline_conv) {\n+    String crlf_data = { .data = NULL, .size = 0 };\n+    for (size_t i = 0; i < len; i++) {\n+      if (data[i] == '\\n') {\n+        crlf_data.data = xrealloc(crlf_data.data, crlf_data.size + 2);",
            "html_url": "https://github.com/neovim/neovim/pull/26384#discussion_r1413810569",
            "id": 1413810569,
            "in_reply_to_id": 1413804831,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5URQmJ",
            "original_commit_id": "b8232f68a1062ce1d13a93114104d13ff1768a3c",
            "original_line": 793,
            "original_position": 9,
            "original_start_line": null,
            "path": "src/nvim/terminal.c",
            "position": null,
            "pull_request_review_id": 1762299531,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26384",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413810569/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-04T12:34:53Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413810569",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26384#discussion_r1413837504"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26384"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413837504"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n• Added \"newline_conv\" option field in |nvim_open_term()|.\r\n```",
            "commit_id": "d3233c501e9070e0e59cdc1b66a0e5f4265120f5",
            "created_at": "2023-12-04T12:58:33Z",
            "diff_hunk": "@@ -331,6 +331,8 @@ The following changes to existing APIs or features add new behavior.\n \n • |vim.wait()| is no longer allowed to be called in |api-fast|.\n \n+• Added |newlin_conv| option field in |nvim_open_term()|.",
            "html_url": "https://github.com/neovim/neovim/pull/26384#discussion_r1413837504",
            "id": 1413837504,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5URXLA",
            "original_commit_id": "4c463969b23f62aa517b29df70a7e83e289db2b8",
            "original_line": 334,
            "original_position": 4,
            "original_start_line": null,
            "path": "runtime/doc/news.txt",
            "position": null,
            "pull_request_review_id": 1762343855,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26384",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413837504/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-04T12:58:55Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413837504",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26384#discussion_r1413837801"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26384"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413837801"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n///          - newline_conv: (boolean, default false) Convert \"\\n\" to \"\\r\\n\".\r\n```",
            "commit_id": "d3233c501e9070e0e59cdc1b66a0e5f4265120f5",
            "created_at": "2023-12-04T12:58:52Z",
            "diff_hunk": "@@ -985,9 +985,10 @@ Buffer nvim_create_buf(Boolean listed, Boolean scratch, Error *err)\n ///            as a \"\\r\", not as a \"\\n\". |textlock| applies. It is possible\n ///            to call |nvim_chan_send()| directly in the callback however.\n ///                 [\"input\", term, bufnr, data]\n+///          - newline_conv: (boolean, false) Convert \"\\n\" to \"\\r\\n\".",
            "html_url": "https://github.com/neovim/neovim/pull/26384#discussion_r1413837801",
            "id": 1413837801,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5URXPp",
            "original_commit_id": "4c463969b23f62aa517b29df70a7e83e289db2b8",
            "original_line": 988,
            "original_position": 4,
            "original_start_line": null,
            "path": "src/nvim/api/vim.c",
            "position": null,
            "pull_request_review_id": 1762343855,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26384",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413837801/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-04T12:58:55Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413837801",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26384#discussion_r1413848539"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26384"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413848539"
                }
            },
            "author_association": "MEMBER",
            "body": "sry forget filed shouldn't use `|` ..",
            "commit_id": "d3233c501e9070e0e59cdc1b66a0e5f4265120f5",
            "created_at": "2023-12-04T13:07:20Z",
            "diff_hunk": "@@ -331,6 +331,8 @@ The following changes to existing APIs or features add new behavior.\n \n • |vim.wait()| is no longer allowed to be called in |api-fast|.\n \n+• Added |newlin_conv| option field in |nvim_open_term()|.",
            "html_url": "https://github.com/neovim/neovim/pull/26384#discussion_r1413848539",
            "id": 1413848539,
            "in_reply_to_id": 1413837504,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5URZ3b",
            "original_commit_id": "4c463969b23f62aa517b29df70a7e83e289db2b8",
            "original_line": 334,
            "original_position": 4,
            "original_start_line": null,
            "path": "runtime/doc/news.txt",
            "position": null,
            "pull_request_review_id": 1762362874,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26384",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413848539/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-04T13:07:21Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413848539",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
                "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
                "followers_url": "https://api.github.com/users/glepnir/followers",
                "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
                "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glepnir",
                "id": 41671631,
                "login": "glepnir",
                "node_id": "MDQ6VXNlcjQxNjcxNjMx",
                "organizations_url": "https://api.github.com/users/glepnir/orgs",
                "received_events_url": "https://api.github.com/users/glepnir/received_events",
                "repos_url": "https://api.github.com/users/glepnir/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glepnir"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26384#discussion_r1413849397"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26384"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413849397"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n• Added \"newline_conv\" option field in |nvim_open_term()|.\r\n```",
            "commit_id": "d3233c501e9070e0e59cdc1b66a0e5f4265120f5",
            "created_at": "2023-12-04T13:08:12Z",
            "diff_hunk": "@@ -331,6 +331,8 @@ The following changes to existing APIs or features add new behavior.\n \n • |vim.wait()| is no longer allowed to be called in |api-fast|.\n \n+• Added \"newlin_conv\" option field in |nvim_open_term()|.",
            "html_url": "https://github.com/neovim/neovim/pull/26384#discussion_r1413849397",
            "id": 1413849397,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5URaE1",
            "original_commit_id": "76000f423c2e3fa2dc60d1eecb5f6112291697c3",
            "original_line": 334,
            "original_position": 4,
            "original_start_line": null,
            "path": "runtime/doc/news.txt",
            "position": null,
            "pull_request_review_id": 1762364332,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26384",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413849397/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-04T13:08:13Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413849397",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26384#discussion_r1413859020"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26384"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413859020"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n    .newline_conv = opts->newline_conv,\r\n```",
            "commit_id": "d3233c501e9070e0e59cdc1b66a0e5f4265120f5",
            "created_at": "2023-12-04T13:16:25Z",
            "diff_hunk": "@@ -1029,6 +1020,7 @@ Integer nvim_open_term(Buffer buffer, DictionaryOf(LuaRef) opts, Error *err)\n     .write_cb = term_write,\n     .resize_cb = term_resize,\n     .close_cb = term_close,\n+    .newline_conv = HAS_KEY(opts, open_term, newline_conv) ? opts->newline_conv : false,",
            "html_url": "https://github.com/neovim/neovim/pull/26384#discussion_r1413859020",
            "id": 1413859020,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5URcbM",
            "original_commit_id": "ffdf8c613bbf14248ba126fd61b2fd76f4e4d65d",
            "original_line": 1023,
            "original_position": 39,
            "original_start_line": null,
            "path": "src/nvim/api/vim.c",
            "position": null,
            "pull_request_review_id": 1762379959,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26384",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413859020/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-04T13:16:26Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413859020",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26384#discussion_r1413860566"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26384"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413860566"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n```",
            "commit_id": "d3233c501e9070e0e59cdc1b66a0e5f4265120f5",
            "created_at": "2023-12-04T13:17:48Z",
            "diff_hunk": "@@ -786,7 +788,24 @@ void terminal_receive(Terminal *term, const char *data, size_t len)\n     return;\n   }\n \n-  vterm_input_write(term->vt, data, len);\n+  if (term->opts.newline_conv) {\n+    StringBuilder crlf_data = KV_INITIAL_VALUE;\n+\n+    for (size_t i = 0; i < len; i++) {\n+      if (data[i] == '\\n') {\n+        kv_push(crlf_data, '\\r');\n+        kv_push(crlf_data, '\\n');\n+      } else {\n+        kv_push(crlf_data, data[i]);\n+      }\n+    }\n+\n+    kv_push(crlf_data, '\\0');",
            "html_url": "https://github.com/neovim/neovim/pull/26384#discussion_r1413860566",
            "id": 1413860566,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5URczW",
            "original_commit_id": "ffdf8c613bbf14248ba126fd61b2fd76f4e4d65d",
            "original_line": 803,
            "original_position": 33,
            "original_start_line": null,
            "path": "src/nvim/terminal.c",
            "position": null,
            "pull_request_review_id": 1762382453,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26384",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413860566/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-04T13:17:48Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413860566",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26384#discussion_r1413890318"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26384"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413890318"
                }
            },
            "author_association": "MEMBER",
            "body": "The only precedent I could find (`git grep -Pi '\\@param\\b.*newline'`) is `replace_nl`: https://github.com/neovim/neovim/blob/66f1563c7a48d76f99c89e32de030e57af2abfb4/src/nvim/api/buffer.c#L1456\r\n\r\nI think we'd probably use a \"force\" prefix typically, e.g. `force_crlf`\r\n```suggestion\r\n                  • force_crlf: (boolean, default false) Convert \"\\n\" to\r\n```\r\n",
            "commit_id": "d3233c501e9070e0e59cdc1b66a0e5f4265120f5",
            "created_at": "2023-12-04T13:43:07Z",
            "diff_hunk": "@@ -1231,6 +1231,8 @@ nvim_open_term({buffer}, {opts})                            *nvim_open_term()*\n                     is sent as a \"\\r\", not as a \"\\n\". |textlock| applies. It\n                     is possible to call |nvim_chan_send()| directly in the\n                     callback however. [\"input\", term, bufnr, data]\n+                  • newline_conv: (boolean, default false) Convert \"\\n\" to",
            "html_url": "https://github.com/neovim/neovim/pull/26384#discussion_r1413890318",
            "id": 1413890318,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5URkEO",
            "original_commit_id": "8a442c0b835eef8edcfa71495140429c4b18737c",
            "original_line": 1234,
            "original_position": 13,
            "original_start_line": null,
            "path": "runtime/doc/api.txt",
            "position": null,
            "pull_request_review_id": 1762431762,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26384",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413890318/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-04T13:43:08Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413890318",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26384#discussion_r1413896352"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26384"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413896352"
                }
            },
            "author_association": "MEMBER",
            "body": "does this belong in the \"terminal input\" test group? https://github.com/neovim/neovim/blob/66f1563c7a48d76f99c89e32de030e57af2abfb4/test/functional/terminal/buffer_spec.lua#L422",
            "commit_id": "d3233c501e9070e0e59cdc1b66a0e5f4265120f5",
            "created_at": "2023-12-04T13:47:45Z",
            "diff_hunk": "@@ -198,4 +198,18 @@ describe('no crash when TermOpen autocommand', function()\n     ]]}\n     assert_alive()\n   end)\n+\n+  it('convert newline when using nvim_open_term()', function()",
            "html_url": "https://github.com/neovim/neovim/pull/26384#discussion_r1413896352",
            "id": 1413896352,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5URlig",
            "original_commit_id": "8a442c0b835eef8edcfa71495140429c4b18737c",
            "original_line": 202,
            "original_position": 5,
            "original_start_line": null,
            "path": "test/functional/terminal/channel_spec.lua",
            "position": null,
            "pull_request_review_id": 1762441164,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26384",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413896352/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-04T13:47:46Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413896352",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26384#discussion_r1413898324"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26384"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413898324"
                }
            },
            "author_association": "MEMBER",
            "body": "what if `data[i-1] == '\\r'` ?",
            "commit_id": "d3233c501e9070e0e59cdc1b66a0e5f4265120f5",
            "created_at": "2023-12-04T13:49:08Z",
            "diff_hunk": "@@ -786,7 +788,23 @@ void terminal_receive(Terminal *term, const char *data, size_t len)\n     return;\n   }\n \n-  vterm_input_write(term->vt, data, len);\n+  if (term->opts.newline_conv) {\n+    StringBuilder crlf_data = KV_INITIAL_VALUE;\n+\n+    for (size_t i = 0; i < len; i++) {\n+      if (data[i] == '\\n') {",
            "html_url": "https://github.com/neovim/neovim/pull/26384#discussion_r1413898324",
            "id": 1413898324,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5URmBU",
            "original_commit_id": "8a442c0b835eef8edcfa71495140429c4b18737c",
            "original_line": 795,
            "original_position": 25,
            "original_start_line": null,
            "path": "src/nvim/terminal.c",
            "position": null,
            "pull_request_review_id": 1762444142,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26384",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413898324/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-04T13:49:09Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413898324",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26384#discussion_r1413901497"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26384"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413901497"
                }
            },
            "author_association": "MEMBER",
            "body": "https://github.com/neovim/neovim/issues/14557#issuecomment-1366194970 mentions that the default should be `true`. Why is it false in this PR?",
            "commit_id": "d3233c501e9070e0e59cdc1b66a0e5f4265120f5",
            "created_at": "2023-12-04T13:51:41Z",
            "diff_hunk": "@@ -985,9 +985,10 @@ Buffer nvim_create_buf(Boolean listed, Boolean scratch, Error *err)\n ///            as a \"\\r\", not as a \"\\n\". |textlock| applies. It is possible\n ///            to call |nvim_chan_send()| directly in the callback however.\n ///                 [\"input\", term, bufnr, data]\n+///          - newline_conv: (boolean, default false) Convert \"\\n\" to \"\\r\\n\".",
            "html_url": "https://github.com/neovim/neovim/pull/26384#discussion_r1413901497",
            "id": 1413901497,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5URmy5",
            "original_commit_id": "8a442c0b835eef8edcfa71495140429c4b18737c",
            "original_line": 988,
            "original_position": 4,
            "original_start_line": null,
            "path": "src/nvim/api/vim.c",
            "position": null,
            "pull_request_review_id": 1762449307,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26384",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413901497/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-04T13:51:41Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413901497",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26384#discussion_r1413902701"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26384"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413902701"
                }
            },
            "author_association": "MEMBER",
            "body": "No. It's output.",
            "commit_id": "d3233c501e9070e0e59cdc1b66a0e5f4265120f5",
            "created_at": "2023-12-04T13:52:41Z",
            "diff_hunk": "@@ -198,4 +198,18 @@ describe('no crash when TermOpen autocommand', function()\n     ]]}\n     assert_alive()\n   end)\n+\n+  it('convert newline when using nvim_open_term()', function()",
            "html_url": "https://github.com/neovim/neovim/pull/26384#discussion_r1413902701",
            "id": 1413902701,
            "in_reply_to_id": 1413896352,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5URnFt",
            "original_commit_id": "8a442c0b835eef8edcfa71495140429c4b18737c",
            "original_line": 202,
            "original_position": 5,
            "original_start_line": null,
            "path": "test/functional/terminal/channel_spec.lua",
            "position": null,
            "pull_request_review_id": 1762451286,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26384",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413902701/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-04T13:53:26Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1413902701",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26384#discussion_r1414938204"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26384"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1414938204"
                }
            },
            "author_association": "MEMBER",
            "body": "see this comment https://github.com/neovim/neovim/pull/26384#discussion_r1413784935",
            "commit_id": "d3233c501e9070e0e59cdc1b66a0e5f4265120f5",
            "created_at": "2023-12-05T06:27:57Z",
            "diff_hunk": "@@ -985,9 +985,10 @@ Buffer nvim_create_buf(Boolean listed, Boolean scratch, Error *err)\n ///            as a \"\\r\", not as a \"\\n\". |textlock| applies. It is possible\n ///            to call |nvim_chan_send()| directly in the callback however.\n ///                 [\"input\", term, bufnr, data]\n+///          - newline_conv: (boolean, default false) Convert \"\\n\" to \"\\r\\n\".",
            "html_url": "https://github.com/neovim/neovim/pull/26384#discussion_r1414938204",
            "id": 1414938204,
            "in_reply_to_id": 1413901497,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5UVj5c",
            "original_commit_id": "8a442c0b835eef8edcfa71495140429c4b18737c",
            "original_line": 988,
            "original_position": 4,
            "original_start_line": null,
            "path": "src/nvim/api/vim.c",
            "position": null,
            "pull_request_review_id": 1764051128,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26384",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1414938204/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-05T06:27:58Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1414938204",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
                "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
                "followers_url": "https://api.github.com/users/glepnir/followers",
                "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
                "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glepnir",
                "id": 41671631,
                "login": "glepnir",
                "node_id": "MDQ6VXNlcjQxNjcxNjMx",
                "organizations_url": "https://api.github.com/users/glepnir/orgs",
                "received_events_url": "https://api.github.com/users/glepnir/received_events",
                "repos_url": "https://api.github.com/users/glepnir/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glepnir"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26384#discussion_r1415119525"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26384"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1415119525"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n• Added \"force_crlf\" option field in |nvim_open_term()|.\r\n```",
            "commit_id": "d3233c501e9070e0e59cdc1b66a0e5f4265120f5",
            "created_at": "2023-12-05T08:26:12Z",
            "diff_hunk": "@@ -331,6 +331,8 @@ The following changes to existing APIs or features add new behavior.\n \n • |vim.wait()| is no longer allowed to be called in |api-fast|.\n \n+• Added \"newline_conv\" option field in |nvim_open_term()|.",
            "html_url": "https://github.com/neovim/neovim/pull/26384#discussion_r1415119525",
            "id": 1415119525,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5UWQKl",
            "original_commit_id": "a0a409945d548134389e9eea44868cfcb4cf3237",
            "original_line": 334,
            "original_position": 4,
            "original_start_line": null,
            "path": "runtime/doc/news.txt",
            "position": null,
            "pull_request_review_id": 1764335223,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26384",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1415119525/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-05T08:26:13Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1415119525",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26384#discussion_r1415621751"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26384"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1415621751"
                }
            },
            "author_association": "MEMBER",
            "body": "I think we should try it. It was already broken, this likely improves more than it breaks. \r\n\r\n@zeertzjq any strong objection?",
            "commit_id": "d3233c501e9070e0e59cdc1b66a0e5f4265120f5",
            "created_at": "2023-12-05T13:33:54Z",
            "diff_hunk": "@@ -985,9 +985,10 @@ Buffer nvim_create_buf(Boolean listed, Boolean scratch, Error *err)\n ///            as a \"\\r\", not as a \"\\n\". |textlock| applies. It is possible\n ///            to call |nvim_chan_send()| directly in the callback however.\n ///                 [\"input\", term, bufnr, data]\n+///          - newline_conv: (boolean, default false) Convert \"\\n\" to \"\\r\\n\".",
            "html_url": "https://github.com/neovim/neovim/pull/26384#discussion_r1415621751",
            "id": 1415621751,
            "in_reply_to_id": 1413901497,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5UYKx3",
            "original_commit_id": "8a442c0b835eef8edcfa71495140429c4b18737c",
            "original_line": 988,
            "original_position": 4,
            "original_start_line": null,
            "path": "src/nvim/api/vim.c",
            "position": null,
            "pull_request_review_id": 1765095930,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26384",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1415621751/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-05T13:33:54Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1415621751",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26384#discussion_r1415649020"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26384"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1415649020"
                }
            },
            "author_association": "MEMBER",
            "body": "also test the result of sending `\\r\\n`. (don't add another it() block, just add another case to this test.)\r\n\r\nperhaps also worth thinking about other edge cases such as `\\n\\n`. please think about edge cases for all future PRs, it should be a common practice.",
            "commit_id": "d3233c501e9070e0e59cdc1b66a0e5f4265120f5",
            "created_at": "2023-12-05T13:52:45Z",
            "diff_hunk": "@@ -198,4 +198,18 @@ describe('no crash when TermOpen autocommand', function()\n     ]]}\n     assert_alive()\n   end)\n+\n+  it('convert newline when using nvim_open_term()', function()\n+    local buf = meths.create_buf(false, true)\n+    local win = meths.get_current_win()\n+    local term = meths.open_term(buf, {force_crlf = true})\n+    meths.win_set_buf(win, buf)\n+    meths.chan_send(term, 'here\\nthere')",
            "html_url": "https://github.com/neovim/neovim/pull/26384#discussion_r1415649020",
            "id": 1415649020,
            "line": 238,
            "node_id": "PRRC_kwDOAPphoM5UYRb8",
            "original_commit_id": "4952766d916c526772b1d23c303fd5ef9b73af65",
            "original_line": 238,
            "original_position": 10,
            "original_start_line": null,
            "path": "test/functional/terminal/channel_spec.lua",
            "position": 41,
            "pull_request_review_id": 1765136002,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26384",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1415649020/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-05T13:57:21Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1415649020",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26384#discussion_r1416718767"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26384"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1416718767"
                }
            },
            "author_association": "MEMBER",
            "body": "test case updated.",
            "commit_id": "d3233c501e9070e0e59cdc1b66a0e5f4265120f5",
            "created_at": "2023-12-06T06:05:08Z",
            "diff_hunk": "@@ -198,4 +198,18 @@ describe('no crash when TermOpen autocommand', function()\n     ]]}\n     assert_alive()\n   end)\n+\n+  it('convert newline when using nvim_open_term()', function()\n+    local buf = meths.create_buf(false, true)\n+    local win = meths.get_current_win()\n+    local term = meths.open_term(buf, {force_crlf = true})\n+    meths.win_set_buf(win, buf)\n+    meths.chan_send(term, 'here\\nthere')",
            "html_url": "https://github.com/neovim/neovim/pull/26384#discussion_r1416718767",
            "id": 1416718767,
            "in_reply_to_id": 1415649020,
            "line": 238,
            "node_id": "PRRC_kwDOAPphoM5UcWmv",
            "original_commit_id": "4952766d916c526772b1d23c303fd5ef9b73af65",
            "original_line": 238,
            "original_position": 10,
            "original_start_line": null,
            "path": "test/functional/terminal/channel_spec.lua",
            "position": 41,
            "pull_request_review_id": 1766720580,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26384",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1416718767/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-06T06:05:08Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1416718767",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
                "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
                "followers_url": "https://api.github.com/users/glepnir/followers",
                "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
                "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glepnir",
                "id": 41671631,
                "login": "glepnir",
                "node_id": "MDQ6VXNlcjQxNjcxNjMx",
                "organizations_url": "https://api.github.com/users/glepnir/orgs",
                "received_events_url": "https://api.github.com/users/glepnir/received_events",
                "repos_url": "https://api.github.com/users/glepnir/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glepnir"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26384#discussion_r1417156276"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26384"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1417156276"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n  it('nvim_open_term({force_crlf=true}) converts newlines', function()\r\n```",
            "commit_id": "d3233c501e9070e0e59cdc1b66a0e5f4265120f5",
            "created_at": "2023-12-06T11:45:29Z",
            "diff_hunk": "@@ -198,4 +198,64 @@ describe('no crash when TermOpen autocommand', function()\n     ]]}\n     assert_alive()\n   end)\n+\n+  it('convert newline when using nvim_open_term()', function()",
            "html_url": "https://github.com/neovim/neovim/pull/26384#discussion_r1417156276",
            "id": 1417156276,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5UeBa0",
            "original_commit_id": "23725184e4a16ec672e72c8e99689cc69bb47d51",
            "original_line": 202,
            "original_position": 5,
            "original_start_line": null,
            "path": "test/functional/terminal/channel_spec.lua",
            "position": null,
            "pull_request_review_id": 1767350268,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26384",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1417156276/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-06T11:45:29Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1417156276",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26384#discussion_r1417158819"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26384"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1417158819"
                }
            },
            "author_association": "MEMBER",
            "body": "can't all (or most) of these cases be sent in one chan_send, then tested with a single screen:expect?\r\n\r\nalso need a test case for `force_crlf=false`.",
            "commit_id": "d3233c501e9070e0e59cdc1b66a0e5f4265120f5",
            "created_at": "2023-12-06T11:48:01Z",
            "diff_hunk": "@@ -198,4 +198,64 @@ describe('no crash when TermOpen autocommand', function()\n     ]]}\n     assert_alive()\n   end)\n+\n+  it('nvim_open_term({force_crlf=true}) converts newlines', function()\n+    local buf = meths.create_buf(false, true)\n+    local win = meths.get_current_win()\n+    local term = meths.open_term(buf, {force_crlf = true})\n+    screen:try_resize(8, 10)\n+    meths.win_set_buf(win, buf)\n+    meths.chan_send(term, 'here\\nthere\\n')\n+    screen:expect{grid=[[\n+      ^here        |\n+      there       |\n+                  |\n+      {0:~           }|\n+      {0:~           }|\n+      {0:~           }|\n+      {0:~           }|\n+      {0:~           }|\n+      {0:~           }|\n+                  |\n+    ]]}\n+    meths.chan_send(term, 'foo\\r\\nbar\\n')",
            "html_url": "https://github.com/neovim/neovim/pull/26384#discussion_r1417158819",
            "id": 1417158819,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5UeCCj",
            "original_commit_id": "33c57bd7fa1770e1caa796508c9ed5cc0d722903",
            "original_line": 221,
            "original_position": 24,
            "original_start_line": null,
            "path": "test/functional/terminal/channel_spec.lua",
            "position": null,
            "pull_request_review_id": 1767354274,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26384",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1417158819/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-06T11:48:02Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1417158819",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26384#discussion_r1417168741"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26384"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1417168741"
                }
            },
            "author_association": "MEMBER",
            "body": "can be in one channel .but still need a test case for first is \\n in single send.",
            "commit_id": "d3233c501e9070e0e59cdc1b66a0e5f4265120f5",
            "created_at": "2023-12-06T11:57:21Z",
            "diff_hunk": "@@ -198,4 +198,64 @@ describe('no crash when TermOpen autocommand', function()\n     ]]}\n     assert_alive()\n   end)\n+\n+  it('nvim_open_term({force_crlf=true}) converts newlines', function()\n+    local buf = meths.create_buf(false, true)\n+    local win = meths.get_current_win()\n+    local term = meths.open_term(buf, {force_crlf = true})\n+    screen:try_resize(8, 10)\n+    meths.win_set_buf(win, buf)\n+    meths.chan_send(term, 'here\\nthere\\n')\n+    screen:expect{grid=[[\n+      ^here        |\n+      there       |\n+                  |\n+      {0:~           }|\n+      {0:~           }|\n+      {0:~           }|\n+      {0:~           }|\n+      {0:~           }|\n+      {0:~           }|\n+                  |\n+    ]]}\n+    meths.chan_send(term, 'foo\\r\\nbar\\n')",
            "html_url": "https://github.com/neovim/neovim/pull/26384#discussion_r1417168741",
            "id": 1417168741,
            "in_reply_to_id": 1417158819,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5UeEdl",
            "original_commit_id": "33c57bd7fa1770e1caa796508c9ed5cc0d722903",
            "original_line": 221,
            "original_position": 24,
            "original_start_line": null,
            "path": "test/functional/terminal/channel_spec.lua",
            "position": null,
            "pull_request_review_id": 1767370092,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26384",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1417168741/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-06T11:58:15Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1417168741",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
                "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
                "followers_url": "https://api.github.com/users/glepnir/followers",
                "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
                "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glepnir",
                "id": 41671631,
                "login": "glepnir",
                "node_id": "MDQ6VXNlcjQxNjcxNjMx",
                "organizations_url": "https://api.github.com/users/glepnir/orgs",
                "received_events_url": "https://api.github.com/users/glepnir/received_events",
                "repos_url": "https://api.github.com/users/glepnir/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glepnir"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26384#discussion_r1419142918"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26384"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1419142918"
                }
            },
            "author_association": "MEMBER",
            "body": "`GET_BOOL_OR_TRUE`",
            "commit_id": "d3233c501e9070e0e59cdc1b66a0e5f4265120f5",
            "created_at": "2023-12-07T15:26:55Z",
            "diff_hunk": "@@ -1020,6 +1020,7 @@ Integer nvim_open_term(Buffer buffer, Dict(open_term) *opts, Error *err)\n     .write_cb = term_write,\n     .resize_cb = term_resize,\n     .close_cb = term_close,\n+    .force_crlf = HAS_KEY(opts, open_term, force_crlf) ? opts->force_crlf : true,",
            "html_url": "https://github.com/neovim/neovim/pull/26384#discussion_r1419142918",
            "id": 1419142918,
            "line": 1023,
            "node_id": "PRRC_kwDOAPphoM5UlmcG",
            "original_commit_id": "d3233c501e9070e0e59cdc1b66a0e5f4265120f5",
            "original_line": 1023,
            "original_position": 20,
            "original_start_line": null,
            "path": "src/nvim/api/vim.c",
            "position": 20,
            "pull_request_review_id": 1770423403,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26384",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1419142918/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-07T15:26:55Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1419142918",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        }
    ],
    "comment_regular_data": [
        {
            "author_association": "MEMBER",
            "body": "Missing a clear, concise problem/solution statement. Here is a suggestion:\r\n\r\n```\r\nProblem:\r\nUnlike termopen(), nvim_open_term() PTYs do not carriage-return the\r\ncursor on newline (\"\\n\") input.\r\n\r\n    nvim -u NORC\r\n    :let chan_id = nvim_open_term(1, {})\r\n    :call chansend(chan_id, [\"here\", \"are\", \"some\", \"lines\"])\r\n\r\nActual behavior:\r\n\r\n    here\r\n        are\r\n           some\r\n               lines\r\n\r\nExpected behaviour:\r\n\r\n    here\r\n    are\r\n    some\r\n    lines\r\n\r\nSolution:\r\nAdd `force_crlf` option, and enable it by default.\r\n```",
            "created_at": "2023-12-07T15:45:12Z",
            "html_url": "https://github.com/neovim/neovim/pull/26384#issuecomment-1845582340",
            "id": 1845582340,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26384",
            "node_id": "IC_kwDOAPphoM5uAVoE",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1845582340/reactions"
            },
            "updated_at": "2023-12-07T15:45:12Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1845582340",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        }
    ],
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/26384/comments",
    "commits_url": "https://api.github.com/repos/neovim/neovim/pulls/26384/commits",
    "created_at": "2023-12-04T11:08:40Z",
    "diff_url": "https://github.com/neovim/neovim/pull/26384.diff",
    "draft": false,
    "head": {
        "label": "glepnir:14557",
        "ref": "14557",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/glepnir/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/glepnir/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/glepnir/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/glepnir/neovim/branches{/branch}",
            "clone_url": "https://github.com/glepnir/neovim.git",
            "collaborators_url": "https://api.github.com/repos/glepnir/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/glepnir/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/glepnir/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/glepnir/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/glepnir/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/glepnir/neovim/contributors",
            "created_at": "2022-07-17T05:15:58Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/glepnir/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/glepnir/neovim/downloads",
            "events_url": "https://api.github.com/repos/glepnir/neovim/events",
            "fork": true,
            "forks": 0,
            "forks_count": 0,
            "forks_url": "https://api.github.com/repos/glepnir/neovim/forks",
            "full_name": "glepnir/neovim",
            "git_commits_url": "https://api.github.com/repos/glepnir/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/glepnir/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/glepnir/neovim/git/tags{/sha}",
            "git_url": "git://github.com/glepnir/neovim.git",
            "has_discussions": false,
            "has_downloads": true,
            "has_issues": false,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/glepnir/neovim/hooks",
            "html_url": "https://github.com/glepnir/neovim",
            "id": 514752985,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/glepnir/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/glepnir/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/glepnir/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/glepnir/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/glepnir/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/glepnir/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/glepnir/neovim/merges",
            "milestones_url": "https://api.github.com/repos/glepnir/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "R_kgDOHq6B2Q",
            "notifications_url": "https://api.github.com/repos/glepnir/neovim/notifications{?since,all,participating}",
            "open_issues": 0,
            "open_issues_count": 0,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
                "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
                "followers_url": "https://api.github.com/users/glepnir/followers",
                "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
                "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glepnir",
                "id": 41671631,
                "login": "glepnir",
                "node_id": "MDQ6VXNlcjQxNjcxNjMx",
                "organizations_url": "https://api.github.com/users/glepnir/orgs",
                "received_events_url": "https://api.github.com/users/glepnir/received_events",
                "repos_url": "https://api.github.com/users/glepnir/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glepnir"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/glepnir/neovim/pulls{/number}",
            "pushed_at": "2023-12-07T05:14:21Z",
            "releases_url": "https://api.github.com/repos/glepnir/neovim/releases{/id}",
            "size": 238199,
            "ssh_url": "git@github.com:glepnir/neovim.git",
            "stargazers_count": 1,
            "stargazers_url": "https://api.github.com/repos/glepnir/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/glepnir/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/glepnir/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/glepnir/neovim/subscription",
            "svn_url": "https://github.com/glepnir/neovim",
            "tags_url": "https://api.github.com/repos/glepnir/neovim/tags",
            "teams_url": "https://api.github.com/repos/glepnir/neovim/teams",
            "topics": [],
            "trees_url": "https://api.github.com/repos/glepnir/neovim/git/trees{/sha}",
            "updated_at": "2023-06-29T15:12:56Z",
            "url": "https://api.github.com/repos/glepnir/neovim",
            "visibility": "public",
            "watchers": 1,
            "watchers_count": 1,
            "web_commit_signoff_required": false
        },
        "sha": "d3233c501e9070e0e59cdc1b66a0e5f4265120f5",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
            "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
            "followers_url": "https://api.github.com/users/glepnir/followers",
            "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
            "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/glepnir",
            "id": 41671631,
            "login": "glepnir",
            "node_id": "MDQ6VXNlcjQxNjcxNjMx",
            "organizations_url": "https://api.github.com/users/glepnir/orgs",
            "received_events_url": "https://api.github.com/users/glepnir/received_events",
            "repos_url": "https://api.github.com/users/glepnir/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/glepnir"
        }
    },
    "html_url": "https://github.com/neovim/neovim/pull/26384",
    "id": 1628068544,
    "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26384",
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": "libnvim, Nvim RPC API",
            "id": 103819671,
            "name": "api",
            "node_id": "MDU6TGFiZWwxMDM4MTk2NzE=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/api"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "built-in :terminal or :shell",
            "id": 212696822,
            "name": "terminal",
            "node_id": "MDU6TGFiZWwyMTI2OTY4MjI=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/terminal"
        }
    ],
    "locked": false,
    "merge_commit_sha": "d16f52a5122cfda7a22953afa48b5538f6dbb1db",
    "merged_at": null,
    "milestone": null,
    "node_id": "PR_kwDOAPphoM5hClrA",
    "number": 26384,
    "patch_url": "https://github.com/neovim/neovim/pull/26384.patch",
    "requested_reviewers": [
        {
            "avatar_url": "https://avatars.githubusercontent.com/u/29580810?v=4",
            "events_url": "https://api.github.com/users/famiu/events{/privacy}",
            "followers_url": "https://api.github.com/users/famiu/followers",
            "following_url": "https://api.github.com/users/famiu/following{/other_user}",
            "gists_url": "https://api.github.com/users/famiu/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/famiu",
            "id": 29580810,
            "login": "famiu",
            "node_id": "MDQ6VXNlcjI5NTgwODEw",
            "organizations_url": "https://api.github.com/users/famiu/orgs",
            "received_events_url": "https://api.github.com/users/famiu/received_events",
            "repos_url": "https://api.github.com/users/famiu/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/famiu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/famiu/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/famiu"
        }
    ],
    "requested_teams": [],
    "review_comment_url": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}",
    "review_comments_url": "https://api.github.com/repos/neovim/neovim/pulls/26384/comments",
    "state": "open",
    "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/d3233c501e9070e0e59cdc1b66a0e5f4265120f5",
    "title": "feat(nvim_open_term): convert LF => CRLF",
    "updated_at": "2023-12-07T15:47:11Z",
    "url": "https://api.github.com/repos/neovim/neovim/pulls/26384",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
        "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
        "followers_url": "https://api.github.com/users/glepnir/followers",
        "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
        "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/glepnir",
        "id": 41671631,
        "login": "glepnir",
        "node_id": "MDQ6VXNlcjQxNjcxNjMx",
        "organizations_url": "https://api.github.com/users/glepnir/orgs",
        "received_events_url": "https://api.github.com/users/glepnir/received_events",
        "repos_url": "https://api.github.com/users/glepnir/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/glepnir"
    }
}