{
    "_links": {
        "comments": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/24524/comments"
        },
        "commits": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/24524/commits"
        },
        "html": {
            "href": "https://github.com/neovim/neovim/pull/24524"
        },
        "issue": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/24524"
        },
        "review_comment": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}"
        },
        "review_comments": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/24524/comments"
        },
        "self": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/24524"
        },
        "statuses": {
            "href": "https://api.github.com/repos/neovim/neovim/statuses/51c754b62e795c49cfcf9df3ab492bdd53c61482"
        }
    },
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "auto_merge": null,
    "base": {
        "label": "neovim:master",
        "ref": "master",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/neovim/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/neovim/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/neovim/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/neovim/neovim/branches{/branch}",
            "clone_url": "https://github.com/neovim/neovim.git",
            "collaborators_url": "https://api.github.com/repos/neovim/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/neovim/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/neovim/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/neovim/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/neovim/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/neovim/neovim/contributors",
            "created_at": "2014-01-31T13:39:22Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/neovim/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/neovim/neovim/downloads",
            "events_url": "https://api.github.com/repos/neovim/neovim/events",
            "fork": false,
            "forks": 4804,
            "forks_count": 4804,
            "forks_url": "https://api.github.com/repos/neovim/neovim/forks",
            "full_name": "neovim/neovim",
            "git_commits_url": "https://api.github.com/repos/neovim/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/neovim/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/neovim/neovim/git/tags{/sha}",
            "git_url": "git://github.com/neovim/neovim.git",
            "has_discussions": true,
            "has_downloads": true,
            "has_issues": true,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/neovim/neovim/hooks",
            "html_url": "https://github.com/neovim/neovim",
            "id": 16408992,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/neovim/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/neovim/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/neovim/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/neovim/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/neovim/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/neovim/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/neovim/neovim/merges",
            "milestones_url": "https://api.github.com/repos/neovim/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "MDEwOlJlcG9zaXRvcnkxNjQwODk5Mg==",
            "notifications_url": "https://api.github.com/repos/neovim/neovim/notifications{?since,all,participating}",
            "open_issues": 1656,
            "open_issues_count": 1656,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
                "events_url": "https://api.github.com/users/neovim/events{/privacy}",
                "followers_url": "https://api.github.com/users/neovim/followers",
                "following_url": "https://api.github.com/users/neovim/following{/other_user}",
                "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/neovim",
                "id": 6471485,
                "login": "neovim",
                "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
                "organizations_url": "https://api.github.com/users/neovim/orgs",
                "received_events_url": "https://api.github.com/users/neovim/received_events",
                "repos_url": "https://api.github.com/users/neovim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
                "type": "Organization",
                "url": "https://api.github.com/users/neovim"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/neovim/neovim/pulls{/number}",
            "pushed_at": "2023-08-07T21:11:36Z",
            "releases_url": "https://api.github.com/repos/neovim/neovim/releases{/id}",
            "size": 247360,
            "ssh_url": "git@github.com:neovim/neovim.git",
            "stargazers_count": 68187,
            "stargazers_url": "https://api.github.com/repos/neovim/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/neovim/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/neovim/neovim/subscription",
            "svn_url": "https://github.com/neovim/neovim",
            "tags_url": "https://api.github.com/repos/neovim/neovim/tags",
            "teams_url": "https://api.github.com/repos/neovim/neovim/teams",
            "topics": [
                "api",
                "c",
                "lua",
                "neovim",
                "nvim",
                "text-editor",
                "vim"
            ],
            "trees_url": "https://api.github.com/repos/neovim/neovim/git/trees{/sha}",
            "updated_at": "2023-08-08T01:55:40Z",
            "url": "https://api.github.com/repos/neovim/neovim",
            "visibility": "public",
            "watchers": 68187,
            "watchers_count": 68187,
            "web_commit_signoff_required": false
        },
        "sha": "ef44e597294e4d0d9128ef69b6aa7481a54e17cb",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
            "events_url": "https://api.github.com/users/neovim/events{/privacy}",
            "followers_url": "https://api.github.com/users/neovim/followers",
            "following_url": "https://api.github.com/users/neovim/following{/other_user}",
            "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/neovim",
            "id": 6471485,
            "login": "neovim",
            "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
            "organizations_url": "https://api.github.com/users/neovim/orgs",
            "received_events_url": "https://api.github.com/users/neovim/received_events",
            "repos_url": "https://api.github.com/users/neovim/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
            "type": "Organization",
            "url": "https://api.github.com/users/neovim"
        }
    },
    "body": "Initially this is just for geting rid of boilerplate, but eventually the types could get exposed as metadata",
    "closed_at": "2023-08-07T12:42:25Z",
    "comment_data": [
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/24524#discussion_r1280608048"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/24524"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1280608048"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n#define GET_BOOL_OR_TRUE(d, typ, key) (HAS_KEY2(d, typ, key) ? d->key : true)\r\n```",
            "commit_id": "51c754b62e795c49cfcf9df3ab492bdd53c61482",
            "created_at": "2023-08-01T13:03:10Z",
            "diff_hunk": "@@ -66,6 +66,10 @@\n // currently treat key=vim.NIL as if the key was missing\n #define HAS_KEY(o) ((o).type != kObjectTypeNil)\n \n+#define HAS_KEY2(d, typ, key) ((d->is_set_ & (1 << KEYSET_OPTIDX_ ## typ ## __ ## key)) != 0)\n+\n+#define GET_BOOL_DEFAULT_TRUE(d, typ, key) (HAS_KEY2(d, typ, key) ? d->key : true)",
            "html_url": "https://github.com/neovim/neovim/pull/24524#discussion_r1280608048",
            "id": 1280608048,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5MVIcw",
            "original_commit_id": "37d256dbe0b9278799ad7c6c447281c61f971a01",
            "original_line": 71,
            "original_position": 6,
            "original_start_line": null,
            "path": "src/nvim/api/private/helpers.h",
            "position": null,
            "pull_request_review_id": 1556950000,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/24524",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1280608048/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-08-01T13:03:11Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1280608048",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/24524#discussion_r1281760389"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/24524"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1281760389"
                }
            },
            "author_association": "MEMBER",
            "body": "LuaLs can't analyse this properly so I usually write this as:\r\n\r\n```suggestion\r\n    local name, keys, types = keyset[1], keyset[2], keyset[3]\r\n```",
            "commit_id": "51c754b62e795c49cfcf9df3ab492bdd53c61482",
            "created_at": "2023-08-02T11:14:15Z",
            "diff_hunk": "@@ -264,15 +264,15 @@ local function get_api_keysets()\n   local keysets = metadata.keysets\n \n   for _, keyset in ipairs(keysets) do\n-    local kname = keyset[1]\n-    local kdef = keyset[2]\n-    for _, field in ipairs(kdef) do\n-      field[2] = api_type(field[2])\n+    local name, keys, types = unpack(keyset)",
            "html_url": "https://github.com/neovim/neovim/pull/24524#discussion_r1281760389",
            "id": 1281760389,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5MZhyF",
            "original_commit_id": "c0a32e7185d8885e9b831a83381fd1d141a4a181",
            "original_line": 267,
            "original_position": 8,
            "original_start_line": null,
            "path": "scripts/gen_eval_files.lua",
            "position": null,
            "pull_request_review_id": 1558776611,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/24524",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1281760389/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-08-02T11:14:16Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1281760389",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/24524#discussion_r1282361576"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/24524"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1282361576"
                }
            },
            "author_association": "MEMBER",
            "body": "shouldn't luals be fixed then? This is a fundamental pattern of the language.",
            "commit_id": "51c754b62e795c49cfcf9df3ab492bdd53c61482",
            "created_at": "2023-08-02T19:59:27Z",
            "diff_hunk": "@@ -264,15 +264,15 @@ local function get_api_keysets()\n   local keysets = metadata.keysets\n \n   for _, keyset in ipairs(keysets) do\n-    local kname = keyset[1]\n-    local kdef = keyset[2]\n-    for _, field in ipairs(kdef) do\n-      field[2] = api_type(field[2])\n+    local name, keys, types = unpack(keyset)",
            "html_url": "https://github.com/neovim/neovim/pull/24524#discussion_r1282361576",
            "id": 1282361576,
            "in_reply_to_id": 1281760389,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5Mb0jo",
            "original_commit_id": "c0a32e7185d8885e9b831a83381fd1d141a4a181",
            "original_line": 267,
            "original_position": 8,
            "original_start_line": null,
            "path": "scripts/gen_eval_files.lua",
            "position": null,
            "pull_request_review_id": 1559751926,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/24524",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1282361576/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-08-02T19:59:27Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1282361576",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1363104?v=4",
                "events_url": "https://api.github.com/users/bfredl/events{/privacy}",
                "followers_url": "https://api.github.com/users/bfredl/followers",
                "following_url": "https://api.github.com/users/bfredl/following{/other_user}",
                "gists_url": "https://api.github.com/users/bfredl/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/bfredl",
                "id": 1363104,
                "login": "bfredl",
                "node_id": "MDQ6VXNlcjEzNjMxMDQ=",
                "organizations_url": "https://api.github.com/users/bfredl/orgs",
                "received_events_url": "https://api.github.com/users/bfredl/received_events",
                "repos_url": "https://api.github.com/users/bfredl/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/bfredl/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/bfredl/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/bfredl"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/24524#discussion_r1282367009"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/24524"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1282367009"
                }
            },
            "author_association": "MEMBER",
            "body": "Maybe it should be but currently it doesn't work.\n\nAnd if I understand correctly, that pattern would break\n\n```lua\na, b, c = unpack({1, nil, 2})\n```\n\nAs `c` would be assigned `nil`",
            "commit_id": "51c754b62e795c49cfcf9df3ab492bdd53c61482",
            "created_at": "2023-08-02T20:05:53Z",
            "diff_hunk": "@@ -264,15 +264,15 @@ local function get_api_keysets()\n   local keysets = metadata.keysets\n \n   for _, keyset in ipairs(keysets) do\n-    local kname = keyset[1]\n-    local kdef = keyset[2]\n-    for _, field in ipairs(kdef) do\n-      field[2] = api_type(field[2])\n+    local name, keys, types = unpack(keyset)",
            "html_url": "https://github.com/neovim/neovim/pull/24524#discussion_r1282367009",
            "id": 1282367009,
            "in_reply_to_id": 1281760389,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5Mb14h",
            "original_commit_id": "c0a32e7185d8885e9b831a83381fd1d141a4a181",
            "original_line": 267,
            "original_position": 8,
            "original_start_line": null,
            "path": "scripts/gen_eval_files.lua",
            "position": null,
            "pull_request_review_id": 1559760770,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/24524",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1282367009/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-08-02T20:05:54Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1282367009",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/24524#discussion_r1282383363"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/24524"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1282383363"
                }
            },
            "author_association": "MEMBER",
            "body": "Yes, so we don't do that.  Not using unpack negates the point of using tuple packing in the first place. Where more structure is needed I would switch to named keys instead.",
            "commit_id": "51c754b62e795c49cfcf9df3ab492bdd53c61482",
            "created_at": "2023-08-02T20:22:43Z",
            "diff_hunk": "@@ -264,15 +264,15 @@ local function get_api_keysets()\n   local keysets = metadata.keysets\n \n   for _, keyset in ipairs(keysets) do\n-    local kname = keyset[1]\n-    local kdef = keyset[2]\n-    for _, field in ipairs(kdef) do\n-      field[2] = api_type(field[2])\n+    local name, keys, types = unpack(keyset)",
            "html_url": "https://github.com/neovim/neovim/pull/24524#discussion_r1282383363",
            "id": 1282383363,
            "in_reply_to_id": 1281760389,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5Mb54D",
            "original_commit_id": "c0a32e7185d8885e9b831a83381fd1d141a4a181",
            "original_line": 267,
            "original_position": 8,
            "original_start_line": null,
            "path": "scripts/gen_eval_files.lua",
            "position": null,
            "pull_request_review_id": 1559786709,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/24524",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1282383363/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-08-02T20:22:43Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1282383363",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1363104?v=4",
                "events_url": "https://api.github.com/users/bfredl/events{/privacy}",
                "followers_url": "https://api.github.com/users/bfredl/followers",
                "following_url": "https://api.github.com/users/bfredl/following{/other_user}",
                "gists_url": "https://api.github.com/users/bfredl/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/bfredl",
                "id": 1363104,
                "login": "bfredl",
                "node_id": "MDQ6VXNlcjEzNjMxMDQ=",
                "organizations_url": "https://api.github.com/users/bfredl/orgs",
                "received_events_url": "https://api.github.com/users/bfredl/received_events",
                "repos_url": "https://api.github.com/users/bfredl/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/bfredl/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/bfredl/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/bfredl"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/24524#discussion_r1282387644"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/24524"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1282387644"
                }
            },
            "author_association": "MEMBER",
            "body": "This is clearly a hill you're going to die on.\n\nGo ahead and disregard my comment.",
            "commit_id": "51c754b62e795c49cfcf9df3ab492bdd53c61482",
            "created_at": "2023-08-02T20:27:48Z",
            "diff_hunk": "@@ -264,15 +264,15 @@ local function get_api_keysets()\n   local keysets = metadata.keysets\n \n   for _, keyset in ipairs(keysets) do\n-    local kname = keyset[1]\n-    local kdef = keyset[2]\n-    for _, field in ipairs(kdef) do\n-      field[2] = api_type(field[2])\n+    local name, keys, types = unpack(keyset)",
            "html_url": "https://github.com/neovim/neovim/pull/24524#discussion_r1282387644",
            "id": 1282387644,
            "in_reply_to_id": 1281760389,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5Mb668",
            "original_commit_id": "c0a32e7185d8885e9b831a83381fd1d141a4a181",
            "original_line": 267,
            "original_position": 8,
            "original_start_line": null,
            "path": "scripts/gen_eval_files.lua",
            "position": null,
            "pull_request_review_id": 1559793542,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/24524",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1282387644/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-08-02T20:27:48Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1282387644",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/24524#discussion_r1282478663"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/24524"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1282478663"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n  });\r\n  #undef HAS_KEY_X\r\n```",
            "commit_id": "51c754b62e795c49cfcf9df3ab492bdd53c61482",
            "created_at": "2023-08-02T22:38:02Z",
            "diff_hunk": "@@ -44,51 +42,40 @@ static int validate_option_value_args(Dict(option) *opts, char *name, int *scope\n \n   *opt_type = SREQ_GLOBAL;\n \n-  if (filetype != NULL && HAS_KEY(opts->filetype)) {\n-    VALIDATE_T(\"scope\", kObjectTypeString, opts->filetype.type, {\n-      return FAIL;\n-    });\n-\n-    *filetype = opts->filetype.data.string.data;\n+  if (filetype != NULL && HAS_KEY_X(opts, filetype)) {\n+    *filetype = opts->filetype.data;\n   }\n \n-  if (HAS_KEY(opts->win)) {\n-    VALIDATE_T_HANDLE(\"win\", kObjectTypeWindow, opts->win.type, {\n-      return FAIL;\n-    });\n-\n+  if (HAS_KEY_X(opts, win)) {\n     *opt_type = SREQ_WIN;\n-    *from = find_window_by_handle((int)opts->win.data.integer, err);\n+    *from = find_window_by_handle(opts->win, err);\n     if (ERROR_SET(err)) {\n       return FAIL;\n     }\n   }\n \n-  if (HAS_KEY(opts->buf)) {\n-    VALIDATE_T_HANDLE(\"buf\", kObjectTypeBuffer, opts->buf.type, {\n-      return FAIL;\n-    });\n-\n+  if (HAS_KEY_X(opts, buf)) {\n     *scope = OPT_LOCAL;\n     *opt_type = SREQ_BUF;\n-    *from = find_buffer_by_handle((int)opts->buf.data.integer, err);\n+    *from = find_buffer_by_handle(opts->buf, err);\n     if (ERROR_SET(err)) {\n       return FAIL;\n     }\n   }\n \n-  VALIDATE((!HAS_KEY(opts->filetype)\n-            || !(HAS_KEY(opts->buf) || HAS_KEY(opts->scope) || HAS_KEY(opts->win))),\n+  VALIDATE((!HAS_KEY_X(opts, filetype)\n+            || !(HAS_KEY_X(opts, buf) || HAS_KEY_X(opts, scope) || HAS_KEY_X(opts, win))),\n            \"%s\", \"cannot use 'filetype' with 'scope', 'buf' or 'win'\", {\n     return FAIL;\n   });\n \n-  VALIDATE((!HAS_KEY(opts->scope) || !HAS_KEY(opts->buf)), \"%s\",\n+  VALIDATE((!HAS_KEY_X(opts, scope) || !HAS_KEY_X(opts, buf)), \"%s\",\n            \"cannot use both 'scope' and 'buf'\", {\n     return FAIL;\n   });\n \n-  VALIDATE((!HAS_KEY(opts->win) || !HAS_KEY(opts->buf)), \"%s\", \"cannot use both 'buf' and 'win'\", {\n+  VALIDATE((!HAS_KEY_X(opts, win) || !HAS_KEY_X(opts,\n+                                                buf)), \"%s\", \"cannot use both 'buf' and 'win'\", {\n     return FAIL;\n   });",
            "html_url": "https://github.com/neovim/neovim/pull/24524#discussion_r1282478663",
            "id": 1282478663,
            "line": 80,
            "node_id": "PRRC_kwDOAPphoM5McRJH",
            "original_commit_id": "923a2ad80e4f003bb4e38a1e1f9015fcae6626ed",
            "original_line": 80,
            "original_position": 88,
            "original_start_line": null,
            "path": "src/nvim/api/options.c",
            "position": 88,
            "pull_request_review_id": 1559933043,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/24524",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1282478663/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-08-02T22:38:02Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1282478663",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/24524#discussion_r1282501658"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/24524"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1282501658"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n      api_set_error(err, kErrorTypeValidation, \"Expected Lua %s\",\r\n```\r\n\r\n(I know some messages are inconsistent, but since we're already changing these...)\r\n",
            "commit_id": "51c754b62e795c49cfcf9df3ab492bdd53c61482",
            "created_at": "2023-08-02T23:27:55Z",
            "diff_hunk": "@@ -871,7 +871,8 @@ static inline LuaTableProps nlua_check_type(lua_State *const lstate, Error *cons\n {\n   if (lua_type(lstate, -1) != LUA_TTABLE) {\n     if (err) {\n-      api_set_error(err, kErrorTypeValidation, \"Expected lua table\");\n+      api_set_error(err, kErrorTypeValidation, \"Expected lua %s\",",
            "html_url": "https://github.com/neovim/neovim/pull/24524#discussion_r1282501658",
            "id": 1282501658,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5McWwa",
            "original_commit_id": "923a2ad80e4f003bb4e38a1e1f9015fcae6626ed",
            "original_line": 874,
            "original_position": 5,
            "original_start_line": null,
            "path": "src/nvim/lua/converter.c",
            "position": null,
            "pull_request_review_id": 1559965874,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/24524",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1282501658/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-08-02T23:30:28Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1282501658",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/24524#discussion_r1282501720"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/24524"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1282501720"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n      api_set_error(err, kErrorTypeValidation, \"Expected %s-like Lua table\", api_typename(type));\r\n```",
            "commit_id": "51c754b62e795c49cfcf9df3ab492bdd53c61482",
            "created_at": "2023-08-02T23:28:05Z",
            "diff_hunk": "@@ -884,7 +885,7 @@ static inline LuaTableProps nlua_check_type(lua_State *const lstate, Error *cons\n \n   if (table_props.type != type) {\n     if (err) {\n-      api_set_error(err, kErrorTypeValidation, \"Unexpected type\");\n+      api_set_error(err, kErrorTypeValidation, \"Expected %s-like lua table\", api_typename(type));",
            "html_url": "https://github.com/neovim/neovim/pull/24524#discussion_r1282501720",
            "id": 1282501720,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5McWxY",
            "original_commit_id": "923a2ad80e4f003bb4e38a1e1f9015fcae6626ed",
            "original_line": 888,
            "original_position": 15,
            "original_start_line": null,
            "path": "src/nvim/lua/converter.c",
            "position": null,
            "pull_request_review_id": 1559965981,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/24524",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1282501720/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-08-02T23:28:06Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1282501720",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/24524#discussion_r1285003358"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/24524"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1285003358"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n      api_set_error(err, kErrorTypeValidation, \"Invalid key: '%.*s' is only allowed from Lua\",\r\n```",
            "commit_id": "51c754b62e795c49cfcf9df3ab492bdd53c61482",
            "created_at": "2023-08-05T08:49:15Z",
            "diff_hunk": "@@ -915,17 +916,84 @@ HlMessage parse_hl_msg(Array chunks, Error *err)\n   return (HlMessage)KV_INITIAL_VALUE;\n }\n \n-bool api_dict_to_keydict(void *rv, field_hash hashy, Dictionary dict, Error *err)\n+// see also nlua_pop_keydict for the lua specific implementation\n+bool api_dict_to_keydict(void *retval, FieldHashfn hashy, Dictionary dict, Error *err)\n {\n   for (size_t i = 0; i < dict.size; i++) {\n     String k = dict.items[i].key;\n-    Object *field = hashy(rv, k.data, k.size);\n+    KeySetLink *field = hashy(k.data, k.size);\n     if (!field) {\n       api_set_error(err, kErrorTypeValidation, \"Invalid key: '%.*s'\", (int)k.size, k.data);\n       return false;\n     }\n \n-    *field = dict.items[i].value;\n+    if (field->opt_index >= 0) {\n+      OptKeySet *ks = (OptKeySet *)retval;\n+      ks->is_set_ |= (1ULL << field->opt_index);\n+    }\n+\n+    char *mem = ((char *)retval + field->ptr_off);\n+    Object *value = &dict.items[i].value;\n+    if (field->type == kObjectTypeNil) {\n+      *(Object *)mem = *value;\n+    } else if (field->type == kObjectTypeInteger) {\n+      VALIDATE_T(field->str, kObjectTypeInteger, value->type, {\n+        return false;\n+      });\n+      *(Integer *)mem = value->data.integer;\n+    } else if (field->type == kObjectTypeFloat) {\n+      Float *val = (Float *)mem;\n+      if (value->type == kObjectTypeInteger) {\n+        *val = (Float)value->data.integer;\n+      } else {\n+        VALIDATE_T(field->str, kObjectTypeFloat, value->type, {\n+          return false;\n+        });\n+        *val = value->data.floating;\n+      }\n+    } else if (field->type == kObjectTypeBoolean) {\n+      // caller should check HAS_KEY to override the nil behavior, or GET_BOOL_OR_TRUE\n+      // to directly use true when nil\n+      *(Boolean *)mem = api_object_to_bool(*value, field->str, false, err);\n+      if (ERROR_SET(err)) {\n+        return false;\n+      }\n+    } else if (field->type == kObjectTypeString) {\n+      VALIDATE_T(field->str, kObjectTypeString, value->type, {\n+        return false;\n+      });\n+      *(String *)mem = value->data.string;\n+    } else if (field->type == kObjectTypeArray) {\n+      VALIDATE_T(field->str, kObjectTypeArray, value->type, {\n+        return false;\n+      });\n+      *(Array *)mem = value->data.array;\n+    } else if (field->type == kObjectTypeDictionary) {\n+      Dictionary *val = (Dictionary *)mem;\n+      // allow empty array as empty dict for lua (directly or via lua-client RPC)\n+      if (value->type == kObjectTypeArray && value->data.array.size == 0) {\n+        *val = (Dictionary)ARRAY_DICT_INIT;\n+      } else if (value->type == kObjectTypeDictionary) {\n+        *val = value->data.dictionary;\n+      } else {\n+        api_err_exp(err, field->str, api_typename(field->type), api_typename(value->type));\n+        return false;\n+      }\n+    } else if (field->type == kObjectTypeBuffer || field->type == kObjectTypeWindow\n+               || field->type == kObjectTypeTabpage) {\n+      if (value->type == kObjectTypeInteger || value->type == field->type) {\n+        *(handle_T *)mem = (handle_T)value->data.integer;\n+      } else {\n+        api_err_exp(err, field->str, api_typename(field->type), api_typename(value->type));\n+        return false;\n+      }\n+    } else if (field->type == kObjectTypeLuaRef) {\n+      api_set_error(err, kErrorTypeValidation, \"Invalid key: '%.*s' is only allowed from lua\",",
            "html_url": "https://github.com/neovim/neovim/pull/24524#discussion_r1285003358",
            "id": 1285003358,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5Ml5he",
            "original_commit_id": "c3a5a7134ab5af1e7fece71d10ff6b3baedf6475",
            "original_line": 991,
            "original_position": 87,
            "original_start_line": null,
            "path": "src/nvim/api/private/helpers.c",
            "position": null,
            "pull_request_review_id": 1563828410,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/24524",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1285003358/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-08-05T08:50:15Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1285003358",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        }
    ],
    "comment_regular_data": [
        {
            "author_association": "MEMBER",
            "body": "This should automagically work with  https://github.com/neovim/neovim/pull/24523 (more or less)",
            "created_at": "2023-08-01T12:43:57Z",
            "html_url": "https://github.com/neovim/neovim/pull/24524#issuecomment-1660239542",
            "id": 1660239542,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24524",
            "node_id": "IC_kwDOAPphoM5i9T62",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1660239542/reactions"
            },
            "updated_at": "2023-08-01T12:44:32Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1660239542",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "You cannot remove `VALIDATE_T` using #24523",
            "created_at": "2023-08-01T12:49:08Z",
            "html_url": "https://github.com/neovim/neovim/pull/24524#issuecomment-1660247218",
            "id": 1660247218,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24524",
            "node_id": "IC_kwDOAPphoM5i9Vyy",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1660247218/reactions"
            },
            "updated_at": "2023-08-01T12:49:08Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1660247218",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I was talking specifically about the changes in `keysets.h` which now adds more specific types to options and that #24523 can absorb those changes to generate better Lua annotations.",
            "created_at": "2023-08-01T12:50:40Z",
            "html_url": "https://github.com/neovim/neovim/pull/24524#issuecomment-1660249514",
            "id": 1660249514,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24524",
            "node_id": "IC_kwDOAPphoM5i9WWq",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1660249514/reactions"
            },
            "updated_at": "2023-08-01T12:51:33Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1660249514",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "VALIDATE_T is being _moved_ not removed.",
            "created_at": "2023-08-01T12:50:57Z",
            "html_url": "https://github.com/neovim/neovim/pull/24524#issuecomment-1660249980",
            "id": 1660249980,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24524",
            "node_id": "IC_kwDOAPphoM5i9Wd8",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1660249980/reactions"
            },
            "updated_at": "2023-08-01T12:50:57Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1660249980",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1363104?v=4",
                "events_url": "https://api.github.com/users/bfredl/events{/privacy}",
                "followers_url": "https://api.github.com/users/bfredl/followers",
                "following_url": "https://api.github.com/users/bfredl/following{/other_user}",
                "gists_url": "https://api.github.com/users/bfredl/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/bfredl",
                "id": 1363104,
                "login": "bfredl",
                "node_id": "MDQ6VXNlcjEzNjMxMDQ=",
                "organizations_url": "https://api.github.com/users/bfredl/orgs",
                "received_events_url": "https://api.github.com/users/bfredl/received_events",
                "repos_url": "https://api.github.com/users/bfredl/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/bfredl/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/bfredl/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/bfredl"
            }
        }
    ],
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/24524/comments",
    "commits_url": "https://api.github.com/repos/neovim/neovim/pulls/24524/commits",
    "created_at": "2023-08-01T12:25:58Z",
    "diff_url": "https://github.com/neovim/neovim/pull/24524.diff",
    "draft": false,
    "head": {
        "label": "bfredl:typed_keys",
        "ref": "typed_keys",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/bfredl/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/bfredl/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/bfredl/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/bfredl/neovim/branches{/branch}",
            "clone_url": "https://github.com/bfredl/neovim.git",
            "collaborators_url": "https://api.github.com/repos/bfredl/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/bfredl/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/bfredl/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/bfredl/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/bfredl/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/bfredl/neovim/contributors",
            "created_at": "2014-06-20T19:51:31Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/bfredl/neovim/deployments",
            "description": "vim's rebirth for the 21st century",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/bfredl/neovim/downloads",
            "events_url": "https://api.github.com/repos/bfredl/neovim/events",
            "fork": true,
            "forks": 1,
            "forks_count": 1,
            "forks_url": "https://api.github.com/repos/bfredl/neovim/forks",
            "full_name": "bfredl/neovim",
            "git_commits_url": "https://api.github.com/repos/bfredl/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/bfredl/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/bfredl/neovim/git/tags{/sha}",
            "git_url": "git://github.com/bfredl/neovim.git",
            "has_discussions": false,
            "has_downloads": true,
            "has_issues": false,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "http://neovim.org/",
            "hooks_url": "https://api.github.com/repos/bfredl/neovim/hooks",
            "html_url": "https://github.com/bfredl/neovim",
            "id": 21050434,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/bfredl/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/bfredl/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/bfredl/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/bfredl/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/bfredl/neovim/labels{/name}",
            "language": "Vim script",
            "languages_url": "https://api.github.com/repos/bfredl/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/bfredl/neovim/merges",
            "milestones_url": "https://api.github.com/repos/bfredl/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "MDEwOlJlcG9zaXRvcnkyMTA1MDQzNA==",
            "notifications_url": "https://api.github.com/repos/bfredl/neovim/notifications{?since,all,participating}",
            "open_issues": 0,
            "open_issues_count": 0,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1363104?v=4",
                "events_url": "https://api.github.com/users/bfredl/events{/privacy}",
                "followers_url": "https://api.github.com/users/bfredl/followers",
                "following_url": "https://api.github.com/users/bfredl/following{/other_user}",
                "gists_url": "https://api.github.com/users/bfredl/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/bfredl",
                "id": 1363104,
                "login": "bfredl",
                "node_id": "MDQ6VXNlcjEzNjMxMDQ=",
                "organizations_url": "https://api.github.com/users/bfredl/orgs",
                "received_events_url": "https://api.github.com/users/bfredl/received_events",
                "repos_url": "https://api.github.com/users/bfredl/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/bfredl/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/bfredl/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/bfredl"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/bfredl/neovim/pulls{/number}",
            "pushed_at": "2023-08-07T11:15:06Z",
            "releases_url": "https://api.github.com/repos/bfredl/neovim/releases{/id}",
            "size": 249531,
            "ssh_url": "git@github.com:bfredl/neovim.git",
            "stargazers_count": 0,
            "stargazers_url": "https://api.github.com/repos/bfredl/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/bfredl/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/bfredl/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/bfredl/neovim/subscription",
            "svn_url": "https://github.com/bfredl/neovim",
            "tags_url": "https://api.github.com/repos/bfredl/neovim/tags",
            "teams_url": "https://api.github.com/repos/bfredl/neovim/teams",
            "topics": [],
            "trees_url": "https://api.github.com/repos/bfredl/neovim/git/trees{/sha}",
            "updated_at": "2022-03-21T08:01:17Z",
            "url": "https://api.github.com/repos/bfredl/neovim",
            "visibility": "public",
            "watchers": 0,
            "watchers_count": 0,
            "web_commit_signoff_required": false
        },
        "sha": "51c754b62e795c49cfcf9df3ab492bdd53c61482",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1363104?v=4",
            "events_url": "https://api.github.com/users/bfredl/events{/privacy}",
            "followers_url": "https://api.github.com/users/bfredl/followers",
            "following_url": "https://api.github.com/users/bfredl/following{/other_user}",
            "gists_url": "https://api.github.com/users/bfredl/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/bfredl",
            "id": 1363104,
            "login": "bfredl",
            "node_id": "MDQ6VXNlcjEzNjMxMDQ=",
            "organizations_url": "https://api.github.com/users/bfredl/orgs",
            "received_events_url": "https://api.github.com/users/bfredl/received_events",
            "repos_url": "https://api.github.com/users/bfredl/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/bfredl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/bfredl/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/bfredl"
        }
    },
    "html_url": "https://github.com/neovim/neovim/pull/24524",
    "id": 1458008923,
    "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24524",
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": "libnvim, Nvim RPC API",
            "id": 103819671,
            "name": "api",
            "node_id": "MDU6TGFiZWwxMDM4MTk2NzE=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/api"
        },
        {
            "color": "C5DEF5",
            "default": false,
            "description": "changes that are not features or bugfixes",
            "id": 106949155,
            "name": "refactor",
            "node_id": "MDU6TGFiZWwxMDY5NDkxNTU=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/refactor"
        }
    ],
    "locked": false,
    "merge_commit_sha": "3a21c3afe61e5bb76f4b81c1a961b2558e2c8f0a",
    "merged_at": "2023-08-07T12:42:25Z",
    "milestone": null,
    "node_id": "PR_kwDOAPphoM5W53Nb",
    "number": 24524,
    "patch_url": "https://github.com/neovim/neovim/pull/24524.patch",
    "requested_reviewers": [],
    "requested_teams": [],
    "review_comment_url": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}",
    "review_comments_url": "https://api.github.com/repos/neovim/neovim/pulls/24524/comments",
    "state": "closed",
    "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/51c754b62e795c49cfcf9df3ab492bdd53c61482",
    "title": "refactor(api): use typed keysets",
    "updated_at": "2023-08-07T12:42:44Z",
    "url": "https://api.github.com/repos/neovim/neovim/pulls/24524",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/1363104?v=4",
        "events_url": "https://api.github.com/users/bfredl/events{/privacy}",
        "followers_url": "https://api.github.com/users/bfredl/followers",
        "following_url": "https://api.github.com/users/bfredl/following{/other_user}",
        "gists_url": "https://api.github.com/users/bfredl/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/bfredl",
        "id": 1363104,
        "login": "bfredl",
        "node_id": "MDQ6VXNlcjEzNjMxMDQ=",
        "organizations_url": "https://api.github.com/users/bfredl/orgs",
        "received_events_url": "https://api.github.com/users/bfredl/received_events",
        "repos_url": "https://api.github.com/users/bfredl/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/bfredl/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/bfredl/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/bfredl"
    }
}