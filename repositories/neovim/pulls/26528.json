{
    "_links": {
        "comments": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/26528/comments"
        },
        "commits": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/26528/commits"
        },
        "html": {
            "href": "https://github.com/neovim/neovim/pull/26528"
        },
        "issue": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/26528"
        },
        "review_comment": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}"
        },
        "review_comments": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/26528/comments"
        },
        "self": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/26528"
        },
        "statuses": {
            "href": "https://api.github.com/repos/neovim/neovim/statuses/e7076031508b61394ce4b18b40c869211a98c424"
        }
    },
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "auto_merge": null,
    "base": {
        "label": "neovim:master",
        "ref": "master",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/neovim/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/neovim/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/neovim/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/neovim/neovim/branches{/branch}",
            "clone_url": "https://github.com/neovim/neovim.git",
            "collaborators_url": "https://api.github.com/repos/neovim/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/neovim/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/neovim/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/neovim/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/neovim/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/neovim/neovim/contributors",
            "created_at": "2014-01-31T13:39:22Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/neovim/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/neovim/neovim/downloads",
            "events_url": "https://api.github.com/repos/neovim/neovim/events",
            "fork": false,
            "forks": 5066,
            "forks_count": 5066,
            "forks_url": "https://api.github.com/repos/neovim/neovim/forks",
            "full_name": "neovim/neovim",
            "git_commits_url": "https://api.github.com/repos/neovim/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/neovim/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/neovim/neovim/git/tags{/sha}",
            "git_url": "git://github.com/neovim/neovim.git",
            "has_discussions": true,
            "has_downloads": true,
            "has_issues": true,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/neovim/neovim/hooks",
            "html_url": "https://github.com/neovim/neovim",
            "id": 16408992,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/neovim/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/neovim/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/neovim/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/neovim/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/neovim/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/neovim/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/neovim/neovim/merges",
            "milestones_url": "https://api.github.com/repos/neovim/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "MDEwOlJlcG9zaXRvcnkxNjQwODk5Mg==",
            "notifications_url": "https://api.github.com/repos/neovim/neovim/notifications{?since,all,participating}",
            "open_issues": 1721,
            "open_issues_count": 1721,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
                "events_url": "https://api.github.com/users/neovim/events{/privacy}",
                "followers_url": "https://api.github.com/users/neovim/followers",
                "following_url": "https://api.github.com/users/neovim/following{/other_user}",
                "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/neovim",
                "id": 6471485,
                "login": "neovim",
                "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
                "organizations_url": "https://api.github.com/users/neovim/orgs",
                "received_events_url": "https://api.github.com/users/neovim/received_events",
                "repos_url": "https://api.github.com/users/neovim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
                "type": "Organization",
                "url": "https://api.github.com/users/neovim"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/neovim/neovim/pulls{/number}",
            "pushed_at": "2023-12-19T00:15:23Z",
            "releases_url": "https://api.github.com/repos/neovim/neovim/releases{/id}",
            "size": 246400,
            "ssh_url": "git@github.com:neovim/neovim.git",
            "stargazers_count": 71892,
            "stargazers_url": "https://api.github.com/repos/neovim/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/neovim/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/neovim/neovim/subscription",
            "svn_url": "https://github.com/neovim/neovim",
            "tags_url": "https://api.github.com/repos/neovim/neovim/tags",
            "teams_url": "https://api.github.com/repos/neovim/neovim/teams",
            "topics": [
                "api",
                "c",
                "lua",
                "neovim",
                "nvim",
                "text-editor",
                "vim"
            ],
            "trees_url": "https://api.github.com/repos/neovim/neovim/git/trees{/sha}",
            "updated_at": "2023-12-19T01:02:33Z",
            "url": "https://api.github.com/repos/neovim/neovim",
            "visibility": "public",
            "watchers": 71892,
            "watchers_count": 71892,
            "web_commit_signoff_required": false
        },
        "sha": "5ed55ff14c8b7e346811cb6228bf63fb5106bae9",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
            "events_url": "https://api.github.com/users/neovim/events{/privacy}",
            "followers_url": "https://api.github.com/users/neovim/followers",
            "following_url": "https://api.github.com/users/neovim/following{/other_user}",
            "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/neovim",
            "id": 6471485,
            "login": "neovim",
            "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
            "organizations_url": "https://api.github.com/users/neovim/orgs",
            "received_events_url": "https://api.github.com/users/neovim/received_events",
            "repos_url": "https://api.github.com/users/neovim/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
            "type": "Organization",
            "url": "https://api.github.com/users/neovim"
        }
    },
    "body": "We do not need an enum to keep track of what place in `win_line()` we currently are at. We already have a variable which keeps track where in the code we currently are (and thus what part of the line we are currently rendering), it is called the _program counter_. When we need non-linear or self-referential control-flow anyway for a laugh, we have a mechanism for that, it is called _function calls_.\r\n\r\nDo not \"save\" and \"restore\" the `wlv->n_extra` state every time the columns are to be drawn. This sort of thing needs to go away. Instead of setting the n_extra variables and then going to the outer while loop, the text in the columns can be rendered by just simply putting the text into the cells of the screen line, right away. Even in nvim this can be tricky sometimes, luckily we can use function calls to abstract this logic, which means that this handy data structure called the _call stack_ is handling saving away state temporarily, and restoring it back when we need it again.\r\n\r\nLastly, but not least, as we now have direct control how signs are rendered, these can be stored as `schar_T[2]` and be directly put on screen as such.",
    "closed_at": null,
    "comment_data": [
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26528#discussion_r1423850033"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26528"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423850033"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n    int width = (it->flags & kSHIsSign) ? SIGN_WIDTH : ((it->flags & kSHConceal) ? 1 : 0);\r\n```",
            "commit_id": "e7076031508b61394ce4b18b40c869211a98c424",
            "created_at": "2023-12-12T11:19:42Z",
            "diff_hunk": "@@ -363,8 +360,11 @@ void decor_check_invalid_glyphs(void)\n {\n   for (size_t i = 0; i < kv_size(decor_items); i++) {\n     DecorSignHighlight *it = &kv_A(decor_items, i);\n-    if ((it->flags & kSHConceal) && schar_high(it->text.sc[0])) {\n-      it->text.sc[0] = schar_from_char(schar_get_first_codepoint(it->text.sc[0]));\n+    int width = (it->flags & kSHIsSign) ? 2 : ((it->flags & kSHConceal) ? 1 : 0);",
            "html_url": "https://github.com/neovim/neovim/pull/26528#discussion_r1423850033",
            "id": 1423850033,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5U3jox",
            "original_commit_id": "8380e0bcf028619b3acdc7dffaf844864b0ab7c4",
            "original_line": 363,
            "original_position": 43,
            "original_start_line": null,
            "path": "src/nvim/decoration.c",
            "position": null,
            "pull_request_review_id": 1777241471,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26528",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423850033/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-12T11:29:45Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423850033",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26528#discussion_r1423850598"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26528"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423850598"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n        memcpy(sattrs[idx].text, sh->text, SIGN_WIDTH * sizeof(sattr_T));\r\n```",
            "commit_id": "e7076031508b61394ce4b18b40c869211a98c424",
            "created_at": "2023-12-12T11:20:17Z",
            "diff_hunk": "@@ -756,8 +756,8 @@ void decor_redraw_signs(win_T *wp, buf_T *buf, int row, SignTextAttrs sattrs[],\n \n     for (size_t i = 0; i < kv_size(signs); i++) {\n       DecorSignHighlight *sh = kv_A(signs, i).sh;\n-      if (idx >= 0 && sh->text.ptr) {\n-        sattrs[idx].text = sh->text.ptr;\n+      if (idx >= 0 && sh->text[0]) {\n+        memcpy(sattrs[idx].text, sh->text, 2 * sizeof(sattr_T));",
            "html_url": "https://github.com/neovim/neovim/pull/26528#discussion_r1423850598",
            "id": 1423850598,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5U3jxm",
            "original_commit_id": "8380e0bcf028619b3acdc7dffaf844864b0ab7c4",
            "original_line": 760,
            "original_position": 85,
            "original_start_line": null,
            "path": "src/nvim/decoration.c",
            "position": null,
            "pull_request_review_id": 1777241471,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26528",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423850598/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-12T11:29:45Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423850598",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26528#discussion_r1423851008"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26528"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423851008"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n      char buf[SIGN_WIDTH * MAX_SCHAR_SIZE];\r\n```",
            "commit_id": "e7076031508b61394ce4b18b40c869211a98c424",
            "created_at": "2023-12-12T11:20:40Z",
            "diff_hunk": "@@ -1082,8 +1082,10 @@ void decor_to_dict_legacy(Dictionary *dict, DecorInline decor, bool hl_name)\n   }\n \n   if (sh_sign.flags & kSHIsSign) {\n-    if (sh_sign.text.ptr) {\n-      PUT(*dict, \"sign_text\", CSTR_TO_OBJ(sh_sign.text.ptr));\n+    if (sh_sign.text[0]) {\n+      char buf[2 * MAX_SCHAR_SIZE];",
            "html_url": "https://github.com/neovim/neovim/pull/26528#discussion_r1423851008",
            "id": 1423851008,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5U3j4A",
            "original_commit_id": "8380e0bcf028619b3acdc7dffaf844864b0ab7c4",
            "original_line": 1086,
            "original_position": 105,
            "original_start_line": null,
            "path": "src/nvim/decoration.c",
            "position": null,
            "pull_request_review_id": 1777241471,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26528",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423851008/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-12T11:29:45Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423851008",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26528#discussion_r1423851483"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26528"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423851483"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n  schar_T text[SIGN_WIDTH];  // conceal text only uses sc[0]\r\n```",
            "commit_id": "e7076031508b61394ce4b18b40c869211a98c424",
            "created_at": "2023-12-12T11:21:05Z",
            "diff_hunk": "@@ -59,11 +59,7 @@ typedef struct {\n   uint16_t flags;\n   DecorPriority priority;\n   int hl_id;  // if sign: highlight of sign text\n-  // TODO(bfredl): Later signs should use sc[2] as well.\n-  union {\n-    char *ptr;  // sign\n-    schar_T sc[2];  // conceal text (only sc[0] used)\n-  } text;\n+  schar_T text[2];  // conceal text only uses sc[0] used",
            "html_url": "https://github.com/neovim/neovim/pull/26528#discussion_r1423851483",
            "id": 1423851483,
            "line": 62,
            "node_id": "PRRC_kwDOAPphoM5U3j_b",
            "original_commit_id": "8380e0bcf028619b3acdc7dffaf844864b0ab7c4",
            "original_line": 62,
            "original_position": 9,
            "original_start_line": null,
            "path": "src/nvim/decoration_defs.h",
            "position": 9,
            "pull_request_review_id": 1777241471,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26528",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423851483/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-12T11:31:08Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423851483",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26528#discussion_r1423851768"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26528"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423851768"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n  memcpy(sign.text, sp->sn_text, SIGN_WIDTH * sizeof(schar_T));\r\n```",
            "commit_id": "e7076031508b61394ce4b18b40c869211a98c424",
            "created_at": "2023-12-12T11:21:23Z",
            "diff_hunk": "@@ -106,7 +107,7 @@ static void buf_set_sign(buf_T *buf, uint32_t *id, char *group, int prio, linenr\n   DecorSignHighlight sign = DECOR_SIGN_HIGHLIGHT_INIT;\n \n   sign.flags |= kSHIsSign;\n-  sign.text.ptr = sp->sn_text ? xstrdup(sp->sn_text) : NULL;\n+  memcpy(sign.text, sp->sn_text, 2 * sizeof(schar_T));",
            "html_url": "https://github.com/neovim/neovim/pull/26528#discussion_r1423851768",
            "id": 1423851768,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5U3kD4",
            "original_commit_id": "8380e0bcf028619b3acdc7dffaf844864b0ab7c4",
            "original_line": 110,
            "original_position": 13,
            "original_start_line": null,
            "path": "src/nvim/sign.c",
            "position": null,
            "pull_request_review_id": 1777241471,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26528",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423851768/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-12T11:29:45Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423851768",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26528#discussion_r1423852388"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26528"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423852388"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n/// buf must be SIGN_WIDTH * MAX_SCHAR_SIZE (no extra +1 needed)\r\n```",
            "commit_id": "e7076031508b61394ce4b18b40c869211a98c424",
            "created_at": "2023-12-12T11:22:00Z",
            "diff_hunk": "@@ -335,9 +336,24 @@ static int sign_cmd_idx(char *begin_cmd, char *end_cmd)\n   return idx;\n }\n \n+/// buf must be 2 * MAX_SCHAR_SIZE (no extra +1 needed)",
            "html_url": "https://github.com/neovim/neovim/pull/26528#discussion_r1423852388",
            "id": 1423852388,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5U3kNk",
            "original_commit_id": "8380e0bcf028619b3acdc7dffaf844864b0ab7c4",
            "original_line": 339,
            "original_position": 30,
            "original_start_line": null,
            "path": "src/nvim/sign.c",
            "position": null,
            "pull_request_review_id": 1777241471,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26528",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423852388/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-12T11:29:45Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423852388",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26528#discussion_r1423852742"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26528"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423852742"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n    if (width == SIGN_WIDTH) {\r\n```",
            "commit_id": "e7076031508b61394ce4b18b40c869211a98c424",
            "created_at": "2023-12-12T11:22:19Z",
            "diff_hunk": "@@ -352,10 +368,16 @@ int init_sign_text(sign_T *sp, char **sign_text, char *text)\n   // Count cells and check for non-printable chars\n   int cells = 0;\n   for (s = text; s < endp; s += utfc_ptr2len(s)) {\n-    if (!vim_isprintc(utf_ptr2char(s))) {\n+    int c;\n+    sign_text[cells] = utfc_ptr2schar(s, &c);\n+    if (!vim_isprintc(c)) {\n       break;\n     }\n-    cells += utf_ptr2cells(s);\n+    int width = utf_char2cells(c);\n+    if (width == 2) {",
            "html_url": "https://github.com/neovim/neovim/pull/26528#discussion_r1423852742",
            "id": 1423852742,
            "line": 377,
            "node_id": "PRRC_kwDOAPphoM5U3kTG",
            "original_commit_id": "8380e0bcf028619b3acdc7dffaf844864b0ab7c4",
            "original_line": 377,
            "original_position": 64,
            "original_start_line": null,
            "path": "src/nvim/sign.c",
            "position": 64,
            "pull_request_review_id": 1777241471,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26528",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423852742/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-12T11:29:45Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423852742",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26528#discussion_r1423853100"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26528"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423853100"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n  if (s != endp || cells > SIGN_WIDTH) {\r\n```",
            "commit_id": "e7076031508b61394ce4b18b40c869211a98c424",
            "created_at": "2023-12-12T11:22:38Z",
            "diff_hunk": "@@ -352,10 +368,16 @@ int init_sign_text(sign_T *sp, char **sign_text, char *text)\n   // Count cells and check for non-printable chars\n   int cells = 0;\n   for (s = text; s < endp; s += utfc_ptr2len(s)) {\n-    if (!vim_isprintc(utf_ptr2char(s))) {\n+    int c;\n+    sign_text[cells] = utfc_ptr2schar(s, &c);\n+    if (!vim_isprintc(c)) {\n       break;\n     }\n-    cells += utf_ptr2cells(s);\n+    int width = utf_char2cells(c);\n+    if (width == 2) {\n+      sign_text[cells + 1] = 0;\n+    }\n+    cells += width;\n   }\n   // Currently must be empty, one or two display cells\n   if (s != endp || cells > 2) {",
            "html_url": "https://github.com/neovim/neovim/pull/26528#discussion_r1423853100",
            "id": 1423853100,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5U3kYs",
            "original_commit_id": "8380e0bcf028619b3acdc7dffaf844864b0ab7c4",
            "original_line": 383,
            "original_position": 70,
            "original_start_line": null,
            "path": "src/nvim/sign.c",
            "position": null,
            "pull_request_review_id": 1777241471,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26528",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423853100/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-12T11:29:45Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423853100",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26528#discussion_r1423853453"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26528"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423853453"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n    char buf[SIGN_WIDTH * MAX_SCHAR_SIZE];\r\n```",
            "commit_id": "e7076031508b61394ce4b18b40c869211a98c424",
            "created_at": "2023-12-12T11:23:00Z",
            "diff_hunk": "@@ -453,9 +463,11 @@ static void sign_list_defined(sign_T *sp)\n     msg_outtrans(sp->sn_icon, 0);\n     msg_puts(_(\" (not supported)\"));\n   }\n-  if (sp->sn_text != NULL) {\n+  if (sp->sn_text[0]) {\n     msg_puts(\" text=\");\n-    msg_outtrans(sp->sn_text, 0);\n+    char buf[2 * MAX_SCHAR_SIZE];",
            "html_url": "https://github.com/neovim/neovim/pull/26528#discussion_r1423853453",
            "id": 1423853453,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5U3keN",
            "original_commit_id": "8380e0bcf028619b3acdc7dffaf844864b0ab7c4",
            "original_line": 468,
            "original_position": 123,
            "original_start_line": null,
            "path": "src/nvim/sign.c",
            "position": null,
            "pull_request_review_id": 1777241471,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26528",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423853453/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-12T11:29:45Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423853453",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26528#discussion_r1423853665"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26528"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423853665"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n    char buf[SIGN_WIDTH * MAX_SCHAR_SIZE];\r\n```",
            "commit_id": "e7076031508b61394ce4b18b40c869211a98c424",
            "created_at": "2023-12-12T11:23:12Z",
            "diff_hunk": "@@ -882,8 +894,10 @@ static dict_T *sign_get_info_dict(sign_T *sp)\n   if (sp->sn_icon != NULL) {\n     tv_dict_add_str(d, S_LEN(\"icon\"), sp->sn_icon);\n   }\n-  if (sp->sn_text != NULL) {\n-    tv_dict_add_str(d, S_LEN(\"text\"), sp->sn_text);\n+  if (sp->sn_text[0]) {\n+    char buf[2 * MAX_SCHAR_SIZE];",
            "html_url": "https://github.com/neovim/neovim/pull/26528#discussion_r1423853665",
            "id": 1423853665,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5U3khh",
            "original_commit_id": "8380e0bcf028619b3acdc7dffaf844864b0ab7c4",
            "original_line": 898,
            "original_position": 136,
            "original_start_line": null,
            "path": "src/nvim/sign.c",
            "position": null,
            "pull_request_review_id": 1777241471,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26528",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423853665/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-12T11:29:45Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423853665",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26528#discussion_r1423853926"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26528"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423853926"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n  schar_T text[SIGN_WIDTH];\r\n```",
            "commit_id": "e7076031508b61394ce4b18b40c869211a98c424",
            "created_at": "2023-12-12T11:23:26Z",
            "diff_hunk": "@@ -1,16 +1,18 @@\n #pragma once\n \n+#include \"nvim/types_defs.h\"\n+\n /// Sign attributes. Used by the screen refresh routines.\n typedef struct {\n-  char *text;\n+  schar_T text[2];",
            "html_url": "https://github.com/neovim/neovim/pull/26528#discussion_r1423853926",
            "id": 1423853926,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5U3klm",
            "original_commit_id": "8380e0bcf028619b3acdc7dffaf844864b0ab7c4",
            "original_line": 7,
            "original_position": 8,
            "original_start_line": null,
            "path": "src/nvim/sign_defs.h",
            "position": null,
            "pull_request_review_id": 1777241471,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26528",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423853926/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-12T11:29:45Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423853926",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26528#discussion_r1423854140"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26528"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423854140"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n  schar_T sn_text[SIGN_WIDTH];   // text used instead of pixmap\r\n```",
            "commit_id": "e7076031508b61394ce4b18b40c869211a98c424",
            "created_at": "2023-12-12T11:23:37Z",
            "diff_hunk": "@@ -1,16 +1,18 @@\n #pragma once\n \n+#include \"nvim/types_defs.h\"\n+\n /// Sign attributes. Used by the screen refresh routines.\n typedef struct {\n-  char *text;\n+  schar_T text[2];\n   int hl_id;\n } SignTextAttrs;\n \n /// Struct to hold the sign properties.\n typedef struct sign {\n   char *sn_name;   // name of sign\n   char *sn_icon;   // name of pixmap\n-  char *sn_text;   // text used instead of pixmap\n+  schar_T sn_text[2];   // text used instead of pixmap",
            "html_url": "https://github.com/neovim/neovim/pull/26528#discussion_r1423854140",
            "id": 1423854140,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5U3ko8",
            "original_commit_id": "8380e0bcf028619b3acdc7dffaf844864b0ab7c4",
            "original_line": 15,
            "original_position": 17,
            "original_start_line": null,
            "path": "src/nvim/sign_defs.h",
            "position": null,
            "pull_request_review_id": 1777241471,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26528",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423854140/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-12T11:29:45Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423854140",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26528#discussion_r1423854392"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26528"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423854392"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n      char buf[SIGN_WIDTH * MAX_SCHAR_SIZE];\r\n```",
            "commit_id": "e7076031508b61394ce4b18b40c869211a98c424",
            "created_at": "2023-12-12T11:23:52Z",
            "diff_hunk": "@@ -1641,20 +1641,32 @@ int build_stl_str_hl(win_T *wp, char *out, size_t outlen, char *fmt, OptIndex op\n \n       char *p = NULL;\n       if (fold) {\n-        size_t n = fill_foldcolumn(out_p, wp, stcp->foldinfo,\n-                                   (linenr_T)get_vim_var_nr(VV_LNUM), NULL);\n+        schar_T fold_buf[10];\n+        size_t n = fill_foldcolumn(NULL, wp, stcp->foldinfo,\n+                                   (linenr_T)get_vim_var_nr(VV_LNUM), 0, fold_buf);\n         stl_items[curitem].minwid = -((stcp->use_cul ? HLF_CLF : HLF_FC) + 1);\n+        size_t buflen = 0;\n+        // TODO(bfredl): this is very backwards. we must support schar_T\n+        // being used directly in 'statuscol'\n+        for (size_t i = 0; i < n; i++) {\n+          schar_get(out_p + buflen, fold_buf[i]);\n+          buflen += strlen(out_p + buflen);\n+        }\n         p = out_p;\n-        p[n] = NUL;\n       }\n \n+      char buf[2 * MAX_SCHAR_SIZE];",
            "html_url": "https://github.com/neovim/neovim/pull/26528#discussion_r1423854392",
            "id": 1423854392,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5U3ks4",
            "original_commit_id": "8380e0bcf028619b3acdc7dffaf844864b0ab7c4",
            "original_line": 1658,
            "original_position": 21,
            "original_start_line": null,
            "path": "src/nvim/statusline.c",
            "position": null,
            "pull_request_review_id": 1777241471,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26528",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423854392/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-12T11:29:45Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423854392",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26528#discussion_r1423857413"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26528"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423857413"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n      static char transbuf[(MAX_NUMBERWIDTH + 9 + 9 * SIGN_WIDTH) * MB_MAXBYTES + 1];\r\n```",
            "commit_id": "e7076031508b61394ce4b18b40c869211a98c424",
            "created_at": "2023-12-12T11:26:38Z",
            "diff_hunk": "@@ -662,124 +665,108 @@ static void get_statuscol_str(win_T *wp, linenr_T lnum, int virtnum, statuscol_T\n ///\n /// @param stcp  Status column attributes\n /// @param[in,out]  wlv\n-static void get_statuscol_display_info(statuscol_T *stcp, winlinevars_T *wlv)\n+static void draw_statuscol(win_T *wp, statuscol_T *stcp, winlinevars_T *wlv)\n {\n-  wlv->c_extra = NUL;\n-  wlv->c_final = NUL;\n   do {\n-    wlv->draw_state = WL_STC;\n-    wlv->char_attr = stcp->cur_attr;\n-    wlv->p_extra = stcp->textp;\n-    char *const section_end = stcp->hlrecp->start ? stcp->hlrecp->start : stcp->text_end;\n-    wlv->n_extra = (int)(section_end - stcp->textp);\n+    int attr = stcp->cur_attr;\n+    char *text = stcp->textp;\n+    char *section_end = stcp->hlrecp->start ? stcp->hlrecp->start : stcp->text_end;\n+    ptrdiff_t len = section_end - text;\n     // Prepare for next highlight section if not yet at the end\n     if (section_end < stcp->text_end) {\n       int hl = stcp->hlrecp->userhl;\n       stcp->textp = stcp->hlrecp->start;\n       stcp->cur_attr = hl < 0 ? syn_id2attr(-hl) : stcp->num_attr;\n       stcp->hlrecp++;\n-      wlv->draw_state = WL_STC - 1;\n+    } else {\n+      stcp->textp = section_end;\n     }\n     // Skip over empty highlight sections\n-  } while (wlv->n_extra == 0 && stcp->textp < stcp->text_end);\n-  if (wlv->n_extra > 0) {\n-    static char transbuf[(MAX_NUMBERWIDTH + 9 + 9 * 2) * MB_MAXBYTES + 1];\n-    wlv->n_extra = (int)transstr_buf(wlv->p_extra, wlv->n_extra, transbuf, sizeof transbuf, true);\n-    wlv->p_extra = transbuf;\n-  }\n+    if (len) {\n+      static char transbuf[(MAX_NUMBERWIDTH + 9 + 9 * 2) * MB_MAXBYTES + 1];",
            "html_url": "https://github.com/neovim/neovim/pull/26528#discussion_r1423857413",
            "id": 1423857413,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5U3lcF",
            "original_commit_id": "8380e0bcf028619b3acdc7dffaf844864b0ab7c4",
            "original_line": 686,
            "original_position": 383,
            "original_start_line": null,
            "path": "src/nvim/drawline.c",
            "position": null,
            "pull_request_review_id": 1777241471,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26528",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423857413/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-12T11:29:45Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423857413",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26528#discussion_r1423859374"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26528"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423859374"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n        // Draw 'statuscolumn' if it is set.\r\n```",
            "commit_id": "e7076031508b61394ce4b18b40c869211a98c424",
            "created_at": "2023-12-12T11:28:28Z",
            "diff_hunk": "@@ -1568,119 +1523,85 @@ int win_line(win_T *wp, linenr_T lnum, int startrow, int endrow, bool number_onl\n     bool did_decrement_ptr = false;\n \n     // Skip this quickly when working on the text.\n-    if (wlv.draw_state != WL_LINE) {\n+    if (draw_cols) {\n       if (cul_screenline) {\n         wlv.cul_attr = 0;\n         wlv.line_attr = line_attr_save;\n         wlv.line_attr_lowprio = line_attr_lowprio_save;\n       }\n \n-      if (wlv.draw_state == WL_CMDLINE - 1 && wlv.n_extra == 0) {\n-        wlv.draw_state = WL_CMDLINE;\n-        if (cmdwin_type != 0 && wp == curwin) {\n-          // Draw the cmdline character.\n-          wlv.n_extra = 1;\n-          wlv.c_extra = cmdwin_type;\n-          wlv.c_final = NUL;\n-          wlv.char_attr = win_hl_attr(wp, HLF_AT);\n-        }\n-      }\n+      assert(wlv.off == 0);\n \n-      if (wlv.draw_state == WL_FOLD - 1 && wlv.n_extra == 0) {\n-        if (wlv.filler_todo > 0) {\n-          int index = wlv.filler_todo - (wlv.filler_lines - wlv.n_virt_lines);\n-          if (index > 0) {\n-            virt_line_index = (int)kv_size(virt_lines) - index;\n-            assert(virt_line_index >= 0);\n-            virt_line_offset = kv_A(virt_lines, virt_line_index).left_col ? 0 : win_col_off(wp);\n-          }\n-        }\n-        if (virt_line_offset == 0) {\n-          // Skip the column states if there is a \"virt_left_col\" line.\n-          wlv.draw_state = WL_BRI - 1;\n-        } else if (statuscol.draw) {\n-          // Skip fold, sign and number states if 'statuscolumn' is set.\n-          wlv.draw_state = WL_STC - 1;\n-        }\n-      }\n-\n-      if (wlv.draw_state == WL_FOLD - 1 && wlv.n_extra == 0) {\n-        wlv.draw_state = WL_FOLD;\n-        handle_foldcolumn(wp, &wlv);\n+      if (cmdwin_type != 0 && wp == curwin) {\n+        // Draw the cmdline character.\n+        draw_col_fill(&wlv, schar_from_ascii(cmdwin_type), 1, win_hl_attr(wp, HLF_AT));\n       }\n \n-      // sign column, this is hit until sign_idx reaches count\n-      if (wlv.draw_state == WL_SIGN - 1 && wlv.n_extra == 0) {\n-        // Show the sign column when desired.\n-        wlv.draw_state = WL_SIGN;\n-        if (wp->w_scwidth > 0) {\n-          get_sign_display_info(false, wp, &wlv, sign_idx, sign_cul_attr);\n-          if (++sign_idx < wp->w_scwidth) {\n-            wlv.draw_state = WL_SIGN - 1;\n-          } else {\n-            sign_idx = 0;\n-          }\n+      if (wlv.filler_todo > 0) {\n+        int index = wlv.filler_todo - (wlv.filler_lines - wlv.n_virt_lines);\n+        if (index > 0) {\n+          virt_line_index = (int)kv_size(virt_lines) - index;\n+          assert(virt_line_index >= 0);\n+          virt_line_offset = kv_A(virt_lines, virt_line_index).left_col ? 0 : win_col_off(wp);\n         }\n       }\n \n-      if (wlv.draw_state == WL_NR - 1 && wlv.n_extra == 0) {\n-        // Show the line number, if desired.\n-        wlv.draw_state = WL_NR;\n-        handle_lnum_col(wp, &wlv, sign_num_attr, sign_cul_attr);\n-      }\n-\n-      if (wlv.draw_state == WL_STC - 1 && wlv.n_extra == 0) {\n-        wlv.draw_state = WL_STC;\n-        // Draw the 'statuscolumn' if option is set.\n-        if (statuscol.draw) {\n-          if (sign_num_attr == 0) {\n-            statuscol.num_attr = get_line_number_attr(wp, &wlv);\n+      if (virt_line_offset == 0) {\n+        // skip columns\n+      } else if (statuscol.draw) {\n+        // Skip fold, sign and number states if 'statuscolumn' is set.",
            "html_url": "https://github.com/neovim/neovim/pull/26528#discussion_r1423859374",
            "id": 1423859374,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5U3l6u",
            "original_commit_id": "8380e0bcf028619b3acdc7dffaf844864b0ab7c4",
            "original_line": 1552,
            "original_position": 712,
            "original_start_line": null,
            "path": "src/nvim/drawline.c",
            "position": null,
            "pull_request_review_id": 1777241471,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26528",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423859374/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-12T11:29:45Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1423859374",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26528#discussion_r1424041102"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26528"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1424041102"
                }
            },
            "author_association": "MEMBER",
            "body": "This can no longer be reached with `nrcol == true` and is handled in `draw_lnum_col()`.\r\n```diff\r\n@@ -488,16 +488,14 @@ static void draw_sign(bool nrcol, win_T *wp, winlinevars_T *wlv, int sign_idx, i\r\n   if (sattr.text[0] && wlv->row == wlv->startrow + wlv->filler_lines && wlv->filler_todo <= 0) {\r\n     int attr = (use_cursor_line_highlight(wp, wlv->lnum) && sign_cul_attr)\r\n                ? sign_cul_attr : sattr.hl_id ? syn_id2attr(sattr.hl_id) : 0;\r\n-    int fill = nrcol ? number_width(wp) : SIGN_WIDTH;\r\n+    int fill = nrcol ? number_width(wp) + 1 : SIGN_WIDTH;\r\n     draw_col_fill(wlv, schar_from_ascii(' '), fill, attr);\r\n-    linebuf_char[wlv->off - 2] = sattr.text[0];\r\n-    linebuf_char[wlv->off - 1] = sattr.text[1];\r\n-    draw_col_fill(wlv, schar_from_ascii(' '), nrcol, attr);\r\n+    linebuf_char[wlv->off - 2 - nrcol] = sattr.text[0];\r\n+    linebuf_char[wlv->off - 1 - nrcol] = sattr.text[1];\r\n   } else {\r\n     wlv->c_extra = ' ';\r\n-    int width = nrcol ? number_width(wp) + 1 : SIGN_WIDTH;\r\n     int attr = win_hl_attr(wp, use_cursor_line_highlight(wp, wlv->lnum) ? HLF_CLS : HLF_SC);\r\n-    draw_col_fill(wlv, schar_from_ascii(' '), width, attr);\r\n+    draw_col_fill(wlv, schar_from_ascii(' '), SIGN_WIDTH, attr);\r\n   }\r\n }\r\n\r\n\r\n```",
            "commit_id": "e7076031508b61394ce4b18b40c869211a98c424",
            "created_at": "2023-12-12T14:04:51Z",
            "diff_hunk": "@@ -432,64 +430,74 @@ size_t fill_foldcolumn(char *p, win_T *wp, foldinfo_T foldinfo, linenr_T lnum, i\n       symbol = '>';\n     }\n \n-    len = utf_char2bytes(symbol, &p[char_counter]);\n-    char_counter += (size_t)len;\n+    if (out_buffer) {\n+      out_buffer[char_counter++] = schar_from_char(symbol);\n+    } else {\n+      linebuf_vcol[wlv->off] = -3;\n+      linebuf_attr[wlv->off] = attr;\n+      linebuf_char[wlv->off++] = schar_from_char(symbol);\n+      char_counter++;\n+    }\n+\n     if (first_level + i >= level) {\n       i++;\n       break;\n     }\n   }\n \n-  int n_closing_val = i;\n-\n   if (closed) {\n-    if (symbol != 0) {\n+    if (char_counter > 0) {\n       // rollback previous write\n-      char_counter -= (size_t)len;\n-      memset(&p[char_counter], ' ', (size_t)len);\n-      n_closing_val--;\n+      char_counter--;\n+      if (!out_buffer) {\n+        wlv->off--;\n+      }\n+    }\n+    if (out_buffer) {\n+      out_buffer[char_counter++] = schar_from_char(wp->w_p_fcs_chars.foldclosed);\n+    } else {\n+      linebuf_vcol[wlv->off] = -2;\n+      linebuf_attr[wlv->off] = attr;\n+      linebuf_char[wlv->off++] = schar_from_char(wp->w_p_fcs_chars.foldclosed);\n+      char_counter++;\n     }\n-    len = utf_char2bytes(wp->w_p_fcs_chars.foldclosed, &p[char_counter]);\n-    char_counter += (size_t)len;\n   }\n \n-  if (n_closing) {\n-    *n_closing = n_closing_val;\n+  int width = MAX(char_counter + (fdc - i), fdc);\n+  if (char_counter < width) {\n+    if (out_buffer) {\n+      while (char_counter < width) {\n+        out_buffer[char_counter++] = schar_from_ascii(' ');\n+      }\n+    } else {\n+      draw_col_fill(wlv, schar_from_ascii(' '), width - char_counter, attr);\n+    }\n   }\n-\n-  return MAX(char_counter + (size_t)(fdc - i), (size_t)fdc);\n+  return (size_t)width;\n }\n \n /// Get information needed to display the sign in line \"wlv->lnum\" in window \"wp\".\n /// If \"nrcol\" is true, the sign is going to be displayed in the number column.\n /// Otherwise the sign is going to be displayed in the sign column. If there is no\n /// sign, draw blank cells instead.\n-static void get_sign_display_info(bool nrcol, win_T *wp, winlinevars_T *wlv, int sign_idx,\n-                                  int sign_cul_attr)\n+static void draw_sign(bool nrcol, win_T *wp, winlinevars_T *wlv, int sign_idx, int sign_cul_attr)\n {\n   SignTextAttrs sattr = wlv->sattrs[sign_idx];\n   wlv->c_final = NUL;\n \n-  if (sattr.text && wlv->row == wlv->startrow + wlv->filler_lines && wlv->filler_todo <= 0) {\n-    size_t fill = nrcol ? (size_t)number_width(wp) - SIGN_WIDTH : 0;\n-    size_t sign_len = strlen(sattr.text);\n-\n-    // Spaces + sign:    \"  \" + \">>\"     + ' '\n-    wlv->n_extra = (int)(fill + sign_len + nrcol);\n-    if (nrcol) {\n-      memset(wlv->extra, ' ', (size_t)wlv->n_extra);\n-    }\n-    memcpy(wlv->extra + fill, sattr.text, sign_len);\n-    wlv->p_extra = wlv->extra;\n-    wlv->c_extra = NUL;\n-    wlv->char_attr = (use_cursor_line_highlight(wp, wlv->lnum) && sign_cul_attr)\n-                     ? sign_cul_attr : sattr.hl_id ? syn_id2attr(sattr.hl_id) : 0;\n+  if (sattr.text[0] && wlv->row == wlv->startrow + wlv->filler_lines && wlv->filler_todo <= 0) {\n+    int attr = (use_cursor_line_highlight(wp, wlv->lnum) && sign_cul_attr)\n+               ? sign_cul_attr : sattr.hl_id ? syn_id2attr(sattr.hl_id) : 0;\n+    int fill = nrcol ? number_width(wp) : SIGN_WIDTH;\n+    draw_col_fill(wlv, schar_from_ascii(' '), fill, attr);\n+    linebuf_char[wlv->off - 2] = sattr.text[0];\n+    linebuf_char[wlv->off - 1] = sattr.text[1];\n+    draw_col_fill(wlv, schar_from_ascii(' '), nrcol, attr);\n   } else {\n     wlv->c_extra = ' ';\n-    wlv->n_extra = nrcol ? number_width(wp) + 1 : SIGN_WIDTH;\n-    if (!nrcol) {\n-      wlv->char_attr = win_hl_attr(wp, use_cursor_line_highlight(wp, wlv->lnum) ? HLF_CLS : HLF_SC);\n-    }\n+    int width = nrcol ? number_width(wp) + 1 : SIGN_WIDTH;\n+    int attr = win_hl_attr(wp, use_cursor_line_highlight(wp, wlv->lnum) ? HLF_CLS : HLF_SC);\n+    draw_col_fill(wlv, schar_from_ascii(' '), width, attr);",
            "html_url": "https://github.com/neovim/neovim/pull/26528#discussion_r1424041102",
            "id": 1424041102,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5U4SSO",
            "original_commit_id": "8380e0bcf028619b3acdc7dffaf844864b0ab7c4",
            "original_line": 500,
            "original_position": 288,
            "original_start_line": null,
            "path": "src/nvim/drawline.c",
            "position": null,
            "pull_request_review_id": 1777551812,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26528",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1424041102/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-12T14:37:35Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1424041102",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26528#discussion_r1428783429"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26528"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1428783429"
                }
            },
            "author_association": "MEMBER",
            "body": "not this one :) applied all the others.",
            "commit_id": "e7076031508b61394ce4b18b40c869211a98c424",
            "created_at": "2023-12-16T11:35:08Z",
            "diff_hunk": "@@ -352,10 +368,16 @@ int init_sign_text(sign_T *sp, char **sign_text, char *text)\n   // Count cells and check for non-printable chars\n   int cells = 0;\n   for (s = text; s < endp; s += utfc_ptr2len(s)) {\n-    if (!vim_isprintc(utf_ptr2char(s))) {\n+    int c;\n+    sign_text[cells] = utfc_ptr2schar(s, &c);\n+    if (!vim_isprintc(c)) {\n       break;\n     }\n-    cells += utf_ptr2cells(s);\n+    int width = utf_char2cells(c);\n+    if (width == 2) {",
            "html_url": "https://github.com/neovim/neovim/pull/26528#discussion_r1428783429",
            "id": 1428783429,
            "in_reply_to_id": 1423852742,
            "line": 377,
            "node_id": "PRRC_kwDOAPphoM5VKYFF",
            "original_commit_id": "8380e0bcf028619b3acdc7dffaf844864b0ab7c4",
            "original_line": 377,
            "original_position": 64,
            "original_start_line": null,
            "path": "src/nvim/sign.c",
            "position": 64,
            "pull_request_review_id": 1785167066,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26528",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1428783429/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-16T11:35:08Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1428783429",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1363104?v=4",
                "events_url": "https://api.github.com/users/bfredl/events{/privacy}",
                "followers_url": "https://api.github.com/users/bfredl/followers",
                "following_url": "https://api.github.com/users/bfredl/following{/other_user}",
                "gists_url": "https://api.github.com/users/bfredl/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/bfredl",
                "id": 1363104,
                "login": "bfredl",
                "node_id": "MDQ6VXNlcjEzNjMxMDQ=",
                "organizations_url": "https://api.github.com/users/bfredl/orgs",
                "received_events_url": "https://api.github.com/users/bfredl/received_events",
                "repos_url": "https://api.github.com/users/bfredl/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/bfredl/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/bfredl/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/bfredl"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26528#discussion_r1428852522"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26528"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1428852522"
                }
            },
            "author_association": "MEMBER",
            "body": "Missed this one, perhaps intentionally, but the `used` typo is still there :)\r\nThere are still a few other usages of `2` which may be replaced by `SIGN_WIDTH`, but I'll leave that up to you.",
            "commit_id": "e7076031508b61394ce4b18b40c869211a98c424",
            "created_at": "2023-12-16T16:20:28Z",
            "diff_hunk": "@@ -59,11 +59,7 @@ typedef struct {\n   uint16_t flags;\n   DecorPriority priority;\n   int hl_id;  // if sign: highlight of sign text\n-  // TODO(bfredl): Later signs should use sc[2] as well.\n-  union {\n-    char *ptr;  // sign\n-    schar_T sc[2];  // conceal text (only sc[0] used)\n-  } text;\n+  schar_T text[2];  // conceal text only uses sc[0] used",
            "html_url": "https://github.com/neovim/neovim/pull/26528#discussion_r1428852522",
            "id": 1428852522,
            "in_reply_to_id": 1423851483,
            "line": 62,
            "node_id": "PRRC_kwDOAPphoM5VKo8q",
            "original_commit_id": "8380e0bcf028619b3acdc7dffaf844864b0ab7c4",
            "original_line": 62,
            "original_position": 9,
            "original_start_line": null,
            "path": "src/nvim/decoration_defs.h",
            "position": 9,
            "pull_request_review_id": 1785232230,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26528",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1428852522/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-16T16:20:29Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1428852522",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26528#discussion_r1428978843"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26528"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1428978843"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n  schar_T text[2];  // conceal text only uses text[0]\r\n```",
            "commit_id": "e7076031508b61394ce4b18b40c869211a98c424",
            "created_at": "2023-12-17T00:58:38Z",
            "diff_hunk": "@@ -59,11 +59,7 @@ typedef struct {\n   uint16_t flags;\n   DecorPriority priority;\n   int hl_id;  // if sign: highlight of sign text\n-  // TODO(bfredl): Later signs should use sc[2] as well.\n-  union {\n-    char *ptr;  // sign\n-    schar_T sc[2];  // conceal text (only sc[0] used)\n-  } text;\n+  schar_T text[2];  // conceal text only uses sc[0] used",
            "html_url": "https://github.com/neovim/neovim/pull/26528#discussion_r1428978843",
            "id": 1428978843,
            "line": 62,
            "node_id": "PRRC_kwDOAPphoM5VLHyb",
            "original_commit_id": "e7076031508b61394ce4b18b40c869211a98c424",
            "original_line": 62,
            "original_position": 9,
            "original_start_line": null,
            "path": "src/nvim/decoration_defs.h",
            "position": 9,
            "pull_request_review_id": 1785323683,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26528",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1428978843/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-17T00:58:39Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1428978843",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26528#discussion_r1429001714"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26528"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1429001714"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n  bool draw_color_col;       ///< highlight colorcolumn\r\n  int *color_cols;           ///< pointer to according columns array\r\n```",
            "commit_id": "e7076031508b61394ce4b18b40c869211a98c424",
            "created_at": "2023-12-17T03:31:40Z",
            "diff_hunk": "@@ -135,6 +110,9 @@ typedef struct {\n                              ///< or w_skipcol or concealing\n   int skipped_cells;         ///< nr of skipped cells for virtual text\n                              ///< to be added to wlv.vcol later\n+\n+  bool draw_color_col;          // highlight colorcolumn\n+  int *color_cols;       // pointer to according columns array",
            "html_url": "https://github.com/neovim/neovim/pull/26528#discussion_r1429001714",
            "id": 1429001714,
            "line": 115,
            "node_id": "PRRC_kwDOAPphoM5VLNXy",
            "original_commit_id": "e7076031508b61394ce4b18b40c869211a98c424",
            "original_line": 115,
            "original_position": 49,
            "original_start_line": 114,
            "path": "src/nvim/drawline.c",
            "position": 49,
            "pull_request_review_id": 1785332492,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26528",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1429001714/reactions"
            },
            "side": "RIGHT",
            "start_line": 114,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2023-12-17T03:31:40Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1429001714",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26528#discussion_r1429002140"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26528"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1429002140"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n    while (*wlv->color_cols >= 0 && wlv->vcol > *wlv->color_cols) {\r\n```",
            "commit_id": "e7076031508b61394ce4b18b40c869211a98c424",
            "created_at": "2023-12-17T03:33:40Z",
            "diff_hunk": "@@ -165,12 +143,14 @@ void drawline_free_all_mem(void)\n /// Advance **color_cols\n ///\n /// @return  true when there are columns to draw.\n-static bool advance_color_col(int vcol, int **color_cols)\n+static void advance_color_col(winlinevars_T *wlv, int vcol)\n {\n-  while (**color_cols >= 0 && vcol > **color_cols) {\n-    (*color_cols)++;\n+  if (wlv->draw_color_col) {\n+    while (*wlv->color_cols >= 0 && vcol > *wlv->color_cols) {",
            "html_url": "https://github.com/neovim/neovim/pull/26528#discussion_r1429002140",
            "id": 1429002140,
            "line": 149,
            "node_id": "PRRC_kwDOAPphoM5VLNec",
            "original_commit_id": "e7076031508b61394ce4b18b40c869211a98c424",
            "original_line": 149,
            "original_position": 63,
            "original_start_line": null,
            "path": "src/nvim/drawline.c",
            "position": 63,
            "pull_request_review_id": 1785332622,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26528",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1429002140/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-17T03:33:41Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1429002140",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26528#discussion_r1429002698"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26528"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1429002698"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n/// Advance wlv->color_cols and update wlv->draw_color_col\r\n```",
            "commit_id": "e7076031508b61394ce4b18b40c869211a98c424",
            "created_at": "2023-12-17T03:36:57Z",
            "diff_hunk": "@@ -165,12 +143,14 @@ void drawline_free_all_mem(void)\n /// Advance **color_cols\n ///\n /// @return  true when there are columns to draw.",
            "html_url": "https://github.com/neovim/neovim/pull/26528#discussion_r1429002698",
            "id": 1429002698,
            "line": 145,
            "node_id": "PRRC_kwDOAPphoM5VLNnK",
            "original_commit_id": "e7076031508b61394ce4b18b40c869211a98c424",
            "original_line": 145,
            "original_position": 56,
            "original_start_line": 143,
            "path": "src/nvim/drawline.c",
            "position": 56,
            "pull_request_review_id": 1785332821,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26528",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1429002698/reactions"
            },
            "side": "RIGHT",
            "start_line": 143,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2023-12-17T03:36:57Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1429002698",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26528#discussion_r1429004163"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26528"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1429004163"
                }
            },
            "author_association": "MEMBER",
            "body": "Without the `!= NULL` it looks a bit strange\r\n```suggestion\r\n    wlv.draw_color_col = wlv.color_cols != NULL;\r\n```",
            "commit_id": "e7076031508b61394ce4b18b40c869211a98c424",
            "created_at": "2023-12-17T03:44:37Z",
            "diff_hunk": "@@ -1135,10 +1090,9 @@ int win_line(win_T *wp, linenr_T lnum, int startrow, int endrow, bool number_onl\n     }\n \n     // Check for columns to display for 'colorcolumn'.\n-    color_cols = wp->w_buffer->terminal ? NULL : wp->w_p_cc_cols;\n-    if (color_cols != NULL) {\n-      draw_color_col = advance_color_col(VCOL_HLC, &color_cols);\n-    }\n+    wlv.color_cols = wp->w_buffer->terminal ? NULL : wp->w_p_cc_cols;\n+    wlv.draw_color_col = wlv.color_cols;",
            "html_url": "https://github.com/neovim/neovim/pull/26528#discussion_r1429004163",
            "id": 1429004163,
            "line": 1094,
            "node_id": "PRRC_kwDOAPphoM5VLN-D",
            "original_commit_id": "e7076031508b61394ce4b18b40c869211a98c424",
            "original_line": 1094,
            "original_position": 596,
            "original_start_line": null,
            "path": "src/nvim/drawline.c",
            "position": 596,
            "pull_request_review_id": 1785333389,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26528",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1429004163/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-17T03:44:38Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1429004163",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26528#discussion_r1429014410"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26528"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1429014410"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n    linebuf_attr[wlv->off] = attr;\r\n    linebuf_vcol[wlv->off] = -1;\r\n```",
            "commit_id": "e7076031508b61394ce4b18b40c869211a98c424",
            "created_at": "2023-12-17T04:42:19Z",
            "diff_hunk": "@@ -359,6 +339,38 @@ static int draw_virt_text_item(buf_T *buf, int col, VirtText vt, HlMode hl_mode,\n   return col;\n }\n \n+// TODO(bfredl): integrate with grid.c linebuf code? madness?\n+static void draw_col_buf(win_T *wp, winlinevars_T *wlv, const char *text, size_t len, int attr,\n+                         bool vcol)\n+{\n+  const char *ptr = text;\n+  while (ptr < text + len && wlv->off < wp->w_grid.cols) {\n+    int cells = line_putchar(wp->w_buffer, &ptr, &linebuf_char[wlv->off],\n+                             wp->w_grid.cols - wlv->off, wlv->off);\n+    int myattr = attr;\n+    if (vcol) {\n+      advance_color_col(wlv, wlv->vcol);\n+      if (wlv->draw_color_col && wlv->vcol == *wlv->color_cols) {\n+        myattr = hl_combine_attr(win_hl_attr(wp, HLF_MC), myattr);\n+      }\n+      wlv->vcol += cells;\n+    }\n+    for (int c = 0; c < cells; c++) {\n+      linebuf_attr[wlv->off] = myattr;\n+      wlv->off++;\n+    }\n+  }\n+}\n+\n+static void draw_col_fill(winlinevars_T *wlv, schar_T fillchar, int width, int attr)\n+{\n+  for (int i = 0; i < width; i++) {\n+    linebuf_char[wlv->off] = fillchar;\n+    linebuf_attr[wlv->off] = attr;",
            "html_url": "https://github.com/neovim/neovim/pull/26528#discussion_r1429014410",
            "id": 1429014410,
            "line": 369,
            "node_id": "PRRC_kwDOAPphoM5VLQeK",
            "original_commit_id": "e7076031508b61394ce4b18b40c869211a98c424",
            "original_line": 369,
            "original_position": 103,
            "original_start_line": null,
            "path": "src/nvim/drawline.c",
            "position": 103,
            "pull_request_review_id": 1785337126,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26528",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1429014410/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-12-17T04:52:36Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1429014410",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26528#discussion_r1429016178"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26528"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1429016178"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n    }\r\n    for (int c = 0; c < cells; c++) {\r\n      linebuf_attr[wlv->off] = myattr;\r\n      linebuf_vcol[wlv->off] = vcol ? wlv->vcol++ : -1;\r\n```",
            "commit_id": "e7076031508b61394ce4b18b40c869211a98c424",
            "created_at": "2023-12-17T04:51:20Z",
            "diff_hunk": "@@ -359,6 +339,38 @@ static int draw_virt_text_item(buf_T *buf, int col, VirtText vt, HlMode hl_mode,\n   return col;\n }\n \n+// TODO(bfredl): integrate with grid.c linebuf code? madness?\n+static void draw_col_buf(win_T *wp, winlinevars_T *wlv, const char *text, size_t len, int attr,\n+                         bool vcol)\n+{\n+  const char *ptr = text;\n+  while (ptr < text + len && wlv->off < wp->w_grid.cols) {\n+    int cells = line_putchar(wp->w_buffer, &ptr, &linebuf_char[wlv->off],\n+                             wp->w_grid.cols - wlv->off, wlv->off);\n+    int myattr = attr;\n+    if (vcol) {\n+      advance_color_col(wlv, wlv->vcol);\n+      if (wlv->draw_color_col && wlv->vcol == *wlv->color_cols) {\n+        myattr = hl_combine_attr(win_hl_attr(wp, HLF_MC), myattr);\n+      }\n+      wlv->vcol += cells;\n+    }\n+    for (int c = 0; c < cells; c++) {\n+      linebuf_attr[wlv->off] = myattr;",
            "html_url": "https://github.com/neovim/neovim/pull/26528#discussion_r1429016178",
            "id": 1429016178,
            "line": 359,
            "node_id": "PRRC_kwDOAPphoM5VLQ5y",
            "original_commit_id": "e7076031508b61394ce4b18b40c869211a98c424",
            "original_line": 359,
            "original_position": 93,
            "original_start_line": 356,
            "path": "src/nvim/drawline.c",
            "position": 93,
            "pull_request_review_id": 1785337126,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26528",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1429016178/reactions"
            },
            "side": "RIGHT",
            "start_line": 356,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2023-12-17T04:52:36Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1429016178",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/26528#discussion_r1429016290"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/26528"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1429016290"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n      linebuf_attr[wlv->off] = myattr;\r\n      linebuf_vcol[wlv->off] = wlv->vcol++;\r\n      wlv->off++;\r\n```",
            "commit_id": "e7076031508b61394ce4b18b40c869211a98c424",
            "created_at": "2023-12-17T04:52:06Z",
            "diff_hunk": "@@ -662,124 +665,108 @@ static void get_statuscol_str(win_T *wp, linenr_T lnum, int virtnum, statuscol_T\n ///\n /// @param stcp  Status column attributes\n /// @param[in,out]  wlv\n-static void get_statuscol_display_info(statuscol_T *stcp, winlinevars_T *wlv)\n+static void draw_statuscol(win_T *wp, statuscol_T *stcp, winlinevars_T *wlv)\n {\n-  wlv->c_extra = NUL;\n-  wlv->c_final = NUL;\n   do {\n-    wlv->draw_state = WL_STC;\n-    wlv->char_attr = stcp->cur_attr;\n-    wlv->p_extra = stcp->textp;\n-    char *const section_end = stcp->hlrecp->start ? stcp->hlrecp->start : stcp->text_end;\n-    wlv->n_extra = (int)(section_end - stcp->textp);\n+    int attr = stcp->cur_attr;\n+    char *text = stcp->textp;\n+    char *section_end = stcp->hlrecp->start ? stcp->hlrecp->start : stcp->text_end;\n+    ptrdiff_t len = section_end - text;\n     // Prepare for next highlight section if not yet at the end\n     if (section_end < stcp->text_end) {\n       int hl = stcp->hlrecp->userhl;\n       stcp->textp = stcp->hlrecp->start;\n       stcp->cur_attr = hl < 0 ? syn_id2attr(-hl) : stcp->num_attr;\n       stcp->hlrecp++;\n-      wlv->draw_state = WL_STC - 1;\n+    } else {\n+      stcp->textp = section_end;\n     }\n     // Skip over empty highlight sections\n-  } while (wlv->n_extra == 0 && stcp->textp < stcp->text_end);\n-  if (wlv->n_extra > 0) {\n-    static char transbuf[(MAX_NUMBERWIDTH + 9 + 9 * 2) * MB_MAXBYTES + 1];\n-    wlv->n_extra = (int)transstr_buf(wlv->p_extra, wlv->n_extra, transbuf, sizeof transbuf, true);\n-    wlv->p_extra = transbuf;\n-  }\n+    if (len) {\n+      static char transbuf[(MAX_NUMBERWIDTH + 9 + 9 * SIGN_WIDTH) * MB_MAXBYTES + 1];\n+      size_t translen = transstr_buf(text, len, transbuf, sizeof transbuf, true);\n+      draw_col_buf(wp, wlv, transbuf, translen, attr, false);\n+    }\n+  } while (stcp->textp < stcp->text_end);\n }\n \n static void handle_breakindent(win_T *wp, winlinevars_T *wlv)\n {\n-  if (wp->w_briopt_sbr && wlv->draw_state == WL_BRI - 1\n-      && *get_showbreak_value(wp) != NUL) {\n-    // draw indent after showbreak value\n-    wlv->draw_state = WL_BRI;\n-  } else if (wp->w_briopt_sbr && wlv->draw_state == WL_SBR) {\n-    // after the showbreak, draw the breakindent\n-    wlv->draw_state = WL_BRI - 1;\n-  }\n-\n   // draw 'breakindent': indent wrapped text accordingly\n-  if (wlv->draw_state == WL_BRI - 1 && wlv->n_extra == 0) {\n-    wlv->draw_state = WL_BRI;\n-    // if wlv->need_showbreak is set, breakindent also applies\n-    if (wp->w_p_bri && (wlv->row > wlv->startrow + wlv->filler_lines\n-                        || wlv->need_showbreak)) {\n-      wlv->char_attr = 0;\n-      if (wlv->diff_hlf != (hlf_T)0) {\n-        wlv->char_attr = win_hl_attr(wp, (int)wlv->diff_hlf);\n-      }\n-      wlv->p_extra = NULL;\n-      wlv->c_extra = ' ';\n-      wlv->c_final = NUL;\n-      wlv->n_extra = get_breakindent_win(wp, ml_get_buf(wp->w_buffer, wlv->lnum));\n-      if (wlv->row == wlv->startrow) {\n-        wlv->n_extra -= win_col_off2(wp);\n-        if (wlv->n_extra < 0) {\n-          wlv->n_extra = 0;\n-        }\n-      }\n-      if (wp->w_skipcol > 0 && wlv->startrow == 0 && wp->w_p_wrap && wp->w_briopt_sbr) {\n-        wlv->need_showbreak = false;\n+  // if wlv->need_showbreak is set, breakindent also applies\n+  if (wp->w_p_bri && (wlv->row > wlv->startrow + wlv->filler_lines\n+                      || wlv->need_showbreak)) {\n+    int attr = 0;\n+    if (wlv->diff_hlf != (hlf_T)0) {\n+      attr = win_hl_attr(wp, (int)wlv->diff_hlf);\n+    }\n+    int num = get_breakindent_win(wp, ml_get_buf(wp->w_buffer, wlv->lnum));\n+    if (wlv->row == wlv->startrow) {\n+      num -= win_col_off2(wp);\n+      if (wlv->n_extra < 0) {\n+        num = 0;\n       }\n-      // Correct end of highlighted area for 'breakindent',\n-      // required wen 'linebreak' is also set.\n-      if (wlv->tocol == wlv->vcol) {\n-        wlv->tocol += wlv->n_extra;\n+    }\n+\n+    // Correct end of highlighted area for 'breakindent',\n+    // required wen 'linebreak' is also set.\n+    if (wlv->tocol == wlv->vcol) {\n+      wlv->tocol += num;\n+    }\n+\n+    for (int i = 0; i < num; i++) {\n+      linebuf_char[wlv->off] = schar_from_ascii(' ');\n+\n+      advance_color_col(wlv, wlv->vcol);\n+      int myattr = attr;\n+      if (wlv->draw_color_col && wlv->vcol == *wlv->color_cols) {\n+        myattr = hl_combine_attr(win_hl_attr(wp, HLF_MC), myattr);\n       }\n+      linebuf_attr[wlv->off] = myattr;\n+      wlv->off++;\n+      wlv->vcol++;  // These are vcols, sorry I don't make the rules",
            "html_url": "https://github.com/neovim/neovim/pull/26528#discussion_r1429016290",
            "id": 1429016290,
            "line": 727,
            "node_id": "PRRC_kwDOAPphoM5VLQ7i",
            "original_commit_id": "e7076031508b61394ce4b18b40c869211a98c424",
            "original_line": 727,
            "original_position": 458,
            "original_start_line": 725,
            "path": "src/nvim/drawline.c",
            "position": 458,
            "pull_request_review_id": 1785337126,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/26528",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1429016290/reactions"
            },
            "side": "RIGHT",
            "start_line": 725,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2023-12-17T04:52:36Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1429016290",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        }
    ],
    "comment_regular_data": [],
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/26528/comments",
    "commits_url": "https://api.github.com/repos/neovim/neovim/pulls/26528/commits",
    "created_at": "2023-12-12T10:07:04Z",
    "diff_url": "https://github.com/neovim/neovim/pull/26528.diff",
    "draft": true,
    "head": {
        "label": "bfredl:nodrawstate",
        "ref": "nodrawstate",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/bfredl/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/bfredl/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/bfredl/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/bfredl/neovim/branches{/branch}",
            "clone_url": "https://github.com/bfredl/neovim.git",
            "collaborators_url": "https://api.github.com/repos/bfredl/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/bfredl/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/bfredl/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/bfredl/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/bfredl/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/bfredl/neovim/contributors",
            "created_at": "2014-06-20T19:51:31Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/bfredl/neovim/deployments",
            "description": "vim's rebirth for the 21st century",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/bfredl/neovim/downloads",
            "events_url": "https://api.github.com/repos/bfredl/neovim/events",
            "fork": true,
            "forks": 1,
            "forks_count": 1,
            "forks_url": "https://api.github.com/repos/bfredl/neovim/forks",
            "full_name": "bfredl/neovim",
            "git_commits_url": "https://api.github.com/repos/bfredl/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/bfredl/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/bfredl/neovim/git/tags{/sha}",
            "git_url": "git://github.com/bfredl/neovim.git",
            "has_discussions": false,
            "has_downloads": true,
            "has_issues": false,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "http://neovim.org/",
            "hooks_url": "https://api.github.com/repos/bfredl/neovim/hooks",
            "html_url": "https://github.com/bfredl/neovim",
            "id": 21050434,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/bfredl/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/bfredl/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/bfredl/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/bfredl/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/bfredl/neovim/labels{/name}",
            "language": "Vim script",
            "languages_url": "https://api.github.com/repos/bfredl/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/bfredl/neovim/merges",
            "milestones_url": "https://api.github.com/repos/bfredl/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "MDEwOlJlcG9zaXRvcnkyMTA1MDQzNA==",
            "notifications_url": "https://api.github.com/repos/bfredl/neovim/notifications{?since,all,participating}",
            "open_issues": 0,
            "open_issues_count": 0,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1363104?v=4",
                "events_url": "https://api.github.com/users/bfredl/events{/privacy}",
                "followers_url": "https://api.github.com/users/bfredl/followers",
                "following_url": "https://api.github.com/users/bfredl/following{/other_user}",
                "gists_url": "https://api.github.com/users/bfredl/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/bfredl",
                "id": 1363104,
                "login": "bfredl",
                "node_id": "MDQ6VXNlcjEzNjMxMDQ=",
                "organizations_url": "https://api.github.com/users/bfredl/orgs",
                "received_events_url": "https://api.github.com/users/bfredl/received_events",
                "repos_url": "https://api.github.com/users/bfredl/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/bfredl/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/bfredl/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/bfredl"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/bfredl/neovim/pulls{/number}",
            "pushed_at": "2023-12-16T12:17:08Z",
            "releases_url": "https://api.github.com/repos/bfredl/neovim/releases{/id}",
            "size": 243633,
            "ssh_url": "git@github.com:bfredl/neovim.git",
            "stargazers_count": 0,
            "stargazers_url": "https://api.github.com/repos/bfredl/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/bfredl/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/bfredl/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/bfredl/neovim/subscription",
            "svn_url": "https://github.com/bfredl/neovim",
            "tags_url": "https://api.github.com/repos/bfredl/neovim/tags",
            "teams_url": "https://api.github.com/repos/bfredl/neovim/teams",
            "topics": [],
            "trees_url": "https://api.github.com/repos/bfredl/neovim/git/trees{/sha}",
            "updated_at": "2022-03-21T08:01:17Z",
            "url": "https://api.github.com/repos/bfredl/neovim",
            "visibility": "public",
            "watchers": 0,
            "watchers_count": 0,
            "web_commit_signoff_required": false
        },
        "sha": "e7076031508b61394ce4b18b40c869211a98c424",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1363104?v=4",
            "events_url": "https://api.github.com/users/bfredl/events{/privacy}",
            "followers_url": "https://api.github.com/users/bfredl/followers",
            "following_url": "https://api.github.com/users/bfredl/following{/other_user}",
            "gists_url": "https://api.github.com/users/bfredl/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/bfredl",
            "id": 1363104,
            "login": "bfredl",
            "node_id": "MDQ6VXNlcjEzNjMxMDQ=",
            "organizations_url": "https://api.github.com/users/bfredl/orgs",
            "received_events_url": "https://api.github.com/users/bfredl/received_events",
            "repos_url": "https://api.github.com/users/bfredl/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/bfredl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/bfredl/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/bfredl"
        }
    },
    "html_url": "https://github.com/neovim/neovim/pull/26528",
    "id": 1640385870,
    "issue_url": "https://api.github.com/repos/neovim/neovim/issues/26528",
    "labels": [
        {
            "color": "C5DEF5",
            "default": false,
            "description": "changes that are not features or bugfixes",
            "id": 106949155,
            "name": "refactor",
            "node_id": "MDU6TGFiZWwxMDY5NDkxNTU=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/refactor"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "sign/number column",
            "id": 2962322085,
            "name": "column",
            "node_id": "MDU6TGFiZWwyOTYyMzIyMDg1",
            "url": "https://api.github.com/repos/neovim/neovim/labels/column"
        }
    ],
    "locked": false,
    "merge_commit_sha": "7399a8321c86320acda6070d214c858bf222048a",
    "merged_at": null,
    "milestone": null,
    "node_id": "PR_kwDOAPphoM5hxk1O",
    "number": 26528,
    "patch_url": "https://github.com/neovim/neovim/pull/26528.patch",
    "requested_reviewers": [],
    "requested_teams": [],
    "review_comment_url": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}",
    "review_comments_url": "https://api.github.com/repos/neovim/neovim/pulls/26528/comments",
    "state": "open",
    "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/e7076031508b61394ce4b18b40c869211a98c424",
    "title": "refactor(drawline): remove LineDrawState and wlv->saved_n_extra",
    "updated_at": "2023-12-17T04:52:36Z",
    "url": "https://api.github.com/repos/neovim/neovim/pulls/26528",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/1363104?v=4",
        "events_url": "https://api.github.com/users/bfredl/events{/privacy}",
        "followers_url": "https://api.github.com/users/bfredl/followers",
        "following_url": "https://api.github.com/users/bfredl/following{/other_user}",
        "gists_url": "https://api.github.com/users/bfredl/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/bfredl",
        "id": 1363104,
        "login": "bfredl",
        "node_id": "MDQ6VXNlcjEzNjMxMDQ=",
        "organizations_url": "https://api.github.com/users/bfredl/orgs",
        "received_events_url": "https://api.github.com/users/bfredl/received_events",
        "repos_url": "https://api.github.com/users/bfredl/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/bfredl/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/bfredl/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/bfredl"
    }
}