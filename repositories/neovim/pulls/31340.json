{
    "_links": {
        "comments": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/31340/comments"
        },
        "commits": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/31340/commits"
        },
        "html": {
            "href": "https://github.com/neovim/neovim/pull/31340"
        },
        "issue": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/31340"
        },
        "review_comment": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}"
        },
        "review_comments": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/31340/comments"
        },
        "self": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/31340"
        },
        "statuses": {
            "href": "https://api.github.com/repos/neovim/neovim/statuses/4aee1bd009c7ddd2520d61f500aa695ba9765ea9"
        }
    },
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "auto_merge": null,
    "base": {
        "label": "neovim:master",
        "ref": "master",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/neovim/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/neovim/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/neovim/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/neovim/neovim/branches{/branch}",
            "clone_url": "https://github.com/neovim/neovim.git",
            "collaborators_url": "https://api.github.com/repos/neovim/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/neovim/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/neovim/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/neovim/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/neovim/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/neovim/neovim/contributors",
            "created_at": "2014-01-31T13:39:22Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/neovim/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/neovim/neovim/downloads",
            "events_url": "https://api.github.com/repos/neovim/neovim/events",
            "fork": false,
            "forks": 5732,
            "forks_count": 5732,
            "forks_url": "https://api.github.com/repos/neovim/neovim/forks",
            "full_name": "neovim/neovim",
            "git_commits_url": "https://api.github.com/repos/neovim/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/neovim/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/neovim/neovim/git/tags{/sha}",
            "git_url": "git://github.com/neovim/neovim.git",
            "has_discussions": true,
            "has_downloads": true,
            "has_issues": true,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/neovim/neovim/hooks",
            "html_url": "https://github.com/neovim/neovim",
            "id": 16408992,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/neovim/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/neovim/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/neovim/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/neovim/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/neovim/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/neovim/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/neovim/neovim/merges",
            "milestones_url": "https://api.github.com/repos/neovim/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "MDEwOlJlcG9zaXRvcnkxNjQwODk5Mg==",
            "notifications_url": "https://api.github.com/repos/neovim/neovim/notifications{?since,all,participating}",
            "open_issues": 1845,
            "open_issues_count": 1845,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
                "events_url": "https://api.github.com/users/neovim/events{/privacy}",
                "followers_url": "https://api.github.com/users/neovim/followers",
                "following_url": "https://api.github.com/users/neovim/following{/other_user}",
                "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/neovim",
                "id": 6471485,
                "login": "neovim",
                "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
                "organizations_url": "https://api.github.com/users/neovim/orgs",
                "received_events_url": "https://api.github.com/users/neovim/received_events",
                "repos_url": "https://api.github.com/users/neovim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
                "type": "Organization",
                "url": "https://api.github.com/users/neovim",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/neovim/neovim/pulls{/number}",
            "pushed_at": "2024-12-10T00:27:40Z",
            "releases_url": "https://api.github.com/repos/neovim/neovim/releases{/id}",
            "size": 298178,
            "ssh_url": "git@github.com:neovim/neovim.git",
            "stargazers_count": 83978,
            "stargazers_url": "https://api.github.com/repos/neovim/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/neovim/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/neovim/neovim/subscription",
            "svn_url": "https://github.com/neovim/neovim",
            "tags_url": "https://api.github.com/repos/neovim/neovim/tags",
            "teams_url": "https://api.github.com/repos/neovim/neovim/teams",
            "topics": [
                "api",
                "c",
                "lua",
                "neovim",
                "nvim",
                "text-editor",
                "vim"
            ],
            "trees_url": "https://api.github.com/repos/neovim/neovim/git/trees{/sha}",
            "updated_at": "2024-12-10T01:06:50Z",
            "url": "https://api.github.com/repos/neovim/neovim",
            "visibility": "public",
            "watchers": 83978,
            "watchers_count": 83978,
            "web_commit_signoff_required": false
        },
        "sha": "e8e3b443f8040329bd833fcc945d5dbf3adb832c",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
            "events_url": "https://api.github.com/users/neovim/events{/privacy}",
            "followers_url": "https://api.github.com/users/neovim/followers",
            "following_url": "https://api.github.com/users/neovim/following{/other_user}",
            "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/neovim",
            "id": 6471485,
            "login": "neovim",
            "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
            "organizations_url": "https://api.github.com/users/neovim/orgs",
            "received_events_url": "https://api.github.com/users/neovim/received_events",
            "repos_url": "https://api.github.com/users/neovim/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
            "type": "Organization",
            "url": "https://api.github.com/users/neovim",
            "user_view_type": "public"
        }
    },
    "body": "Checking workspace folders in the input configuration in the default `reuse_client` implementation for `vim.lsp.start`.",
    "closed_at": "2024-12-07T09:43:45Z",
    "comment_data": [
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31340#discussion_r1855547529"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31340"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1855547529"
                }
            },
            "author_association": "MEMBER",
            "body": "Not entirely sure but I think a valid configuration should always have either a `root_dir` or `workspace_folders` set. If so, this function would return a non-null array.",
            "commit_id": "4aee1bd009c7ddd2520d61f500aa695ba9765ea9",
            "created_at": "2024-11-24T21:49:01Z",
            "diff_hunk": "@@ -112,6 +112,22 @@ function lsp._unsupported_method(method)\n   return msg\n end\n \n+---@private\n+---@param workspace_folders string|lsp.WorkspaceFolder[]?\n+---@return lsp.WorkspaceFolder[]?\n+function lsp._get_workspace_folders(workspace_folders)",
            "html_url": "https://github.com/neovim/neovim/pull/31340#discussion_r1855547529",
            "id": 1855547529,
            "line": 120,
            "node_id": "PRRC_kwDOAPphoM5umWiJ",
            "original_commit_id": "a6c9d2b36ee72d85bc620862b440d446d467d807",
            "original_line": 120,
            "original_position": 7,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp.lua",
            "position": 7,
            "pull_request_review_id": 2456806718,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31340",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1855547529/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-11-24T21:49:02Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1855547529",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31340#discussion_r1856885150"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31340"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1856885150"
                }
            },
            "author_association": "MEMBER",
            "body": "In the single file case one can have `nil` as `root_dir` and no workspace folders.\r\n(and a single client can handle multiple \"single\" files, which if I read this right this PR would break)",
            "commit_id": "4aee1bd009c7ddd2520d61f500aa695ba9765ea9",
            "created_at": "2024-11-25T16:09:19Z",
            "diff_hunk": "@@ -112,6 +112,22 @@ function lsp._unsupported_method(method)\n   return msg\n end\n \n+---@private\n+---@param workspace_folders string|lsp.WorkspaceFolder[]?\n+---@return lsp.WorkspaceFolder[]?\n+function lsp._get_workspace_folders(workspace_folders)",
            "html_url": "https://github.com/neovim/neovim/pull/31340#discussion_r1856885150",
            "id": 1856885150,
            "in_reply_to_id": 1855547529,
            "line": 120,
            "node_id": "PRRC_kwDOAPphoM5urdGe",
            "original_commit_id": "a6c9d2b36ee72d85bc620862b440d446d467d807",
            "original_line": 120,
            "original_position": 7,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp.lua",
            "position": 7,
            "pull_request_review_id": 2458889192,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31340",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1856885150/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-11-25T16:16:40Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1856885150",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/38700?v=4",
                "events_url": "https://api.github.com/users/mfussenegger/events{/privacy}",
                "followers_url": "https://api.github.com/users/mfussenegger/followers",
                "following_url": "https://api.github.com/users/mfussenegger/following{/other_user}",
                "gists_url": "https://api.github.com/users/mfussenegger/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mfussenegger",
                "id": 38700,
                "login": "mfussenegger",
                "node_id": "MDQ6VXNlcjM4NzAw",
                "organizations_url": "https://api.github.com/users/mfussenegger/orgs",
                "received_events_url": "https://api.github.com/users/mfussenegger/received_events",
                "repos_url": "https://api.github.com/users/mfussenegger/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mfussenegger/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mfussenegger/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mfussenegger",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31340#discussion_r1857172097"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31340"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1857172097"
                }
            },
            "author_association": "MEMBER",
            "body": "I see.\r\nAnd how does this PR break a single client with multiple single files?",
            "commit_id": "4aee1bd009c7ddd2520d61f500aa695ba9765ea9",
            "created_at": "2024-11-25T18:39:00Z",
            "diff_hunk": "@@ -112,6 +112,22 @@ function lsp._unsupported_method(method)\n   return msg\n end\n \n+---@private\n+---@param workspace_folders string|lsp.WorkspaceFolder[]?\n+---@return lsp.WorkspaceFolder[]?\n+function lsp._get_workspace_folders(workspace_folders)",
            "html_url": "https://github.com/neovim/neovim/pull/31340#discussion_r1857172097",
            "id": 1857172097,
            "in_reply_to_id": 1855547529,
            "line": 120,
            "node_id": "PRRC_kwDOAPphoM5usjKB",
            "original_commit_id": "a6c9d2b36ee72d85bc620862b440d446d467d807",
            "original_line": 120,
            "original_position": 7,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp.lua",
            "position": 7,
            "pull_request_review_id": 2459353974,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31340",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1857172097/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-11-25T18:39:00Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1857172097",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31340#discussion_r1857375901"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31340"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1857375901"
                }
            },
            "author_association": "MEMBER",
            "body": "> And how does this PR break a single client with multiple single files?\r\n\r\nI was thinking of running `:lua vim.lsp.start({ cmd = {\"lua-language-server\"}, name = \"luals\" })` twice (root dir being nil). \r\nBut looks like it already starts a new client on each call without this change. \r\n\r\n*Edit*: Looks like a side effect of the changes in https://github.com/neovim/neovim/commit/d9235efa76229708586d3c9db3dcbac46127ca0a ",
            "commit_id": "4aee1bd009c7ddd2520d61f500aa695ba9765ea9",
            "created_at": "2024-11-25T21:35:53Z",
            "diff_hunk": "@@ -112,6 +112,22 @@ function lsp._unsupported_method(method)\n   return msg\n end\n \n+---@private\n+---@param workspace_folders string|lsp.WorkspaceFolder[]?\n+---@return lsp.WorkspaceFolder[]?\n+function lsp._get_workspace_folders(workspace_folders)",
            "html_url": "https://github.com/neovim/neovim/pull/31340#discussion_r1857375901",
            "id": 1857375901,
            "in_reply_to_id": 1855547529,
            "line": 120,
            "node_id": "PRRC_kwDOAPphoM5utU6d",
            "original_commit_id": "a6c9d2b36ee72d85bc620862b440d446d467d807",
            "original_line": 120,
            "original_position": 7,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp.lua",
            "position": 7,
            "pull_request_review_id": 2459684131,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31340",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1857375901/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-11-25T21:38:27Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1857375901",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/38700?v=4",
                "events_url": "https://api.github.com/users/mfussenegger/events{/privacy}",
                "followers_url": "https://api.github.com/users/mfussenegger/followers",
                "following_url": "https://api.github.com/users/mfussenegger/following{/other_user}",
                "gists_url": "https://api.github.com/users/mfussenegger/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mfussenegger",
                "id": 38700,
                "login": "mfussenegger",
                "node_id": "MDQ6VXNlcjM4NzAw",
                "organizations_url": "https://api.github.com/users/mfussenegger/orgs",
                "received_events_url": "https://api.github.com/users/mfussenegger/received_events",
                "repos_url": "https://api.github.com/users/mfussenegger/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mfussenegger/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mfussenegger/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mfussenegger",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31340#discussion_r1857389030"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31340"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1857389030"
                }
            },
            "author_association": "MEMBER",
            "body": "Makes sense. In that case I think this PR is good to go since it doesn’t change what’s currently happening on master.",
            "commit_id": "4aee1bd009c7ddd2520d61f500aa695ba9765ea9",
            "created_at": "2024-11-25T21:49:22Z",
            "diff_hunk": "@@ -112,6 +112,22 @@ function lsp._unsupported_method(method)\n   return msg\n end\n \n+---@private\n+---@param workspace_folders string|lsp.WorkspaceFolder[]?\n+---@return lsp.WorkspaceFolder[]?\n+function lsp._get_workspace_folders(workspace_folders)",
            "html_url": "https://github.com/neovim/neovim/pull/31340#discussion_r1857389030",
            "id": 1857389030,
            "in_reply_to_id": 1855547529,
            "line": 120,
            "node_id": "PRRC_kwDOAPphoM5utYHm",
            "original_commit_id": "a6c9d2b36ee72d85bc620862b440d446d467d807",
            "original_line": 120,
            "original_position": 7,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp.lua",
            "position": 7,
            "pull_request_review_id": 2459704328,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31340",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1857389030/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-11-25T21:49:23Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1857389030",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31340#discussion_r1861685828"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31340"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1861685828"
                }
            },
            "author_association": "MEMBER",
            "body": "I wonder if we'd need to handle the case somehow differently where `config_folders` contains workspaces not present in `client.workspace_folder`.\r\n\r\nIf the user provides workspace [a, b] and ends up with a client that has [a, c] that might be confusing.\r\n\r\nWe could extend the client workspace's automatically (getting [a, b, c] in ^)\r\nOr require exact matches?\r\n\r\nNo idea what's less suprising and more convenient.",
            "commit_id": "4aee1bd009c7ddd2520d61f500aa695ba9765ea9",
            "created_at": "2024-11-28T08:09:50Z",
            "diff_hunk": "@@ -194,18 +210,16 @@ local function reuse_client_default(client, config)\n     return false\n   end\n \n-  if config.root_dir then\n-    local root = vim.uri_from_fname(config.root_dir)\n-    for _, dir in ipairs(client.workspace_folders or {}) do\n-      -- note: do not need to check client.root_dir since that should be client.workspace_folders[1]\n-      if root == dir.uri then\n+  local config_folders = lsp._get_workspace_folders(config.workspace_folders or config.root_dir)\n+    or {}\n+  for _, config_folder in ipairs(config_folders) do\n+    for _, client_folder in ipairs(client.workspace_folders) do",
            "html_url": "https://github.com/neovim/neovim/pull/31340#discussion_r1861685828",
            "id": 1861685828,
            "line": 224,
            "node_id": "PRRC_kwDOAPphoM5u9xJE",
            "original_commit_id": "a6c9d2b36ee72d85bc620862b440d446d467d807",
            "original_line": 224,
            "original_position": 35,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp.lua",
            "position": 42,
            "pull_request_review_id": 2467031911,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31340",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1861685828/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-11-28T08:10:06Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1861685828",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/38700?v=4",
                "events_url": "https://api.github.com/users/mfussenegger/events{/privacy}",
                "followers_url": "https://api.github.com/users/mfussenegger/followers",
                "following_url": "https://api.github.com/users/mfussenegger/following{/other_user}",
                "gists_url": "https://api.github.com/users/mfussenegger/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mfussenegger",
                "id": 38700,
                "login": "mfussenegger",
                "node_id": "MDQ6VXNlcjM4NzAw",
                "organizations_url": "https://api.github.com/users/mfussenegger/orgs",
                "received_events_url": "https://api.github.com/users/mfussenegger/received_events",
                "repos_url": "https://api.github.com/users/mfussenegger/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mfussenegger/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mfussenegger/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mfussenegger",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31340#discussion_r1862330009"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31340"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1862330009"
                }
            },
            "author_association": "MEMBER",
            "body": "Hmmm FWIW nvim-lspconfig reuses a client as long as the name matches, so I don’t think this approach is too revolutionary.",
            "commit_id": "4aee1bd009c7ddd2520d61f500aa695ba9765ea9",
            "created_at": "2024-11-28T14:49:20Z",
            "diff_hunk": "@@ -194,18 +210,16 @@ local function reuse_client_default(client, config)\n     return false\n   end\n \n-  if config.root_dir then\n-    local root = vim.uri_from_fname(config.root_dir)\n-    for _, dir in ipairs(client.workspace_folders or {}) do\n-      -- note: do not need to check client.root_dir since that should be client.workspace_folders[1]\n-      if root == dir.uri then\n+  local config_folders = lsp._get_workspace_folders(config.workspace_folders or config.root_dir)\n+    or {}\n+  for _, config_folder in ipairs(config_folders) do\n+    for _, client_folder in ipairs(client.workspace_folders) do",
            "html_url": "https://github.com/neovim/neovim/pull/31340#discussion_r1862330009",
            "id": 1862330009,
            "in_reply_to_id": 1861685828,
            "line": 224,
            "node_id": "PRRC_kwDOAPphoM5vAOaZ",
            "original_commit_id": "a6c9d2b36ee72d85bc620862b440d446d467d807",
            "original_line": 224,
            "original_position": 35,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp.lua",
            "position": 42,
            "pull_request_review_id": 2468373068,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31340",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1862330009/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-11-28T14:49:21Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1862330009",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31340#discussion_r1864270005"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31340"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1864270005"
                }
            },
            "author_association": "MEMBER",
            "body": "Reusing always if only the name matches sounds broken to me.\r\n\r\nSay you have:\r\n\r\n```\r\nworkspace/project-a/\r\nworkspace/project-b/\r\n```\r\n\r\nand you open a file within `project-a` the first time. That will start a client\r\nNow you open a file in `project-b`, which has a different set of dependencies, but same language. If it re-used the client from project-a, you'd have a language server that can resolve dependencies of `project-a` but not `project-b`, and likely get lots of errors.\r\n\r\n\r\n---\r\n\r\nAs for the workspace folders - I don't use them myself so I'm not that familiar with the common use-cases, but my understanding is that they allow you to do things like this:\r\n\r\n```\r\nworkspace/project-a/\r\nworkspace/project-b/\r\nworkspace/shared/\r\n```\r\n\r\n\r\nWhere project-a and project-b are independent, but both use `shared`.\r\nSo, if you're using a single nvim client to work on both a and b in parallel you'd likely want to have two clients, one with workspaceFolders [project-a, shared] and one with [project-b, shared].\r\nAnything else would either lead to seeing dependencies you shouldn't, or miss dependencies you should see.\r\n\r\nPlease correct me if that's not the case.\r\n\r\n> This at least improves the situation, right?\r\n\r\nBased on ^ I think it might make the situation worse",
            "commit_id": "4aee1bd009c7ddd2520d61f500aa695ba9765ea9",
            "created_at": "2024-11-30T14:27:28Z",
            "diff_hunk": "@@ -194,18 +210,16 @@ local function reuse_client_default(client, config)\n     return false\n   end\n \n-  if config.root_dir then\n-    local root = vim.uri_from_fname(config.root_dir)\n-    for _, dir in ipairs(client.workspace_folders or {}) do\n-      -- note: do not need to check client.root_dir since that should be client.workspace_folders[1]\n-      if root == dir.uri then\n+  local config_folders = lsp._get_workspace_folders(config.workspace_folders or config.root_dir)\n+    or {}\n+  for _, config_folder in ipairs(config_folders) do\n+    for _, client_folder in ipairs(client.workspace_folders) do",
            "html_url": "https://github.com/neovim/neovim/pull/31340#discussion_r1864270005",
            "id": 1864270005,
            "in_reply_to_id": 1861685828,
            "line": 224,
            "node_id": "PRRC_kwDOAPphoM5vHoC1",
            "original_commit_id": "a6c9d2b36ee72d85bc620862b440d446d467d807",
            "original_line": 224,
            "original_position": 35,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp.lua",
            "position": 42,
            "pull_request_review_id": 2470915256,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31340",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1864270005/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-11-30T15:00:04Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1864270005",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/38700?v=4",
                "events_url": "https://api.github.com/users/mfussenegger/events{/privacy}",
                "followers_url": "https://api.github.com/users/mfussenegger/followers",
                "following_url": "https://api.github.com/users/mfussenegger/following{/other_user}",
                "gists_url": "https://api.github.com/users/mfussenegger/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mfussenegger",
                "id": 38700,
                "login": "mfussenegger",
                "node_id": "MDQ6VXNlcjM4NzAw",
                "organizations_url": "https://api.github.com/users/mfussenegger/orgs",
                "received_events_url": "https://api.github.com/users/mfussenegger/received_events",
                "repos_url": "https://api.github.com/users/mfussenegger/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mfussenegger/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mfussenegger/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mfussenegger",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31340#discussion_r1864322145"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31340"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1864322145"
                }
            },
            "author_association": "MEMBER",
            "body": "> Reusing always if only the name matches sounds broken to me.\r\n\r\nI'm not suggesting we do this. I just mention that this is `nvim-lspconfig`'s approach and so I don't find the current `reuse_client` overly flexible in comparison.\r\n\r\nAs for workspace folders, you bring a good point. I can change the current implementation to only reuse a client when the configuration only includes folders that an existing client is already aware of.",
            "commit_id": "4aee1bd009c7ddd2520d61f500aa695ba9765ea9",
            "created_at": "2024-11-30T16:45:56Z",
            "diff_hunk": "@@ -194,18 +210,16 @@ local function reuse_client_default(client, config)\n     return false\n   end\n \n-  if config.root_dir then\n-    local root = vim.uri_from_fname(config.root_dir)\n-    for _, dir in ipairs(client.workspace_folders or {}) do\n-      -- note: do not need to check client.root_dir since that should be client.workspace_folders[1]\n-      if root == dir.uri then\n+  local config_folders = lsp._get_workspace_folders(config.workspace_folders or config.root_dir)\n+    or {}\n+  for _, config_folder in ipairs(config_folders) do\n+    for _, client_folder in ipairs(client.workspace_folders) do",
            "html_url": "https://github.com/neovim/neovim/pull/31340#discussion_r1864322145",
            "id": 1864322145,
            "in_reply_to_id": 1861685828,
            "line": 224,
            "node_id": "PRRC_kwDOAPphoM5vH0xh",
            "original_commit_id": "a6c9d2b36ee72d85bc620862b440d446d467d807",
            "original_line": 224,
            "original_position": 35,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp.lua",
            "position": 42,
            "pull_request_review_id": 2470949610,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31340",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1864322145/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-11-30T16:45:56Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1864322145",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31340#discussion_r1864370060"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31340"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1864370060"
                }
            },
            "author_association": "MEMBER",
            "body": "LMK what you think :)",
            "commit_id": "4aee1bd009c7ddd2520d61f500aa695ba9765ea9",
            "created_at": "2024-11-30T17:23:52Z",
            "diff_hunk": "@@ -194,18 +210,16 @@ local function reuse_client_default(client, config)\n     return false\n   end\n \n-  if config.root_dir then\n-    local root = vim.uri_from_fname(config.root_dir)\n-    for _, dir in ipairs(client.workspace_folders or {}) do\n-      -- note: do not need to check client.root_dir since that should be client.workspace_folders[1]\n-      if root == dir.uri then\n+  local config_folders = lsp._get_workspace_folders(config.workspace_folders or config.root_dir)\n+    or {}\n+  for _, config_folder in ipairs(config_folders) do\n+    for _, client_folder in ipairs(client.workspace_folders) do",
            "html_url": "https://github.com/neovim/neovim/pull/31340#discussion_r1864370060",
            "id": 1864370060,
            "in_reply_to_id": 1861685828,
            "line": 224,
            "node_id": "PRRC_kwDOAPphoM5vIAeM",
            "original_commit_id": "a6c9d2b36ee72d85bc620862b440d446d467d807",
            "original_line": 224,
            "original_position": 35,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp.lua",
            "position": 42,
            "pull_request_review_id": 2470992386,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31340",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1864370060/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-11-30T18:42:01Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1864370060",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31340#discussion_r1864685347"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31340"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1864685347"
                }
            },
            "author_association": "MEMBER",
            "body": "> nvim-lspconfig reuses a client as long as the name matches,\r\n\r\nNo. The latest refactoring turned it into this. It resulted in some clients being reused that shouldn't be reused.",
            "commit_id": "4aee1bd009c7ddd2520d61f500aa695ba9765ea9",
            "created_at": "2024-12-01T00:46:44Z",
            "diff_hunk": "@@ -194,18 +210,16 @@ local function reuse_client_default(client, config)\n     return false\n   end\n \n-  if config.root_dir then\n-    local root = vim.uri_from_fname(config.root_dir)\n-    for _, dir in ipairs(client.workspace_folders or {}) do\n-      -- note: do not need to check client.root_dir since that should be client.workspace_folders[1]\n-      if root == dir.uri then\n+  local config_folders = lsp._get_workspace_folders(config.workspace_folders or config.root_dir)\n+    or {}\n+  for _, config_folder in ipairs(config_folders) do\n+    for _, client_folder in ipairs(client.workspace_folders) do",
            "html_url": "https://github.com/neovim/neovim/pull/31340#discussion_r1864685347",
            "id": 1864685347,
            "in_reply_to_id": 1861685828,
            "line": 224,
            "node_id": "PRRC_kwDOAPphoM5vJNcj",
            "original_commit_id": "a6c9d2b36ee72d85bc620862b440d446d467d807",
            "original_line": 224,
            "original_position": 35,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp.lua",
            "position": 42,
            "pull_request_review_id": 2471284990,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31340",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1864685347/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-12-01T00:46:44Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1864685347",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
                "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
                "followers_url": "https://api.github.com/users/glepnir/followers",
                "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
                "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glepnir",
                "id": 41671631,
                "login": "glepnir",
                "node_id": "MDQ6VXNlcjQxNjcxNjMx",
                "organizations_url": "https://api.github.com/users/glepnir/orgs",
                "received_events_url": "https://api.github.com/users/glepnir/received_events",
                "repos_url": "https://api.github.com/users/glepnir/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glepnir",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31340#discussion_r1864702163"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31340"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1864702163"
                }
            },
            "author_association": "MEMBER",
            "body": "@glepnir which refactor is that? Are you referring to https://github.com/neovim/nvim-lspconfig/pull/3450?",
            "commit_id": "4aee1bd009c7ddd2520d61f500aa695ba9765ea9",
            "created_at": "2024-12-01T02:01:13Z",
            "diff_hunk": "@@ -194,18 +210,16 @@ local function reuse_client_default(client, config)\n     return false\n   end\n \n-  if config.root_dir then\n-    local root = vim.uri_from_fname(config.root_dir)\n-    for _, dir in ipairs(client.workspace_folders or {}) do\n-      -- note: do not need to check client.root_dir since that should be client.workspace_folders[1]\n-      if root == dir.uri then\n+  local config_folders = lsp._get_workspace_folders(config.workspace_folders or config.root_dir)\n+    or {}\n+  for _, config_folder in ipairs(config_folders) do\n+    for _, client_folder in ipairs(client.workspace_folders) do",
            "html_url": "https://github.com/neovim/neovim/pull/31340#discussion_r1864702163",
            "id": 1864702163,
            "in_reply_to_id": 1861685828,
            "line": 224,
            "node_id": "PRRC_kwDOAPphoM5vJRjT",
            "original_commit_id": "a6c9d2b36ee72d85bc620862b440d446d467d807",
            "original_line": 224,
            "original_position": 35,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp.lua",
            "position": 42,
            "pull_request_review_id": 2471294201,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31340",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1864702163/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-12-01T02:01:14Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1864702163",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31340#discussion_r1864705230"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31340"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1864705230"
                }
            },
            "author_association": "MEMBER",
            "body": "Yes. I used a wrong server for testing before . I think the problem still exists. When loading multiple projects of the same language from the session. You can't know the ability of the server to be started when the second buffer is triggered. Because it may be uninitialized. That is to say, clinet.initialized is nil. You can't know whether it supports workspaceFolder. Here must wait for the initialization of the started server to be completed before deciding whether to reuse or a new instance. I think the core should handle this situation if i am wrong please correct me .\r\n\r\n~~Another problem is the logic of lsoconfig reuse_client. It may not be applicable here~~",
            "commit_id": "4aee1bd009c7ddd2520d61f500aa695ba9765ea9",
            "created_at": "2024-12-01T02:15:47Z",
            "diff_hunk": "@@ -194,18 +210,16 @@ local function reuse_client_default(client, config)\n     return false\n   end\n \n-  if config.root_dir then\n-    local root = vim.uri_from_fname(config.root_dir)\n-    for _, dir in ipairs(client.workspace_folders or {}) do\n-      -- note: do not need to check client.root_dir since that should be client.workspace_folders[1]\n-      if root == dir.uri then\n+  local config_folders = lsp._get_workspace_folders(config.workspace_folders or config.root_dir)\n+    or {}\n+  for _, config_folder in ipairs(config_folders) do\n+    for _, client_folder in ipairs(client.workspace_folders) do",
            "html_url": "https://github.com/neovim/neovim/pull/31340#discussion_r1864705230",
            "id": 1864705230,
            "in_reply_to_id": 1861685828,
            "line": 224,
            "node_id": "PRRC_kwDOAPphoM5vJSTO",
            "original_commit_id": "a6c9d2b36ee72d85bc620862b440d446d467d807",
            "original_line": 224,
            "original_position": 35,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp.lua",
            "position": 42,
            "pull_request_review_id": 2471295634,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31340",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1864705230/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-12-01T02:19:32Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1864705230",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
                "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
                "followers_url": "https://api.github.com/users/glepnir/followers",
                "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
                "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glepnir",
                "id": 41671631,
                "login": "glepnir",
                "node_id": "MDQ6VXNlcjQxNjcxNjMx",
                "organizations_url": "https://api.github.com/users/glepnir/orgs",
                "received_events_url": "https://api.github.com/users/glepnir/received_events",
                "repos_url": "https://api.github.com/users/glepnir/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glepnir",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31340#discussion_r1864706609"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31340"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1864706609"
                }
            },
            "author_association": "MEMBER",
            "body": "@glepnir Please correct me if I'm wrong, but before my change [this function](https://github.com/neovim/nvim-lspconfig/blob/ac936a66fba9a58613bed95d7615cff2c5bf0387/lua/lspconfig/manager.lua#L49) reuses clients based on their name, prioritizing one in the same root directory but still falling back to just comparing names. The PR I made didn't change the client reuse logic at all, it merely focused on replacing `start_client` by `start`, but I can stop my contributions if they're unwelcome.\r\n\r\nAs for the issue you're describing I still don't see why `on_init` doesn't handle this scenario (which I already mentioned here). You can see from the [editor implementation](https://github.com/neovim/neovim/blob/ab9cfc4dc3422af5235759efef456d3e02745217/runtime/lua/vim/lsp/client.lua#L595) how that callback is called _after_ initialization.",
            "commit_id": "4aee1bd009c7ddd2520d61f500aa695ba9765ea9",
            "created_at": "2024-12-01T02:23:16Z",
            "diff_hunk": "@@ -194,18 +210,16 @@ local function reuse_client_default(client, config)\n     return false\n   end\n \n-  if config.root_dir then\n-    local root = vim.uri_from_fname(config.root_dir)\n-    for _, dir in ipairs(client.workspace_folders or {}) do\n-      -- note: do not need to check client.root_dir since that should be client.workspace_folders[1]\n-      if root == dir.uri then\n+  local config_folders = lsp._get_workspace_folders(config.workspace_folders or config.root_dir)\n+    or {}\n+  for _, config_folder in ipairs(config_folders) do\n+    for _, client_folder in ipairs(client.workspace_folders) do",
            "html_url": "https://github.com/neovim/neovim/pull/31340#discussion_r1864706609",
            "id": 1864706609,
            "in_reply_to_id": 1861685828,
            "line": 224,
            "node_id": "PRRC_kwDOAPphoM5vJSox",
            "original_commit_id": "a6c9d2b36ee72d85bc620862b440d446d467d807",
            "original_line": 224,
            "original_position": 35,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp.lua",
            "position": 42,
            "pull_request_review_id": 2471296244,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31340",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1864706609/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-12-01T02:23:16Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1864706609",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/31340#discussion_r1864708159"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/31340"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1864708159"
                }
            },
            "author_association": "MEMBER",
            "body": "Previously I used a timer to wait for the first server to initialize. The refactoring removed this part. So the core better consider this case.",
            "commit_id": "4aee1bd009c7ddd2520d61f500aa695ba9765ea9",
            "created_at": "2024-12-01T02:30:17Z",
            "diff_hunk": "@@ -194,18 +210,16 @@ local function reuse_client_default(client, config)\n     return false\n   end\n \n-  if config.root_dir then\n-    local root = vim.uri_from_fname(config.root_dir)\n-    for _, dir in ipairs(client.workspace_folders or {}) do\n-      -- note: do not need to check client.root_dir since that should be client.workspace_folders[1]\n-      if root == dir.uri then\n+  local config_folders = lsp._get_workspace_folders(config.workspace_folders or config.root_dir)\n+    or {}\n+  for _, config_folder in ipairs(config_folders) do\n+    for _, client_folder in ipairs(client.workspace_folders) do",
            "html_url": "https://github.com/neovim/neovim/pull/31340#discussion_r1864708159",
            "id": 1864708159,
            "in_reply_to_id": 1861685828,
            "line": 224,
            "node_id": "PRRC_kwDOAPphoM5vJTA_",
            "original_commit_id": "a6c9d2b36ee72d85bc620862b440d446d467d807",
            "original_line": 224,
            "original_position": 35,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp.lua",
            "position": 42,
            "pull_request_review_id": 2471296869,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/31340",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1864708159/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-12-01T02:30:17Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1864708159",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
                "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
                "followers_url": "https://api.github.com/users/glepnir/followers",
                "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
                "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glepnir",
                "id": 41671631,
                "login": "glepnir",
                "node_id": "MDQ6VXNlcjQxNjcxNjMx",
                "organizations_url": "https://api.github.com/users/glepnir/orgs",
                "received_events_url": "https://api.github.com/users/glepnir/received_events",
                "repos_url": "https://api.github.com/users/glepnir/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glepnir",
                "user_view_type": "public"
            }
        }
    ],
    "comment_regular_data": [
        {
            "author_association": "MEMBER",
            "body": "Related https://github.com/neovim/nvim-lspconfig/pull/3452 @glepnir ",
            "created_at": "2024-11-25T15:43:43Z",
            "html_url": "https://github.com/neovim/neovim/pull/31340#issuecomment-2498372150",
            "id": 2498372150,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31340",
            "node_id": "IC_kwDOAPphoM6U6iI2",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2498372150/reactions"
            },
            "updated_at": "2024-11-25T15:43:43Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2498372150",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "This at least improves the situation, right? So let's unblock it and can improve later if possible.",
            "created_at": "2024-11-28T15:52:13Z",
            "html_url": "https://github.com/neovim/neovim/pull/31340#issuecomment-2506411969",
            "id": 2506411969,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31340",
            "node_id": "IC_kwDOAPphoM6VZM_B",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 2,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 2,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2506411969/reactions"
            },
            "updated_at": "2024-11-28T15:52:13Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2506411969",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "@justinmk @lewis6991 @mfussenegger Do you still want this? I don't want to work on a PR that won't get merged anyway.",
            "created_at": "2024-12-05T19:24:58Z",
            "html_url": "https://github.com/neovim/neovim/pull/31340#issuecomment-2521222771",
            "id": 2521222771,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31340",
            "node_id": "IC_kwDOAPphoM6WRs5z",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 2,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 2,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 4,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2521222771/reactions"
            },
            "updated_at": "2024-12-05T19:24:58Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2521222771",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I approved. I don't understand this area or its impacts well enough, so I'm deferring to someone else (@mfussenegger) to merge.",
            "created_at": "2024-12-06T10:17:19Z",
            "html_url": "https://github.com/neovim/neovim/pull/31340#issuecomment-2522743563",
            "id": 2522743563,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31340",
            "node_id": "IC_kwDOAPphoM6WXgML",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 1,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2522743563/reactions"
            },
            "updated_at": "2024-12-06T12:08:21Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2522743563",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> As for workspace folders, you bring a good point. I can change the current implementation to only reuse a client when the configuration only includes folders that an existing client is already aware of.\r\n\r\nThat SGTM, any objection from @mfussenegger if that is implemented?",
            "created_at": "2024-12-06T12:03:34Z",
            "html_url": "https://github.com/neovim/neovim/pull/31340#issuecomment-2523071400",
            "id": 2523071400,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31340",
            "node_id": "IC_kwDOAPphoM6WYwOo",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2523071400/reactions"
            },
            "updated_at": "2024-12-06T12:03:34Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2523071400",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> > As for workspace folders, you bring a good point. I can change the current implementation to only reuse a client when the configuration only includes folders that an existing client is already aware of.\r\n> \r\n> That SGTM, any objection from @mfussenegger if that is implemented?\r\n\r\nNote that I already added this to the PR.",
            "created_at": "2024-12-06T16:25:50Z",
            "html_url": "https://github.com/neovim/neovim/pull/31340#issuecomment-2523676249",
            "id": 2523676249,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31340",
            "node_id": "IC_kwDOAPphoM6WbD5Z",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 1,
                "hooray": 0,
                "laugh": 0,
                "rocket": 1,
                "total_count": 3,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2523676249/reactions"
            },
            "updated_at": "2024-12-06T16:25:50Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2523676249",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Backport?",
            "created_at": "2024-12-07T09:25:17Z",
            "html_url": "https://github.com/neovim/neovim/pull/31340#issuecomment-2525048189",
            "id": 2525048189,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31340",
            "node_id": "IC_kwDOAPphoM6WgS19",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2525048189/reactions"
            },
            "updated_at": "2024-12-07T09:25:17Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2525048189",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> Backport?\r\n\r\nNot sure. I wouldn't consider this a fix per se but more of an improvement, but I'll let others decide.",
            "created_at": "2024-12-07T16:53:51Z",
            "html_url": "https://github.com/neovim/neovim/pull/31340#issuecomment-2525243944",
            "id": 2525243944,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31340",
            "node_id": "IC_kwDOAPphoM6WhCoo",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2525243944/reactions"
            },
            "updated_at": "2024-12-07T16:53:51Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2525243944",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs",
                "user_view_type": "public"
            }
        }
    ],
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/31340/comments",
    "commits_url": "https://api.github.com/repos/neovim/neovim/pulls/31340/commits",
    "created_at": "2024-11-24T21:46:44Z",
    "diff_url": "https://github.com/neovim/neovim/pull/31340.diff",
    "draft": false,
    "head": {
        "label": "MariaSolOs:lsp-todo",
        "ref": "lsp-todo",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/MariaSolOs/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/MariaSolOs/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/MariaSolOs/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/MariaSolOs/neovim/branches{/branch}",
            "clone_url": "https://github.com/MariaSolOs/neovim.git",
            "collaborators_url": "https://api.github.com/repos/MariaSolOs/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/MariaSolOs/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/MariaSolOs/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/MariaSolOs/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/MariaSolOs/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/MariaSolOs/neovim/contributors",
            "created_at": "2023-08-05T17:10:58Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/MariaSolOs/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/MariaSolOs/neovim/downloads",
            "events_url": "https://api.github.com/repos/MariaSolOs/neovim/events",
            "fork": true,
            "forks": 0,
            "forks_count": 0,
            "forks_url": "https://api.github.com/repos/MariaSolOs/neovim/forks",
            "full_name": "MariaSolOs/neovim",
            "git_commits_url": "https://api.github.com/repos/MariaSolOs/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/MariaSolOs/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/MariaSolOs/neovim/git/tags{/sha}",
            "git_url": "git://github.com/MariaSolOs/neovim.git",
            "has_discussions": false,
            "has_downloads": true,
            "has_issues": false,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/MariaSolOs/neovim/hooks",
            "html_url": "https://github.com/MariaSolOs/neovim",
            "id": 675070403,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/MariaSolOs/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/MariaSolOs/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/MariaSolOs/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/MariaSolOs/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/MariaSolOs/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/MariaSolOs/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/MariaSolOs/neovim/merges",
            "milestones_url": "https://api.github.com/repos/MariaSolOs/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "R_kgDOKDzBww",
            "notifications_url": "https://api.github.com/repos/MariaSolOs/neovim/notifications{?since,all,participating}",
            "open_issues": 0,
            "open_issues_count": 0,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
                "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
                "followers_url": "https://api.github.com/users/MariaSolOs/followers",
                "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
                "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/MariaSolOs",
                "id": 62502207,
                "login": "MariaSolOs",
                "node_id": "MDQ6VXNlcjYyNTAyMjA3",
                "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
                "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
                "repos_url": "https://api.github.com/users/MariaSolOs/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/MariaSolOs",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/MariaSolOs/neovim/pulls{/number}",
            "pushed_at": "2024-12-09T17:30:21Z",
            "releases_url": "https://api.github.com/repos/MariaSolOs/neovim/releases{/id}",
            "size": 290325,
            "ssh_url": "git@github.com:MariaSolOs/neovim.git",
            "stargazers_count": 0,
            "stargazers_url": "https://api.github.com/repos/MariaSolOs/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/MariaSolOs/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/MariaSolOs/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/MariaSolOs/neovim/subscription",
            "svn_url": "https://github.com/MariaSolOs/neovim",
            "tags_url": "https://api.github.com/repos/MariaSolOs/neovim/tags",
            "teams_url": "https://api.github.com/repos/MariaSolOs/neovim/teams",
            "topics": [],
            "trees_url": "https://api.github.com/repos/MariaSolOs/neovim/git/trees{/sha}",
            "updated_at": "2024-12-08T02:47:57Z",
            "url": "https://api.github.com/repos/MariaSolOs/neovim",
            "visibility": "public",
            "watchers": 0,
            "watchers_count": 0,
            "web_commit_signoff_required": false
        },
        "sha": "4aee1bd009c7ddd2520d61f500aa695ba9765ea9",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
            "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
            "followers_url": "https://api.github.com/users/MariaSolOs/followers",
            "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
            "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/MariaSolOs",
            "id": 62502207,
            "login": "MariaSolOs",
            "node_id": "MDQ6VXNlcjYyNTAyMjA3",
            "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
            "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
            "repos_url": "https://api.github.com/users/MariaSolOs/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/MariaSolOs",
            "user_view_type": "public"
        }
    },
    "html_url": "https://github.com/neovim/neovim/pull/31340",
    "id": 2196990551,
    "issue_url": "https://api.github.com/repos/neovim/neovim/issues/31340",
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": null,
            "id": 662566370,
            "name": "lsp",
            "node_id": "MDU6TGFiZWw2NjI1NjYzNzA=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/lsp"
        }
    ],
    "locked": false,
    "merge_commit_sha": "c2bf09ddff4994f901350dd02412087a8abfde0a",
    "merged_at": "2024-12-07T09:43:45Z",
    "milestone": null,
    "node_id": "PR_kwDOAPphoM6C82pX",
    "number": 31340,
    "patch_url": "https://github.com/neovim/neovim/pull/31340.patch",
    "requested_reviewers": [],
    "requested_teams": [],
    "review_comment_url": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}",
    "review_comments_url": "https://api.github.com/repos/neovim/neovim/pulls/31340/comments",
    "state": "closed",
    "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/4aee1bd009c7ddd2520d61f500aa695ba9765ea9",
    "title": "fix(lsp): check for configuration workspace folders when reusing clients",
    "updated_at": "2024-12-07T16:53:53Z",
    "url": "https://api.github.com/repos/neovim/neovim/pulls/31340",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/62502207?v=4",
        "events_url": "https://api.github.com/users/MariaSolOs/events{/privacy}",
        "followers_url": "https://api.github.com/users/MariaSolOs/followers",
        "following_url": "https://api.github.com/users/MariaSolOs/following{/other_user}",
        "gists_url": "https://api.github.com/users/MariaSolOs/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/MariaSolOs",
        "id": 62502207,
        "login": "MariaSolOs",
        "node_id": "MDQ6VXNlcjYyNTAyMjA3",
        "organizations_url": "https://api.github.com/users/MariaSolOs/orgs",
        "received_events_url": "https://api.github.com/users/MariaSolOs/received_events",
        "repos_url": "https://api.github.com/users/MariaSolOs/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/MariaSolOs/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/MariaSolOs/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/MariaSolOs",
        "user_view_type": "public"
    }
}