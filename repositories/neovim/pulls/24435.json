{
    "_links": {
        "comments": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/24435/comments"
        },
        "commits": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/24435/commits"
        },
        "html": {
            "href": "https://github.com/neovim/neovim/pull/24435"
        },
        "issue": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/24435"
        },
        "review_comment": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}"
        },
        "review_comments": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/24435/comments"
        },
        "self": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/24435"
        },
        "statuses": {
            "href": "https://api.github.com/repos/neovim/neovim/statuses/4a594e580a9bd7b3f4940f01f6df072dc874f16e"
        }
    },
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "auto_merge": null,
    "base": {
        "label": "neovim:master",
        "ref": "master",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/neovim/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/neovim/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/neovim/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/neovim/neovim/branches{/branch}",
            "clone_url": "https://github.com/neovim/neovim.git",
            "collaborators_url": "https://api.github.com/repos/neovim/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/neovim/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/neovim/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/neovim/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/neovim/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/neovim/neovim/contributors",
            "created_at": "2014-01-31T13:39:22Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/neovim/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/neovim/neovim/downloads",
            "events_url": "https://api.github.com/repos/neovim/neovim/events",
            "fork": false,
            "forks": 4888,
            "forks_count": 4888,
            "forks_url": "https://api.github.com/repos/neovim/neovim/forks",
            "full_name": "neovim/neovim",
            "git_commits_url": "https://api.github.com/repos/neovim/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/neovim/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/neovim/neovim/git/tags{/sha}",
            "git_url": "git://github.com/neovim/neovim.git",
            "has_discussions": true,
            "has_downloads": true,
            "has_issues": true,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/neovim/neovim/hooks",
            "html_url": "https://github.com/neovim/neovim",
            "id": 16408992,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/neovim/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/neovim/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/neovim/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/neovim/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/neovim/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/neovim/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/neovim/neovim/merges",
            "milestones_url": "https://api.github.com/repos/neovim/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "MDEwOlJlcG9zaXRvcnkxNjQwODk5Mg==",
            "notifications_url": "https://api.github.com/repos/neovim/neovim/notifications{?since,all,participating}",
            "open_issues": 1654,
            "open_issues_count": 1654,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
                "events_url": "https://api.github.com/users/neovim/events{/privacy}",
                "followers_url": "https://api.github.com/users/neovim/followers",
                "following_url": "https://api.github.com/users/neovim/following{/other_user}",
                "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/neovim",
                "id": 6471485,
                "login": "neovim",
                "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
                "organizations_url": "https://api.github.com/users/neovim/orgs",
                "received_events_url": "https://api.github.com/users/neovim/received_events",
                "repos_url": "https://api.github.com/users/neovim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
                "type": "Organization",
                "url": "https://api.github.com/users/neovim"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/neovim/neovim/pulls{/number}",
            "pushed_at": "2023-09-25T01:31:57Z",
            "releases_url": "https://api.github.com/repos/neovim/neovim/releases{/id}",
            "size": 247798,
            "ssh_url": "git@github.com:neovim/neovim.git",
            "stargazers_count": 69647,
            "stargazers_url": "https://api.github.com/repos/neovim/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/neovim/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/neovim/neovim/subscription",
            "svn_url": "https://github.com/neovim/neovim",
            "tags_url": "https://api.github.com/repos/neovim/neovim/tags",
            "teams_url": "https://api.github.com/repos/neovim/neovim/teams",
            "topics": [
                "api",
                "c",
                "lua",
                "neovim",
                "nvim",
                "text-editor",
                "vim"
            ],
            "trees_url": "https://api.github.com/repos/neovim/neovim/git/trees{/sha}",
            "updated_at": "2023-09-25T01:46:06Z",
            "url": "https://api.github.com/repos/neovim/neovim",
            "visibility": "public",
            "watchers": 69647,
            "watchers_count": 69647,
            "web_commit_signoff_required": false
        },
        "sha": "a8cfdf43bc6226e32679ec59769ea3e48ca26193",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
            "events_url": "https://api.github.com/users/neovim/events{/privacy}",
            "followers_url": "https://api.github.com/users/neovim/followers",
            "following_url": "https://api.github.com/users/neovim/following{/other_user}",
            "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/neovim",
            "id": 6471485,
            "login": "neovim",
            "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
            "organizations_url": "https://api.github.com/users/neovim/orgs",
            "received_events_url": "https://api.github.com/users/neovim/received_events",
            "repos_url": "https://api.github.com/users/neovim/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
            "type": "Organization",
            "url": "https://api.github.com/users/neovim"
        }
    },
    "body": "Only patches up the symptoms, without solving the root cause.\r\n\r\nThis is the stack trace I've received:\r\n\r\n    #0  __GI_raise (sig=sig@entry=6) at ../sysdeps/unix/sysv/linux/raise.c:50\r\n    #1  0x00007ffff5d2eea5 in __GI_abort () at abort.c:79\r\n    #2  0x00007ffff5d2ed79 in __assert_fail_base (fmt=0x7ffff5e96be8 \"%s%s%s:%u: %s%sAssertion `%s' failed.\\n%n\", assertion=0x7ffff67262cd \"!uv__is_closing(handle)\",\r\n        file=0x7ffff67262bd \"src/unix/core.c\", line=109, function=<optimized out>) at assert.c:92\r\n    #3  0x00007ffff5d54456 in __GI___assert_fail (assertion=assertion@entry=0x7ffff67262cd \"!uv__is_closing(handle)\", file=file@entry=0x7ffff67262bd \"src/unix/core.c\",\r\n        line=line@entry=109, function=function@entry=0x7ffff6726598 <__PRETTY_FUNCTION__.10265> \"uv_close\") at assert.c:101\r\n    #4  0x00007ffff67118a8 in uv_close (handle=<optimized out>, close_cb=<optimized out>) at src/unix/core.c:109\r\n    #5  0x00000000005e5ca5 in stream_close_handle (stream=0x9edd20) at /tmp/tmp.acQVKjvA2Y/neovim-0.9.1/src/nvim/event/stream.c:142\r\n    #6  0x0000000000a7edc0 in ?? ()\r\n    #7  0x00000000005e5d6f in write_cb (req=<optimized out>, status=0) at /tmp/tmp.acQVKjvA2Y/neovim-0.9.1/src/nvim/event/wstream.c:145\r\n    #8  0x0000000000a7ee28 in ?? ()\r\n    #9  0x0000000000a7edd0 in ?? ()\r\n    #10 0x00007ffff671cc00 in uv__write_callbacks (stream=stream@entry=0x9edd28) at src/unix/stream.c:953\r\n    #11 0x00007ffff671d293 in uv__stream_destroy (stream=stream@entry=0x9edd28) at src/unix/stream.c:469\r\n    #12 0x00007ffff6711ae8 in uv__finish_close (handle=0x9edd28) at src/unix/core.c:287\r\n    #13 uv__run_closing_handles (loop=0x9bffe0 <main_loop>) at src/unix/core.c:317\r\n    #14 uv_run (loop=0x9bffe0 <main_loop>, mode=UV_RUN_DEFAULT) at src/unix/core.c:395\r\n    #15 0x00000000005f3c53 in loop_close (loop=0x9bffe0 <main_loop>, wait=true) at /tmp/tmp.acQVKjvA2Y/neovim-0.9.1/src/nvim/event/loop.c:162\r\n    #16 0x0000000000000000 in ?? ()\r\n\r\nWhat's going on here, is that loop_close function forcibly closes uv handles:\r\n\r\n    uv_walk(&loop->uv, loop_walk_cb, NULL);\r\n\r\nThe problem is that neovim's streams keep track of whether the stream was closed or not, and by pulling the rug from under their feet like this, they might try to close the uv handle for the second time inside their callbacks.\r\n\r\n@ddickstein Can you test if this fixes the problem?",
    "closed_at": null,
    "comment_data": [
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/24435#discussion_r1272457684"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/24435"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1272457684"
                }
            },
            "author_association": "MEMBER",
            "body": "When running in the test suite (or at least CI) perhaps we should still crash.\r\n\r\nAnd always log the first case (at INFO level)?",
            "commit_id": "4a594e580a9bd7b3f4940f01f6df072dc874f16e",
            "created_at": "2023-07-24T15:56:15Z",
            "diff_hunk": "@@ -133,15 +133,22 @@ void stream_may_close(Stream *stream)\n void stream_close_handle(Stream *stream)\n   FUNC_ATTR_NONNULL_ALL\n {\n+  // Workaround: loop_close might forcibly close uv handles. Streams don't know about this,\n+  // and their callbacks might call this function, which results in uv_close being called\n+  // twice. We have to check uv_is_closing before trying to close the handle.\n   if (stream->uvstream) {\n     if (uv_stream_get_write_queue_size(stream->uvstream) > 0) {\n       WLOG(\"closed Stream (%p) with %zu unwritten bytes\",\n            (void *)stream,\n            uv_stream_get_write_queue_size(stream->uvstream));\n     }\n-    uv_close((uv_handle_t *)stream->uvstream, close_cb);\n+    if (!uv_is_closing((uv_handle_t *)stream->uvstream)) {",
            "html_url": "https://github.com/neovim/neovim/pull/24435#discussion_r1272457684",
            "id": 1272457684,
            "line": 145,
            "node_id": "PRRC_kwDOAPphoM5L2CnU",
            "original_commit_id": "4a594e580a9bd7b3f4940f01f6df072dc874f16e",
            "original_line": 145,
            "original_position": 14,
            "original_start_line": null,
            "path": "src/nvim/event/stream.c",
            "position": 14,
            "pull_request_review_id": 1543796506,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/24435",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1272457684/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-07-24T15:56:24Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1272457684",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/24435#discussion_r1272486416"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/24435"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1272486416"
                }
            },
            "author_association": "MEMBER",
            "body": "Maybe replace all `uv_close` calls with a wrapper function that checks this, and that could maybe crash or warn on CI? Because if this is broken, who knows else might be. And it shouldn't be expensive to do, because libuv already checks it anyway, so I don't think there is any reason to not do this?",
            "commit_id": "4a594e580a9bd7b3f4940f01f6df072dc874f16e",
            "created_at": "2023-07-24T16:20:52Z",
            "diff_hunk": "@@ -133,15 +133,22 @@ void stream_may_close(Stream *stream)\n void stream_close_handle(Stream *stream)\n   FUNC_ATTR_NONNULL_ALL\n {\n+  // Workaround: loop_close might forcibly close uv handles. Streams don't know about this,\n+  // and their callbacks might call this function, which results in uv_close being called\n+  // twice. We have to check uv_is_closing before trying to close the handle.\n   if (stream->uvstream) {\n     if (uv_stream_get_write_queue_size(stream->uvstream) > 0) {\n       WLOG(\"closed Stream (%p) with %zu unwritten bytes\",\n            (void *)stream,\n            uv_stream_get_write_queue_size(stream->uvstream));\n     }\n-    uv_close((uv_handle_t *)stream->uvstream, close_cb);\n+    if (!uv_is_closing((uv_handle_t *)stream->uvstream)) {",
            "html_url": "https://github.com/neovim/neovim/pull/24435#discussion_r1272486416",
            "id": 1272486416,
            "in_reply_to_id": 1272457684,
            "line": 145,
            "node_id": "PRRC_kwDOAPphoM5L2JoQ",
            "original_commit_id": "4a594e580a9bd7b3f4940f01f6df072dc874f16e",
            "original_line": 145,
            "original_position": 14,
            "original_start_line": null,
            "path": "src/nvim/event/stream.c",
            "position": 14,
            "pull_request_review_id": 1543842494,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/24435",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1272486416/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-07-24T16:20:53Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1272486416",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/59243201?v=4",
                "events_url": "https://api.github.com/users/ii14/events{/privacy}",
                "followers_url": "https://api.github.com/users/ii14/followers",
                "following_url": "https://api.github.com/users/ii14/following{/other_user}",
                "gists_url": "https://api.github.com/users/ii14/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ii14",
                "id": 59243201,
                "login": "ii14",
                "node_id": "MDQ6VXNlcjU5MjQzMjAx",
                "organizations_url": "https://api.github.com/users/ii14/orgs",
                "received_events_url": "https://api.github.com/users/ii14/received_events",
                "repos_url": "https://api.github.com/users/ii14/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ii14/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ii14/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ii14"
            }
        }
    ],
    "comment_regular_data": [
        {
            "author_association": "CONTRIBUTOR",
            "body": "@ii14 confirming on behalf of @ddickstein this patch seems to fix the issue. Before trying out this patch, we were also able to generate a stack trace with some more debug info, in case it's helpful in hindsight:\r\n```\r\n(gdb) bt\r\n#0  __GI_raise (sig=sig@entry=6) at ../sysdeps/unix/sysv/linux/raise.c:50\r\n#1  0x00007f4a991f3ea5 in __GI_abort () at abort.c:79\r\n#2  0x00007f4a991f3d79 in __assert_fail_base (fmt=0x7f4a9935bbe8 \"%s%s%s:%u: %s%sAssertion `%s' failed.\\n%n\", assertion=0x7f4a99e052cd \"!uv__is_closing(handle)\",\r\n    file=0x7f4a99e052bd \"src/unix/core.c\", line=109, function=<optimized out>) at assert.c:92\r\n#3  0x00007f4a99219456 in __GI___assert_fail (assertion=assertion@entry=0x7f4a99e052cd \"!uv__is_closing(handle)\", file=file@entry=0x7f4a99e052bd \"src/unix/core.c\",\r\n    line=line@entry=109, function=function@entry=0x7f4a99e05598 <__PRETTY_FUNCTION__.10265> \"uv_close\") at assert.c:101\r\n#4  0x00007f4a99df08a8 in uv_close (handle=<optimized out>, close_cb=<optimized out>) at src/unix/core.c:109\r\n#5  0x00000000005e5de3 in stream_close_handle (stream=0x2341f10) at /tmp/tmp.ghmJW6s9Ms/neovim-0.9.1/src/nvim/event/stream.c:142\r\n#6  0x00000000005e5ead in write_cb (req=<optimized out>, status=0) at /tmp/tmp.ghmJW6s9Ms/neovim-0.9.1/src/nvim/event/wstream.c:145\r\n#7  0x00007f4a99dfbc00 in uv__write_callbacks (stream=stream@entry=0x2341f18) at src/unix/stream.c:953\r\n#8  0x00007f4a99dfc293 in uv__stream_destroy (stream=stream@entry=0x2341f18) at src/unix/stream.c:469\r\n#9  0x00007f4a99df0ae8 in uv__finish_close (handle=0x2341f18) at src/unix/core.c:287\r\n#10 uv__run_closing_handles (loop=0x9bffc0 <main_loop>) at src/unix/core.c:317\r\n#11 uv_run (loop=0x9bffc0 <main_loop>, mode=UV_RUN_DEFAULT) at src/unix/core.c:395\r\n#12 0x00000000005f3d91 in loop_close (loop=0x9bffc0 <main_loop>, wait=true) at /tmp/tmp.ghmJW6s9Ms/neovim-0.9.1/src/nvim/event/loop.c:162\r\n#13 0x00000000006b368a in event_teardown () at /tmp/tmp.ghmJW6s9Ms/neovim-0.9.1/src/nvim/main.c:170\r\n#14 0x00000000006b36b9 in os_exit (r=r@entry=0) at /tmp/tmp.ghmJW6s9Ms/neovim-0.9.1/src/nvim/main.c:662\r\n#15 0x00000000006b4cb1 in getout (exitval=0) at /tmp/tmp.ghmJW6s9Ms/neovim-0.9.1/src/nvim/main.c:793\r\n#16 0x00000000005e0033 in ex_quit (eap=0x7ffc6e1fe940) at /tmp/tmp.ghmJW6s9Ms/neovim-0.9.1/src/nvim/ex_docmd.c:4551\r\n#17 0x00000000005e4e5a in execute_cmd0 (retv=retv@entry=0x7ffc6e1fe774, eap=eap@entry=0x7ffc6e1fe940, errormsg=errormsg@entry=0x7ffc6e1fe778, preview=preview@entry=false)\r\n    at /tmp/tmp.ghmJW6s9Ms/neovim-0.9.1/src/nvim/ex_docmd.c:1620\r\n#18 0x00000000005e55ca in execute_cmd (eap=0x7ffc6e1fe940, cmdinfo=<optimized out>, preview=<optimized out>) at /tmp/tmp.ghmJW6s9Ms/neovim-0.9.1/src/nvim/ex_docmd.c:1698\r\n#19 0x000000000069e008 in nvim_cmd (channel_id=3, cmd=<optimized out>, opts=<optimized out>, err=0x7ffc6e1ff000)\r\n    at /tmp/tmp.ghmJW6s9Ms/neovim-0.9.1/src/nvim/api/command.c:700\r\n#20 0x000000000068d009 in handle_nvim_cmd (channel_id=3, args=..., arena=<optimized out>, error=0x7ffc6e1ff000)\r\n    at /tmp/tmp.ghmJW6s9Ms/neovim-0.9.1/build/src/nvim/auto/api/private/dispatch_wrappers.generated.h:1688\r\n#21 0x0000000000684305 in nvim_call_atomic (channel_id=3, calls=..., arena=0x23e2d48, err=err@entry=0x7ffc6e1ff1f0)\r\n    at /tmp/tmp.ghmJW6s9Ms/neovim-0.9.1/src/nvim/api/vim.c:1640\r\n#22 0x00000000006845be in handle_nvim_call_atomic (channel_id=<optimized out>, args=..., arena=<optimized out>, error=0x7ffc6e1ff1f0)\r\n    at /tmp/tmp.ghmJW6s9Ms/neovim-0.9.1/build/src/nvim/auto/api/private/dispatch_wrappers.generated.h:6834\r\n#23 0x0000000000553369 in request_event (argv=<optimized out>) at /tmp/tmp.ghmJW6s9Ms/neovim-0.9.1/src/nvim/msgpack_rpc/channel.c:425\r\n#24 0x00000000004a8912 in state_handle_k_event () at /tmp/tmp.ghmJW6s9Ms/neovim-0.9.1/src/nvim/state.c:117\r\n#25 0x00000000005438f1 in nv_event (cap=0x7ffc6e1ff3c0) at /tmp/tmp.ghmJW6s9Ms/neovim-0.9.1/src/nvim/normal.c:6622\r\n#26 0x0000000000559106 in normal_execute (state=0x7ffc6e1ff340, key=<optimized out>) at /tmp/tmp.ghmJW6s9Ms/neovim-0.9.1/src/nvim/normal.c:1198\r\n#27 0x00000000004a8975 in state_enter (s=0x7ffc6e1ff340) at /tmp/tmp.ghmJW6s9Ms/neovim-0.9.1/src/nvim/state.c:99\r\n#28 0x0000000000550395 in normal_enter (cmdwin=<optimized out>, noexmode=<optimized out>) at /tmp/tmp.ghmJW6s9Ms/neovim-0.9.1/src/nvim/normal.c:497\r\n#29 0x00000000006b6413 in main (argc=<optimized out>, argv=<optimized out>) at /tmp/tmp.ghmJW6s9Ms/neovim-0.9.1/src/nvim/main.c:641\r\n```",
            "created_at": "2023-08-09T20:45:09Z",
            "html_url": "https://github.com/neovim/neovim/pull/24435#issuecomment-1672123564",
            "id": 1672123564,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24435",
            "node_id": "IC_kwDOAPphoM5jqpSs",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1672123564/reactions"
            },
            "updated_at": "2023-08-09T20:45:09Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1672123564",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/12086742?v=4",
                "events_url": "https://api.github.com/users/foleyfactor/events{/privacy}",
                "followers_url": "https://api.github.com/users/foleyfactor/followers",
                "following_url": "https://api.github.com/users/foleyfactor/following{/other_user}",
                "gists_url": "https://api.github.com/users/foleyfactor/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/foleyfactor",
                "id": 12086742,
                "login": "foleyfactor",
                "node_id": "MDQ6VXNlcjEyMDg2NzQy",
                "organizations_url": "https://api.github.com/users/foleyfactor/orgs",
                "received_events_url": "https://api.github.com/users/foleyfactor/received_events",
                "repos_url": "https://api.github.com/users/foleyfactor/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/foleyfactor/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/foleyfactor/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/foleyfactor"
            }
        }
    ],
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/24435/comments",
    "commits_url": "https://api.github.com/repos/neovim/neovim/pulls/24435/commits",
    "created_at": "2023-07-22T23:23:13Z",
    "diff_url": "https://github.com/neovim/neovim/pull/24435.diff",
    "draft": false,
    "head": {
        "label": "ii14:fix/uv_is_closing_assertion",
        "ref": "fix/uv_is_closing_assertion",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/ii14/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/ii14/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/ii14/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/ii14/neovim/branches{/branch}",
            "clone_url": "https://github.com/ii14/neovim.git",
            "collaborators_url": "https://api.github.com/repos/ii14/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/ii14/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/ii14/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/ii14/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/ii14/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/ii14/neovim/contributors",
            "created_at": "2021-08-23T00:19:06Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/ii14/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/ii14/neovim/downloads",
            "events_url": "https://api.github.com/repos/ii14/neovim/events",
            "fork": true,
            "forks": 0,
            "forks_count": 0,
            "forks_url": "https://api.github.com/repos/ii14/neovim/forks",
            "full_name": "ii14/neovim",
            "git_commits_url": "https://api.github.com/repos/ii14/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/ii14/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/ii14/neovim/git/tags{/sha}",
            "git_url": "git://github.com/ii14/neovim.git",
            "has_discussions": false,
            "has_downloads": true,
            "has_issues": false,
            "has_pages": false,
            "has_projects": false,
            "has_wiki": false,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/ii14/neovim/hooks",
            "html_url": "https://github.com/ii14/neovim",
            "id": 398928867,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/ii14/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/ii14/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/ii14/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/ii14/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/ii14/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/ii14/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/ii14/neovim/merges",
            "milestones_url": "https://api.github.com/repos/ii14/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "MDEwOlJlcG9zaXRvcnkzOTg5Mjg4Njc=",
            "notifications_url": "https://api.github.com/repos/ii14/neovim/notifications{?since,all,participating}",
            "open_issues": 0,
            "open_issues_count": 0,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/59243201?v=4",
                "events_url": "https://api.github.com/users/ii14/events{/privacy}",
                "followers_url": "https://api.github.com/users/ii14/followers",
                "following_url": "https://api.github.com/users/ii14/following{/other_user}",
                "gists_url": "https://api.github.com/users/ii14/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/ii14",
                "id": 59243201,
                "login": "ii14",
                "node_id": "MDQ6VXNlcjU5MjQzMjAx",
                "organizations_url": "https://api.github.com/users/ii14/orgs",
                "received_events_url": "https://api.github.com/users/ii14/received_events",
                "repos_url": "https://api.github.com/users/ii14/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/ii14/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/ii14/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/ii14"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/ii14/neovim/pulls{/number}",
            "pushed_at": "2023-07-25T12:10:34Z",
            "releases_url": "https://api.github.com/repos/ii14/neovim/releases{/id}",
            "size": 243929,
            "ssh_url": "git@github.com:ii14/neovim.git",
            "stargazers_count": 0,
            "stargazers_url": "https://api.github.com/repos/ii14/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/ii14/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/ii14/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/ii14/neovim/subscription",
            "svn_url": "https://github.com/ii14/neovim",
            "tags_url": "https://api.github.com/repos/ii14/neovim/tags",
            "teams_url": "https://api.github.com/repos/ii14/neovim/teams",
            "topics": [],
            "trees_url": "https://api.github.com/repos/ii14/neovim/git/trees{/sha}",
            "updated_at": "2022-08-27T13:57:03Z",
            "url": "https://api.github.com/repos/ii14/neovim",
            "visibility": "public",
            "watchers": 0,
            "watchers_count": 0,
            "web_commit_signoff_required": false
        },
        "sha": "4a594e580a9bd7b3f4940f01f6df072dc874f16e",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/59243201?v=4",
            "events_url": "https://api.github.com/users/ii14/events{/privacy}",
            "followers_url": "https://api.github.com/users/ii14/followers",
            "following_url": "https://api.github.com/users/ii14/following{/other_user}",
            "gists_url": "https://api.github.com/users/ii14/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/ii14",
            "id": 59243201,
            "login": "ii14",
            "node_id": "MDQ6VXNlcjU5MjQzMjAx",
            "organizations_url": "https://api.github.com/users/ii14/orgs",
            "received_events_url": "https://api.github.com/users/ii14/received_events",
            "repos_url": "https://api.github.com/users/ii14/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/ii14/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ii14/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/ii14"
        }
    },
    "html_url": "https://github.com/neovim/neovim/pull/24435",
    "id": 1445442118,
    "issue_url": "https://api.github.com/repos/neovim/neovim/issues/24435",
    "labels": [
        {
            "color": "F9D0C4",
            "default": false,
            "description": "issue reporting a crash or segfault",
            "id": 435854234,
            "name": "bug-crash",
            "node_id": "MDU6TGFiZWw0MzU4NTQyMzQ=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/bug-crash"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": null,
            "id": 520282574,
            "name": "event-loop",
            "node_id": "MDU6TGFiZWw1MjAyODI1NzQ=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/event-loop"
        }
    ],
    "locked": false,
    "merge_commit_sha": "c4aad41744fe0ae13437db40802f2fef6ac20b08",
    "merged_at": null,
    "milestone": null,
    "node_id": "PR_kwDOAPphoM5WJ7JG",
    "number": 24435,
    "patch_url": "https://github.com/neovim/neovim/pull/24435.patch",
    "requested_reviewers": [],
    "requested_teams": [],
    "review_comment_url": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}",
    "review_comments_url": "https://api.github.com/repos/neovim/neovim/pulls/24435/comments",
    "state": "open",
    "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/4a594e580a9bd7b3f4940f01f6df072dc874f16e",
    "title": "fix: !uv__is_closing(handle) assertion failure",
    "updated_at": "2023-09-24T15:39:26Z",
    "url": "https://api.github.com/repos/neovim/neovim/pulls/24435",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/59243201?v=4",
        "events_url": "https://api.github.com/users/ii14/events{/privacy}",
        "followers_url": "https://api.github.com/users/ii14/followers",
        "following_url": "https://api.github.com/users/ii14/following{/other_user}",
        "gists_url": "https://api.github.com/users/ii14/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/ii14",
        "id": 59243201,
        "login": "ii14",
        "node_id": "MDQ6VXNlcjU5MjQzMjAx",
        "organizations_url": "https://api.github.com/users/ii14/orgs",
        "received_events_url": "https://api.github.com/users/ii14/received_events",
        "repos_url": "https://api.github.com/users/ii14/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/ii14/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/ii14/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/ii14"
    }
}