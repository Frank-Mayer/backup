{
    "_links": {
        "comments": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/25581/comments"
        },
        "commits": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/25581/commits"
        },
        "html": {
            "href": "https://github.com/neovim/neovim/pull/25581"
        },
        "issue": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/25581"
        },
        "review_comment": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}"
        },
        "review_comments": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/25581/comments"
        },
        "self": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/25581"
        },
        "statuses": {
            "href": "https://api.github.com/repos/neovim/neovim/statuses/a30b83d985ddd9e07e3947114b6d595c6b98d9fe"
        }
    },
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "auto_merge": null,
    "base": {
        "label": "neovim:master",
        "ref": "master",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/neovim/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/neovim/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/neovim/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/neovim/neovim/branches{/branch}",
            "clone_url": "https://github.com/neovim/neovim.git",
            "collaborators_url": "https://api.github.com/repos/neovim/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/neovim/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/neovim/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/neovim/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/neovim/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/neovim/neovim/contributors",
            "created_at": "2014-01-31T13:39:22Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/neovim/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/neovim/neovim/downloads",
            "events_url": "https://api.github.com/repos/neovim/neovim/events",
            "fork": false,
            "forks": 4954,
            "forks_count": 4954,
            "forks_url": "https://api.github.com/repos/neovim/neovim/forks",
            "full_name": "neovim/neovim",
            "git_commits_url": "https://api.github.com/repos/neovim/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/neovim/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/neovim/neovim/git/tags{/sha}",
            "git_url": "git://github.com/neovim/neovim.git",
            "has_discussions": true,
            "has_downloads": true,
            "has_issues": true,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/neovim/neovim/hooks",
            "html_url": "https://github.com/neovim/neovim",
            "id": 16408992,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/neovim/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/neovim/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/neovim/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/neovim/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/neovim/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/neovim/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/neovim/neovim/merges",
            "milestones_url": "https://api.github.com/repos/neovim/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "MDEwOlJlcG9zaXRvcnkxNjQwODk5Mg==",
            "notifications_url": "https://api.github.com/repos/neovim/neovim/notifications{?since,all,participating}",
            "open_issues": 1680,
            "open_issues_count": 1680,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
                "events_url": "https://api.github.com/users/neovim/events{/privacy}",
                "followers_url": "https://api.github.com/users/neovim/followers",
                "following_url": "https://api.github.com/users/neovim/following{/other_user}",
                "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/neovim",
                "id": 6471485,
                "login": "neovim",
                "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
                "organizations_url": "https://api.github.com/users/neovim/orgs",
                "received_events_url": "https://api.github.com/users/neovim/received_events",
                "repos_url": "https://api.github.com/users/neovim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
                "type": "Organization",
                "url": "https://api.github.com/users/neovim"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/neovim/neovim/pulls{/number}",
            "pushed_at": "2023-11-04T00:26:07Z",
            "releases_url": "https://api.github.com/repos/neovim/neovim/releases{/id}",
            "size": 236696,
            "ssh_url": "git@github.com:neovim/neovim.git",
            "stargazers_count": 70611,
            "stargazers_url": "https://api.github.com/repos/neovim/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/neovim/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/neovim/neovim/subscription",
            "svn_url": "https://github.com/neovim/neovim",
            "tags_url": "https://api.github.com/repos/neovim/neovim/tags",
            "teams_url": "https://api.github.com/repos/neovim/neovim/teams",
            "topics": [
                "api",
                "c",
                "lua",
                "neovim",
                "nvim",
                "text-editor",
                "vim"
            ],
            "trees_url": "https://api.github.com/repos/neovim/neovim/git/trees{/sha}",
            "updated_at": "2023-11-04T01:50:38Z",
            "url": "https://api.github.com/repos/neovim/neovim",
            "visibility": "public",
            "watchers": 70611,
            "watchers_count": 70611,
            "web_commit_signoff_required": false
        },
        "sha": "4c32927084dc491e47abffefdc7ac81eefc7b951",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
            "events_url": "https://api.github.com/users/neovim/events{/privacy}",
            "followers_url": "https://api.github.com/users/neovim/followers",
            "following_url": "https://api.github.com/users/neovim/following{/other_user}",
            "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/neovim",
            "id": 6471485,
            "login": "neovim",
            "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
            "organizations_url": "https://api.github.com/users/neovim/orgs",
            "received_events_url": "https://api.github.com/users/neovim/received_events",
            "repos_url": "https://api.github.com/users/neovim/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
            "type": "Organization",
            "url": "https://api.github.com/users/neovim"
        }
    },
    "body": "refactor: use a more idiomatic loop to iterate over the cells\r\nfixes: #25184\r\n\r\nThere are two cases in which the following assertion would fail:\r\n\r\nhttps://github.com/neovim/neovim/blob/f67517bba30b6233bea85e1f6a8505171142d4ca/src/nvim/msgpack_rpc/unpacker.c#L467\r\n\r\n1. If `g->ncells = 0`. Update this to be legal.\r\n2. If an EOF is reached while parsing `wrap`. In this case, the unpacker attempts to resume from `cells`, which is a bug. Create a new state for parsing `wrap`.\r\n\r\nReference: https://neovim.io/doc/user/ui.html#ui-event-grid_line",
    "closed_at": "2023-11-03T22:56:46Z",
    "comment_data": [
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25581#discussion_r1352494852"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25581"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1352494852"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "\"Hide whitespace\" on GitHub (or `difft` in terminal) fixes the ugly diff",
            "commit_id": "a30b83d985ddd9e07e3947114b6d595c6b98d9fe",
            "created_at": "2023-10-10T13:01:51Z",
            "diff_hunk": "@@ -461,63 +460,64 @@ bool unpacker_parse_redraw(Unpacker *p)\n     FALLTHROUGH;\n \n   case 15:",
            "html_url": "https://github.com/neovim/neovim/pull/25581#discussion_r1352494852",
            "id": 1352494852,
            "line": 462,
            "node_id": "PRRC_kwDOAPphoM5QnW8E",
            "original_commit_id": "792a7a09eb7763eb114c92cb6980a6a346db6beb",
            "original_line": 462,
            "original_position": 11,
            "original_start_line": null,
            "path": "src/nvim/msgpack_rpc/unpacker.c",
            "position": 49,
            "pull_request_review_id": 1667669902,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25581",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1352494852/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-10-10T13:32:12Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1352494852",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5601392?v=4",
                "events_url": "https://api.github.com/users/llllvvuu/events{/privacy}",
                "followers_url": "https://api.github.com/users/llllvvuu/followers",
                "following_url": "https://api.github.com/users/llllvvuu/following{/other_user}",
                "gists_url": "https://api.github.com/users/llllvvuu/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/llllvvuu",
                "id": 5601392,
                "login": "llllvvuu",
                "node_id": "MDQ6VXNlcjU2MDEzOTI=",
                "organizations_url": "https://api.github.com/users/llllvvuu/orgs",
                "received_events_url": "https://api.github.com/users/llllvvuu/received_events",
                "repos_url": "https://api.github.com/users/llllvvuu/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/llllvvuu/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/llllvvuu/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/llllvvuu"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25581#discussion_r1356829584"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25581"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1356829584"
                }
            },
            "author_association": "MEMBER",
            "body": "Naming this `msgpack_spec.lua` would be helpful imo.",
            "commit_id": "28d7bede6caf2a90def41f30da392d6d61294ac2",
            "created_at": "2023-10-12T13:29:58Z",
            "diff_hunk": "",
            "html_url": "https://github.com/neovim/neovim/pull/25581#discussion_r1356829584",
            "id": 1356829584,
            "line": 1,
            "node_id": "PRRC_kwDOAPphoM5Q35OQ",
            "original_commit_id": "28d7bede6caf2a90def41f30da392d6d61294ac2",
            "original_line": 1,
            "original_position": 1,
            "original_start_line": null,
            "path": "test/unit/unpacker_spec.lua",
            "position": 1,
            "pull_request_review_id": 1674187341,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25581",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1356829584/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "file",
            "updated_at": "2023-10-12T13:29:59Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1356829584",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25581#discussion_r1357065078"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25581"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1357065078"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "Funnily enough I'd actually waffled back and forth on that a bit yesterday. So happy to do it of course",
            "commit_id": "28d7bede6caf2a90def41f30da392d6d61294ac2",
            "created_at": "2023-10-12T16:17:34Z",
            "diff_hunk": "",
            "html_url": "https://github.com/neovim/neovim/pull/25581#discussion_r1357065078",
            "id": 1357065078,
            "in_reply_to_id": 1356829584,
            "line": 1,
            "node_id": "PRRC_kwDOAPphoM5Q4yt2",
            "original_commit_id": "28d7bede6caf2a90def41f30da392d6d61294ac2",
            "original_line": 1,
            "original_position": 1,
            "original_start_line": null,
            "path": "test/unit/unpacker_spec.lua",
            "position": 1,
            "pull_request_review_id": 1674597681,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25581",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1357065078/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "file",
            "updated_at": "2023-10-12T16:17:35Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1357065078",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5601392?v=4",
                "events_url": "https://api.github.com/users/llllvvuu/events{/privacy}",
                "followers_url": "https://api.github.com/users/llllvvuu/followers",
                "following_url": "https://api.github.com/users/llllvvuu/following{/other_user}",
                "gists_url": "https://api.github.com/users/llllvvuu/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/llllvvuu",
                "id": 5601392,
                "login": "llllvvuu",
                "node_id": "MDQ6VXNlcjU2MDEzOTI=",
                "organizations_url": "https://api.github.com/users/llllvvuu/orgs",
                "received_events_url": "https://api.github.com/users/llllvvuu/received_events",
                "repos_url": "https://api.github.com/users/llllvvuu/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/llllvvuu/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/llllvvuu/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/llllvvuu"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25581#discussion_r1357092737"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25581"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1357092737"
                }
            },
            "author_association": "MEMBER",
            "body": "parens are unnecessary, there's no risk of ambiguity when a `#123` is at the end of a line.\r\n\r\n```suggestion\r\n    itp('does not crash when paused between `cells` and `wrap` params of `grid_line` #25184', function()\r\n```",
            "commit_id": "a30b83d985ddd9e07e3947114b6d595c6b98d9fe",
            "created_at": "2023-10-12T16:40:47Z",
            "diff_hunk": "@@ -0,0 +1,76 @@\n+local helpers = require('test.unit.helpers')(after_each)\n+local cimport = helpers.cimport\n+local itp = helpers.gen_itp(it)\n+local lib = cimport('./src/nvim/msgpack_rpc/unpacker.h', './src/nvim/memory.h')\n+local ffi = helpers.ffi\n+local eq = helpers.eq\n+local to_cstr = helpers.to_cstr\n+\n+--- @class Unpacker\n+--- @field read_ptr ffi.cdata*\n+--- @field read_size number\n+\n+--- @alias Unpacker* table<number, Unpacker>\n+\n+--- @return Unpacker*\n+local function make_unpacker()\n+  return ffi.gc(ffi.cast('Unpacker*', lib.xcalloc(1, ffi.sizeof('Unpacker'))), function(unpacker)\n+    lib.unpacker_teardown(unpacker, nil, nil)\n+    lib.xfree(unpacker)\n+  end)\n+end\n+\n+--- @param unpacker Unpacker*\n+--- @param data string\n+--- @param size number? *default: data:len()*\n+local function unpacker_goto(unpacker, data, size)\n+  unpacker[0].read_ptr = to_cstr(data)\n+  unpacker[0].read_size = size or data:len()\n+end\n+\n+--- @param unpacker Unpacker*\n+--- @return boolean\n+local function unpacker_advance(unpacker)\n+  return lib.unpacker_advance(unpacker)\n+end\n+\n+describe('msgpack', function()\n+  describe('unpacker', function()\n+    itp('does not crash when paused between `cells` and `wrap` params of `grid_line` (#25184)', function()",
            "html_url": "https://github.com/neovim/neovim/pull/25581#discussion_r1357092737",
            "id": 1357092737,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5Q45eB",
            "original_commit_id": "2b381fbaa6bbf67f09e2334bd9381c9002f55e7d",
            "original_line": 39,
            "original_position": 39,
            "original_start_line": null,
            "path": "test/unit/msgpack_spec.lua",
            "position": null,
            "pull_request_review_id": 1674641222,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25581",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1357092737/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-10-12T16:40:48Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1357092737",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25581#discussion_r1357093178"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25581"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1357093178"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n    itp('does not crash when parsing grid_line event with 0 `cells` #25184', function()\r\n```",
            "commit_id": "a30b83d985ddd9e07e3947114b6d595c6b98d9fe",
            "created_at": "2023-10-12T16:41:01Z",
            "diff_hunk": "@@ -0,0 +1,76 @@\n+local helpers = require('test.unit.helpers')(after_each)\n+local cimport = helpers.cimport\n+local itp = helpers.gen_itp(it)\n+local lib = cimport('./src/nvim/msgpack_rpc/unpacker.h', './src/nvim/memory.h')\n+local ffi = helpers.ffi\n+local eq = helpers.eq\n+local to_cstr = helpers.to_cstr\n+\n+--- @class Unpacker\n+--- @field read_ptr ffi.cdata*\n+--- @field read_size number\n+\n+--- @alias Unpacker* table<number, Unpacker>\n+\n+--- @return Unpacker*\n+local function make_unpacker()\n+  return ffi.gc(ffi.cast('Unpacker*', lib.xcalloc(1, ffi.sizeof('Unpacker'))), function(unpacker)\n+    lib.unpacker_teardown(unpacker, nil, nil)\n+    lib.xfree(unpacker)\n+  end)\n+end\n+\n+--- @param unpacker Unpacker*\n+--- @param data string\n+--- @param size number? *default: data:len()*\n+local function unpacker_goto(unpacker, data, size)\n+  unpacker[0].read_ptr = to_cstr(data)\n+  unpacker[0].read_size = size or data:len()\n+end\n+\n+--- @param unpacker Unpacker*\n+--- @return boolean\n+local function unpacker_advance(unpacker)\n+  return lib.unpacker_advance(unpacker)\n+end\n+\n+describe('msgpack', function()\n+  describe('unpacker', function()\n+    itp('does not crash when paused between `cells` and `wrap` params of `grid_line` (#25184)', function()\n+      -- [kMessageTypeNotification, \"redraw\", [\n+      --   [\"grid_line\",\n+      --     [2, 0, 0, [[\" \" , 0, 77]], false]\n+      --   ]\n+      -- ]]\n+      local payload =\n+        '\\x93\\x02\\xa6\\x72\\x65\\x64\\x72\\x61\\x77\\x91\\x92\\xa9\\x67\\x72\\x69\\x64\\x5f\\x6c\\x69\\x6e\\x65\\x95\\x02\\x00\\x00\\x91\\x93\\xa1\\x20\\x00\\x4d\\xc2'\n+\n+      local unpacker = make_unpacker()\n+      lib.unpacker_init(unpacker)\n+\n+      unpacker_goto(unpacker, payload, payload:len() - 1)\n+      local finished = unpacker_advance(unpacker)\n+      eq(finished, false)\n+\n+      unpacker[0].read_size = unpacker[0].read_size + 1\n+      finished = unpacker_advance(unpacker)\n+      eq(finished, true)\n+    end)\n+\n+    itp('does not crash when parsing grid_line event with 0 `cells` (#25184)', function()",
            "html_url": "https://github.com/neovim/neovim/pull/25581#discussion_r1357093178",
            "id": 1357093178,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5Q45k6",
            "original_commit_id": "2b381fbaa6bbf67f09e2334bd9381c9002f55e7d",
            "original_line": 60,
            "original_position": 60,
            "original_start_line": null,
            "path": "test/unit/msgpack_spec.lua",
            "position": null,
            "pull_request_review_id": 1674642025,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25581",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1357093178/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-10-12T16:41:01Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1357093178",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25581#discussion_r1357187748"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25581"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1357187748"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "thanks!",
            "commit_id": "a30b83d985ddd9e07e3947114b6d595c6b98d9fe",
            "created_at": "2023-10-12T17:48:26Z",
            "diff_hunk": "@@ -0,0 +1,76 @@\n+local helpers = require('test.unit.helpers')(after_each)\n+local cimport = helpers.cimport\n+local itp = helpers.gen_itp(it)\n+local lib = cimport('./src/nvim/msgpack_rpc/unpacker.h', './src/nvim/memory.h')\n+local ffi = helpers.ffi\n+local eq = helpers.eq\n+local to_cstr = helpers.to_cstr\n+\n+--- @class Unpacker\n+--- @field read_ptr ffi.cdata*\n+--- @field read_size number\n+\n+--- @alias Unpacker* table<number, Unpacker>\n+\n+--- @return Unpacker*\n+local function make_unpacker()\n+  return ffi.gc(ffi.cast('Unpacker*', lib.xcalloc(1, ffi.sizeof('Unpacker'))), function(unpacker)\n+    lib.unpacker_teardown(unpacker, nil, nil)\n+    lib.xfree(unpacker)\n+  end)\n+end\n+\n+--- @param unpacker Unpacker*\n+--- @param data string\n+--- @param size number? *default: data:len()*\n+local function unpacker_goto(unpacker, data, size)\n+  unpacker[0].read_ptr = to_cstr(data)\n+  unpacker[0].read_size = size or data:len()\n+end\n+\n+--- @param unpacker Unpacker*\n+--- @return boolean\n+local function unpacker_advance(unpacker)\n+  return lib.unpacker_advance(unpacker)\n+end\n+\n+describe('msgpack', function()\n+  describe('unpacker', function()\n+    itp('does not crash when paused between `cells` and `wrap` params of `grid_line` (#25184)', function()",
            "html_url": "https://github.com/neovim/neovim/pull/25581#discussion_r1357187748",
            "id": 1357187748,
            "in_reply_to_id": 1357092737,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5Q5Qqk",
            "original_commit_id": "2b381fbaa6bbf67f09e2334bd9381c9002f55e7d",
            "original_line": 39,
            "original_position": 39,
            "original_start_line": null,
            "path": "test/unit/msgpack_spec.lua",
            "position": null,
            "pull_request_review_id": 1674805538,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25581",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1357187748/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-10-12T17:48:26Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1357187748",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5601392?v=4",
                "events_url": "https://api.github.com/users/llllvvuu/events{/privacy}",
                "followers_url": "https://api.github.com/users/llllvvuu/followers",
                "following_url": "https://api.github.com/users/llllvvuu/following{/other_user}",
                "gists_url": "https://api.github.com/users/llllvvuu/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/llllvvuu",
                "id": 5601392,
                "login": "llllvvuu",
                "node_id": "MDQ6VXNlcjU2MDEzOTI=",
                "organizations_url": "https://api.github.com/users/llllvvuu/orgs",
                "received_events_url": "https://api.github.com/users/llllvvuu/received_events",
                "repos_url": "https://api.github.com/users/llllvvuu/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/llllvvuu/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/llllvvuu/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/llllvvuu"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25581#discussion_r1366741113"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25581"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1366741113"
                }
            },
            "author_association": "MEMBER",
            "body": "lumping in the `p->read_ptr = data, p->read_size = size` here is not really readable. Just keep them at the end of the loop.",
            "commit_id": "a30b83d985ddd9e07e3947114b6d595c6b98d9fe",
            "created_at": "2023-10-20T09:45:37Z",
            "diff_hunk": "@@ -461,63 +460,61 @@ bool unpacker_parse_redraw(Unpacker *p)\n     FALLTHROUGH;\n \n   case 15:\n-    assert(g->icell < g->ncells);\n-\n-    NEXT_TYPE(tok, MPACK_TOKEN_ARRAY);\n-    int cellarrsize = (int)tok.length;\n-    if (cellarrsize < 1 || cellarrsize > 3) {\n-      p->state = -1;\n-      return false;\n-    }\n+    for (; g->icell != g->ncells; g->icell++, p->read_ptr = data, p->read_size = size) {",
            "html_url": "https://github.com/neovim/neovim/pull/25581#discussion_r1366741113",
            "id": 1366741113,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5RdtB5",
            "original_commit_id": "239d5756c7988ce2d44d37bd4826296ef2065d9a",
            "original_line": 463,
            "original_position": 42,
            "original_start_line": null,
            "path": "src/nvim/msgpack_rpc/unpacker.c",
            "position": null,
            "pull_request_review_id": 1689657645,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25581",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1366741113/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-10-20T09:45:37Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1366741113",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1363104?v=4",
                "events_url": "https://api.github.com/users/bfredl/events{/privacy}",
                "followers_url": "https://api.github.com/users/bfredl/followers",
                "following_url": "https://api.github.com/users/bfredl/following{/other_user}",
                "gists_url": "https://api.github.com/users/bfredl/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/bfredl",
                "id": 1363104,
                "login": "bfredl",
                "node_id": "MDQ6VXNlcjEzNjMxMDQ=",
                "organizations_url": "https://api.github.com/users/bfredl/orgs",
                "received_events_url": "https://api.github.com/users/bfredl/received_events",
                "repos_url": "https://api.github.com/users/bfredl/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/bfredl/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/bfredl/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/bfredl"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25581#discussion_r1366745349"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25581"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1366745349"
                }
            },
            "author_association": "MEMBER",
            "body": "also update the comment line above (the one with ` <0>[2, \"redraw\", <10>[{11}[\"grid_line\", <14>[g, r, c, [<15>[cell], <15>[cell], ...]], ...], <11>[...], ...]]` ) to mention the new state 16.",
            "commit_id": "a30b83d985ddd9e07e3947114b6d595c6b98d9fe",
            "created_at": "2023-10-20T09:49:19Z",
            "diff_hunk": "@@ -461,63 +460,61 @@ bool unpacker_parse_redraw(Unpacker *p)\n     FALLTHROUGH;\n \n   case 15:\n-    assert(g->icell < g->ncells);\n-\n-    NEXT_TYPE(tok, MPACK_TOKEN_ARRAY);\n-    int cellarrsize = (int)tok.length;\n-    if (cellarrsize < 1 || cellarrsize > 3) {\n-      p->state = -1;\n-      return false;\n-    }\n+    for (; g->icell != g->ncells; g->icell++, p->read_ptr = data, p->read_size = size) {\n+      assert(g->icell < g->ncells);\n+\n+      NEXT_TYPE(tok, MPACK_TOKEN_ARRAY);\n+      int cellarrsize = (int)tok.length;\n+      if (cellarrsize < 1 || cellarrsize > 3) {\n+        p->state = -1;\n+        return false;\n+      }\n \n-    NEXT_TYPE(tok, MPACK_TOKEN_STR);\n-    if (tok.length > size) {\n-      return false;\n-    }\n+      NEXT_TYPE(tok, MPACK_TOKEN_STR);\n+      if (tok.length > size) {\n+        return false;\n+      }\n \n-    const char *cellbuf = data;\n-    size_t cellsize = tok.length;\n-    data += cellsize;\n-    size -= cellsize;\n+      const char *cellbuf = data;\n+      size_t cellsize = tok.length;\n+      data += cellsize;\n+      size -= cellsize;\n \n-    if (cellarrsize >= 2) {\n-      NEXT_TYPE(tok, MPACK_TOKEN_SINT);\n-      g->cur_attr = (int)tok.data.value.lo;\n-    }\n+      if (cellarrsize >= 2) {\n+        NEXT_TYPE(tok, MPACK_TOKEN_SINT);\n+        g->cur_attr = (int)tok.data.value.lo;\n+      }\n \n-    int repeat = 1;\n-    if (cellarrsize >= 3) {\n-      NEXT_TYPE(tok, MPACK_TOKEN_UINT);\n-      repeat = (int)tok.data.value.lo;\n-    }\n+      int repeat = 1;\n+      if (cellarrsize >= 3) {\n+        NEXT_TYPE(tok, MPACK_TOKEN_UINT);\n+        repeat = (int)tok.data.value.lo;\n+      }\n \n-    g->clear_width = 0;\n-    if (g->icell == g->ncells - 1 && cellsize == 1 && cellbuf[0] == ' ' && repeat > 1) {\n-      g->clear_width = repeat;\n-    } else {\n-      schar_T sc = schar_from_buf(cellbuf, cellsize);\n-      for (int r = 0; r < repeat; r++) {\n-        if (g->coloff >= (int)grid_line_buf_size) {\n-          p->state = -1;\n-          return false;\n+      g->clear_width = 0;\n+      if (g->icell == g->ncells - 1 && cellsize == 1 && cellbuf[0] == ' ' && repeat > 1) {\n+        g->clear_width = repeat;\n+      } else {\n+        schar_T sc = schar_from_buf(cellbuf, cellsize);\n+        for (int r = 0; r < repeat; r++) {\n+          if (g->coloff >= (int)grid_line_buf_size) {\n+            p->state = -1;\n+            return false;\n+          }\n+          grid_line_buf_char[g->coloff] = sc;\n+          grid_line_buf_attr[g->coloff++] = g->cur_attr;\n         }\n-        grid_line_buf_char[g->coloff] = sc;\n-        grid_line_buf_attr[g->coloff++] = g->cur_attr;\n       }\n     }\n+    p->state = 16;",
            "html_url": "https://github.com/neovim/neovim/pull/25581#discussion_r1366745349",
            "id": 1366745349,
            "line": 512,
            "node_id": "PRRC_kwDOAPphoM5RduEF",
            "original_commit_id": "239d5756c7988ce2d44d37bd4826296ef2065d9a",
            "original_line": 512,
            "original_position": 116,
            "original_start_line": null,
            "path": "src/nvim/msgpack_rpc/unpacker.c",
            "position": 141,
            "pull_request_review_id": 1689664078,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25581",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1366745349/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-10-20T09:49:20Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1366745349",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1363104?v=4",
                "events_url": "https://api.github.com/users/bfredl/events{/privacy}",
                "followers_url": "https://api.github.com/users/bfredl/followers",
                "following_url": "https://api.github.com/users/bfredl/following{/other_user}",
                "gists_url": "https://api.github.com/users/bfredl/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/bfredl",
                "id": 1363104,
                "login": "bfredl",
                "node_id": "MDQ6VXNlcjEzNjMxMDQ=",
                "organizations_url": "https://api.github.com/users/bfredl/orgs",
                "received_events_url": "https://api.github.com/users/bfredl/received_events",
                "repos_url": "https://api.github.com/users/bfredl/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/bfredl/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/bfredl/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/bfredl"
            }
        }
    ],
    "comment_regular_data": [
        {
            "author_association": "CONTRIBUTOR",
            "body": "I just realized the issue still occurs. It looks like a concurrency issue but I'm not sure if `p` is concurrently accessed. I also managed to find a consistent repro and updated the original issue accordingly",
            "created_at": "2023-10-10T19:26:35Z",
            "html_url": "https://github.com/neovim/neovim/pull/25581#issuecomment-1756092691",
            "id": 1756092691,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/25581",
            "node_id": "IC_kwDOAPphoM5oq9kT",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1756092691/reactions"
            },
            "updated_at": "2023-10-10T20:08:08Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1756092691",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5601392?v=4",
                "events_url": "https://api.github.com/users/llllvvuu/events{/privacy}",
                "followers_url": "https://api.github.com/users/llllvvuu/followers",
                "following_url": "https://api.github.com/users/llllvvuu/following{/other_user}",
                "gists_url": "https://api.github.com/users/llllvvuu/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/llllvvuu",
                "id": 5601392,
                "login": "llllvvuu",
                "node_id": "MDQ6VXNlcjU2MDEzOTI=",
                "organizations_url": "https://api.github.com/users/llllvvuu/orgs",
                "received_events_url": "https://api.github.com/users/llllvvuu/received_events",
                "repos_url": "https://api.github.com/users/llllvvuu/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/llllvvuu/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/llllvvuu/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/llllvvuu"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "OK, both issues are fixed now and have a test for each which fail on master",
            "created_at": "2023-10-12T04:31:58Z",
            "html_url": "https://github.com/neovim/neovim/pull/25581#issuecomment-1758894543",
            "id": 1758894543,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/25581",
            "node_id": "IC_kwDOAPphoM5o1pnP",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 1,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1758894543/reactions"
            },
            "updated_at": "2023-10-12T04:31:58Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1758894543",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5601392?v=4",
                "events_url": "https://api.github.com/users/llllvvuu/events{/privacy}",
                "followers_url": "https://api.github.com/users/llllvvuu/followers",
                "following_url": "https://api.github.com/users/llllvvuu/following{/other_user}",
                "gists_url": "https://api.github.com/users/llllvvuu/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/llllvvuu",
                "id": 5601392,
                "login": "llllvvuu",
                "node_id": "MDQ6VXNlcjU2MDEzOTI=",
                "organizations_url": "https://api.github.com/users/llllvvuu/orgs",
                "received_events_url": "https://api.github.com/users/llllvvuu/received_events",
                "repos_url": "https://api.github.com/users/llllvvuu/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/llllvvuu/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/llllvvuu/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/llllvvuu"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Sorry for the delay, didn't have Wi-fi for a while. Just made the requested changes",
            "created_at": "2023-11-03T03:28:13Z",
            "html_url": "https://github.com/neovim/neovim/pull/25581#issuecomment-1791851525",
            "id": 1791851525,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/25581",
            "node_id": "IC_kwDOAPphoM5qzXwF",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1791851525/reactions"
            },
            "updated_at": "2023-11-03T03:28:13Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1791851525",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5601392?v=4",
                "events_url": "https://api.github.com/users/llllvvuu/events{/privacy}",
                "followers_url": "https://api.github.com/users/llllvvuu/followers",
                "following_url": "https://api.github.com/users/llllvvuu/following{/other_user}",
                "gists_url": "https://api.github.com/users/llllvvuu/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/llllvvuu",
                "id": 5601392,
                "login": "llllvvuu",
                "node_id": "MDQ6VXNlcjU2MDEzOTI=",
                "organizations_url": "https://api.github.com/users/llllvvuu/orgs",
                "received_events_url": "https://api.github.com/users/llllvvuu/received_events",
                "repos_url": "https://api.github.com/users/llllvvuu/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/llllvvuu/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/llllvvuu/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/llllvvuu"
            }
        }
    ],
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/25581/comments",
    "commits_url": "https://api.github.com/repos/neovim/neovim/pulls/25581/commits",
    "created_at": "2023-10-10T13:00:48Z",
    "diff_url": "https://github.com/neovim/neovim/pull/25581.diff",
    "draft": false,
    "head": {
        "label": "llllvvuu:refactor/unpacker_while",
        "ref": "refactor/unpacker_while",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/llllvvuu/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/llllvvuu/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/llllvvuu/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/llllvvuu/neovim/branches{/branch}",
            "clone_url": "https://github.com/llllvvuu/neovim.git",
            "collaborators_url": "https://api.github.com/repos/llllvvuu/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/llllvvuu/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/llllvvuu/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/llllvvuu/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/llllvvuu/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/llllvvuu/neovim/contributors",
            "created_at": "2023-09-10T03:41:28Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/llllvvuu/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/llllvvuu/neovim/downloads",
            "events_url": "https://api.github.com/repos/llllvvuu/neovim/events",
            "fork": true,
            "forks": 0,
            "forks_count": 0,
            "forks_url": "https://api.github.com/repos/llllvvuu/neovim/forks",
            "full_name": "llllvvuu/neovim",
            "git_commits_url": "https://api.github.com/repos/llllvvuu/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/llllvvuu/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/llllvvuu/neovim/git/tags{/sha}",
            "git_url": "git://github.com/llllvvuu/neovim.git",
            "has_discussions": false,
            "has_downloads": true,
            "has_issues": false,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/llllvvuu/neovim/hooks",
            "html_url": "https://github.com/llllvvuu/neovim",
            "id": 689514052,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/llllvvuu/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/llllvvuu/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/llllvvuu/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/llllvvuu/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/llllvvuu/neovim/labels{/name}",
            "language": null,
            "languages_url": "https://api.github.com/repos/llllvvuu/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/llllvvuu/neovim/merges",
            "milestones_url": "https://api.github.com/repos/llllvvuu/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "R_kgDOKRkmRA",
            "notifications_url": "https://api.github.com/repos/llllvvuu/neovim/notifications{?since,all,participating}",
            "open_issues": 0,
            "open_issues_count": 0,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5601392?v=4",
                "events_url": "https://api.github.com/users/llllvvuu/events{/privacy}",
                "followers_url": "https://api.github.com/users/llllvvuu/followers",
                "following_url": "https://api.github.com/users/llllvvuu/following{/other_user}",
                "gists_url": "https://api.github.com/users/llllvvuu/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/llllvvuu",
                "id": 5601392,
                "login": "llllvvuu",
                "node_id": "MDQ6VXNlcjU2MDEzOTI=",
                "organizations_url": "https://api.github.com/users/llllvvuu/orgs",
                "received_events_url": "https://api.github.com/users/llllvvuu/received_events",
                "repos_url": "https://api.github.com/users/llllvvuu/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/llllvvuu/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/llllvvuu/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/llllvvuu"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/llllvvuu/neovim/pulls{/number}",
            "pushed_at": "2023-11-03T05:42:11Z",
            "releases_url": "https://api.github.com/repos/llllvvuu/neovim/releases{/id}",
            "size": 232611,
            "ssh_url": "git@github.com:llllvvuu/neovim.git",
            "stargazers_count": 0,
            "stargazers_url": "https://api.github.com/repos/llllvvuu/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/llllvvuu/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/llllvvuu/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/llllvvuu/neovim/subscription",
            "svn_url": "https://github.com/llllvvuu/neovim",
            "tags_url": "https://api.github.com/repos/llllvvuu/neovim/tags",
            "teams_url": "https://api.github.com/repos/llllvvuu/neovim/teams",
            "topics": [],
            "trees_url": "https://api.github.com/repos/llllvvuu/neovim/git/trees{/sha}",
            "updated_at": "2023-09-10T03:41:28Z",
            "url": "https://api.github.com/repos/llllvvuu/neovim",
            "visibility": "public",
            "watchers": 0,
            "watchers_count": 0,
            "web_commit_signoff_required": false
        },
        "sha": "a30b83d985ddd9e07e3947114b6d595c6b98d9fe",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/5601392?v=4",
            "events_url": "https://api.github.com/users/llllvvuu/events{/privacy}",
            "followers_url": "https://api.github.com/users/llllvvuu/followers",
            "following_url": "https://api.github.com/users/llllvvuu/following{/other_user}",
            "gists_url": "https://api.github.com/users/llllvvuu/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/llllvvuu",
            "id": 5601392,
            "login": "llllvvuu",
            "node_id": "MDQ6VXNlcjU2MDEzOTI=",
            "organizations_url": "https://api.github.com/users/llllvvuu/orgs",
            "received_events_url": "https://api.github.com/users/llllvvuu/received_events",
            "repos_url": "https://api.github.com/users/llllvvuu/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/llllvvuu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/llllvvuu/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/llllvvuu"
        }
    },
    "html_url": "https://github.com/neovim/neovim/pull/25581",
    "id": 1549921628,
    "issue_url": "https://api.github.com/repos/neovim/neovim/issues/25581",
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": "",
            "id": 113026979,
            "name": "ui",
            "node_id": "MDU6TGFiZWwxMTMwMjY5Nzk=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/ui"
        },
        {
            "color": "c7def8",
            "default": false,
            "description": null,
            "id": 242522707,
            "name": "rpc",
            "node_id": "MDU6TGFiZWwyNDI1MjI3MDc=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/rpc"
        }
    ],
    "locked": false,
    "merge_commit_sha": "468292dcb743c79714b030557cf2754b7b5bf07d",
    "merged_at": "2023-11-03T22:56:46Z",
    "milestone": {
        "closed_at": null,
        "closed_issues": 179,
        "created_at": "2023-02-02T14:11:43Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1363104?v=4",
            "events_url": "https://api.github.com/users/bfredl/events{/privacy}",
            "followers_url": "https://api.github.com/users/bfredl/followers",
            "following_url": "https://api.github.com/users/bfredl/following{/other_user}",
            "gists_url": "https://api.github.com/users/bfredl/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/bfredl",
            "id": 1363104,
            "login": "bfredl",
            "node_id": "MDQ6VXNlcjEzNjMxMDQ=",
            "organizations_url": "https://api.github.com/users/bfredl/orgs",
            "received_events_url": "https://api.github.com/users/bfredl/received_events",
            "repos_url": "https://api.github.com/users/bfredl/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/bfredl/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/bfredl/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/bfredl"
        },
        "description": "",
        "due_on": null,
        "html_url": "https://github.com/neovim/neovim/milestone/36",
        "id": 8997654,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/36/labels",
        "node_id": "MI_kwDOAPphoM4AiUsW",
        "number": 36,
        "open_issues": 129,
        "state": "open",
        "title": "0.10",
        "updated_at": "2023-11-03T22:58:25Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/36"
    },
    "node_id": "PR_kwDOAPphoM5cYe1c",
    "number": 25581,
    "patch_url": "https://github.com/neovim/neovim/pull/25581.patch",
    "requested_reviewers": [],
    "requested_teams": [],
    "review_comment_url": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}",
    "review_comments_url": "https://api.github.com/repos/neovim/neovim/pulls/25581/comments",
    "state": "closed",
    "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/a30b83d985ddd9e07e3947114b6d595c6b98d9fe",
    "title": "fix(rpc): \"grid_line\" event parsing crashes",
    "updated_at": "2023-11-03T22:57:04Z",
    "url": "https://api.github.com/repos/neovim/neovim/pulls/25581",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/5601392?v=4",
        "events_url": "https://api.github.com/users/llllvvuu/events{/privacy}",
        "followers_url": "https://api.github.com/users/llllvvuu/followers",
        "following_url": "https://api.github.com/users/llllvvuu/following{/other_user}",
        "gists_url": "https://api.github.com/users/llllvvuu/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/llllvvuu",
        "id": 5601392,
        "login": "llllvvuu",
        "node_id": "MDQ6VXNlcjU2MDEzOTI=",
        "organizations_url": "https://api.github.com/users/llllvvuu/orgs",
        "received_events_url": "https://api.github.com/users/llllvvuu/received_events",
        "repos_url": "https://api.github.com/users/llllvvuu/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/llllvvuu/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/llllvvuu/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/llllvvuu"
    }
}