{
    "_links": {
        "comments": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/29766/comments"
        },
        "commits": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/29766/commits"
        },
        "html": {
            "href": "https://github.com/neovim/neovim/pull/29766"
        },
        "issue": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/29766"
        },
        "review_comment": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}"
        },
        "review_comments": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/29766/comments"
        },
        "self": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/29766"
        },
        "statuses": {
            "href": "https://api.github.com/repos/neovim/neovim/statuses/8dd60c17e618dd55d7b3fe0d2cc3b9a2e41fba01"
        }
    },
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "auto_merge": null,
    "base": {
        "label": "neovim:master",
        "ref": "master",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/neovim/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/neovim/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/neovim/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/neovim/neovim/branches{/branch}",
            "clone_url": "https://github.com/neovim/neovim.git",
            "collaborators_url": "https://api.github.com/repos/neovim/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/neovim/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/neovim/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/neovim/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/neovim/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/neovim/neovim/contributors",
            "created_at": "2014-01-31T13:39:22Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/neovim/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/neovim/neovim/downloads",
            "events_url": "https://api.github.com/repos/neovim/neovim/events",
            "fork": false,
            "forks": 5503,
            "forks_count": 5503,
            "forks_url": "https://api.github.com/repos/neovim/neovim/forks",
            "full_name": "neovim/neovim",
            "git_commits_url": "https://api.github.com/repos/neovim/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/neovim/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/neovim/neovim/git/tags{/sha}",
            "git_url": "git://github.com/neovim/neovim.git",
            "has_discussions": true,
            "has_downloads": true,
            "has_issues": true,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/neovim/neovim/hooks",
            "html_url": "https://github.com/neovim/neovim",
            "id": 16408992,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/neovim/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/neovim/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/neovim/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/neovim/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/neovim/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/neovim/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/neovim/neovim/merges",
            "milestones_url": "https://api.github.com/repos/neovim/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "MDEwOlJlcG9zaXRvcnkxNjQwODk5Mg==",
            "notifications_url": "https://api.github.com/repos/neovim/neovim/notifications{?since,all,participating}",
            "open_issues": 1768,
            "open_issues_count": 1768,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
                "events_url": "https://api.github.com/users/neovim/events{/privacy}",
                "followers_url": "https://api.github.com/users/neovim/followers",
                "following_url": "https://api.github.com/users/neovim/following{/other_user}",
                "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/neovim",
                "id": 6471485,
                "login": "neovim",
                "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
                "organizations_url": "https://api.github.com/users/neovim/orgs",
                "received_events_url": "https://api.github.com/users/neovim/received_events",
                "repos_url": "https://api.github.com/users/neovim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
                "type": "Organization",
                "url": "https://api.github.com/users/neovim"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/neovim/neovim/pulls{/number}",
            "pushed_at": "2024-07-22T23:20:44Z",
            "releases_url": "https://api.github.com/repos/neovim/neovim/releases{/id}",
            "size": 279528,
            "ssh_url": "git@github.com:neovim/neovim.git",
            "stargazers_count": 80265,
            "stargazers_url": "https://api.github.com/repos/neovim/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/neovim/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/neovim/neovim/subscription",
            "svn_url": "https://github.com/neovim/neovim",
            "tags_url": "https://api.github.com/repos/neovim/neovim/tags",
            "teams_url": "https://api.github.com/repos/neovim/neovim/teams",
            "topics": [
                "api",
                "c",
                "lua",
                "neovim",
                "nvim",
                "text-editor",
                "vim"
            ],
            "trees_url": "https://api.github.com/repos/neovim/neovim/git/trees{/sha}",
            "updated_at": "2024-07-23T01:47:00Z",
            "url": "https://api.github.com/repos/neovim/neovim",
            "visibility": "public",
            "watchers": 80265,
            "watchers_count": 80265,
            "web_commit_signoff_required": false
        },
        "sha": "5fc25ecc7a383a4bed2199774ed2e26022456ca3",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
            "events_url": "https://api.github.com/users/neovim/events{/privacy}",
            "followers_url": "https://api.github.com/users/neovim/followers",
            "following_url": "https://api.github.com/users/neovim/following{/other_user}",
            "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/neovim",
            "id": 6471485,
            "login": "neovim",
            "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
            "organizations_url": "https://api.github.com/users/neovim/orgs",
            "received_events_url": "https://api.github.com/users/neovim/received_events",
            "repos_url": "https://api.github.com/users/neovim/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
            "type": "Organization",
            "url": "https://api.github.com/users/neovim"
        }
    },
    "body": "Problem:\n\n`'scrollbind'` does not work properly if the window being scrolled\nautomatically contains any filler/virtual lines (except for diff filler\nlines).\n\nThis is because when the scrollbind check is done, the logic only\nconsiders changes to topline which are represented as line numbers.\n\nSolution:\n\nWrite the logic for determine the scroll amount to take into account\nfiller/virtual lines.\n\nFixes #29751",
    "closed_at": null,
    "comment_data": [
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/29766#discussion_r1683581230"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/29766"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1683581230"
                }
            },
            "author_association": "MEMBER",
            "body": "Using `plines_win()` may be incorrect here, as that counts the number of screen lines, while `scrollup()` and `scrolldown()` may scroll by screen lines or text lines depending on the value of the 'smoothscroll' option.\r\n\r\nActually, previously (and in Vim) the opposite problem may have existed, where the number of text lines is always used.",
            "commit_id": "8dd60c17e618dd55d7b3fe0d2cc3b9a2e41fba01",
            "created_at": "2024-07-18T22:49:43Z",
            "diff_hunk": "@@ -2145,23 +2147,40 @@ void do_check_scrollbind(bool check)\n   old_leftcol = curwin->w_leftcol;\n }\n \n+static int get_scrollbind_amount(win_T *orig_wp, int old_topline, int topfill_diff)\n+{\n+  int orig_topline = orig_wp->w_topline;\n+\n+  if (orig_topline == old_topline) {\n+    return -topfill_diff;\n+  }\n+\n+  int count = -abs(topfill_diff);\n+\n+  int top = MIN(orig_topline, old_topline);\n+  int bot = MAX(orig_topline, old_topline);\n+  int buflen = orig_wp->w_buffer->b_ml.ml_line_count;\n+  for (int i = top + 1; i <= bot; i++) {\n+    count += plines_win(orig_wp, i, buflen);",
            "html_url": "https://github.com/neovim/neovim/pull/29766#discussion_r1683581230",
            "id": 1683581230,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5kWWku",
            "original_commit_id": "9ae088a34dc68d32788c116d68bdfe4cd19e1018",
            "original_line": 2164,
            "original_position": 47,
            "original_start_line": null,
            "path": "src/nvim/normal.c",
            "position": null,
            "pull_request_review_id": 2187027570,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/29766",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1683581230/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-07-18T22:49:50Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1683581230",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/29766#discussion_r1683583734"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/29766"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1683583734"
                }
            },
            "author_association": "MEMBER",
            "body": "I haven't put any work in to make this work for smooth scroll, which afaik is still a bit experimental/new. So that'll need more changes.\n\nEither way, using plines should still be better than using text lines as `scrollup()`/`scrolldown()` specifically handle topfill, so we need to send numbers to it which include filler lines.\n\nWhat I'm not sure about is whether the number we pass should include folds or not.",
            "commit_id": "8dd60c17e618dd55d7b3fe0d2cc3b9a2e41fba01",
            "created_at": "2024-07-18T22:54:43Z",
            "diff_hunk": "@@ -2145,23 +2147,40 @@ void do_check_scrollbind(bool check)\n   old_leftcol = curwin->w_leftcol;\n }\n \n+static int get_scrollbind_amount(win_T *orig_wp, int old_topline, int topfill_diff)\n+{\n+  int orig_topline = orig_wp->w_topline;\n+\n+  if (orig_topline == old_topline) {\n+    return -topfill_diff;\n+  }\n+\n+  int count = -abs(topfill_diff);\n+\n+  int top = MIN(orig_topline, old_topline);\n+  int bot = MAX(orig_topline, old_topline);\n+  int buflen = orig_wp->w_buffer->b_ml.ml_line_count;\n+  for (int i = top + 1; i <= bot; i++) {\n+    count += plines_win(orig_wp, i, buflen);",
            "html_url": "https://github.com/neovim/neovim/pull/29766#discussion_r1683583734",
            "id": 1683583734,
            "in_reply_to_id": 1683581230,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5kWXL2",
            "original_commit_id": "9ae088a34dc68d32788c116d68bdfe4cd19e1018",
            "original_line": 2164,
            "original_position": 47,
            "original_start_line": null,
            "path": "src/nvim/normal.c",
            "position": null,
            "pull_request_review_id": 2187031188,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/29766",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1683583734/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-07-18T22:55:06Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1683583734",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/29766#discussion_r1683589897"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/29766"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1683589897"
                }
            },
            "author_association": "MEMBER",
            "body": "I was talking about wrapped lines, not filler lines. Also, why is `buflen` passed as the third argument of `plines_win()`? That'll always be true. The alternative I'm suggesting is to use `win_get_fill(orig_wp, i) + 1` instead.",
            "commit_id": "8dd60c17e618dd55d7b3fe0d2cc3b9a2e41fba01",
            "created_at": "2024-07-18T23:05:49Z",
            "diff_hunk": "@@ -2145,23 +2147,40 @@ void do_check_scrollbind(bool check)\n   old_leftcol = curwin->w_leftcol;\n }\n \n+static int get_scrollbind_amount(win_T *orig_wp, int old_topline, int topfill_diff)\n+{\n+  int orig_topline = orig_wp->w_topline;\n+\n+  if (orig_topline == old_topline) {\n+    return -topfill_diff;\n+  }\n+\n+  int count = -abs(topfill_diff);\n+\n+  int top = MIN(orig_topline, old_topline);\n+  int bot = MAX(orig_topline, old_topline);\n+  int buflen = orig_wp->w_buffer->b_ml.ml_line_count;\n+  for (int i = top + 1; i <= bot; i++) {\n+    count += plines_win(orig_wp, i, buflen);",
            "html_url": "https://github.com/neovim/neovim/pull/29766#discussion_r1683589897",
            "id": 1683589897,
            "in_reply_to_id": 1683581230,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5kWYsJ",
            "original_commit_id": "9ae088a34dc68d32788c116d68bdfe4cd19e1018",
            "original_line": 2164,
            "original_position": 47,
            "original_start_line": null,
            "path": "src/nvim/normal.c",
            "position": null,
            "pull_request_review_id": 2187043192,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/29766",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1683589897/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-07-18T23:10:40Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1683589897",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/29766#discussion_r1683594361"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/29766"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1683594361"
                }
            },
            "author_association": "MEMBER",
            "body": "I know, the changes here don't improve the situation for wrapped lines, but I don't think regresses it either. Or does it regress because plines respects wrapping? If so I can avoid using plines.",
            "commit_id": "8dd60c17e618dd55d7b3fe0d2cc3b9a2e41fba01",
            "created_at": "2024-07-18T23:14:26Z",
            "diff_hunk": "@@ -2145,23 +2147,40 @@ void do_check_scrollbind(bool check)\n   old_leftcol = curwin->w_leftcol;\n }\n \n+static int get_scrollbind_amount(win_T *orig_wp, int old_topline, int topfill_diff)\n+{\n+  int orig_topline = orig_wp->w_topline;\n+\n+  if (orig_topline == old_topline) {\n+    return -topfill_diff;\n+  }\n+\n+  int count = -abs(topfill_diff);\n+\n+  int top = MIN(orig_topline, old_topline);\n+  int bot = MAX(orig_topline, old_topline);\n+  int buflen = orig_wp->w_buffer->b_ml.ml_line_count;\n+  for (int i = top + 1; i <= bot; i++) {\n+    count += plines_win(orig_wp, i, buflen);",
            "html_url": "https://github.com/neovim/neovim/pull/29766#discussion_r1683594361",
            "id": 1683594361,
            "in_reply_to_id": 1683581230,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5kWZx5",
            "original_commit_id": "9ae088a34dc68d32788c116d68bdfe4cd19e1018",
            "original_line": 2164,
            "original_position": 47,
            "original_start_line": null,
            "path": "src/nvim/normal.c",
            "position": null,
            "pull_request_review_id": 2187049245,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/29766",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1683594361/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-07-18T23:14:26Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1683594361",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/29766#discussion_r1683629918"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/29766"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1683629918"
                }
            },
            "author_association": "MEMBER",
            "body": "I think it does regress. When a line is wrapped is one window, it's more common for the corresponding line to also be wrapped (and occupy the same number of screen lines) in the other window. When scrolling over such a line with 'nosmoothscroll', the old behavior works correctly, but the new behavior doesn't.",
            "commit_id": "8dd60c17e618dd55d7b3fe0d2cc3b9a2e41fba01",
            "created_at": "2024-07-19T00:30:34Z",
            "diff_hunk": "@@ -2145,23 +2147,40 @@ void do_check_scrollbind(bool check)\n   old_leftcol = curwin->w_leftcol;\n }\n \n+static int get_scrollbind_amount(win_T *orig_wp, int old_topline, int topfill_diff)\n+{\n+  int orig_topline = orig_wp->w_topline;\n+\n+  if (orig_topline == old_topline) {\n+    return -topfill_diff;\n+  }\n+\n+  int count = -abs(topfill_diff);\n+\n+  int top = MIN(orig_topline, old_topline);\n+  int bot = MAX(orig_topline, old_topline);\n+  int buflen = orig_wp->w_buffer->b_ml.ml_line_count;\n+  for (int i = top + 1; i <= bot; i++) {\n+    count += plines_win(orig_wp, i, buflen);",
            "html_url": "https://github.com/neovim/neovim/pull/29766#discussion_r1683629918",
            "id": 1683629918,
            "in_reply_to_id": 1683581230,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5kWide",
            "original_commit_id": "9ae088a34dc68d32788c116d68bdfe4cd19e1018",
            "original_line": 2164,
            "original_position": 47,
            "original_start_line": null,
            "path": "src/nvim/normal.c",
            "position": null,
            "pull_request_review_id": 2187094860,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/29766",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1683629918/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-07-19T00:30:42Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1683629918",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/29766#discussion_r1684049370"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/29766"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1684049370"
                }
            },
            "author_association": "MEMBER",
            "body": "The `orig_topline` name sounds confusing as it's not clear that it's newer than `old_topline`.",
            "commit_id": "8dd60c17e618dd55d7b3fe0d2cc3b9a2e41fba01",
            "created_at": "2024-07-19T08:36:20Z",
            "diff_hunk": "@@ -2145,23 +2147,39 @@ void do_check_scrollbind(bool check)\n   old_leftcol = curwin->w_leftcol;\n }\n \n+static int get_scrollbind_amount(win_T *orig_wp, int old_topline, int topfill_diff)\n+{\n+  int orig_topline = orig_wp->w_topline;",
            "html_url": "https://github.com/neovim/neovim/pull/29766#discussion_r1684049370",
            "id": 1684049370,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5kYI3a",
            "original_commit_id": "9d6e409d315ccef796b0d0b2214b6c44d26f5dd9",
            "original_line": 2152,
            "original_position": 35,
            "original_start_line": null,
            "path": "src/nvim/normal.c",
            "position": null,
            "pull_request_review_id": 2187691830,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/29766",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1684049370/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-07-19T08:41:21Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1684049370",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/29766#discussion_r1684055230"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/29766"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1684055230"
                }
            },
            "author_association": "MEMBER",
            "body": "This doesn't seems correct. I think it should be like this:\r\n```suggestion\r\n  int count = orig_topline > old_topline ? -topfill_diff : topfill_diff;\r\n```",
            "commit_id": "8dd60c17e618dd55d7b3fe0d2cc3b9a2e41fba01",
            "created_at": "2024-07-19T08:41:18Z",
            "diff_hunk": "@@ -2145,23 +2147,39 @@ void do_check_scrollbind(bool check)\n   old_leftcol = curwin->w_leftcol;\n }\n \n+static int get_scrollbind_amount(win_T *orig_wp, int old_topline, int topfill_diff)\n+{\n+  int orig_topline = orig_wp->w_topline;\n+\n+  if (orig_topline == old_topline) {\n+    return -topfill_diff;\n+  }\n+\n+  int count = -abs(topfill_diff);",
            "html_url": "https://github.com/neovim/neovim/pull/29766#discussion_r1684055230",
            "id": 1684055230,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5kYKS-",
            "original_commit_id": "9d6e409d315ccef796b0d0b2214b6c44d26f5dd9",
            "original_line": 2158,
            "original_position": 41,
            "original_start_line": null,
            "path": "src/nvim/normal.c",
            "position": null,
            "pull_request_review_id": 2187691830,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/29766",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1684055230/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-07-19T08:41:21Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1684055230",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/29766#discussion_r1684100612"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/29766"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1684100612"
                }
            },
            "author_association": "MEMBER",
            "body": "I agree, but I couldn't think of a better name. Any suggestions? Maybe `ref_topline` and `ref_old_topline`, or `base_topline` and `base_old_topline`?",
            "commit_id": "8dd60c17e618dd55d7b3fe0d2cc3b9a2e41fba01",
            "created_at": "2024-07-19T09:19:20Z",
            "diff_hunk": "@@ -2145,23 +2147,39 @@ void do_check_scrollbind(bool check)\n   old_leftcol = curwin->w_leftcol;\n }\n \n+static int get_scrollbind_amount(win_T *orig_wp, int old_topline, int topfill_diff)\n+{\n+  int orig_topline = orig_wp->w_topline;",
            "html_url": "https://github.com/neovim/neovim/pull/29766#discussion_r1684100612",
            "id": 1684100612,
            "in_reply_to_id": 1684049370,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5kYVYE",
            "original_commit_id": "9d6e409d315ccef796b0d0b2214b6c44d26f5dd9",
            "original_line": 2152,
            "original_position": 35,
            "original_start_line": null,
            "path": "src/nvim/normal.c",
            "position": null,
            "pull_request_review_id": 2187771827,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/29766",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1684100612/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-07-19T09:19:40Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1684100612",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/29766#discussion_r1684547887"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/29766"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1684547887"
                }
            },
            "author_association": "MEMBER",
            "body": "Hmm, I meant it's not clear that \"orig\" is newer than old. There is still an \"orig\" here.",
            "commit_id": "8dd60c17e618dd55d7b3fe0d2cc3b9a2e41fba01",
            "created_at": "2024-07-19T15:29:47Z",
            "diff_hunk": "@@ -2145,23 +2147,39 @@ void do_check_scrollbind(bool check)\n   old_leftcol = curwin->w_leftcol;\n }\n \n+static int get_scrollbind_amount(win_T *ref_wp, int ref_old_topline, int topfill_diff)\n+{\n+  int ref_orig_topline = ref_wp->w_topline;",
            "html_url": "https://github.com/neovim/neovim/pull/29766#discussion_r1684547887",
            "id": 1684547887,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5kaCkv",
            "original_commit_id": "d447ce5c766b3215673005d296d5851a5eaffa57",
            "original_line": 2152,
            "original_position": 35,
            "original_start_line": null,
            "path": "src/nvim/normal.c",
            "position": null,
            "pull_request_review_id": 2188523276,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/29766",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1684547887/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-07-19T15:29:47Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1684547887",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/29766#discussion_r1684549064"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/29766"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1684549064"
                }
            },
            "author_association": "MEMBER",
            "body": "Sorry, that's meant to say `ref_topline`.",
            "commit_id": "8dd60c17e618dd55d7b3fe0d2cc3b9a2e41fba01",
            "created_at": "2024-07-19T15:30:53Z",
            "diff_hunk": "@@ -2145,23 +2147,39 @@ void do_check_scrollbind(bool check)\n   old_leftcol = curwin->w_leftcol;\n }\n \n+static int get_scrollbind_amount(win_T *ref_wp, int ref_old_topline, int topfill_diff)\n+{\n+  int ref_orig_topline = ref_wp->w_topline;",
            "html_url": "https://github.com/neovim/neovim/pull/29766#discussion_r1684549064",
            "id": 1684549064,
            "in_reply_to_id": 1684547887,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5kaC3I",
            "original_commit_id": "d447ce5c766b3215673005d296d5851a5eaffa57",
            "original_line": 2152,
            "original_position": 35,
            "original_start_line": null,
            "path": "src/nvim/normal.c",
            "position": null,
            "pull_request_review_id": 2188525241,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/29766",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1684549064/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-07-19T15:30:53Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1684549064",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/29766#discussion_r1686344388"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/29766"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1686344388"
                }
            },
            "author_association": "MEMBER",
            "body": "You need to use `plines_m_win_fill(wp, 1, wp->w_topline)` here too.",
            "commit_id": "8dd60c17e618dd55d7b3fe0d2cc3b9a2e41fba01",
            "created_at": "2024-07-22T10:39:57Z",
            "diff_hunk": "@@ -5593,34 +5594,29 @@ static void ex_swapname(exarg_T *eap)\n /// (1998-11-02 16:21:01  R. Edward Ralston <eralston@computer.org>)\n static void ex_syncbind(exarg_T *eap)\n {\n-  linenr_T topline;\n-  int y;\n-  linenr_T old_linenr = curwin->w_cursor.lnum;\n+  linenr_T topline;  // Target topline (including fill)\n \n   setpcmark();\n \n-  // determine max topline\n+  // determine max (virtual) topline\n   if (curwin->w_p_scb) {\n     topline = curwin->w_topline;",
            "html_url": "https://github.com/neovim/neovim/pull/29766#discussion_r1686344388",
            "id": 1686344388,
            "line": 5603,
            "node_id": "PRRC_kwDOAPphoM5kg5LE",
            "original_commit_id": "8dd60c17e618dd55d7b3fe0d2cc3b9a2e41fba01",
            "original_line": 5603,
            "original_position": 22,
            "original_start_line": null,
            "path": "src/nvim/ex_docmd.c",
            "position": 22,
            "pull_request_review_id": 2191233308,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/29766",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1686344388/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-07-22T10:39:57Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1686344388",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/29766#discussion_r1686555161"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/29766"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1686555161"
                }
            },
            "author_association": "MEMBER",
            "body": "Fast path for the common case\r\n```suggestion\r\n  if (!win_may_fill(wp)) {\r\n    return last - first + 1;\r\n  }\r\n  int count = 0;\r\n```",
            "commit_id": "8dd60c17e618dd55d7b3fe0d2cc3b9a2e41fba01",
            "created_at": "2024-07-22T13:28:01Z",
            "diff_hunk": "@@ -907,6 +907,19 @@ int plines_m_win(win_T *wp, linenr_T first, linenr_T last, int max)\n   return MIN(max, count);\n }\n \n+/// Return number of window lines a physical line range will occupy.\n+/// Only considers real and filler lines.\n+///\n+/// Mainly used for calculating scrolling offsets.\n+int plines_m_win_fill(win_T *wp, linenr_T first, linenr_T last)\n+{\n+  int count = 0;",
            "html_url": "https://github.com/neovim/neovim/pull/29766#discussion_r1686555161",
            "id": 1686555161,
            "line": 916,
            "node_id": "PRRC_kwDOAPphoM5khsoZ",
            "original_commit_id": "8dd60c17e618dd55d7b3fe0d2cc3b9a2e41fba01",
            "original_line": 916,
            "original_position": 10,
            "original_start_line": null,
            "path": "src/nvim/plines.c",
            "position": 10,
            "pull_request_review_id": 2191581223,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/29766",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1686555161/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-07-22T13:28:01Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1686555161",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        }
    ],
    "comment_regular_data": [
        {
            "author_association": "MEMBER",
            "body": "The commit message is missing a 't' at the end",
            "created_at": "2024-07-19T08:30:27Z",
            "html_url": "https://github.com/neovim/neovim/pull/29766#issuecomment-2238654588",
            "id": 2238654588,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/29766",
            "node_id": "IC_kwDOAPphoM6Fbyh8",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2238654588/reactions"
            },
            "updated_at": "2024-07-21T10:04:53Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2238654588",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> The same change may also be needed in `ex_syncbind()`.\r\n\r\nI don't think it does. It might need some adjustment to account for filler, but I don't know exactly what.",
            "created_at": "2024-07-21T10:04:44Z",
            "html_url": "https://github.com/neovim/neovim/pull/29766#issuecomment-2241552281",
            "id": 2241552281,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/29766",
            "node_id": "IC_kwDOAPphoM6Fm1-Z",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2241552281/reactions"
            },
            "updated_at": "2024-07-21T10:04:44Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2241552281",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Ok, I've had a go. I think this is right.",
            "created_at": "2024-07-21T10:46:38Z",
            "html_url": "https://github.com/neovim/neovim/pull/29766#issuecomment-2241563518",
            "id": 2241563518,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/29766",
            "node_id": "IC_kwDOAPphoM6Fm4t-",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2241563518/reactions"
            },
            "updated_at": "2024-07-21T10:46:38Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2241563518",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        }
    ],
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/29766/comments",
    "commits_url": "https://api.github.com/repos/neovim/neovim/pulls/29766/commits",
    "created_at": "2024-07-17T11:23:53Z",
    "diff_url": "https://github.com/neovim/neovim/pull/29766.diff",
    "draft": false,
    "head": {
        "label": "lewis6991:fix/scrollbind",
        "ref": "fix/scrollbind",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/lewis6991/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/lewis6991/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/lewis6991/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/lewis6991/neovim/branches{/branch}",
            "clone_url": "https://github.com/lewis6991/neovim.git",
            "collaborators_url": "https://api.github.com/repos/lewis6991/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/lewis6991/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/lewis6991/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/lewis6991/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/lewis6991/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/lewis6991/neovim/contributors",
            "created_at": "2020-11-24T21:47:43Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/lewis6991/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/lewis6991/neovim/downloads",
            "events_url": "https://api.github.com/repos/lewis6991/neovim/events",
            "fork": true,
            "forks": 0,
            "forks_count": 0,
            "forks_url": "https://api.github.com/repos/lewis6991/neovim/forks",
            "full_name": "lewis6991/neovim",
            "git_commits_url": "https://api.github.com/repos/lewis6991/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/lewis6991/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/lewis6991/neovim/git/tags{/sha}",
            "git_url": "git://github.com/lewis6991/neovim.git",
            "has_discussions": false,
            "has_downloads": true,
            "has_issues": false,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/lewis6991/neovim/hooks",
            "html_url": "https://github.com/lewis6991/neovim",
            "id": 315760150,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/lewis6991/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/lewis6991/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/lewis6991/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/lewis6991/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/lewis6991/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/lewis6991/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/lewis6991/neovim/merges",
            "milestones_url": "https://api.github.com/repos/lewis6991/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "MDEwOlJlcG9zaXRvcnkzMTU3NjAxNTA=",
            "notifications_url": "https://api.github.com/repos/lewis6991/neovim/notifications{?since,all,participating}",
            "open_issues": 0,
            "open_issues_count": 0,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/lewis6991/neovim/pulls{/number}",
            "pushed_at": "2024-07-22T17:38:03Z",
            "releases_url": "https://api.github.com/repos/lewis6991/neovim/releases{/id}",
            "size": 274631,
            "ssh_url": "git@github.com:lewis6991/neovim.git",
            "stargazers_count": 0,
            "stargazers_url": "https://api.github.com/repos/lewis6991/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/lewis6991/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/lewis6991/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/lewis6991/neovim/subscription",
            "svn_url": "https://github.com/lewis6991/neovim",
            "tags_url": "https://api.github.com/repos/lewis6991/neovim/tags",
            "teams_url": "https://api.github.com/repos/lewis6991/neovim/teams",
            "topics": [],
            "trees_url": "https://api.github.com/repos/lewis6991/neovim/git/trees{/sha}",
            "updated_at": "2024-02-06T12:43:15Z",
            "url": "https://api.github.com/repos/lewis6991/neovim",
            "visibility": "public",
            "watchers": 0,
            "watchers_count": 0,
            "web_commit_signoff_required": false
        },
        "sha": "8dd60c17e618dd55d7b3fe0d2cc3b9a2e41fba01",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
            "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
            "followers_url": "https://api.github.com/users/lewis6991/followers",
            "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
            "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/lewis6991",
            "id": 7904185,
            "login": "lewis6991",
            "node_id": "MDQ6VXNlcjc5MDQxODU=",
            "organizations_url": "https://api.github.com/users/lewis6991/orgs",
            "received_events_url": "https://api.github.com/users/lewis6991/received_events",
            "repos_url": "https://api.github.com/users/lewis6991/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/lewis6991"
        }
    },
    "html_url": "https://github.com/neovim/neovim/pull/29766",
    "id": 1973474635,
    "issue_url": "https://api.github.com/repos/neovim/neovim/issues/29766",
    "labels": [],
    "locked": false,
    "merge_commit_sha": "20321188fe5c46a99eb2ee0f1ef06b5cc0253a5d",
    "merged_at": null,
    "milestone": null,
    "node_id": "PR_kwDOAPphoM51oNVL",
    "number": 29766,
    "patch_url": "https://github.com/neovim/neovim/pull/29766.patch",
    "requested_reviewers": [
        {
            "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
            "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
            "followers_url": "https://api.github.com/users/luukvbaal/followers",
            "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
            "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/luukvbaal",
            "id": 31730729,
            "login": "luukvbaal",
            "node_id": "MDQ6VXNlcjMxNzMwNzI5",
            "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
            "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
            "repos_url": "https://api.github.com/users/luukvbaal/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/luukvbaal"
        }
    ],
    "requested_teams": [],
    "review_comment_url": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}",
    "review_comments_url": "https://api.github.com/repos/neovim/neovim/pulls/29766/comments",
    "state": "open",
    "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/8dd60c17e618dd55d7b3fe0d2cc3b9a2e41fba01",
    "title": "fix(scrollbind): properly take filler/virtual lines into account",
    "updated_at": "2024-07-22T13:28:01Z",
    "url": "https://api.github.com/repos/neovim/neovim/pulls/29766",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
        "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
        "followers_url": "https://api.github.com/users/lewis6991/followers",
        "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
        "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/lewis6991",
        "id": 7904185,
        "login": "lewis6991",
        "node_id": "MDQ6VXNlcjc5MDQxODU=",
        "organizations_url": "https://api.github.com/users/lewis6991/orgs",
        "received_events_url": "https://api.github.com/users/lewis6991/received_events",
        "repos_url": "https://api.github.com/users/lewis6991/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/lewis6991"
    }
}