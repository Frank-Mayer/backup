{
    "_links": {
        "comments": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/25233/comments"
        },
        "commits": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/25233/commits"
        },
        "html": {
            "href": "https://github.com/neovim/neovim/pull/25233"
        },
        "issue": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/25233"
        },
        "review_comment": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}"
        },
        "review_comments": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/25233/comments"
        },
        "self": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/25233"
        },
        "statuses": {
            "href": "https://api.github.com/repos/neovim/neovim/statuses/79d8a2b3ef2c0299e81879e9bccf54b3ca013063"
        }
    },
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "auto_merge": null,
    "base": {
        "label": "neovim:master",
        "ref": "master",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/neovim/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/neovim/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/neovim/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/neovim/neovim/branches{/branch}",
            "clone_url": "https://github.com/neovim/neovim.git",
            "collaborators_url": "https://api.github.com/repos/neovim/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/neovim/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/neovim/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/neovim/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/neovim/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/neovim/neovim/contributors",
            "created_at": "2014-01-31T13:39:22Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/neovim/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/neovim/neovim/downloads",
            "events_url": "https://api.github.com/repos/neovim/neovim/events",
            "fork": false,
            "forks": 4893,
            "forks_count": 4893,
            "forks_url": "https://api.github.com/repos/neovim/neovim/forks",
            "full_name": "neovim/neovim",
            "git_commits_url": "https://api.github.com/repos/neovim/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/neovim/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/neovim/neovim/git/tags{/sha}",
            "git_url": "git://github.com/neovim/neovim.git",
            "has_discussions": true,
            "has_downloads": true,
            "has_issues": true,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/neovim/neovim/hooks",
            "html_url": "https://github.com/neovim/neovim",
            "id": 16408992,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/neovim/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/neovim/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/neovim/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/neovim/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/neovim/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/neovim/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/neovim/neovim/merges",
            "milestones_url": "https://api.github.com/repos/neovim/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "MDEwOlJlcG9zaXRvcnkxNjQwODk5Mg==",
            "notifications_url": "https://api.github.com/repos/neovim/neovim/notifications{?since,all,participating}",
            "open_issues": 1638,
            "open_issues_count": 1638,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
                "events_url": "https://api.github.com/users/neovim/events{/privacy}",
                "followers_url": "https://api.github.com/users/neovim/followers",
                "following_url": "https://api.github.com/users/neovim/following{/other_user}",
                "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/neovim",
                "id": 6471485,
                "login": "neovim",
                "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
                "organizations_url": "https://api.github.com/users/neovim/orgs",
                "received_events_url": "https://api.github.com/users/neovim/received_events",
                "repos_url": "https://api.github.com/users/neovim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
                "type": "Organization",
                "url": "https://api.github.com/users/neovim"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/neovim/neovim/pulls{/number}",
            "pushed_at": "2023-09-25T22:25:47Z",
            "releases_url": "https://api.github.com/repos/neovim/neovim/releases{/id}",
            "size": 248410,
            "ssh_url": "git@github.com:neovim/neovim.git",
            "stargazers_count": 69666,
            "stargazers_url": "https://api.github.com/repos/neovim/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/neovim/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/neovim/neovim/subscription",
            "svn_url": "https://github.com/neovim/neovim",
            "tags_url": "https://api.github.com/repos/neovim/neovim/tags",
            "teams_url": "https://api.github.com/repos/neovim/neovim/teams",
            "topics": [
                "api",
                "c",
                "lua",
                "neovim",
                "nvim",
                "text-editor",
                "vim"
            ],
            "trees_url": "https://api.github.com/repos/neovim/neovim/git/trees{/sha}",
            "updated_at": "2023-09-26T01:27:33Z",
            "url": "https://api.github.com/repos/neovim/neovim",
            "visibility": "public",
            "watchers": 69666,
            "watchers_count": 69666,
            "web_commit_signoff_required": false
        },
        "sha": "e353c869cea4541d00d627ec82724d3f247225a3",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
            "events_url": "https://api.github.com/users/neovim/events{/privacy}",
            "followers_url": "https://api.github.com/users/neovim/followers",
            "following_url": "https://api.github.com/users/neovim/following{/other_user}",
            "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/neovim",
            "id": 6471485,
            "login": "neovim",
            "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
            "organizations_url": "https://api.github.com/users/neovim/orgs",
            "received_events_url": "https://api.github.com/users/neovim/received_events",
            "repos_url": "https://api.github.com/users/neovim/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
            "type": "Organization",
            "url": "https://api.github.com/users/neovim"
        }
    },
    "body": "This is a minimum viable product to allow paths in `NVIM_APPNAME`. It is enough to fix #23056 and close #24966\r\n\r\nThe current implementation means a user with multiple configs will end up with a lot of messy directories that may not be clear they relate to neovim (depending on what the appname they used once and then forgot about was).\r\n\r\nAllowing the appname to include sub-directories would mean that they can choose to group all these together,\r\ne.g.\r\n```\r\nNVIM_APPNAME=\"neovim-configs/first-config\" nvim\r\nNVIM_APPNAME=\"neovim-configs/second-config\" nvim\r\n```\r\nIt would also allow the user to clone someones dotfiles repo and then reach the config without moving it from the repo (this is a key part to how [dotfyle-cli](https://github.com/rorynesbitt/dotfyle-cli) works),\r\ne.g.\r\n```\r\ngit clone git@github.com:user/dotfiles ~/.config/user/dotfiles\r\nNVIM_APPNAME=\"user/dotfiles/.config/nvim\" nvim\r\n```\r\n\r\nI am looking for feedback about what else would need to be included in this for it to be merged.\r\nI don't know c but I'm willing to do what I can if pointed in the right direction\r\n\r\nFrom the relevant issue:\r\n- ~updated stdpath logic in various places~\r\n- [x] update to the docs\r\n- [x] block the inclusion of `../` in the appname",
    "closed_at": null,
    "comment_data": [
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25233#discussion_r1333541405"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25233"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1333541405"
                }
            },
            "author_association": "MEMBER",
            "body": "`path_is_absolute` ",
            "commit_id": "79d8a2b3ef2c0299e81879e9bccf54b3ca013063",
            "created_at": "2023-09-21T19:58:21Z",
            "diff_hunk": "@@ -69,13 +69,19 @@ const char *get_appname(void)\n   return env_val;\n }\n \n-/// Ensure that APPNAME is valid. In particular, it cannot contain directory separators.\n+// Ensure that APPNAME is valid. In particular, it cannot contain .. surrounded\n+// by path separators, the start of the string, or the end of the string.\n bool appname_is_valid(void)\n {\n   const char *appname = get_appname();\n   const size_t appname_len = strlen(appname);\n+  if (appname[0] == PATHSEP) {\n+    return false;",
            "html_url": "https://github.com/neovim/neovim/pull/25233#discussion_r1333541405",
            "id": 1333541405,
            "line": 85,
            "node_id": "PRRC_kwDOAPphoM5PfDod",
            "original_commit_id": "8dba8fdcf33080305a6c413bef97cfb7743cb453",
            "original_line": 85,
            "original_position": 12,
            "original_start_line": null,
            "path": "src/nvim/os/stdpaths.c",
            "position": 23,
            "pull_request_review_id": 1638606162,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25233",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1333541405/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-09-21T19:58:21Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1333541405",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25233#discussion_r1333541616"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25233"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1333541616"
                }
            },
            "author_association": "MEMBER",
            "body": "is the for-loop still needed?",
            "commit_id": "79d8a2b3ef2c0299e81879e9bccf54b3ca013063",
            "created_at": "2023-09-21T19:58:35Z",
            "diff_hunk": "@@ -69,13 +69,19 @@ const char *get_appname(void)\n   return env_val;\n }\n \n-/// Ensure that APPNAME is valid. In particular, it cannot contain directory separators.\n+// Ensure that APPNAME is valid. In particular, it cannot contain .. surrounded\n+// by path separators, the start of the string, or the end of the string.\n bool appname_is_valid(void)\n {\n   const char *appname = get_appname();\n   const size_t appname_len = strlen(appname);\n+  if (appname[0] == PATHSEP) {\n+    return false;\n+  }\n   for (size_t i = 0; i < appname_len; i++) {",
            "html_url": "https://github.com/neovim/neovim/pull/25233#discussion_r1333541616",
            "id": 1333541616,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5PfDrw",
            "original_commit_id": "8dba8fdcf33080305a6c413bef97cfb7743cb453",
            "original_line": 80,
            "original_position": 14,
            "original_start_line": null,
            "path": "src/nvim/os/stdpaths.c",
            "position": null,
            "pull_request_review_id": 1638606495,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25233",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1333541616/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-09-21T19:58:35Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1333541616",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25233#discussion_r1333542311"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25233"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1333542311"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n    local function test_appname(testAppname, expectedExitCode)\r\n```",
            "commit_id": "79d8a2b3ef2c0299e81879e9bccf54b3ca013063",
            "created_at": "2023-09-21T19:59:23Z",
            "diff_hunk": "@@ -616,10 +616,25 @@ describe('stdpath()', function()\n \n     -- Check that Nvim rejects invalid APPNAMEs\n     -- Call jobstart() and jobwait() in the same RPC request to reduce flakiness.\n-    eq(1, exec_lua([[\n-      local child = vim.fn.jobstart({ vim.v.progpath }, { env = { NVIM_APPNAME = 'a/b\\\\c' } })\n-      return vim.fn.jobwait({ child }, 3000)[1]\n-    ]]))\n+    local function runAppnameTest(testAppname, expectedExitCode)",
            "html_url": "https://github.com/neovim/neovim/pull/25233#discussion_r1333542311",
            "id": 1333542311,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5PfD2n",
            "original_commit_id": "8dba8fdcf33080305a6c413bef97cfb7743cb453",
            "original_line": 619,
            "original_position": 8,
            "original_start_line": null,
            "path": "test/functional/options/defaults_spec.lua",
            "position": null,
            "pull_request_review_id": 1638607588,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25233",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1333542311/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-09-21T19:59:23Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1333542311",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25233#discussion_r1333557371"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25233"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1333557371"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "The for loop is specifically for `..` as although absolute paths can't be used you can do the equivalent by setting appname to `../../../../../effectively/absolute/path`",
            "commit_id": "79d8a2b3ef2c0299e81879e9bccf54b3ca013063",
            "created_at": "2023-09-21T20:14:53Z",
            "diff_hunk": "@@ -69,13 +69,19 @@ const char *get_appname(void)\n   return env_val;\n }\n \n-/// Ensure that APPNAME is valid. In particular, it cannot contain directory separators.\n+// Ensure that APPNAME is valid. In particular, it cannot contain .. surrounded\n+// by path separators, the start of the string, or the end of the string.\n bool appname_is_valid(void)\n {\n   const char *appname = get_appname();\n   const size_t appname_len = strlen(appname);\n+  if (appname[0] == PATHSEP) {\n+    return false;\n+  }\n   for (size_t i = 0; i < appname_len; i++) {",
            "html_url": "https://github.com/neovim/neovim/pull/25233#discussion_r1333557371",
            "id": 1333557371,
            "in_reply_to_id": 1333541616,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5PfHh7",
            "original_commit_id": "8dba8fdcf33080305a6c413bef97cfb7743cb453",
            "original_line": 80,
            "original_position": 14,
            "original_start_line": null,
            "path": "src/nvim/os/stdpaths.c",
            "position": null,
            "pull_request_review_id": 1638634607,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25233",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1333557371/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-09-21T20:14:54Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1333557371",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33930918?v=4",
                "events_url": "https://api.github.com/users/RoryNesbitt/events{/privacy}",
                "followers_url": "https://api.github.com/users/RoryNesbitt/followers",
                "following_url": "https://api.github.com/users/RoryNesbitt/following{/other_user}",
                "gists_url": "https://api.github.com/users/RoryNesbitt/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/RoryNesbitt",
                "id": 33930918,
                "login": "RoryNesbitt",
                "node_id": "MDQ6VXNlcjMzOTMwOTE4",
                "organizations_url": "https://api.github.com/users/RoryNesbitt/orgs",
                "received_events_url": "https://api.github.com/users/RoryNesbitt/received_events",
                "repos_url": "https://api.github.com/users/RoryNesbitt/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/RoryNesbitt/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/RoryNesbitt/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/RoryNesbitt"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25233#discussion_r1333560821"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25233"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1333560821"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "I'm not sure what you're meaning here, do you want me to set that variable instead of the early return?",
            "commit_id": "79d8a2b3ef2c0299e81879e9bccf54b3ca013063",
            "created_at": "2023-09-21T20:19:00Z",
            "diff_hunk": "@@ -69,13 +69,19 @@ const char *get_appname(void)\n   return env_val;\n }\n \n-/// Ensure that APPNAME is valid. In particular, it cannot contain directory separators.\n+// Ensure that APPNAME is valid. In particular, it cannot contain .. surrounded\n+// by path separators, the start of the string, or the end of the string.\n bool appname_is_valid(void)\n {\n   const char *appname = get_appname();\n   const size_t appname_len = strlen(appname);\n+  if (appname[0] == PATHSEP) {\n+    return false;",
            "html_url": "https://github.com/neovim/neovim/pull/25233#discussion_r1333560821",
            "id": 1333560821,
            "in_reply_to_id": 1333541405,
            "line": 85,
            "node_id": "PRRC_kwDOAPphoM5PfIX1",
            "original_commit_id": "8dba8fdcf33080305a6c413bef97cfb7743cb453",
            "original_line": 85,
            "original_position": 12,
            "original_start_line": null,
            "path": "src/nvim/os/stdpaths.c",
            "position": 23,
            "pull_request_review_id": 1638639960,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25233",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1333560821/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-09-21T20:19:00Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1333560821",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33930918?v=4",
                "events_url": "https://api.github.com/users/RoryNesbitt/events{/privacy}",
                "followers_url": "https://api.github.com/users/RoryNesbitt/followers",
                "following_url": "https://api.github.com/users/RoryNesbitt/following{/other_user}",
                "gists_url": "https://api.github.com/users/RoryNesbitt/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/RoryNesbitt",
                "id": 33930918,
                "login": "RoryNesbitt",
                "node_id": "MDQ6VXNlcjMzOTMwOTE4",
                "organizations_url": "https://api.github.com/users/RoryNesbitt/orgs",
                "received_events_url": "https://api.github.com/users/RoryNesbitt/received_events",
                "repos_url": "https://api.github.com/users/RoryNesbitt/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/RoryNesbitt/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/RoryNesbitt/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/RoryNesbitt"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25233#discussion_r1333577315"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25233"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1333577315"
                }
            },
            "author_association": "MEMBER",
            "body": "i'm saying `path_is_absolute` should be used instead of checking `appname[0] == PATHSEP`",
            "commit_id": "79d8a2b3ef2c0299e81879e9bccf54b3ca013063",
            "created_at": "2023-09-21T20:38:41Z",
            "diff_hunk": "@@ -69,13 +69,19 @@ const char *get_appname(void)\n   return env_val;\n }\n \n-/// Ensure that APPNAME is valid. In particular, it cannot contain directory separators.\n+// Ensure that APPNAME is valid. In particular, it cannot contain .. surrounded\n+// by path separators, the start of the string, or the end of the string.\n bool appname_is_valid(void)\n {\n   const char *appname = get_appname();\n   const size_t appname_len = strlen(appname);\n+  if (appname[0] == PATHSEP) {\n+    return false;",
            "html_url": "https://github.com/neovim/neovim/pull/25233#discussion_r1333577315",
            "id": 1333577315,
            "in_reply_to_id": 1333541405,
            "line": 85,
            "node_id": "PRRC_kwDOAPphoM5PfMZj",
            "original_commit_id": "8dba8fdcf33080305a6c413bef97cfb7743cb453",
            "original_line": 85,
            "original_position": 12,
            "original_start_line": null,
            "path": "src/nvim/os/stdpaths.c",
            "position": 23,
            "pull_request_review_id": 1638665995,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25233",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1333577315/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-09-21T20:38:42Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1333577315",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25233#discussion_r1333585699"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25233"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1333585699"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "I did not know that was an option, that would have saved such a headache yesterday.\r\nThanks for the info :smile: updated it",
            "commit_id": "79d8a2b3ef2c0299e81879e9bccf54b3ca013063",
            "created_at": "2023-09-21T20:48:25Z",
            "diff_hunk": "@@ -69,13 +69,19 @@ const char *get_appname(void)\n   return env_val;\n }\n \n-/// Ensure that APPNAME is valid. In particular, it cannot contain directory separators.\n+// Ensure that APPNAME is valid. In particular, it cannot contain .. surrounded\n+// by path separators, the start of the string, or the end of the string.\n bool appname_is_valid(void)\n {\n   const char *appname = get_appname();\n   const size_t appname_len = strlen(appname);\n+  if (appname[0] == PATHSEP) {\n+    return false;",
            "html_url": "https://github.com/neovim/neovim/pull/25233#discussion_r1333585699",
            "id": 1333585699,
            "in_reply_to_id": 1333541405,
            "line": 85,
            "node_id": "PRRC_kwDOAPphoM5PfOcj",
            "original_commit_id": "8dba8fdcf33080305a6c413bef97cfb7743cb453",
            "original_line": 85,
            "original_position": 12,
            "original_start_line": null,
            "path": "src/nvim/os/stdpaths.c",
            "position": 23,
            "pull_request_review_id": 1638679353,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25233",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1333585699/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-09-21T20:48:26Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1333585699",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33930918?v=4",
                "events_url": "https://api.github.com/users/RoryNesbitt/events{/privacy}",
                "followers_url": "https://api.github.com/users/RoryNesbitt/followers",
                "following_url": "https://api.github.com/users/RoryNesbitt/following{/other_user}",
                "gists_url": "https://api.github.com/users/RoryNesbitt/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/RoryNesbitt",
                "id": 33930918,
                "login": "RoryNesbitt",
                "node_id": "MDQ6VXNlcjMzOTMwOTE4",
                "organizations_url": "https://api.github.com/users/RoryNesbitt/orgs",
                "received_events_url": "https://api.github.com/users/RoryNesbitt/received_events",
                "repos_url": "https://api.github.com/users/RoryNesbitt/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/RoryNesbitt/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/RoryNesbitt/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/RoryNesbitt"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25233#discussion_r1333595695"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25233"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1333595695"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "I double checked, the new test will fail if the for loop is taken out, and yes I know that means my test for the for loop fails without the for loop. But I checked in case `path_is_absolute` had a way of looking for `..`",
            "commit_id": "79d8a2b3ef2c0299e81879e9bccf54b3ca013063",
            "created_at": "2023-09-21T20:55:55Z",
            "diff_hunk": "@@ -69,13 +69,19 @@ const char *get_appname(void)\n   return env_val;\n }\n \n-/// Ensure that APPNAME is valid. In particular, it cannot contain directory separators.\n+// Ensure that APPNAME is valid. In particular, it cannot contain .. surrounded\n+// by path separators, the start of the string, or the end of the string.\n bool appname_is_valid(void)\n {\n   const char *appname = get_appname();\n   const size_t appname_len = strlen(appname);\n+  if (appname[0] == PATHSEP) {\n+    return false;\n+  }\n   for (size_t i = 0; i < appname_len; i++) {",
            "html_url": "https://github.com/neovim/neovim/pull/25233#discussion_r1333595695",
            "id": 1333595695,
            "in_reply_to_id": 1333541616,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5PfQ4v",
            "original_commit_id": "8dba8fdcf33080305a6c413bef97cfb7743cb453",
            "original_line": 80,
            "original_position": 14,
            "original_start_line": null,
            "path": "src/nvim/os/stdpaths.c",
            "position": null,
            "pull_request_review_id": 1638693867,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25233",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1333595695/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-09-21T20:57:55Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1333595695",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33930918?v=4",
                "events_url": "https://api.github.com/users/RoryNesbitt/events{/privacy}",
                "followers_url": "https://api.github.com/users/RoryNesbitt/followers",
                "following_url": "https://api.github.com/users/RoryNesbitt/following{/other_user}",
                "gists_url": "https://api.github.com/users/RoryNesbitt/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/RoryNesbitt",
                "id": 33930918,
                "login": "RoryNesbitt",
                "node_id": "MDQ6VXNlcjMzOTMwOTE4",
                "organizations_url": "https://api.github.com/users/RoryNesbitt/orgs",
                "received_events_url": "https://api.github.com/users/RoryNesbitt/received_events",
                "repos_url": "https://api.github.com/users/RoryNesbitt/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/RoryNesbitt/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/RoryNesbitt/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/RoryNesbitt"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25233#discussion_r1334318124"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25233"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334318124"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n• |$NVIM_APPNAME| can be set to a relative path instead of only a name.\r\n```",
            "commit_id": "79d8a2b3ef2c0299e81879e9bccf54b3ca013063",
            "created_at": "2023-09-22T12:31:53Z",
            "diff_hunk": "@@ -169,6 +169,8 @@ The following new APIs and features were added.\n • |vim.lsp.util.locations_to_items()| sets the `user_data` of each item to the\n   original LSP `Location` or `LocationLink`.\n \n+• |$NVIM_APPNAME| environment variable now supports being set to a relative path",
            "html_url": "https://github.com/neovim/neovim/pull/25233#discussion_r1334318124",
            "id": 1334318124,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5PiBQs",
            "original_commit_id": "f82aeb8c54d901412b57f901d600b85fbc9b4ae4",
            "original_line": 172,
            "original_position": 4,
            "original_start_line": null,
            "path": "runtime/doc/news.txt",
            "position": null,
            "pull_request_review_id": 1639860901,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25233",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334318124/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-09-22T12:31:53Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334318124",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25233#discussion_r1334322340"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25233"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334322340"
                }
            },
            "author_association": "MEMBER",
            "body": "Should we use `%` since that is what is used for other things like undofiles ? Could also reduce the chances of accidental conflicts.\r\n\r\n```suggestion\r\n    memchrsub(appname, '/', '%', sizeof(appname));\r\n    memchrsub(appname, '\\\\', '%', sizeof(appname));\r\n```",
            "commit_id": "79d8a2b3ef2c0299e81879e9bccf54b3ca013063",
            "created_at": "2023-09-22T12:35:55Z",
            "diff_hunk": "@@ -3309,7 +3309,13 @@ static void vim_mktempdir(void)\n     // \"/tmp/\" exists, now try to create \"/tmp/nvim.<user>/\".\n     add_pathsep(tmp);\n \n-    const char *appname = get_appname();\n+    // Make a copy of the appname to avoid modifying it\n+    char appname[40] = { 0 };\n+    xstrlcpy(appname, get_appname(), sizeof(appname));\n+    // Substitute slashes in appname with underscores\n+    memchrsub(appname, '/', '_', sizeof(appname));\n+    memchrsub(appname, '\\\\', '_', sizeof(appname));",
            "html_url": "https://github.com/neovim/neovim/pull/25233#discussion_r1334322340",
            "id": 1334322340,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5PiCSk",
            "original_commit_id": "f82aeb8c54d901412b57f901d600b85fbc9b4ae4",
            "original_line": 3317,
            "original_position": 10,
            "original_start_line": 3316,
            "path": "src/nvim/fileio.c",
            "position": null,
            "pull_request_review_id": 1639867187,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25233",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334322340/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2023-09-22T12:35:56Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334322340",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25233#discussion_r1334323852"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25233"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334323852"
                }
            },
            "author_association": "MEMBER",
            "body": "where is 40 coming from?",
            "commit_id": "79d8a2b3ef2c0299e81879e9bccf54b3ca013063",
            "created_at": "2023-09-22T12:37:23Z",
            "diff_hunk": "@@ -3309,7 +3309,13 @@ static void vim_mktempdir(void)\n     // \"/tmp/\" exists, now try to create \"/tmp/nvim.<user>/\".\n     add_pathsep(tmp);\n \n-    const char *appname = get_appname();\n+    // Make a copy of the appname to avoid modifying it\n+    char appname[40] = { 0 };",
            "html_url": "https://github.com/neovim/neovim/pull/25233#discussion_r1334323852",
            "id": 1334323852,
            "line": 3313,
            "node_id": "PRRC_kwDOAPphoM5PiCqM",
            "original_commit_id": "f82aeb8c54d901412b57f901d600b85fbc9b4ae4",
            "original_line": 3313,
            "original_position": 6,
            "original_start_line": null,
            "path": "src/nvim/fileio.c",
            "position": 6,
            "pull_request_review_id": 1639869564,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25233",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334323852/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-09-22T12:37:23Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334323852",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25233#discussion_r1334326875"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25233"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334326875"
                }
            },
            "author_association": "MEMBER",
            "body": "No reason to allow \"..\" at all. That simplifies both the documentation and the logic.\r\n\r\n```suggestion\r\n// Ensure that APPNAME is valid. Must be a name or relative path.\r\n```",
            "commit_id": "79d8a2b3ef2c0299e81879e9bccf54b3ca013063",
            "created_at": "2023-09-22T12:40:08Z",
            "diff_hunk": "@@ -69,13 +69,19 @@ const char *get_appname(void)\n   return env_val;\n }\n \n-/// Ensure that APPNAME is valid. In particular, it cannot contain directory separators.\n+// Ensure that APPNAME is valid. In particular, it cannot contain .. surrounded\n+// by path separators, the start of the string, or the end of the string.",
            "html_url": "https://github.com/neovim/neovim/pull/25233#discussion_r1334326875",
            "id": 1334326875,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5PiDZb",
            "original_commit_id": "f82aeb8c54d901412b57f901d600b85fbc9b4ae4",
            "original_line": 73,
            "original_position": 6,
            "original_start_line": 72,
            "path": "src/nvim/os/stdpaths.c",
            "position": null,
            "pull_request_review_id": 1639874105,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25233",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334326875/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2023-09-22T12:40:08Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334326875",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25233#discussion_r1334328829"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25233"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334328829"
                }
            },
            "author_association": "MEMBER",
            "body": "Can we get rid of the for-loop, and just return false if `..` is found anywhere in the string? Or check for `SEP + \"..\"` and `\"..\" + SEP` (pseudocode).",
            "commit_id": "79d8a2b3ef2c0299e81879e9bccf54b3ca013063",
            "created_at": "2023-09-22T12:41:55Z",
            "diff_hunk": "@@ -69,13 +69,19 @@ const char *get_appname(void)\n   return env_val;\n }\n \n-/// Ensure that APPNAME is valid. In particular, it cannot contain directory separators.\n+// Ensure that APPNAME is valid. In particular, it cannot contain .. surrounded\n+// by path separators, the start of the string, or the end of the string.\n bool appname_is_valid(void)\n {\n   const char *appname = get_appname();\n   const size_t appname_len = strlen(appname);\n+  if (path_is_absolute(appname)) {\n+    return false;\n+  }\n   for (size_t i = 0; i < appname_len; i++) {\n-    if (appname[i] == PATHSEP) {\n+    if (appname[i] == '.' && appname[i + 1] == '.'\n+        && (i == 0 || appname[i - 1] == PATHSEP)\n+        && (appname[i + 2] == '\\0' || appname[i + 2] == PATHSEP)) {\n       return false;",
            "html_url": "https://github.com/neovim/neovim/pull/25233#discussion_r1334328829",
            "id": 1334328829,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5PiD39",
            "original_commit_id": "f82aeb8c54d901412b57f901d600b85fbc9b4ae4",
            "original_line": 84,
            "original_position": 19,
            "original_start_line": null,
            "path": "src/nvim/os/stdpaths.c",
            "position": null,
            "pull_request_review_id": 1639876978,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25233",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334328829/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-09-22T12:42:55Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334328829",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25233#discussion_r1334331773"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25233"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334331773"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "That makes sense, it's currently `_` because that's the same change that's made to [name, just above](https://github.com/neovim/neovim/blob/master/src/nvim/fileio.c#L3294-L3297).\r\nIf we were to change this here I would suggest changing both",
            "commit_id": "79d8a2b3ef2c0299e81879e9bccf54b3ca013063",
            "created_at": "2023-09-22T12:44:38Z",
            "diff_hunk": "@@ -3309,7 +3309,13 @@ static void vim_mktempdir(void)\n     // \"/tmp/\" exists, now try to create \"/tmp/nvim.<user>/\".\n     add_pathsep(tmp);\n \n-    const char *appname = get_appname();\n+    // Make a copy of the appname to avoid modifying it\n+    char appname[40] = { 0 };\n+    xstrlcpy(appname, get_appname(), sizeof(appname));\n+    // Substitute slashes in appname with underscores\n+    memchrsub(appname, '/', '_', sizeof(appname));\n+    memchrsub(appname, '\\\\', '_', sizeof(appname));",
            "html_url": "https://github.com/neovim/neovim/pull/25233#discussion_r1334331773",
            "id": 1334331773,
            "in_reply_to_id": 1334322340,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5PiEl9",
            "original_commit_id": "f82aeb8c54d901412b57f901d600b85fbc9b4ae4",
            "original_line": 3317,
            "original_position": 10,
            "original_start_line": 3316,
            "path": "src/nvim/fileio.c",
            "position": null,
            "pull_request_review_id": 1639881385,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25233",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334331773/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2023-09-22T12:44:38Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334331773",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33930918?v=4",
                "events_url": "https://api.github.com/users/RoryNesbitt/events{/privacy}",
                "followers_url": "https://api.github.com/users/RoryNesbitt/followers",
                "following_url": "https://api.github.com/users/RoryNesbitt/following{/other_user}",
                "gists_url": "https://api.github.com/users/RoryNesbitt/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/RoryNesbitt",
                "id": 33930918,
                "login": "RoryNesbitt",
                "node_id": "MDQ6VXNlcjMzOTMwOTE4",
                "organizations_url": "https://api.github.com/users/RoryNesbitt/orgs",
                "received_events_url": "https://api.github.com/users/RoryNesbitt/received_events",
                "repos_url": "https://api.github.com/users/RoryNesbitt/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/RoryNesbitt/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/RoryNesbitt/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/RoryNesbitt"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25233#discussion_r1334332135"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25233"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334332135"
                }
            },
            "author_association": "MEMBER",
            "body": "don't need a new describe() for this, it should be sibling to the other test above",
            "commit_id": "79d8a2b3ef2c0299e81879e9bccf54b3ca013063",
            "created_at": "2023-09-22T12:44:57Z",
            "diff_hunk": "@@ -914,3 +929,14 @@ describe('stdpath()', function()\n     end)\n   end)\n end)\n+\n+describe('tempname()', function()\n+  describe('returns a string', function()",
            "html_url": "https://github.com/neovim/neovim/pull/25233#discussion_r1334332135",
            "id": 1334332135,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5PiErn",
            "original_commit_id": "f82aeb8c54d901412b57f901d600b85fbc9b4ae4",
            "original_line": 934,
            "original_position": 36,
            "original_start_line": null,
            "path": "test/functional/options/defaults_spec.lua",
            "position": null,
            "pull_request_review_id": 1639881923,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25233",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334332135/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-09-22T12:44:57Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334332135",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25233#discussion_r1334333438"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25233"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334333438"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "Similar to the above comment, I heavily referenced the way name worked when writing this \r\n[Seen here](https://github.com/neovim/neovim/blob/master/src/nvim/fileio.c#L3292)",
            "commit_id": "79d8a2b3ef2c0299e81879e9bccf54b3ca013063",
            "created_at": "2023-09-22T12:46:05Z",
            "diff_hunk": "@@ -3309,7 +3309,13 @@ static void vim_mktempdir(void)\n     // \"/tmp/\" exists, now try to create \"/tmp/nvim.<user>/\".\n     add_pathsep(tmp);\n \n-    const char *appname = get_appname();\n+    // Make a copy of the appname to avoid modifying it\n+    char appname[40] = { 0 };",
            "html_url": "https://github.com/neovim/neovim/pull/25233#discussion_r1334333438",
            "id": 1334333438,
            "in_reply_to_id": 1334323852,
            "line": 3313,
            "node_id": "PRRC_kwDOAPphoM5PiE_-",
            "original_commit_id": "f82aeb8c54d901412b57f901d600b85fbc9b4ae4",
            "original_line": 3313,
            "original_position": 6,
            "original_start_line": null,
            "path": "src/nvim/fileio.c",
            "position": 6,
            "pull_request_review_id": 1639883811,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25233",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334333438/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-09-22T12:46:06Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334333438",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33930918?v=4",
                "events_url": "https://api.github.com/users/RoryNesbitt/events{/privacy}",
                "followers_url": "https://api.github.com/users/RoryNesbitt/followers",
                "following_url": "https://api.github.com/users/RoryNesbitt/following{/other_user}",
                "gists_url": "https://api.github.com/users/RoryNesbitt/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/RoryNesbitt",
                "id": 33930918,
                "login": "RoryNesbitt",
                "node_id": "MDQ6VXNlcjMzOTMwOTE4",
                "organizations_url": "https://api.github.com/users/RoryNesbitt/orgs",
                "received_events_url": "https://api.github.com/users/RoryNesbitt/received_events",
                "repos_url": "https://api.github.com/users/RoryNesbitt/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/RoryNesbitt/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/RoryNesbitt/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/RoryNesbitt"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25233#discussion_r1334334155"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25233"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334334155"
                }
            },
            "author_association": "MEMBER",
            "body": "Maybe, but let's start with only this one for now. Can do a followup PR for the other one, helps with bisecting.",
            "commit_id": "79d8a2b3ef2c0299e81879e9bccf54b3ca013063",
            "created_at": "2023-09-22T12:46:44Z",
            "diff_hunk": "@@ -3309,7 +3309,13 @@ static void vim_mktempdir(void)\n     // \"/tmp/\" exists, now try to create \"/tmp/nvim.<user>/\".\n     add_pathsep(tmp);\n \n-    const char *appname = get_appname();\n+    // Make a copy of the appname to avoid modifying it\n+    char appname[40] = { 0 };\n+    xstrlcpy(appname, get_appname(), sizeof(appname));\n+    // Substitute slashes in appname with underscores\n+    memchrsub(appname, '/', '_', sizeof(appname));\n+    memchrsub(appname, '\\\\', '_', sizeof(appname));",
            "html_url": "https://github.com/neovim/neovim/pull/25233#discussion_r1334334155",
            "id": 1334334155,
            "in_reply_to_id": 1334322340,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5PiFLL",
            "original_commit_id": "f82aeb8c54d901412b57f901d600b85fbc9b4ae4",
            "original_line": 3317,
            "original_position": 10,
            "original_start_line": 3316,
            "path": "src/nvim/fileio.c",
            "position": null,
            "pull_request_review_id": 1639884874,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25233",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334334155/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2023-09-22T12:46:45Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334334155",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25233#discussion_r1334334727"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25233"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334334727"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "What if a user has a directory name like `nvim..configs`? It's weird, I don't like it, but it's a valid dir name",
            "commit_id": "79d8a2b3ef2c0299e81879e9bccf54b3ca013063",
            "created_at": "2023-09-22T12:47:16Z",
            "diff_hunk": "@@ -69,13 +69,19 @@ const char *get_appname(void)\n   return env_val;\n }\n \n-/// Ensure that APPNAME is valid. In particular, it cannot contain directory separators.\n+// Ensure that APPNAME is valid. In particular, it cannot contain .. surrounded\n+// by path separators, the start of the string, or the end of the string.",
            "html_url": "https://github.com/neovim/neovim/pull/25233#discussion_r1334334727",
            "id": 1334334727,
            "in_reply_to_id": 1334326875,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5PiFUH",
            "original_commit_id": "f82aeb8c54d901412b57f901d600b85fbc9b4ae4",
            "original_line": 73,
            "original_position": 6,
            "original_start_line": 72,
            "path": "src/nvim/os/stdpaths.c",
            "position": null,
            "pull_request_review_id": 1639885748,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25233",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334334727/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2023-09-22T12:47:16Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334334727",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33930918?v=4",
                "events_url": "https://api.github.com/users/RoryNesbitt/events{/privacy}",
                "followers_url": "https://api.github.com/users/RoryNesbitt/followers",
                "following_url": "https://api.github.com/users/RoryNesbitt/following{/other_user}",
                "gists_url": "https://api.github.com/users/RoryNesbitt/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/RoryNesbitt",
                "id": 33930918,
                "login": "RoryNesbitt",
                "node_id": "MDQ6VXNlcjMzOTMwOTE4",
                "organizations_url": "https://api.github.com/users/RoryNesbitt/orgs",
                "received_events_url": "https://api.github.com/users/RoryNesbitt/received_events",
                "repos_url": "https://api.github.com/users/RoryNesbitt/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/RoryNesbitt/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/RoryNesbitt/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/RoryNesbitt"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25233#discussion_r1334341319"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25233"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334341319"
                }
            },
            "author_association": "MEMBER",
            "body": "Who cares about that? Not supported.",
            "commit_id": "79d8a2b3ef2c0299e81879e9bccf54b3ca013063",
            "created_at": "2023-09-22T12:53:16Z",
            "diff_hunk": "@@ -69,13 +69,19 @@ const char *get_appname(void)\n   return env_val;\n }\n \n-/// Ensure that APPNAME is valid. In particular, it cannot contain directory separators.\n+// Ensure that APPNAME is valid. In particular, it cannot contain .. surrounded\n+// by path separators, the start of the string, or the end of the string.",
            "html_url": "https://github.com/neovim/neovim/pull/25233#discussion_r1334341319",
            "id": 1334341319,
            "in_reply_to_id": 1334326875,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5PiG7H",
            "original_commit_id": "f82aeb8c54d901412b57f901d600b85fbc9b4ae4",
            "original_line": 73,
            "original_position": 6,
            "original_start_line": 72,
            "path": "src/nvim/os/stdpaths.c",
            "position": null,
            "pull_request_review_id": 1639896066,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25233",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334341319/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2023-09-22T12:53:16Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334341319",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25233#discussion_r1334343612"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25233"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334343612"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "This makes sense but would fail for instances of `..dir` or `dir..`. Although these must be very niche cases so I'd be comfortable overlooking them",
            "commit_id": "79d8a2b3ef2c0299e81879e9bccf54b3ca013063",
            "created_at": "2023-09-22T12:55:24Z",
            "diff_hunk": "@@ -69,13 +69,19 @@ const char *get_appname(void)\n   return env_val;\n }\n \n-/// Ensure that APPNAME is valid. In particular, it cannot contain directory separators.\n+// Ensure that APPNAME is valid. In particular, it cannot contain .. surrounded\n+// by path separators, the start of the string, or the end of the string.\n bool appname_is_valid(void)\n {\n   const char *appname = get_appname();\n   const size_t appname_len = strlen(appname);\n+  if (path_is_absolute(appname)) {\n+    return false;\n+  }\n   for (size_t i = 0; i < appname_len; i++) {\n-    if (appname[i] == PATHSEP) {\n+    if (appname[i] == '.' && appname[i + 1] == '.'\n+        && (i == 0 || appname[i - 1] == PATHSEP)\n+        && (appname[i + 2] == '\\0' || appname[i + 2] == PATHSEP)) {\n       return false;",
            "html_url": "https://github.com/neovim/neovim/pull/25233#discussion_r1334343612",
            "id": 1334343612,
            "in_reply_to_id": 1334328829,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5PiHe8",
            "original_commit_id": "f82aeb8c54d901412b57f901d600b85fbc9b4ae4",
            "original_line": 84,
            "original_position": 19,
            "original_start_line": null,
            "path": "src/nvim/os/stdpaths.c",
            "position": null,
            "pull_request_review_id": 1639899704,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25233",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334343612/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-09-22T12:55:25Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334343612",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33930918?v=4",
                "events_url": "https://api.github.com/users/RoryNesbitt/events{/privacy}",
                "followers_url": "https://api.github.com/users/RoryNesbitt/followers",
                "following_url": "https://api.github.com/users/RoryNesbitt/following{/other_user}",
                "gists_url": "https://api.github.com/users/RoryNesbitt/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/RoryNesbitt",
                "id": 33930918,
                "login": "RoryNesbitt",
                "node_id": "MDQ6VXNlcjMzOTMwOTE4",
                "organizations_url": "https://api.github.com/users/RoryNesbitt/orgs",
                "received_events_url": "https://api.github.com/users/RoryNesbitt/received_events",
                "repos_url": "https://api.github.com/users/RoryNesbitt/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/RoryNesbitt/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/RoryNesbitt/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/RoryNesbitt"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25233#discussion_r1334345520"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25233"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334345520"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "To cover those I could check for \r\n```\r\n/../\r\n^../\r\n/..$\r\n^..$\r\n```\r\nThis is pretty much what the for loop checks for but would be clearer",
            "commit_id": "79d8a2b3ef2c0299e81879e9bccf54b3ca013063",
            "created_at": "2023-09-22T12:57:10Z",
            "diff_hunk": "@@ -69,13 +69,19 @@ const char *get_appname(void)\n   return env_val;\n }\n \n-/// Ensure that APPNAME is valid. In particular, it cannot contain directory separators.\n+// Ensure that APPNAME is valid. In particular, it cannot contain .. surrounded\n+// by path separators, the start of the string, or the end of the string.\n bool appname_is_valid(void)\n {\n   const char *appname = get_appname();\n   const size_t appname_len = strlen(appname);\n+  if (path_is_absolute(appname)) {\n+    return false;\n+  }\n   for (size_t i = 0; i < appname_len; i++) {\n-    if (appname[i] == PATHSEP) {\n+    if (appname[i] == '.' && appname[i + 1] == '.'\n+        && (i == 0 || appname[i - 1] == PATHSEP)\n+        && (appname[i + 2] == '\\0' || appname[i + 2] == PATHSEP)) {\n       return false;",
            "html_url": "https://github.com/neovim/neovim/pull/25233#discussion_r1334345520",
            "id": 1334345520,
            "in_reply_to_id": 1334328829,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5PiH8w",
            "original_commit_id": "f82aeb8c54d901412b57f901d600b85fbc9b4ae4",
            "original_line": 84,
            "original_position": 19,
            "original_start_line": null,
            "path": "src/nvim/os/stdpaths.c",
            "position": null,
            "pull_request_review_id": 1639902799,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25233",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334345520/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-09-22T12:57:10Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334345520",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33930918?v=4",
                "events_url": "https://api.github.com/users/RoryNesbitt/events{/privacy}",
                "followers_url": "https://api.github.com/users/RoryNesbitt/followers",
                "following_url": "https://api.github.com/users/RoryNesbitt/following{/other_user}",
                "gists_url": "https://api.github.com/users/RoryNesbitt/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/RoryNesbitt",
                "id": 33930918,
                "login": "RoryNesbitt",
                "node_id": "MDQ6VXNlcjMzOTMwOTE4",
                "organizations_url": "https://api.github.com/users/RoryNesbitt/orgs",
                "received_events_url": "https://api.github.com/users/RoryNesbitt/received_events",
                "repos_url": "https://api.github.com/users/RoryNesbitt/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/RoryNesbitt/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/RoryNesbitt/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/RoryNesbitt"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25233#discussion_r1334349483"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25233"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334349483"
                }
            },
            "author_association": "MEMBER",
            "body": "NVIM_APPNAME is a completely controllable value, there's no reason we need to support weird cases. Better for the logic to be simpler where possible. Names and paths with \"..\" just aren't supported.",
            "commit_id": "79d8a2b3ef2c0299e81879e9bccf54b3ca013063",
            "created_at": "2023-09-22T13:00:44Z",
            "diff_hunk": "@@ -69,13 +69,19 @@ const char *get_appname(void)\n   return env_val;\n }\n \n-/// Ensure that APPNAME is valid. In particular, it cannot contain directory separators.\n+// Ensure that APPNAME is valid. In particular, it cannot contain .. surrounded\n+// by path separators, the start of the string, or the end of the string.\n bool appname_is_valid(void)\n {\n   const char *appname = get_appname();\n   const size_t appname_len = strlen(appname);\n+  if (path_is_absolute(appname)) {\n+    return false;\n+  }\n   for (size_t i = 0; i < appname_len; i++) {\n-    if (appname[i] == PATHSEP) {\n+    if (appname[i] == '.' && appname[i + 1] == '.'\n+        && (i == 0 || appname[i - 1] == PATHSEP)\n+        && (appname[i + 2] == '\\0' || appname[i + 2] == PATHSEP)) {\n       return false;",
            "html_url": "https://github.com/neovim/neovim/pull/25233#discussion_r1334349483",
            "id": 1334349483,
            "in_reply_to_id": 1334328829,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5PiI6r",
            "original_commit_id": "f82aeb8c54d901412b57f901d600b85fbc9b4ae4",
            "original_line": 84,
            "original_position": 19,
            "original_start_line": null,
            "path": "src/nvim/os/stdpaths.c",
            "position": null,
            "pull_request_review_id": 1639909211,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25233",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334349483/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-09-22T13:45:05Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334349483",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25233#discussion_r1334354933"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25233"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334354933"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "I'm not sure how to word the check but I've moved it into place",
            "commit_id": "79d8a2b3ef2c0299e81879e9bccf54b3ca013063",
            "created_at": "2023-09-22T13:05:35Z",
            "diff_hunk": "@@ -914,3 +929,14 @@ describe('stdpath()', function()\n     end)\n   end)\n end)\n+\n+describe('tempname()', function()\n+  describe('returns a string', function()",
            "html_url": "https://github.com/neovim/neovim/pull/25233#discussion_r1334354933",
            "id": 1334354933,
            "in_reply_to_id": 1334332135,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5PiKP1",
            "original_commit_id": "f82aeb8c54d901412b57f901d600b85fbc9b4ae4",
            "original_line": 934,
            "original_position": 36,
            "original_start_line": null,
            "path": "test/functional/options/defaults_spec.lua",
            "position": null,
            "pull_request_review_id": 1639917737,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25233",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334354933/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-09-22T13:05:35Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334354933",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33930918?v=4",
                "events_url": "https://api.github.com/users/RoryNesbitt/events{/privacy}",
                "followers_url": "https://api.github.com/users/RoryNesbitt/followers",
                "following_url": "https://api.github.com/users/RoryNesbitt/following{/other_user}",
                "gists_url": "https://api.github.com/users/RoryNesbitt/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/RoryNesbitt",
                "id": 33930918,
                "login": "RoryNesbitt",
                "node_id": "MDQ6VXNlcjMzOTMwOTE4",
                "organizations_url": "https://api.github.com/users/RoryNesbitt/orgs",
                "received_events_url": "https://api.github.com/users/RoryNesbitt/received_events",
                "repos_url": "https://api.github.com/users/RoryNesbitt/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/RoryNesbitt/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/RoryNesbitt/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/RoryNesbitt"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25233#discussion_r1334439127"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25233"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334439127"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "Took me way too long to realise I could use PATHSEPSTR to make this just work.\r\n\r\nI also added a check for APPNAME == \".\" I feel that would break things",
            "commit_id": "79d8a2b3ef2c0299e81879e9bccf54b3ca013063",
            "created_at": "2023-09-22T14:12:20Z",
            "diff_hunk": "@@ -69,13 +69,19 @@ const char *get_appname(void)\n   return env_val;\n }\n \n-/// Ensure that APPNAME is valid. In particular, it cannot contain directory separators.\n+// Ensure that APPNAME is valid. In particular, it cannot contain .. surrounded\n+// by path separators, the start of the string, or the end of the string.\n bool appname_is_valid(void)\n {\n   const char *appname = get_appname();\n   const size_t appname_len = strlen(appname);\n+  if (path_is_absolute(appname)) {\n+    return false;\n+  }\n   for (size_t i = 0; i < appname_len; i++) {\n-    if (appname[i] == PATHSEP) {\n+    if (appname[i] == '.' && appname[i + 1] == '.'\n+        && (i == 0 || appname[i - 1] == PATHSEP)\n+        && (appname[i + 2] == '\\0' || appname[i + 2] == PATHSEP)) {\n       return false;",
            "html_url": "https://github.com/neovim/neovim/pull/25233#discussion_r1334439127",
            "id": 1334439127,
            "in_reply_to_id": 1334328829,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5PiezX",
            "original_commit_id": "f82aeb8c54d901412b57f901d600b85fbc9b4ae4",
            "original_line": 84,
            "original_position": 19,
            "original_start_line": null,
            "path": "src/nvim/os/stdpaths.c",
            "position": null,
            "pull_request_review_id": 1640049720,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25233",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334439127/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-09-22T14:12:20Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334439127",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33930918?v=4",
                "events_url": "https://api.github.com/users/RoryNesbitt/events{/privacy}",
                "followers_url": "https://api.github.com/users/RoryNesbitt/followers",
                "following_url": "https://api.github.com/users/RoryNesbitt/following{/other_user}",
                "gists_url": "https://api.github.com/users/RoryNesbitt/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/RoryNesbitt",
                "id": 33930918,
                "login": "RoryNesbitt",
                "node_id": "MDQ6VXNlcjMzOTMwOTE4",
                "organizations_url": "https://api.github.com/users/RoryNesbitt/orgs",
                "received_events_url": "https://api.github.com/users/RoryNesbitt/received_events",
                "repos_url": "https://api.github.com/users/RoryNesbitt/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/RoryNesbitt/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/RoryNesbitt/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/RoryNesbitt"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25233#discussion_r1334469966"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25233"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334469966"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n    // Replace slashes, in case appname is a relative path.\r\n```",
            "commit_id": "79d8a2b3ef2c0299e81879e9bccf54b3ca013063",
            "created_at": "2023-09-22T14:36:28Z",
            "diff_hunk": "@@ -3309,7 +3309,13 @@ static void vim_mktempdir(void)\n     // \"/tmp/\" exists, now try to create \"/tmp/nvim.<user>/\".\n     add_pathsep(tmp);\n \n-    const char *appname = get_appname();\n+    // Make a copy of the appname to avoid modifying it\n+    char appname[40] = { 0 };\n+    xstrlcpy(appname, get_appname(), sizeof(appname));\n+    // Substitute slashes in appname with underscores",
            "html_url": "https://github.com/neovim/neovim/pull/25233#discussion_r1334469966",
            "id": 1334469966,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5PimVO",
            "original_commit_id": "64bd22a71950ac8d20bbae6aa3997590f21f167b",
            "original_line": 3315,
            "original_position": 8,
            "original_start_line": null,
            "path": "src/nvim/fileio.c",
            "position": null,
            "pull_request_review_id": 1640098962,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25233",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334469966/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-09-22T14:36:29Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334469966",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25233#discussion_r1334470698"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25233"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334470698"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n/// Ensure that APPNAME is valid. Must be a name or relative path.\r\n```",
            "commit_id": "79d8a2b3ef2c0299e81879e9bccf54b3ca013063",
            "created_at": "2023-09-22T14:37:05Z",
            "diff_hunk": "@@ -69,15 +69,16 @@ const char *get_appname(void)\n   return env_val;\n }\n \n-/// Ensure that APPNAME is valid. In particular, it cannot contain directory separators.\n+// Ensure that APPNAME is valid. Must be a name or relative path.",
            "html_url": "https://github.com/neovim/neovim/pull/25233#discussion_r1334470698",
            "id": 1334470698,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5Pimgq",
            "original_commit_id": "64bd22a71950ac8d20bbae6aa3997590f21f167b",
            "original_line": 72,
            "original_position": 5,
            "original_start_line": null,
            "path": "src/nvim/os/stdpaths.c",
            "position": null,
            "pull_request_review_id": 1640100957,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25233",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334470698/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-09-22T14:37:05Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334470698",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25233#discussion_r1334472187"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25233"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334472187"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n      || strequal(appname, \".\")\r\n      || strequal(appname, \"..\")\r\n```",
            "commit_id": "79d8a2b3ef2c0299e81879e9bccf54b3ca013063",
            "created_at": "2023-09-22T14:38:03Z",
            "diff_hunk": "@@ -69,15 +69,16 @@ const char *get_appname(void)\n   return env_val;\n }\n \n-/// Ensure that APPNAME is valid. In particular, it cannot contain directory separators.\n+// Ensure that APPNAME is valid. Must be a name or relative path.\n bool appname_is_valid(void)\n {\n   const char *appname = get_appname();\n-  const size_t appname_len = strlen(appname);\n-  for (size_t i = 0; i < appname_len; i++) {\n-    if (appname[i] == PATHSEP) {\n-      return false;\n-    }\n+  if (path_is_absolute(appname)\n+      || strcmp(appname, \".\") == 0\n+      || strcmp(appname, \"..\") == 0",
            "html_url": "https://github.com/neovim/neovim/pull/25233#discussion_r1334472187",
            "id": 1334472187,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5Pim37",
            "original_commit_id": "64bd22a71950ac8d20bbae6aa3997590f21f167b",
            "original_line": 78,
            "original_position": 16,
            "original_start_line": 77,
            "path": "src/nvim/os/stdpaths.c",
            "position": null,
            "pull_request_review_id": 1640103356,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25233",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334472187/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2023-09-22T14:38:03Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334472187",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25233#discussion_r1334481459"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25233"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334481459"
                }
            },
            "author_association": "MEMBER",
            "body": "unfortunately this fails on windows bc of the way PATHSEPSTR is defined: https://github.com/neovim/neovim/blob/5ea5812714bcbeb6a5438c80d410984ad4fbb922/src/nvim/ascii.h#L81\r\n\r\nlet's just do this for now (both \"/\" and \"\\\\\" need to be checked on Windows, unless we \"normalize\" appname before this code is reached):\r\n\r\n```suggestion\r\n#ifdef BACKSLASH_IN_FILENAME\r\n      || strstr(appname, \"\\\\..\") != NULL\r\n      || strstr(appname, \"..\\\\\") != NULL)\r\n#endif\r\n      || strstr(appname, \"/..\") != NULL\r\n      || strstr(appname, \"/..\") != NULL) {\r\n```",
            "commit_id": "79d8a2b3ef2c0299e81879e9bccf54b3ca013063",
            "created_at": "2023-09-22T14:45:33Z",
            "diff_hunk": "@@ -69,15 +69,16 @@ const char *get_appname(void)\n   return env_val;\n }\n \n-/// Ensure that APPNAME is valid. In particular, it cannot contain directory separators.\n+// Ensure that APPNAME is valid. Must be a name or relative path.\n bool appname_is_valid(void)\n {\n   const char *appname = get_appname();\n-  const size_t appname_len = strlen(appname);\n-  for (size_t i = 0; i < appname_len; i++) {\n-    if (appname[i] == PATHSEP) {\n-      return false;\n-    }\n+  if (path_is_absolute(appname)\n+      || strcmp(appname, \".\") == 0\n+      || strcmp(appname, \"..\") == 0\n+      || strstr(appname, PATHSEPSTR\"..\") != NULL\n+      || strstr(appname, \"..\"PATHSEPSTR) != NULL) {",
            "html_url": "https://github.com/neovim/neovim/pull/25233#discussion_r1334481459",
            "id": 1334481459,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5PipIz",
            "original_commit_id": "64bd22a71950ac8d20bbae6aa3997590f21f167b",
            "original_line": 80,
            "original_position": 18,
            "original_start_line": 79,
            "path": "src/nvim/os/stdpaths.c",
            "position": null,
            "pull_request_review_id": 1640117307,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25233",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334481459/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2023-09-22T14:45:33Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334481459",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25233#discussion_r1334484101"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25233"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334484101"
                }
            },
            "author_association": "MEMBER",
            "body": "use `assert_alive()` after this, or ideally check for the actual value (the above test already has an approach to do that)",
            "commit_id": "79d8a2b3ef2c0299e81879e9bccf54b3ca013063",
            "created_at": "2023-09-22T14:47:38Z",
            "diff_hunk": "@@ -616,10 +616,33 @@ describe('stdpath()', function()\n \n     -- Check that Nvim rejects invalid APPNAMEs\n     -- Call jobstart() and jobwait() in the same RPC request to reduce flakiness.\n-    eq(1, exec_lua([[\n-      local child = vim.fn.jobstart({ vim.v.progpath }, { env = { NVIM_APPNAME = 'a/b\\\\c' } })\n-      return vim.fn.jobwait({ child }, 3000)[1]\n-    ]]))\n+    local function test_appname(testAppname, expectedExitCode)\n+      -- wait for less time if the expectation is success\n+      local waitTime = (expectedExitCode == -1) and 100 or 3000\n+      local lua_code = string.format([[\n+        local child = vim.fn.jobstart({ vim.v.progpath }, { env = { NVIM_APPNAME = %q } })\n+        return vim.fn.jobwait({ child }, %d)[1]\n+      ]], alter_slashes(testAppname), waitTime)\n+\n+      eq(expectedExitCode, exec_lua(lua_code))\n+    end\n+    -- APPNAMEs that should be rejected\n+    test_appname('a/../b', 1)\n+    test_appname('../a', 1)\n+    test_appname('a/..', 1)\n+    test_appname('..', 1)\n+    test_appname('.', 1)\n+    test_appname(is_os('win') and 'C:/a/b' or '/a/b', 1)\n+    -- APPNAMEs that should be accepted\n+    test_appname('a/b', -1)\n+    test_appname('a/b/c', -1)\n+  end)\n+\n+  it('tempname() succeeds when $NVIM_APPNAME is a path', function()\n+      clear({env={\n+        NVIM_APPNAME=alter_slashes('a/b'),\n+      }})\n+      funcs.tempname() -- should not crash",
            "html_url": "https://github.com/neovim/neovim/pull/25233#discussion_r1334484101",
            "id": 1334484101,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5PipyF",
            "original_commit_id": "64bd22a71950ac8d20bbae6aa3997590f21f167b",
            "original_line": 645,
            "original_position": 34,
            "original_start_line": null,
            "path": "test/functional/options/defaults_spec.lua",
            "position": null,
            "pull_request_review_id": 1640121239,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25233",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334484101/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-09-22T14:47:38Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334484101",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25233#discussion_r1334525960"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25233"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334525960"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "The thing that's throwing me with this is that my test gives it `/home/rory/Documents/projects/neovim/build/Xtest_tmpdir/a%b.rory/J4qGVP/0`\r\nIs there a variable for `Xtest_tmpdir` that I just can't find?",
            "commit_id": "79d8a2b3ef2c0299e81879e9bccf54b3ca013063",
            "created_at": "2023-09-22T15:21:04Z",
            "diff_hunk": "@@ -616,10 +616,33 @@ describe('stdpath()', function()\n \n     -- Check that Nvim rejects invalid APPNAMEs\n     -- Call jobstart() and jobwait() in the same RPC request to reduce flakiness.\n-    eq(1, exec_lua([[\n-      local child = vim.fn.jobstart({ vim.v.progpath }, { env = { NVIM_APPNAME = 'a/b\\\\c' } })\n-      return vim.fn.jobwait({ child }, 3000)[1]\n-    ]]))\n+    local function test_appname(testAppname, expectedExitCode)\n+      -- wait for less time if the expectation is success\n+      local waitTime = (expectedExitCode == -1) and 100 or 3000\n+      local lua_code = string.format([[\n+        local child = vim.fn.jobstart({ vim.v.progpath }, { env = { NVIM_APPNAME = %q } })\n+        return vim.fn.jobwait({ child }, %d)[1]\n+      ]], alter_slashes(testAppname), waitTime)\n+\n+      eq(expectedExitCode, exec_lua(lua_code))\n+    end\n+    -- APPNAMEs that should be rejected\n+    test_appname('a/../b', 1)\n+    test_appname('../a', 1)\n+    test_appname('a/..', 1)\n+    test_appname('..', 1)\n+    test_appname('.', 1)\n+    test_appname(is_os('win') and 'C:/a/b' or '/a/b', 1)\n+    -- APPNAMEs that should be accepted\n+    test_appname('a/b', -1)\n+    test_appname('a/b/c', -1)\n+  end)\n+\n+  it('tempname() succeeds when $NVIM_APPNAME is a path', function()\n+      clear({env={\n+        NVIM_APPNAME=alter_slashes('a/b'),\n+      }})\n+      funcs.tempname() -- should not crash",
            "html_url": "https://github.com/neovim/neovim/pull/25233#discussion_r1334525960",
            "id": 1334525960,
            "in_reply_to_id": 1334484101,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5Pi0AI",
            "original_commit_id": "64bd22a71950ac8d20bbae6aa3997590f21f167b",
            "original_line": 645,
            "original_position": 34,
            "original_start_line": null,
            "path": "test/functional/options/defaults_spec.lua",
            "position": null,
            "pull_request_review_id": 1640185517,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25233",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334525960/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-09-22T15:21:04Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334525960",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33930918?v=4",
                "events_url": "https://api.github.com/users/RoryNesbitt/events{/privacy}",
                "followers_url": "https://api.github.com/users/RoryNesbitt/followers",
                "following_url": "https://api.github.com/users/RoryNesbitt/following{/other_user}",
                "gists_url": "https://api.github.com/users/RoryNesbitt/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/RoryNesbitt",
                "id": 33930918,
                "login": "RoryNesbitt",
                "node_id": "MDQ6VXNlcjMzOTMwOTE4",
                "organizations_url": "https://api.github.com/users/RoryNesbitt/orgs",
                "received_events_url": "https://api.github.com/users/RoryNesbitt/received_events",
                "repos_url": "https://api.github.com/users/RoryNesbitt/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/RoryNesbitt/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/RoryNesbitt/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/RoryNesbitt"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25233#discussion_r1334557535"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25233"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334557535"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "Okay so I fixed that by setting `TMPDIR`, but setting `USER` did nothing, I for sure thought `USER` was the obvious one\r\nI'll try fix it in a bit",
            "commit_id": "79d8a2b3ef2c0299e81879e9bccf54b3ca013063",
            "created_at": "2023-09-22T15:49:38Z",
            "diff_hunk": "@@ -616,10 +616,33 @@ describe('stdpath()', function()\n \n     -- Check that Nvim rejects invalid APPNAMEs\n     -- Call jobstart() and jobwait() in the same RPC request to reduce flakiness.\n-    eq(1, exec_lua([[\n-      local child = vim.fn.jobstart({ vim.v.progpath }, { env = { NVIM_APPNAME = 'a/b\\\\c' } })\n-      return vim.fn.jobwait({ child }, 3000)[1]\n-    ]]))\n+    local function test_appname(testAppname, expectedExitCode)\n+      -- wait for less time if the expectation is success\n+      local waitTime = (expectedExitCode == -1) and 100 or 3000\n+      local lua_code = string.format([[\n+        local child = vim.fn.jobstart({ vim.v.progpath }, { env = { NVIM_APPNAME = %q } })\n+        return vim.fn.jobwait({ child }, %d)[1]\n+      ]], alter_slashes(testAppname), waitTime)\n+\n+      eq(expectedExitCode, exec_lua(lua_code))\n+    end\n+    -- APPNAMEs that should be rejected\n+    test_appname('a/../b', 1)\n+    test_appname('../a', 1)\n+    test_appname('a/..', 1)\n+    test_appname('..', 1)\n+    test_appname('.', 1)\n+    test_appname(is_os('win') and 'C:/a/b' or '/a/b', 1)\n+    -- APPNAMEs that should be accepted\n+    test_appname('a/b', -1)\n+    test_appname('a/b/c', -1)\n+  end)\n+\n+  it('tempname() succeeds when $NVIM_APPNAME is a path', function()\n+      clear({env={\n+        NVIM_APPNAME=alter_slashes('a/b'),\n+      }})\n+      funcs.tempname() -- should not crash",
            "html_url": "https://github.com/neovim/neovim/pull/25233#discussion_r1334557535",
            "id": 1334557535,
            "in_reply_to_id": 1334484101,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5Pi7tf",
            "original_commit_id": "64bd22a71950ac8d20bbae6aa3997590f21f167b",
            "original_line": 645,
            "original_position": 34,
            "original_start_line": null,
            "path": "test/functional/options/defaults_spec.lua",
            "position": null,
            "pull_request_review_id": 1640237161,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25233",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334557535/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2023-09-22T15:49:38Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334557535",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33930918?v=4",
                "events_url": "https://api.github.com/users/RoryNesbitt/events{/privacy}",
                "followers_url": "https://api.github.com/users/RoryNesbitt/followers",
                "following_url": "https://api.github.com/users/RoryNesbitt/following{/other_user}",
                "gists_url": "https://api.github.com/users/RoryNesbitt/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/RoryNesbitt",
                "id": 33930918,
                "login": "RoryNesbitt",
                "node_id": "MDQ6VXNlcjMzOTMwOTE4",
                "organizations_url": "https://api.github.com/users/RoryNesbitt/orgs",
                "received_events_url": "https://api.github.com/users/RoryNesbitt/received_events",
                "repos_url": "https://api.github.com/users/RoryNesbitt/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/RoryNesbitt/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/RoryNesbitt/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/RoryNesbitt"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25233#discussion_r1334657257"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25233"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334657257"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "This test works better than the previous, but I have to be honest I don't know if it's the best option, It's based on the surrounding tests",
            "commit_id": "503fc7c08de8f3710ec8e7620637f9a103121b2a",
            "created_at": "2023-09-22T17:32:02Z",
            "diff_hunk": "",
            "html_url": "https://github.com/neovim/neovim/pull/25233#discussion_r1334657257",
            "id": 1334657257,
            "line": 1,
            "node_id": "PRRC_kwDOAPphoM5PjUDp",
            "original_commit_id": "503fc7c08de8f3710ec8e7620637f9a103121b2a",
            "original_line": 1,
            "original_position": 1,
            "original_start_line": null,
            "path": "test/functional/core/fileio_spec.lua",
            "position": 1,
            "pull_request_review_id": 1640388965,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25233",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334657257/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "file",
            "updated_at": "2023-09-22T17:32:03Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334657257",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33930918?v=4",
                "events_url": "https://api.github.com/users/RoryNesbitt/events{/privacy}",
                "followers_url": "https://api.github.com/users/RoryNesbitt/followers",
                "following_url": "https://api.github.com/users/RoryNesbitt/following{/other_user}",
                "gists_url": "https://api.github.com/users/RoryNesbitt/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/RoryNesbitt",
                "id": 33930918,
                "login": "RoryNesbitt",
                "node_id": "MDQ6VXNlcjMzOTMwOTE4",
                "organizations_url": "https://api.github.com/users/RoryNesbitt/orgs",
                "received_events_url": "https://api.github.com/users/RoryNesbitt/received_events",
                "repos_url": "https://api.github.com/users/RoryNesbitt/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/RoryNesbitt/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/RoryNesbitt/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/RoryNesbitt"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/25233#discussion_r1334688232"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/25233"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334688232"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "I somehow put it in the wrong place when I rebased but the comment still remains",
            "commit_id": "503fc7c08de8f3710ec8e7620637f9a103121b2a",
            "created_at": "2023-09-22T18:08:35Z",
            "diff_hunk": "",
            "html_url": "https://github.com/neovim/neovim/pull/25233#discussion_r1334688232",
            "id": 1334688232,
            "in_reply_to_id": 1334657257,
            "line": 1,
            "node_id": "PRRC_kwDOAPphoM5Pjbno",
            "original_commit_id": "503fc7c08de8f3710ec8e7620637f9a103121b2a",
            "original_line": 1,
            "original_position": 1,
            "original_start_line": null,
            "path": "test/functional/core/fileio_spec.lua",
            "position": 1,
            "pull_request_review_id": 1640436280,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/25233",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334688232/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "file",
            "updated_at": "2023-09-22T18:08:35Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1334688232",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33930918?v=4",
                "events_url": "https://api.github.com/users/RoryNesbitt/events{/privacy}",
                "followers_url": "https://api.github.com/users/RoryNesbitt/followers",
                "following_url": "https://api.github.com/users/RoryNesbitt/following{/other_user}",
                "gists_url": "https://api.github.com/users/RoryNesbitt/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/RoryNesbitt",
                "id": 33930918,
                "login": "RoryNesbitt",
                "node_id": "MDQ6VXNlcjMzOTMwOTE4",
                "organizations_url": "https://api.github.com/users/RoryNesbitt/orgs",
                "received_events_url": "https://api.github.com/users/RoryNesbitt/received_events",
                "repos_url": "https://api.github.com/users/RoryNesbitt/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/RoryNesbitt/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/RoryNesbitt/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/RoryNesbitt"
            }
        }
    ],
    "comment_regular_data": [
        {
            "author_association": "CONTRIBUTOR",
            "body": "The new appname check looks for the equivalent of`/../`, `^../`, or `/..$`     (or `\\\\`)\r\nThis means that if someone for whatever reason has .. in the middle of a valid filename then that will still work, it will only get blocked when it is being used to mean parent directory.\r\n\r\nThis should mean that `XDG_xx` variables are still correctly made use of, but still allow for subdirectories. In which case are the other two changes still required?",
            "created_at": "2023-09-19T17:29:18Z",
            "html_url": "https://github.com/neovim/neovim/pull/25233#issuecomment-1726191161",
            "id": 1726191161,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/25233",
            "node_id": "IC_kwDOAPphoM5m45Y5",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1726191161/reactions"
            },
            "updated_at": "2023-09-19T17:29:18Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1726191161",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33930918?v=4",
                "events_url": "https://api.github.com/users/RoryNesbitt/events{/privacy}",
                "followers_url": "https://api.github.com/users/RoryNesbitt/followers",
                "following_url": "https://api.github.com/users/RoryNesbitt/following{/other_user}",
                "gists_url": "https://api.github.com/users/RoryNesbitt/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/RoryNesbitt",
                "id": 33930918,
                "login": "RoryNesbitt",
                "node_id": "MDQ6VXNlcjMzOTMwOTE4",
                "organizations_url": "https://api.github.com/users/RoryNesbitt/orgs",
                "received_events_url": "https://api.github.com/users/RoryNesbitt/received_events",
                "repos_url": "https://api.github.com/users/RoryNesbitt/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/RoryNesbitt/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/RoryNesbitt/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/RoryNesbitt"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Please always say clearly what problem is being solved, and give an example. \r\n\r\nThe first obvious question is, if `NVIM_APPNAME=$HOME/t` then what are `stdpath('config')` and `stdpath('cache')` expected to return? \r\n\r\n> In which case are the other two changes still required?\r\n\r\nre \"updated stdpath logic in various places\": for example, `stdpath('config')` and `stdpath('cache')` are currently assumed (correctly) to be separate directories. But if `NVIM_APPNAME` can be set to an absolute path then that falls apart. Neither Nvim nor plugins can reason about \"the cache directory\" if it's the same directory as \"the config directory\". \r\n\r\n### Other notes:\r\n\r\n- > The new appname check looks for the equivalent of`/../`, \r\n    - Instead of checking for \"..\" literally, can the path be resolved to an unambiguous, absolute path (which is then compared with the umabiguous, absolute form of CWD or its parent)? That should be more robust. Though I don't remember if we have a robust \"normalize\" function internally, yet.\r\n- If this PR ends up being viable then it would need tests, e.g. the [discussion](https://github.com/neovim/neovim/discussions/24954#discussioncomment-6870419) mentions `tempname()`.",
            "created_at": "2023-09-19T19:42:20Z",
            "html_url": "https://github.com/neovim/neovim/pull/25233#issuecomment-1726368121",
            "id": 1726368121,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/25233",
            "node_id": "IC_kwDOAPphoM5m5kl5",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 2,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 2,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1726368121/reactions"
            },
            "updated_at": "2023-09-19T19:43:57Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1726368121",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> Please always say clearly what problem is being solved, and give an example.\r\n\r\nI've updated the original comment\r\n\r\n> The first obvious question is, if `NVIM_APPNAME=$HOME/t` then what are `stdpath('config')` and `stdpath('cache')` expected to return?\r\n\r\nThis is an interesting question and not something I was planning to support here. The idea behind checking for `..` is that it has to remain a subdirectory of the normal `stdpath('config')` and `stdpath('cache')` etc\r\nI suppose the extension of this logic is to also make sure the appname doesn't start with a path separator, `$HOME/t` would become `/home/user/t` and therefore the initial `/` would throw the error.\r\n\r\n> re \"updated stdpath logic in various places\": for example, `stdpath('config')` and `stdpath('cache')` are currently assumed (correctly) to be separate directories. But if `NVIM_APPNAME` can be set to an absolute path then that falls apart. Neither Nvim nor plugins can reason about \"the cache directory\" if it's the same directory as \"the config directory\".\r\n\r\nAgain, this is not the intention of this pr\r\n\r\n\r\n>  * Instead of checking for \"..\" literally, can the path be resolved to an unambiguous, absolute path (which is then compared with the umabiguous, absolute form of CWD or its parent)? That should be more robust. Though I don't remember if we have a robust \"normalize\" function internally, yet.\r\n\r\nIt was suggested to me that I make use of realpath to check the actual location of the directory. Although this would mean symlinks to strange places would not work and my personal opinion on that is if the user is symlinking they probably have a reason for it (like gnu stow). So my check deliberately stuck to the idea of \"what does the string look like\" not \"where does the resulting directory rest\".\r\nI am of course open to differing opinions from the more wise\r\n\r\n> * If this PR ends up being viable then it would need tests, e.g. the [discussion](https://github.com/neovim/neovim/discussions/24954#discussioncomment-6870419) mentions `tempname()`.\r\n\r\nI shall make sure to add tests. `tempname()` should be the only thing really effected,,I think",
            "created_at": "2023-09-19T20:20:01Z",
            "html_url": "https://github.com/neovim/neovim/pull/25233#issuecomment-1726412960",
            "id": 1726412960,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/25233",
            "node_id": "IC_kwDOAPphoM5m5vig",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1726412960/reactions"
            },
            "updated_at": "2023-09-19T20:20:01Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1726412960",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33930918?v=4",
                "events_url": "https://api.github.com/users/RoryNesbitt/events{/privacy}",
                "followers_url": "https://api.github.com/users/RoryNesbitt/followers",
                "following_url": "https://api.github.com/users/RoryNesbitt/following{/other_user}",
                "gists_url": "https://api.github.com/users/RoryNesbitt/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/RoryNesbitt",
                "id": 33930918,
                "login": "RoryNesbitt",
                "node_id": "MDQ6VXNlcjMzOTMwOTE4",
                "organizations_url": "https://api.github.com/users/RoryNesbitt/orgs",
                "received_events_url": "https://api.github.com/users/RoryNesbitt/received_events",
                "repos_url": "https://api.github.com/users/RoryNesbitt/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/RoryNesbitt/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/RoryNesbitt/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/RoryNesbitt"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> The first obvious question is, if NVIM_APPNAME=$HOME/t then what are stdpath('config') and stdpath('cache') expected to return?\r\n\r\nAfter some testing I don't think this is actually a problem (although I would still block it because it could cause confusion).\r\n\r\nWhen I set the appname to this I don't get anything put in `/home/rory/t` I get `/home/rory/.local/state/home/rory/t` etc.\r\nI am inferring from this that an absolute path is never actually possible and since linux treats `//` like `/` it will \"just work\". But I would not expect it to just work on windows, in fact I don't even know if the check I added would work on windows",
            "created_at": "2023-09-19T20:52:38Z",
            "html_url": "https://github.com/neovim/neovim/pull/25233#issuecomment-1726450415",
            "id": 1726450415,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/25233",
            "node_id": "IC_kwDOAPphoM5m54rv",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1726450415/reactions"
            },
            "updated_at": "2023-09-19T20:52:38Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1726450415",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33930918?v=4",
                "events_url": "https://api.github.com/users/RoryNesbitt/events{/privacy}",
                "followers_url": "https://api.github.com/users/RoryNesbitt/followers",
                "following_url": "https://api.github.com/users/RoryNesbitt/following{/other_user}",
                "gists_url": "https://api.github.com/users/RoryNesbitt/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/RoryNesbitt",
                "id": 33930918,
                "login": "RoryNesbitt",
                "node_id": "MDQ6VXNlcjMzOTMwOTE4",
                "organizations_url": "https://api.github.com/users/RoryNesbitt/orgs",
                "received_events_url": "https://api.github.com/users/RoryNesbitt/received_events",
                "repos_url": "https://api.github.com/users/RoryNesbitt/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/RoryNesbitt/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/RoryNesbitt/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/RoryNesbitt"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "I'm not entirely sure if that's the best way to do the tests, I based them on the one that was already there.\r\n~~Also the old test suggests that `\\\\` should be read as a `PATHSEP` but I'm assuming that would only be windows? in which case maybe I should seperate the tests with `if is_os('win') then` and test for both `/` and `\\\\` options~~ I have discovered `alter_slashes()`, the tests make more sense now",
            "created_at": "2023-09-21T16:08:51Z",
            "html_url": "https://github.com/neovim/neovim/pull/25233#issuecomment-1729884286",
            "id": 1729884286,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/25233",
            "node_id": "IC_kwDOAPphoM5nG_B-",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1729884286/reactions"
            },
            "updated_at": "2023-09-21T18:13:18Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1729884286",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33930918?v=4",
                "events_url": "https://api.github.com/users/RoryNesbitt/events{/privacy}",
                "followers_url": "https://api.github.com/users/RoryNesbitt/followers",
                "following_url": "https://api.github.com/users/RoryNesbitt/following{/other_user}",
                "gists_url": "https://api.github.com/users/RoryNesbitt/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/RoryNesbitt",
                "id": 33930918,
                "login": "RoryNesbitt",
                "node_id": "MDQ6VXNlcjMzOTMwOTE4",
                "organizations_url": "https://api.github.com/users/RoryNesbitt/orgs",
                "received_events_url": "https://api.github.com/users/RoryNesbitt/received_events",
                "repos_url": "https://api.github.com/users/RoryNesbitt/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/RoryNesbitt/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/RoryNesbitt/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/RoryNesbitt"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Hey @justinmk , I think I've addressed all your issues, would appreciate another look when you get the time.\r\n\r\nThings I'm anticipating, but I'm not sure about:\r\n- Move the updated test that makes sure incorrect appnames are ignored to a separate test, rather than the one it was in before when it was a simpler check? If so where would you want it?\r\n- rebase the commits to be shorter, or would you squash them all together? Maybe something like:\r\n```\r\nfix(tempname): substitute PATHSEP for '_' in directory name\r\nfeat(NVIM_APPNAME): allow relative paths\r\ntest(options/defaults_spec): add tests for NVIM_APPNAME as a path\r\n```\r\n- as per the ci checks, would you want something about this in news?\r\n- `local waitTime = (expectedExitCode == -1) and 100 or 3000` This works, but do we actually care about wasting time in tests?",
            "created_at": "2023-09-21T18:23:32Z",
            "html_url": "https://github.com/neovim/neovim/pull/25233#issuecomment-1730087270",
            "id": 1730087270,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/25233",
            "node_id": "IC_kwDOAPphoM5nHwlm",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1730087270/reactions"
            },
            "updated_at": "2023-09-21T18:40:11Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1730087270",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33930918?v=4",
                "events_url": "https://api.github.com/users/RoryNesbitt/events{/privacy}",
                "followers_url": "https://api.github.com/users/RoryNesbitt/followers",
                "following_url": "https://api.github.com/users/RoryNesbitt/following{/other_user}",
                "gists_url": "https://api.github.com/users/RoryNesbitt/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/RoryNesbitt",
                "id": 33930918,
                "login": "RoryNesbitt",
                "node_id": "MDQ6VXNlcjMzOTMwOTE4",
                "organizations_url": "https://api.github.com/users/RoryNesbitt/orgs",
                "received_events_url": "https://api.github.com/users/RoryNesbitt/received_events",
                "repos_url": "https://api.github.com/users/RoryNesbitt/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/RoryNesbitt/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/RoryNesbitt/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/RoryNesbitt"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> as per the ci checks, would you want something about this in news?\r\n\r\nyes. also `:help NVIM_APPNAME` will need to say \"must be a name or relative path\"\r\n\r\n> local waitTime = (expectedExitCode == -1) and 100 or 3000 This works, but do we actually care about wasting time in tests?\r\n\r\ntest time matters very much, we'll need to find a better approach",
            "created_at": "2023-09-21T20:02:51Z",
            "html_url": "https://github.com/neovim/neovim/pull/25233#issuecomment-1730221682",
            "id": 1730221682,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/25233",
            "node_id": "IC_kwDOAPphoM5nIRZy",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1730221682/reactions"
            },
            "updated_at": "2023-09-21T20:02:51Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1730221682",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "> yes. also `:help NVIM_APPNAME` will need to say \"must be a name or relative path\"\r\n\r\nAdded both these things\r\n\r\n> test time matters very much, we'll need to find a better approach\r\n\r\nThe idea behind that line of code was that if we expect nvim to error with that appname set then it would happen very quickly anyway, and 3000 was the timeout used on the previous check incase it didn't. However, if we expect nvim to accept the appname then we will always be waiting for the timeout to occur, so I made it much shorter. \r\nI fear to say \"it works on my machine\" but an alternative option is to keep the timeout always at 100. My tests still get the correct results with that set\r\n",
            "created_at": "2023-09-21T20:38:34Z",
            "html_url": "https://github.com/neovim/neovim/pull/25233#issuecomment-1730264821",
            "id": 1730264821,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/25233",
            "node_id": "IC_kwDOAPphoM5nIb71",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1730264821/reactions"
            },
            "updated_at": "2023-09-21T20:38:34Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1730264821",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33930918?v=4",
                "events_url": "https://api.github.com/users/RoryNesbitt/events{/privacy}",
                "followers_url": "https://api.github.com/users/RoryNesbitt/followers",
                "following_url": "https://api.github.com/users/RoryNesbitt/following{/other_user}",
                "gists_url": "https://api.github.com/users/RoryNesbitt/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/RoryNesbitt",
                "id": 33930918,
                "login": "RoryNesbitt",
                "node_id": "MDQ6VXNlcjMzOTMwOTE4",
                "organizations_url": "https://api.github.com/users/RoryNesbitt/orgs",
                "received_events_url": "https://api.github.com/users/RoryNesbitt/received_events",
                "repos_url": "https://api.github.com/users/RoryNesbitt/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/RoryNesbitt/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/RoryNesbitt/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/RoryNesbitt"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "I done the rebase to appease the commit linter. Hope that's chill :smile: ",
            "created_at": "2023-09-21T23:09:09Z",
            "html_url": "https://github.com/neovim/neovim/pull/25233#issuecomment-1730470019",
            "id": 1730470019,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/25233",
            "node_id": "IC_kwDOAPphoM5nJOCD",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1730470019/reactions"
            },
            "updated_at": "2023-09-21T23:09:09Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1730470019",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33930918?v=4",
                "events_url": "https://api.github.com/users/RoryNesbitt/events{/privacy}",
                "followers_url": "https://api.github.com/users/RoryNesbitt/followers",
                "following_url": "https://api.github.com/users/RoryNesbitt/following{/other_user}",
                "gists_url": "https://api.github.com/users/RoryNesbitt/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/RoryNesbitt",
                "id": 33930918,
                "login": "RoryNesbitt",
                "node_id": "MDQ6VXNlcjMzOTMwOTE4",
                "organizations_url": "https://api.github.com/users/RoryNesbitt/orgs",
                "received_events_url": "https://api.github.com/users/RoryNesbitt/received_events",
                "repos_url": "https://api.github.com/users/RoryNesbitt/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/RoryNesbitt/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/RoryNesbitt/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/RoryNesbitt"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Hey @justinmk , hope you had a good weekend 😊 \n\nI think, if you're happy with the new test, that this is ready to merge, would appreciate your opinion on that.\n\nI've also tested the substitution change further up on a different branch (`_` to `%` for the username), and all the tests came back successful.\nI don't think there's a need in PRing that one, though, since it's literally changing 2 characters only, unless you want another test added to cover that too",
            "created_at": "2023-09-25T19:04:14Z",
            "html_url": "https://github.com/neovim/neovim/pull/25233#issuecomment-1734308598",
            "id": 1734308598,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/25233",
            "node_id": "IC_kwDOAPphoM5nX3L2",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1734308598/reactions"
            },
            "updated_at": "2023-09-25T19:14:49Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1734308598",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33930918?v=4",
                "events_url": "https://api.github.com/users/RoryNesbitt/events{/privacy}",
                "followers_url": "https://api.github.com/users/RoryNesbitt/followers",
                "following_url": "https://api.github.com/users/RoryNesbitt/following{/other_user}",
                "gists_url": "https://api.github.com/users/RoryNesbitt/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/RoryNesbitt",
                "id": 33930918,
                "login": "RoryNesbitt",
                "node_id": "MDQ6VXNlcjMzOTMwOTE4",
                "organizations_url": "https://api.github.com/users/RoryNesbitt/orgs",
                "received_events_url": "https://api.github.com/users/RoryNesbitt/received_events",
                "repos_url": "https://api.github.com/users/RoryNesbitt/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/RoryNesbitt/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/RoryNesbitt/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/RoryNesbitt"
            }
        }
    ],
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/25233/comments",
    "commits_url": "https://api.github.com/repos/neovim/neovim/pulls/25233/commits",
    "created_at": "2023-09-18T17:12:53Z",
    "diff_url": "https://github.com/neovim/neovim/pull/25233.diff",
    "draft": false,
    "head": {
        "label": "RoryNesbitt:app-path",
        "ref": "app-path",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/RoryNesbitt/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/RoryNesbitt/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/RoryNesbitt/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/RoryNesbitt/neovim/branches{/branch}",
            "clone_url": "https://github.com/RoryNesbitt/neovim.git",
            "collaborators_url": "https://api.github.com/repos/RoryNesbitt/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/RoryNesbitt/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/RoryNesbitt/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/RoryNesbitt/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/RoryNesbitt/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/RoryNesbitt/neovim/contributors",
            "created_at": "2022-01-14T18:50:10Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/RoryNesbitt/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/RoryNesbitt/neovim/downloads",
            "events_url": "https://api.github.com/repos/RoryNesbitt/neovim/events",
            "fork": true,
            "forks": 0,
            "forks_count": 0,
            "forks_url": "https://api.github.com/repos/RoryNesbitt/neovim/forks",
            "full_name": "RoryNesbitt/neovim",
            "git_commits_url": "https://api.github.com/repos/RoryNesbitt/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/RoryNesbitt/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/RoryNesbitt/neovim/git/tags{/sha}",
            "git_url": "git://github.com/RoryNesbitt/neovim.git",
            "has_discussions": false,
            "has_downloads": true,
            "has_issues": false,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/RoryNesbitt/neovim/hooks",
            "html_url": "https://github.com/RoryNesbitt/neovim",
            "id": 448074688,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/RoryNesbitt/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/RoryNesbitt/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/RoryNesbitt/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/RoryNesbitt/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/RoryNesbitt/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/RoryNesbitt/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/RoryNesbitt/neovim/merges",
            "milestones_url": "https://api.github.com/repos/RoryNesbitt/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "R_kgDOGrUTwA",
            "notifications_url": "https://api.github.com/repos/RoryNesbitt/neovim/notifications{?since,all,participating}",
            "open_issues": 0,
            "open_issues_count": 0,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33930918?v=4",
                "events_url": "https://api.github.com/users/RoryNesbitt/events{/privacy}",
                "followers_url": "https://api.github.com/users/RoryNesbitt/followers",
                "following_url": "https://api.github.com/users/RoryNesbitt/following{/other_user}",
                "gists_url": "https://api.github.com/users/RoryNesbitt/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/RoryNesbitt",
                "id": 33930918,
                "login": "RoryNesbitt",
                "node_id": "MDQ6VXNlcjMzOTMwOTE4",
                "organizations_url": "https://api.github.com/users/RoryNesbitt/orgs",
                "received_events_url": "https://api.github.com/users/RoryNesbitt/received_events",
                "repos_url": "https://api.github.com/users/RoryNesbitt/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/RoryNesbitt/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/RoryNesbitt/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/RoryNesbitt"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/RoryNesbitt/neovim/pulls{/number}",
            "pushed_at": "2023-09-25T05:27:46Z",
            "releases_url": "https://api.github.com/repos/RoryNesbitt/neovim/releases{/id}",
            "size": 242911,
            "ssh_url": "git@github.com:RoryNesbitt/neovim.git",
            "stargazers_count": 0,
            "stargazers_url": "https://api.github.com/repos/RoryNesbitt/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/RoryNesbitt/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/RoryNesbitt/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/RoryNesbitt/neovim/subscription",
            "svn_url": "https://github.com/RoryNesbitt/neovim",
            "tags_url": "https://api.github.com/repos/RoryNesbitt/neovim/tags",
            "teams_url": "https://api.github.com/repos/RoryNesbitt/neovim/teams",
            "topics": [],
            "trees_url": "https://api.github.com/repos/RoryNesbitt/neovim/git/trees{/sha}",
            "updated_at": "2023-09-18T09:25:56Z",
            "url": "https://api.github.com/repos/RoryNesbitt/neovim",
            "visibility": "public",
            "watchers": 0,
            "watchers_count": 0,
            "web_commit_signoff_required": false
        },
        "sha": "79d8a2b3ef2c0299e81879e9bccf54b3ca013063",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/33930918?v=4",
            "events_url": "https://api.github.com/users/RoryNesbitt/events{/privacy}",
            "followers_url": "https://api.github.com/users/RoryNesbitt/followers",
            "following_url": "https://api.github.com/users/RoryNesbitt/following{/other_user}",
            "gists_url": "https://api.github.com/users/RoryNesbitt/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/RoryNesbitt",
            "id": 33930918,
            "login": "RoryNesbitt",
            "node_id": "MDQ6VXNlcjMzOTMwOTE4",
            "organizations_url": "https://api.github.com/users/RoryNesbitt/orgs",
            "received_events_url": "https://api.github.com/users/RoryNesbitt/received_events",
            "repos_url": "https://api.github.com/users/RoryNesbitt/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/RoryNesbitt/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/RoryNesbitt/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/RoryNesbitt"
        }
    },
    "html_url": "https://github.com/neovim/neovim/pull/25233",
    "id": 1519920451,
    "issue_url": "https://api.github.com/repos/neovim/neovim/issues/25233",
    "labels": [],
    "locked": false,
    "merge_commit_sha": "4ee0697518a4d2b2bc1836bda25b4235c42949d8",
    "merged_at": null,
    "milestone": null,
    "node_id": "PR_kwDOAPphoM5amCVD",
    "number": 25233,
    "patch_url": "https://github.com/neovim/neovim/pull/25233.patch",
    "requested_reviewers": [
        {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk"
        }
    ],
    "requested_teams": [],
    "review_comment_url": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}",
    "review_comments_url": "https://api.github.com/repos/neovim/neovim/pulls/25233/comments",
    "state": "open",
    "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/79d8a2b3ef2c0299e81879e9bccf54b3ca013063",
    "title": "Let NVIM_APPNAME be a path",
    "updated_at": "2023-09-25T19:14:49Z",
    "url": "https://api.github.com/repos/neovim/neovim/pulls/25233",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/33930918?v=4",
        "events_url": "https://api.github.com/users/RoryNesbitt/events{/privacy}",
        "followers_url": "https://api.github.com/users/RoryNesbitt/followers",
        "following_url": "https://api.github.com/users/RoryNesbitt/following{/other_user}",
        "gists_url": "https://api.github.com/users/RoryNesbitt/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/RoryNesbitt",
        "id": 33930918,
        "login": "RoryNesbitt",
        "node_id": "MDQ6VXNlcjMzOTMwOTE4",
        "organizations_url": "https://api.github.com/users/RoryNesbitt/orgs",
        "received_events_url": "https://api.github.com/users/RoryNesbitt/received_events",
        "repos_url": "https://api.github.com/users/RoryNesbitt/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/RoryNesbitt/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/RoryNesbitt/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/RoryNesbitt"
    }
}