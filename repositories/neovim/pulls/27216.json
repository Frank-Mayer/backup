{
    "_links": {
        "comments": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/27216/comments"
        },
        "commits": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/27216/commits"
        },
        "html": {
            "href": "https://github.com/neovim/neovim/pull/27216"
        },
        "issue": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/27216"
        },
        "review_comment": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}"
        },
        "review_comments": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/27216/comments"
        },
        "self": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/27216"
        },
        "statuses": {
            "href": "https://api.github.com/repos/neovim/neovim/statuses/79bea0199d836a10e5677592611da57d1e13ab40"
        }
    },
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "auto_merge": null,
    "base": {
        "label": "neovim:master",
        "ref": "master",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/neovim/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/neovim/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/neovim/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/neovim/neovim/branches{/branch}",
            "clone_url": "https://github.com/neovim/neovim.git",
            "collaborators_url": "https://api.github.com/repos/neovim/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/neovim/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/neovim/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/neovim/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/neovim/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/neovim/neovim/contributors",
            "created_at": "2014-01-31T13:39:22Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/neovim/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/neovim/neovim/downloads",
            "events_url": "https://api.github.com/repos/neovim/neovim/events",
            "fork": false,
            "forks": 5174,
            "forks_count": 5174,
            "forks_url": "https://api.github.com/repos/neovim/neovim/forks",
            "full_name": "neovim/neovim",
            "git_commits_url": "https://api.github.com/repos/neovim/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/neovim/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/neovim/neovim/git/tags{/sha}",
            "git_url": "git://github.com/neovim/neovim.git",
            "has_discussions": true,
            "has_downloads": true,
            "has_issues": true,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/neovim/neovim/hooks",
            "html_url": "https://github.com/neovim/neovim",
            "id": 16408992,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/neovim/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/neovim/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/neovim/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/neovim/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/neovim/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/neovim/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/neovim/neovim/merges",
            "milestones_url": "https://api.github.com/repos/neovim/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "MDEwOlJlcG9zaXRvcnkxNjQwODk5Mg==",
            "notifications_url": "https://api.github.com/repos/neovim/neovim/notifications{?since,all,participating}",
            "open_issues": 1735,
            "open_issues_count": 1735,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
                "events_url": "https://api.github.com/users/neovim/events{/privacy}",
                "followers_url": "https://api.github.com/users/neovim/followers",
                "following_url": "https://api.github.com/users/neovim/following{/other_user}",
                "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/neovim",
                "id": 6471485,
                "login": "neovim",
                "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
                "organizations_url": "https://api.github.com/users/neovim/orgs",
                "received_events_url": "https://api.github.com/users/neovim/received_events",
                "repos_url": "https://api.github.com/users/neovim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
                "type": "Organization",
                "url": "https://api.github.com/users/neovim"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/neovim/neovim/pulls{/number}",
            "pushed_at": "2024-01-30T00:09:25Z",
            "releases_url": "https://api.github.com/repos/neovim/neovim/releases{/id}",
            "size": 251558,
            "ssh_url": "git@github.com:neovim/neovim.git",
            "stargazers_count": 73268,
            "stargazers_url": "https://api.github.com/repos/neovim/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/neovim/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/neovim/neovim/subscription",
            "svn_url": "https://github.com/neovim/neovim",
            "tags_url": "https://api.github.com/repos/neovim/neovim/tags",
            "teams_url": "https://api.github.com/repos/neovim/neovim/teams",
            "topics": [
                "api",
                "c",
                "lua",
                "neovim",
                "nvim",
                "text-editor",
                "vim"
            ],
            "trees_url": "https://api.github.com/repos/neovim/neovim/git/trees{/sha}",
            "updated_at": "2024-01-30T01:30:36Z",
            "url": "https://api.github.com/repos/neovim/neovim",
            "visibility": "public",
            "watchers": 73268,
            "watchers_count": 73268,
            "web_commit_signoff_required": false
        },
        "sha": "be5cf338362244a944cdeebf07520f85d7d93226",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
            "events_url": "https://api.github.com/users/neovim/events{/privacy}",
            "followers_url": "https://api.github.com/users/neovim/followers",
            "following_url": "https://api.github.com/users/neovim/following{/other_user}",
            "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/neovim",
            "id": 6471485,
            "login": "neovim",
            "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
            "organizations_url": "https://api.github.com/users/neovim/orgs",
            "received_events_url": "https://api.github.com/users/neovim/received_events",
            "repos_url": "https://api.github.com/users/neovim/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
            "type": "Organization",
            "url": "https://api.github.com/users/neovim"
        }
    },
    "body": "The benefit of this is that users only pay for what they use. If e.g.\nonly `vim.lsp.buf_get_clients()` is called then they don't need to load\nall submodules under `vim.lsp` which could lead to significant\nstartuptime saving.\n\nAlso `vim.lsp.module` is a bit nicer to user compared to\n`require(\"vim.lsp.module\")`.",
    "closed_at": null,
    "comment_data": [
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/27216#discussion_r1467810282"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/27216"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1467810282"
                }
            },
            "author_association": "MEMBER",
            "body": "this block negates most of the effects of `_dunderload_submodules`. Is that intentional?",
            "commit_id": "79bea0199d836a10e5677592611da57d1e13ab40",
            "created_at": "2024-01-26T15:40:05Z",
            "diff_hunk": "@@ -16,24 +7,39 @@ local tbl_isempty, tbl_extend = vim.tbl_isempty, vim.tbl_extend\n local validate = vim.validate\n local if_nil = vim.F.if_nil\n \n-local lsp = {\n-  protocol = protocol,\n-\n-  handlers = default_handlers,\n+local submodules = {\n+  '_changetracking',\n+  '_completion',\n+  '_dynamic',\n+  'buf',\n+  'codelens',\n+  'diagnostic',\n+  'handlers',\n+  'inlay_hint',\n+  'log',\n+  'protocol',\n+  'rpc',\n+  'semantic_tokens',\n+  'tagfunc',\n+  'util',\n+}\n+local dundarload_submodules = vim._dundarload_submodules('vim.lsp', submodules)\n+local lsp = setmetatable({}, dundarload_submodules)\n \n-  buf = require('vim.lsp.buf'),\n-  diagnostic = require('vim.lsp.diagnostic'),\n-  codelens = require('vim.lsp.codelens'),\n-  inlay_hint = require('vim.lsp.inlay_hint'),\n-  semantic_tokens = semantic_tokens,\n-  util = util,\n+local default_handlers = lsp.handlers\n+local log = lsp.log\n+local lsp_rpc = lsp.rpc\n+local protocol = lsp.protocol\n+local ms = protocol.Methods\n+local util = lsp.util\n+local changetracking = lsp._changetracking\n+local semantic_tokens = lsp.semantic_tokens",
            "html_url": "https://github.com/neovim/neovim/pull/27216#discussion_r1467810282",
            "id": 1467810282,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5XfQHq",
            "original_commit_id": "884e69c8002bd9d71918c30a9b702caa142f2eb6",
            "original_line": 36,
            "original_position": 54,
            "original_start_line": 29,
            "path": "runtime/lua/vim/lsp.lua",
            "position": null,
            "pull_request_review_id": 1846003850,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/27216",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1467810282/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2024-01-26T15:40:05Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1467810282",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/27216#discussion_r1467814219"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/27216"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1467814219"
                }
            },
            "author_association": "MEMBER",
            "body": "Huh, you're absolutely right. I missed that. Thanks.",
            "commit_id": "79bea0199d836a10e5677592611da57d1e13ab40",
            "created_at": "2024-01-26T15:43:27Z",
            "diff_hunk": "@@ -16,24 +7,39 @@ local tbl_isempty, tbl_extend = vim.tbl_isempty, vim.tbl_extend\n local validate = vim.validate\n local if_nil = vim.F.if_nil\n \n-local lsp = {\n-  protocol = protocol,\n-\n-  handlers = default_handlers,\n+local submodules = {\n+  '_changetracking',\n+  '_completion',\n+  '_dynamic',\n+  'buf',\n+  'codelens',\n+  'diagnostic',\n+  'handlers',\n+  'inlay_hint',\n+  'log',\n+  'protocol',\n+  'rpc',\n+  'semantic_tokens',\n+  'tagfunc',\n+  'util',\n+}\n+local dundarload_submodules = vim._dundarload_submodules('vim.lsp', submodules)\n+local lsp = setmetatable({}, dundarload_submodules)\n \n-  buf = require('vim.lsp.buf'),\n-  diagnostic = require('vim.lsp.diagnostic'),\n-  codelens = require('vim.lsp.codelens'),\n-  inlay_hint = require('vim.lsp.inlay_hint'),\n-  semantic_tokens = semantic_tokens,\n-  util = util,\n+local default_handlers = lsp.handlers\n+local log = lsp.log\n+local lsp_rpc = lsp.rpc\n+local protocol = lsp.protocol\n+local ms = protocol.Methods\n+local util = lsp.util\n+local changetracking = lsp._changetracking\n+local semantic_tokens = lsp.semantic_tokens",
            "html_url": "https://github.com/neovim/neovim/pull/27216#discussion_r1467814219",
            "id": 1467814219,
            "in_reply_to_id": 1467810282,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5XfRFL",
            "original_commit_id": "884e69c8002bd9d71918c30a9b702caa142f2eb6",
            "original_line": 36,
            "original_position": 54,
            "original_start_line": 29,
            "path": "runtime/lua/vim/lsp.lua",
            "position": null,
            "pull_request_review_id": 1846010059,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/27216",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1467814219/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2024-01-26T15:43:27Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1467814219",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33953936?v=4",
                "events_url": "https://api.github.com/users/dundargoc/events{/privacy}",
                "followers_url": "https://api.github.com/users/dundargoc/followers",
                "following_url": "https://api.github.com/users/dundargoc/following{/other_user}",
                "gists_url": "https://api.github.com/users/dundargoc/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dundargoc",
                "id": 33953936,
                "login": "dundargoc",
                "node_id": "MDQ6VXNlcjMzOTUzOTM2",
                "organizations_url": "https://api.github.com/users/dundargoc/orgs",
                "received_events_url": "https://api.github.com/users/dundargoc/received_events",
                "repos_url": "https://api.github.com/users/dundargoc/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dundargoc/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dundargoc/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dundargoc"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/27216#discussion_r1467824231"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/27216"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1467824231"
                }
            },
            "author_association": "MEMBER",
            "body": "this looks sus",
            "commit_id": "79bea0199d836a10e5677592611da57d1e13ab40",
            "created_at": "2024-01-26T15:52:39Z",
            "diff_hunk": "@@ -16,24 +7,39 @@ local tbl_isempty, tbl_extend = vim.tbl_isempty, vim.tbl_extend\n local validate = vim.validate\n local if_nil = vim.F.if_nil\n \n-local lsp = {\n-  protocol = protocol,\n-\n-  handlers = default_handlers,\n+local submodules = {\n+  '_changetracking',\n+  '_completion',\n+  '_dynamic',\n+  'buf',\n+  'codelens',\n+  'diagnostic',\n+  'handlers',\n+  'inlay_hint',\n+  'log',\n+  'protocol',\n+  'rpc',\n+  'semantic_tokens',\n+  'tagfunc',\n+  'util',\n+}\n+local dundarload_submodules = vim._dundarload_submodules('vim.lsp', submodules)\n+local lsp = setmetatable({}, dundarload_submodules)\n \n-  buf = require('vim.lsp.buf'),\n-  diagnostic = require('vim.lsp.diagnostic'),\n-  codelens = require('vim.lsp.codelens'),\n-  inlay_hint = require('vim.lsp.inlay_hint'),\n-  semantic_tokens = semantic_tokens,\n-  util = util,\n+local default_handlers = lsp.handlers\n+local log = lsp.log\n+local lsp_rpc = lsp.rpc\n+local protocol = lsp.protocol\n+local ms = protocol.Methods\n+local util = lsp.util\n+local changetracking = lsp._changetracking\n+local semantic_tokens = lsp.semantic_tokens\n \n-  -- Allow raw RPC access.\n-  rpc = lsp_rpc,\n+-- Allow raw RPC access.\n+lsp.rpc = lsp_rpc",
            "html_url": "https://github.com/neovim/neovim/pull/27216#discussion_r1467824231",
            "id": 1467824231,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5XfThn",
            "original_commit_id": "884e69c8002bd9d71918c30a9b702caa142f2eb6",
            "original_line": 39,
            "original_position": 59,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp.lua",
            "position": null,
            "pull_request_review_id": 1846026111,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/27216",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1467824231/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-01-26T15:53:37Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1467824231",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/27216#discussion_r1467839010"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/27216"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1467839010"
                }
            },
            "author_association": "MEMBER",
            "body": "I've kept some of the more regular ones. Lemme know if you think I should dundarfy them as well.",
            "commit_id": "79bea0199d836a10e5677592611da57d1e13ab40",
            "created_at": "2024-01-26T16:05:26Z",
            "diff_hunk": "@@ -16,24 +7,39 @@ local tbl_isempty, tbl_extend = vim.tbl_isempty, vim.tbl_extend\n local validate = vim.validate\n local if_nil = vim.F.if_nil\n \n-local lsp = {\n-  protocol = protocol,\n-\n-  handlers = default_handlers,\n+local submodules = {\n+  '_changetracking',\n+  '_completion',\n+  '_dynamic',\n+  'buf',\n+  'codelens',\n+  'diagnostic',\n+  'handlers',\n+  'inlay_hint',\n+  'log',\n+  'protocol',\n+  'rpc',\n+  'semantic_tokens',\n+  'tagfunc',\n+  'util',\n+}\n+local dundarload_submodules = vim._dundarload_submodules('vim.lsp', submodules)\n+local lsp = setmetatable({}, dundarload_submodules)\n \n-  buf = require('vim.lsp.buf'),\n-  diagnostic = require('vim.lsp.diagnostic'),\n-  codelens = require('vim.lsp.codelens'),\n-  inlay_hint = require('vim.lsp.inlay_hint'),\n-  semantic_tokens = semantic_tokens,\n-  util = util,\n+local default_handlers = lsp.handlers\n+local log = lsp.log\n+local lsp_rpc = lsp.rpc\n+local protocol = lsp.protocol\n+local ms = protocol.Methods\n+local util = lsp.util\n+local changetracking = lsp._changetracking\n+local semantic_tokens = lsp.semantic_tokens",
            "html_url": "https://github.com/neovim/neovim/pull/27216#discussion_r1467839010",
            "id": 1467839010,
            "in_reply_to_id": 1467810282,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5XfXIi",
            "original_commit_id": "884e69c8002bd9d71918c30a9b702caa142f2eb6",
            "original_line": 36,
            "original_position": 54,
            "original_start_line": 29,
            "path": "runtime/lua/vim/lsp.lua",
            "position": null,
            "pull_request_review_id": 1846049128,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/27216",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1467839010/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2024-01-26T16:05:26Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1467839010",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33953936?v=4",
                "events_url": "https://api.github.com/users/dundargoc/events{/privacy}",
                "followers_url": "https://api.github.com/users/dundargoc/followers",
                "following_url": "https://api.github.com/users/dundargoc/following{/other_user}",
                "gists_url": "https://api.github.com/users/dundargoc/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dundargoc",
                "id": 33953936,
                "login": "dundargoc",
                "node_id": "MDQ6VXNlcjMzOTUzOTM2",
                "organizations_url": "https://api.github.com/users/dundargoc/orgs",
                "received_events_url": "https://api.github.com/users/dundargoc/received_events",
                "repos_url": "https://api.github.com/users/dundargoc/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dundargoc/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dundargoc/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dundargoc"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/27216#discussion_r1467896943"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/27216"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1467896943"
                }
            },
            "author_association": "MEMBER",
            "body": "We need this for all the submodules as this type information will propagate to other files.",
            "commit_id": "79bea0199d836a10e5677592611da57d1e13ab40",
            "created_at": "2024-01-26T16:58:12Z",
            "diff_hunk": "@@ -16,24 +7,41 @@ local tbl_isempty, tbl_extend = vim.tbl_isempty, vim.tbl_extend\n local validate = vim.validate\n local if_nil = vim.F.if_nil\n \n-local lsp = {\n-  protocol = protocol,\n-\n-  handlers = default_handlers,\n-\n-  buf = require('vim.lsp.buf'),\n-  diagnostic = require('vim.lsp.diagnostic'),\n-  codelens = require('vim.lsp.codelens'),\n-  inlay_hint = require('vim.lsp.inlay_hint'),\n-  semantic_tokens = semantic_tokens,\n-  util = util,\n-\n-  -- Allow raw RPC access.\n-  rpc = lsp_rpc,\n-\n-  -- Export these directly from rpc.\n-  rpc_response_error = lsp_rpc.rpc_response_error,\n+local submodules = {\n+  '_changetracking',\n+  '_completion',\n+  '_dynamic',\n+  'buf',\n+  'codelens',\n+  'diagnostic',\n+  'handlers',\n+  'inlay_hint',\n+  'log',\n+  'protocol',\n+  'rpc',\n+  'semantic_tokens',\n+  'tagfunc',\n+  'util',\n }\n+local dundarload_submodules = vim._dundarload_submodules('vim.lsp', submodules)\n+local lsp = setmetatable({}, dundarload_submodules)\n+\n+lsp._changetracking = nil --- @module 'vim.lsp._changetracking'\n+lsp._completion = nil --- @module 'vim.lsp._completion'\n+lsp.util = nil --- @module 'vim.lsp.util'\n+lsp.log = nil --- @module 'vim.lsp.log'\n+lsp.protocol = nil --- @module 'vim.lsp.protocol'\n+lsp.rpc = nil --- @module 'vim.lsp.rpc'\n+lsp.diagnostic = nil --- @module 'vim.lsp.diagnostic'",
            "html_url": "https://github.com/neovim/neovim/pull/27216#discussion_r1467896943",
            "id": 1467896943,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5XflRv",
            "original_commit_id": "a6cea59db31eedfd0b8cd29d08b9ed479e3c9997",
            "original_line": 35,
            "original_position": 60,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp.lua",
            "position": null,
            "pull_request_review_id": 1846140239,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/27216",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1467896943/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-01-26T16:58:12Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1467896943",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/27216#discussion_r1467906173"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/27216"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1467906173"
                }
            },
            "author_association": "MEMBER",
            "body": "What do you think if we mangled this to something like:\r\n\r\n```lua\r\n--- @generic T\r\n--- @param root string\r\n--- @param _mod T\r\n--- @return T\r\nlocal function dundarload_modules(root, _mod)\r\n  return setmetatable({}, {\r\n    __index = function(t, k)\r\n      t[k] = require(string.format('%s.%s', root, k))\r\n      return t[k]\r\n    end\r\n  })\r\nend\r\n\r\nlocal lsp = dundarload_modules('vim.lsp', {\r\n  _changetracking = ..., --- @module 'vim.lsp._changetracking'\r\n  _completion = ..., --- @module 'vim.lsp._completion'\r\n  _dynamic = ..., --- @module 'vim.lsp._dynamic'\r\n  buf = ..., --- @module 'vim.lsp.buf'\r\n  codelens = ..., --- @module 'vim.lsp.codelens'\r\n  diagnostic = ..., --- @module 'vim.lsp.diagnostic'\r\n  handlers = ..., --- @module 'vim.lsp.handlers'\r\n  inlay_hint = ..., --- @module 'vim.lsp.inlay_hint'\r\n  log = ..., --- @module 'vim.lsp.log'\r\n  protocol = ..., --- @module 'vim.lsp.protocol'\r\n  rpc = ..., --- @module 'vim.lsp.rpc'\r\n  semantic_tokens = ..., --- @module 'vim.lsp.semantic_tokens'\r\n  tagfunc = ..., --- @module 'vim.lsp.tagfunc'\r\n  util = ... --- @module 'vim.lsp.util'\r\n})\r\n```\r\n\r\nor is that going too far?\r\n\r\n",
            "commit_id": "79bea0199d836a10e5677592611da57d1e13ab40",
            "created_at": "2024-01-26T17:07:38Z",
            "diff_hunk": "@@ -16,24 +7,48 @@ local tbl_isempty, tbl_extend = vim.tbl_isempty, vim.tbl_extend\n local validate = vim.validate\n local if_nil = vim.F.if_nil\n \n-local lsp = {\n-  protocol = protocol,\n-\n-  handlers = default_handlers,\n-\n-  buf = require('vim.lsp.buf'),\n-  diagnostic = require('vim.lsp.diagnostic'),\n-  codelens = require('vim.lsp.codelens'),\n-  inlay_hint = require('vim.lsp.inlay_hint'),\n-  semantic_tokens = semantic_tokens,\n-  util = util,\n-\n-  -- Allow raw RPC access.\n-  rpc = lsp_rpc,\n-\n-  -- Export these directly from rpc.\n-  rpc_response_error = lsp_rpc.rpc_response_error,\n+local submodules = {\n+  '_changetracking',\n+  '_completion',\n+  '_dynamic',\n+  'buf',\n+  'codelens',\n+  'diagnostic',\n+  'handlers',\n+  'inlay_hint',\n+  'log',\n+  'protocol',\n+  'rpc',\n+  'semantic_tokens',\n+  'tagfunc',\n+  'util',\n }\n+local dundarload_submodules = vim._dundarload_submodules('vim.lsp', submodules)\n+local lsp = setmetatable({}, dundarload_submodules)\n+\n+lsp._changetracking = nil --- @module 'vim.lsp._changetracking'\n+lsp._completion = nil --- @module 'vim.lsp._completion'\n+lsp._dynamic = nil --- @module 'vim.lsp._dynamic'\n+lsp.buf = nil --- @module 'vim.lsp.buf'\n+lsp.codelens = nil --- @module 'vim.lsp.codelens'\n+lsp.diagnostic = nil --- @module 'vim.lsp.diagnostic'\n+lsp.handlers = nil --- @module 'vim.lsp.handlers'\n+lsp.inlay_hint = nil --- @module 'vim.lsp.inlay_hint'\n+lsp.log = nil --- @module 'vim.lsp.log'\n+lsp.protocol = nil --- @module 'vim.lsp.protocol'\n+lsp.rpc = nil --- @module 'vim.lsp.rpc'\n+lsp.semantic_tokens = nil --- @module 'vim.lsp.semantic_tokens'\n+lsp.tagfunc = nil --- @module 'vim.lsp.tagfunc'\n+lsp.util = nil --- @module 'vim.lsp.util'",
            "html_url": "https://github.com/neovim/neovim/pull/27216#discussion_r1467906173",
            "id": 1467906173,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5Xfnh9",
            "original_commit_id": "5a600b4ae46190f713523bac2c04642a2c127fe4",
            "original_line": 42,
            "original_position": 67,
            "original_start_line": null,
            "path": "runtime/lua/vim/lsp.lua",
            "position": null,
            "pull_request_review_id": 1846154991,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/27216",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1467906173/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-01-26T17:17:50Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1467906173",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/27216#discussion_r1467906699"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/27216"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1467906699"
                }
            },
            "author_association": "MEMBER",
            "body": "This is a class rather than a module, so should remain as `LanguageTree` (the module returns class itself). We can consider `vim.treesitter.languagetree` returns a table `M = { LanguageTree = ... }` instead.",
            "commit_id": "79bea0199d836a10e5677592611da57d1e13ab40",
            "created_at": "2024-01-26T17:08:14Z",
            "diff_hunk": "@@ -61,7 +37,7 @@ function M._create_parser(bufnr, lang, opts)\n \n   vim.fn.bufload(bufnr)\n \n-  local self = LanguageTree.new(bufnr, lang, opts)\n+  local self = M.languagetree.new(bufnr, lang, opts)",
            "html_url": "https://github.com/neovim/neovim/pull/27216#discussion_r1467906699",
            "id": 1467906699,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5XfnqL",
            "original_commit_id": "5a600b4ae46190f713523bac2c04642a2c127fe4",
            "original_line": 39,
            "original_position": 59,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter.lua",
            "position": null,
            "pull_request_review_id": 1846059399,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/27216",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1467906699/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-01-27T00:15:35Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1467906699",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1009873?v=4",
                "events_url": "https://api.github.com/users/wookayin/events{/privacy}",
                "followers_url": "https://api.github.com/users/wookayin/followers",
                "following_url": "https://api.github.com/users/wookayin/following{/other_user}",
                "gists_url": "https://api.github.com/users/wookayin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/wookayin",
                "id": 1009873,
                "login": "wookayin",
                "node_id": "MDQ6VXNlcjEwMDk4NzM=",
                "organizations_url": "https://api.github.com/users/wookayin/orgs",
                "received_events_url": "https://api.github.com/users/wookayin/received_events",
                "repos_url": "https://api.github.com/users/wookayin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/wookayin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/wookayin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/wookayin"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/27216#discussion_r1468237429"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/27216"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1468237429"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\n      local ok, ret = pcall(require, string.format('%s.%s', root, k))\n      if ok then\n        t[k] = ret\n      end\n```\n",
            "commit_id": "79bea0199d836a10e5677592611da57d1e13ab40",
            "created_at": "2024-01-26T23:33:42Z",
            "diff_hunk": "@@ -983,4 +983,17 @@ do\n   end\n end\n \n+--- @generic T\n+--- @param root string\n+--- @param _mod T\n+--- @return T\n+function vim._deferload_submodules(root, _mod)\n+  return setmetatable({}, {\n+    __index = function(t, k)\n+      t[k] = require(string.format('%s.%s', root, k))",
            "html_url": "https://github.com/neovim/neovim/pull/27216#discussion_r1468237429",
            "id": 1468237429,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5Xg4Z1",
            "original_commit_id": "b2fa906cd3ab46e9c30b0289377904522e25d8b4",
            "original_line": 993,
            "original_position": 11,
            "original_start_line": null,
            "path": "runtime/lua/vim/shared.lua",
            "position": null,
            "pull_request_review_id": 1846726364,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/27216",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1468237429/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-01-26T23:34:23Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1468237429",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/27216#discussion_r1468252862"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/27216"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1468252862"
                }
            },
            "author_association": "MEMBER",
            "body": "Q: What about errors upon `require`-ing? Shouldn't it throw rather than swallowing?",
            "commit_id": "79bea0199d836a10e5677592611da57d1e13ab40",
            "created_at": "2024-01-27T00:11:37Z",
            "diff_hunk": "@@ -983,4 +983,17 @@ do\n   end\n end\n \n+--- @generic T\n+--- @param root string\n+--- @param _mod T\n+--- @return T\n+function vim._deferload_submodules(root, _mod)\n+  return setmetatable({}, {\n+    __index = function(t, k)\n+      t[k] = require(string.format('%s.%s', root, k))",
            "html_url": "https://github.com/neovim/neovim/pull/27216#discussion_r1468252862",
            "id": 1468252862,
            "in_reply_to_id": 1468237429,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5Xg8K-",
            "original_commit_id": "b2fa906cd3ab46e9c30b0289377904522e25d8b4",
            "original_line": 993,
            "original_position": 11,
            "original_start_line": null,
            "path": "runtime/lua/vim/shared.lua",
            "position": null,
            "pull_request_review_id": 1846059399,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/27216",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1468252862/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-01-27T00:15:18Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1468252862",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1009873?v=4",
                "events_url": "https://api.github.com/users/wookayin/events{/privacy}",
                "followers_url": "https://api.github.com/users/wookayin/followers",
                "following_url": "https://api.github.com/users/wookayin/following{/other_user}",
                "gists_url": "https://api.github.com/users/wookayin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/wookayin",
                "id": 1009873,
                "login": "wookayin",
                "node_id": "MDQ6VXNlcjEwMDk4NzM=",
                "organizations_url": "https://api.github.com/users/wookayin/orgs",
                "received_events_url": "https://api.github.com/users/wookayin/received_events",
                "repos_url": "https://api.github.com/users/wookayin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/wookayin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/wookayin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/wookayin"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/27216#discussion_r1468256346"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/27216"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1468256346"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\n  options = ..., --- @module 'vim.filetype.options\n```\n",
            "commit_id": "79bea0199d836a10e5677592611da57d1e13ab40",
            "created_at": "2024-01-27T00:22:20Z",
            "diff_hunk": "@@ -1,7 +1,10 @@\n local api = vim.api\n local fn = vim.fn\n \n-local M = {}\n+local M = vim._deferload_submodules('vim.filetype', {\n+  detect = ..., --- @module 'vim.filetype.detect\n+  options = ..., --- @module 'vim.filetype.detect",
            "html_url": "https://github.com/neovim/neovim/pull/27216#discussion_r1468256346",
            "id": 1468256346,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5Xg9Ba",
            "original_commit_id": "9609b7475dbbd8cd8454e853bd10fa8da9a82744",
            "original_line": 6,
            "original_position": 7,
            "original_start_line": null,
            "path": "runtime/lua/vim/filetype.lua",
            "position": null,
            "pull_request_review_id": 1846754891,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/27216",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1468256346/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-01-27T00:26:17Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1468256346",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/27216#discussion_r1468449879"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/27216"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1468449879"
                }
            },
            "author_association": "MEMBER",
            "body": "Don't really see the difference really, but sure, readded `LanguageTree`",
            "commit_id": "79bea0199d836a10e5677592611da57d1e13ab40",
            "created_at": "2024-01-27T12:01:36Z",
            "diff_hunk": "@@ -61,7 +37,7 @@ function M._create_parser(bufnr, lang, opts)\n \n   vim.fn.bufload(bufnr)\n \n-  local self = LanguageTree.new(bufnr, lang, opts)\n+  local self = M.languagetree.new(bufnr, lang, opts)",
            "html_url": "https://github.com/neovim/neovim/pull/27216#discussion_r1468449879",
            "id": 1468449879,
            "in_reply_to_id": 1467906699,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5XhsRX",
            "original_commit_id": "5a600b4ae46190f713523bac2c04642a2c127fe4",
            "original_line": 39,
            "original_position": 59,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter.lua",
            "position": null,
            "pull_request_review_id": 1847065088,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/27216",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1468449879/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-01-27T12:01:36Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1468449879",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33953936?v=4",
                "events_url": "https://api.github.com/users/dundargoc/events{/privacy}",
                "followers_url": "https://api.github.com/users/dundargoc/followers",
                "following_url": "https://api.github.com/users/dundargoc/following{/other_user}",
                "gists_url": "https://api.github.com/users/dundargoc/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dundargoc",
                "id": 33953936,
                "login": "dundargoc",
                "node_id": "MDQ6VXNlcjMzOTUzOTM2",
                "organizations_url": "https://api.github.com/users/dundargoc/orgs",
                "received_events_url": "https://api.github.com/users/dundargoc/received_events",
                "repos_url": "https://api.github.com/users/dundargoc/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dundargoc/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dundargoc/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dundargoc"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/27216#discussion_r1468659811"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/27216"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1468659811"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n    ---@param t table<string, any>\r\n    ---@param k string\r\n    __index = function(t, k)\r\n      if not _mod[k] then\r\n        return nil\r\n      end\r\n      local modname = string.format('%s.%s', root, k)\r\n      ---@type boolean, any\r\n      local ok, ret = pcall(require, modname)\r\n```\r\n\r\n\r\n* `vim.treesitter.submodule_that_does_not_exist` should return nil (without errors)\r\n\r\n* `vim.treesitter.submodule_to_defer_load` should (re-)throw errors if an error would be thrown on `require`-ing that module.\r\n\r\nIn order to make this possible, we'll need to change the \"deferload\" declaration as:\r\n\r\n```diff\r\n local M = vim._deferload_submodules('vim.treesitter', {\r\n-  _fold = ..., --- @module 'vim.treesitter._fold'\r\n+  _fold = { ... }, --- @module 'vim.treesitter._fold'\r\n```\r\n\r\nbecause `...` evaluates to `nil` in Lua. The table `_mod` is currently not used, but can be used to determine which submodule is registered to be lazy-loaded.\r\n\r\nI also suggest we should add a test in `test/functional/lua/vim_spec.lua` to test and ensure the behavior.",
            "commit_id": "79bea0199d836a10e5677592611da57d1e13ab40",
            "created_at": "2024-01-27T21:40:58Z",
            "diff_hunk": "@@ -983,4 +983,22 @@ do\n   end\n end\n \n+--- @generic T\n+--- @param root string\n+--- @param _mod T\n+--- @return T\n+function vim._deferload_submodules(root, _mod)\n+  return setmetatable({}, {\n+    __index = function(t, k)\n+      local ok, ret = pcall(require, string.format('%s.%s', root, k))",
            "html_url": "https://github.com/neovim/neovim/pull/27216#discussion_r1468659811",
            "id": 1468659811,
            "line": 993,
            "node_id": "PRRC_kwDOAPphoM5Xifhj",
            "original_commit_id": "4aff0133f62cbec9a0142eb9d56a56c727791f9e",
            "original_line": 993,
            "original_position": 11,
            "original_start_line": 992,
            "path": "runtime/lua/vim/shared.lua",
            "position": 11,
            "pull_request_review_id": 1847290403,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/27216",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1468659811/reactions"
            },
            "side": "RIGHT",
            "start_line": 992,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2024-01-27T21:42:50Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1468659811",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1009873?v=4",
                "events_url": "https://api.github.com/users/wookayin/events{/privacy}",
                "followers_url": "https://api.github.com/users/wookayin/followers",
                "following_url": "https://api.github.com/users/wookayin/following{/other_user}",
                "gists_url": "https://api.github.com/users/wookayin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/wookayin",
                "id": 1009873,
                "login": "wookayin",
                "node_id": "MDQ6VXNlcjEwMDk4NzM=",
                "organizations_url": "https://api.github.com/users/wookayin/orgs",
                "received_events_url": "https://api.github.com/users/wookayin/received_events",
                "repos_url": "https://api.github.com/users/wookayin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/wookayin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/wookayin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/wookayin"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/27216#discussion_r1468669881"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/27216"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1468669881"
                }
            },
            "author_association": "MEMBER",
            "body": "Why only this swp?",
            "commit_id": "79bea0199d836a10e5677592611da57d1e13ab40",
            "created_at": "2024-01-27T22:17:02Z",
            "diff_hunk": "@@ -121,7 +121,8 @@ CLEAN_FILES := *.out \\\n   .*.swo            \\\n   .gdbinit          \\\n   $(TMPDIR)         \\\n-  del\n+  del               \\\n+  $(ROOT)/runtime/doc/.index.txt.swp",
            "html_url": "https://github.com/neovim/neovim/pull/27216#discussion_r1468669881",
            "id": 1468669881,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5Xih-5",
            "original_commit_id": "4aff0133f62cbec9a0142eb9d56a56c727791f9e",
            "original_line": 125,
            "original_position": 6,
            "original_start_line": null,
            "path": "test/old/testdir/Makefile",
            "position": null,
            "pull_request_review_id": 1847304963,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/27216",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1468669881/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-01-27T22:17:02Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1468669881",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/27216#discussion_r1468671705"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/27216"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1468671705"
                }
            },
            "author_association": "MEMBER",
            "body": "Actually with this `_mod[k]` check, we can completely remove `pcall(...)` and replace it with just simple `require(...)`. Stacktrace might be different (i.e. whether to include additional frame on `__index`), but I haven't tested. Doesn't matter much though.",
            "commit_id": "79bea0199d836a10e5677592611da57d1e13ab40",
            "created_at": "2024-01-27T22:31:30Z",
            "diff_hunk": "@@ -983,4 +983,22 @@ do\n   end\n end\n \n+--- @generic T\n+--- @param root string\n+--- @param _mod T\n+--- @return T\n+function vim._deferload_submodules(root, _mod)\n+  return setmetatable({}, {\n+    __index = function(t, k)\n+      local ok, ret = pcall(require, string.format('%s.%s', root, k))",
            "html_url": "https://github.com/neovim/neovim/pull/27216#discussion_r1468671705",
            "id": 1468671705,
            "in_reply_to_id": 1468659811,
            "line": 993,
            "node_id": "PRRC_kwDOAPphoM5XiibZ",
            "original_commit_id": "4aff0133f62cbec9a0142eb9d56a56c727791f9e",
            "original_line": 993,
            "original_position": 11,
            "original_start_line": 992,
            "path": "runtime/lua/vim/shared.lua",
            "position": 11,
            "pull_request_review_id": 1847306845,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/27216",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1468671705/reactions"
            },
            "side": "RIGHT",
            "start_line": 992,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2024-01-27T22:31:55Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1468671705",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1009873?v=4",
                "events_url": "https://api.github.com/users/wookayin/events{/privacy}",
                "followers_url": "https://api.github.com/users/wookayin/followers",
                "following_url": "https://api.github.com/users/wookayin/following{/other_user}",
                "gists_url": "https://api.github.com/users/wookayin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/wookayin",
                "id": 1009873,
                "login": "wookayin",
                "node_id": "MDQ6VXNlcjEwMDk4NzM=",
                "organizations_url": "https://api.github.com/users/wookayin/orgs",
                "received_events_url": "https://api.github.com/users/wookayin/received_events",
                "repos_url": "https://api.github.com/users/wookayin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/wookayin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/wookayin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/wookayin"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/27216#discussion_r1468675902"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/27216"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1468675902"
                }
            },
            "author_association": "MEMBER",
            "body": "Its the one that caused me trouble. Which other should I remove?",
            "commit_id": "79bea0199d836a10e5677592611da57d1e13ab40",
            "created_at": "2024-01-27T22:58:32Z",
            "diff_hunk": "@@ -121,7 +121,8 @@ CLEAN_FILES := *.out \\\n   .*.swo            \\\n   .gdbinit          \\\n   $(TMPDIR)         \\\n-  del\n+  del               \\\n+  $(ROOT)/runtime/doc/.index.txt.swp",
            "html_url": "https://github.com/neovim/neovim/pull/27216#discussion_r1468675902",
            "id": 1468675902,
            "in_reply_to_id": 1468669881,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5Xijc-",
            "original_commit_id": "4aff0133f62cbec9a0142eb9d56a56c727791f9e",
            "original_line": 125,
            "original_position": 6,
            "original_start_line": null,
            "path": "test/old/testdir/Makefile",
            "position": null,
            "pull_request_review_id": 1847311749,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/27216",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1468675902/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-01-27T22:58:32Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1468675902",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33953936?v=4",
                "events_url": "https://api.github.com/users/dundargoc/events{/privacy}",
                "followers_url": "https://api.github.com/users/dundargoc/followers",
                "following_url": "https://api.github.com/users/dundargoc/following{/other_user}",
                "gists_url": "https://api.github.com/users/dundargoc/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dundargoc",
                "id": 33953936,
                "login": "dundargoc",
                "node_id": "MDQ6VXNlcjMzOTUzOTM2",
                "organizations_url": "https://api.github.com/users/dundargoc/orgs",
                "received_events_url": "https://api.github.com/users/dundargoc/received_events",
                "repos_url": "https://api.github.com/users/dundargoc/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dundargoc/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dundargoc/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dundargoc"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/27216#discussion_r1468759966"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/27216"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1468759966"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n  $(ROOT)/runtime/doc/.*.swp\r\n```",
            "commit_id": "79bea0199d836a10e5677592611da57d1e13ab40",
            "created_at": "2024-01-28T06:17:28Z",
            "diff_hunk": "@@ -121,7 +121,8 @@ CLEAN_FILES := *.out \\\n   .*.swo            \\\n   .gdbinit          \\\n   $(TMPDIR)         \\\n-  del\n+  del               \\\n+  $(ROOT)/runtime/doc/.index.txt.swp",
            "html_url": "https://github.com/neovim/neovim/pull/27216#discussion_r1468759966",
            "id": 1468759966,
            "in_reply_to_id": 1468669881,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5Xi3-e",
            "original_commit_id": "4aff0133f62cbec9a0142eb9d56a56c727791f9e",
            "original_line": 125,
            "original_position": 6,
            "original_start_line": null,
            "path": "test/old/testdir/Makefile",
            "position": null,
            "pull_request_review_id": 1847405608,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/27216",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1468759966/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-01-28T06:17:28Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1468759966",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/27216#discussion_r1468962105"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/27216"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1468962105"
                }
            },
            "author_association": "MEMBER",
            "body": "Is \"submodules\" telling the reader anything useful? Including \"require\" in the name may be more intuitive.\r\n\r\n```suggestion\r\nfunction vim._defer_require(root, _mod)\r\n```",
            "commit_id": "79bea0199d836a10e5677592611da57d1e13ab40",
            "created_at": "2024-01-28T23:32:43Z",
            "diff_hunk": "@@ -983,4 +983,22 @@ do\n   end\n end\n \n+--- @generic T\n+--- @param root string\n+--- @param _mod T\n+--- @return T\n+function vim._deferload_submodules(root, _mod)",
            "html_url": "https://github.com/neovim/neovim/pull/27216#discussion_r1468962105",
            "id": 1468962105,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5XjpU5",
            "original_commit_id": "b44487f86d4411bcb0480dbff033405ca4d5c2cb",
            "original_line": 990,
            "original_position": 8,
            "original_start_line": null,
            "path": "runtime/lua/vim/shared.lua",
            "position": null,
            "pull_request_review_id": 1847656853,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/27216",
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1468962105/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-01-28T23:32:43Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1468962105",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        }
    ],
    "comment_regular_data": [
        {
            "author_association": "MEMBER",
            "body": "LSP (lua-ls) will not like this due to its dynamic nature --- type inference and resolving LSP definition/references are broken.",
            "created_at": "2024-01-26T15:44:28Z",
            "html_url": "https://github.com/neovim/neovim/pull/27216#issuecomment-1912275700",
            "id": 1912275700,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27216",
            "node_id": "IC_kwDOAPphoM5x-wL0",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 2,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 2,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1912275700/reactions"
            },
            "updated_at": "2024-01-26T15:44:28Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1912275700",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1009873?v=4",
                "events_url": "https://api.github.com/users/wookayin/events{/privacy}",
                "followers_url": "https://api.github.com/users/wookayin/followers",
                "following_url": "https://api.github.com/users/wookayin/following{/other_user}",
                "gists_url": "https://api.github.com/users/wookayin/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/wookayin",
                "id": 1009873,
                "login": "wookayin",
                "node_id": "MDQ6VXNlcjEwMDk4NzM=",
                "organizations_url": "https://api.github.com/users/wookayin/orgs",
                "received_events_url": "https://api.github.com/users/wookayin/received_events",
                "repos_url": "https://api.github.com/users/wookayin/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/wookayin/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/wookayin/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/wookayin"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "We can use `--- @module 'vim.lsp.module'` to overcome that in places. But yes, we should be mindful where/how we apply this.",
            "created_at": "2024-01-26T15:46:46Z",
            "html_url": "https://github.com/neovim/neovim/pull/27216#issuecomment-1912279092",
            "id": 1912279092,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27216",
            "node_id": "IC_kwDOAPphoM5x-xA0",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1912279092/reactions"
            },
            "updated_at": "2024-01-26T15:47:12Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1912279092",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/7904185?v=4",
                "events_url": "https://api.github.com/users/lewis6991/events{/privacy}",
                "followers_url": "https://api.github.com/users/lewis6991/followers",
                "following_url": "https://api.github.com/users/lewis6991/following{/other_user}",
                "gists_url": "https://api.github.com/users/lewis6991/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/lewis6991",
                "id": 7904185,
                "login": "lewis6991",
                "node_id": "MDQ6VXNlcjc5MDQxODU=",
                "organizations_url": "https://api.github.com/users/lewis6991/orgs",
                "received_events_url": "https://api.github.com/users/lewis6991/received_events",
                "repos_url": "https://api.github.com/users/lewis6991/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/lewis6991/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/lewis6991/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/lewis6991"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "This is generalizing/lifting a common, existing pattern, right? Would be helpful to mention that in the commit message.\r\n\r\n> LSP (lua-ls) will not like this due to its dynamic nature ...\r\n>> We can use `--- @module 'vim.lsp.module'` to overcome that in places. But yes, we should be mindful where/how we apply this.\r\n\r\nDoes that mean we shouldn't apply it to \"all\" of `vim.**` ? Ideally, the loading behavior of all `vim.**` would follow one rule.",
            "created_at": "2024-01-28T23:28:48Z",
            "html_url": "https://github.com/neovim/neovim/pull/27216#issuecomment-1913758380",
            "id": 1913758380,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27216",
            "node_id": "IC_kwDOAPphoM5yEaKs",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1913758380/reactions"
            },
            "updated_at": "2024-01-28T23:34:14Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1913758380",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> This is generalizing/lifting a common, existing pattern, right?\r\n\r\nEh? I don't know about that. I've used this on `lsp.lua`, `treesitter.lua`, `provider.lua` and `filetype.lua`. Only `treesitter.lua` used this before. So not that common.",
            "created_at": "2024-01-29T14:06:36Z",
            "html_url": "https://github.com/neovim/neovim/pull/27216#issuecomment-1914765305",
            "id": 1914765305,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27216",
            "node_id": "IC_kwDOAPphoM5yIP_5",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1914765305/reactions"
            },
            "updated_at": "2024-01-29T14:06:36Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1914765305",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33953936?v=4",
                "events_url": "https://api.github.com/users/dundargoc/events{/privacy}",
                "followers_url": "https://api.github.com/users/dundargoc/followers",
                "following_url": "https://api.github.com/users/dundargoc/following{/other_user}",
                "gists_url": "https://api.github.com/users/dundargoc/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dundargoc",
                "id": 33953936,
                "login": "dundargoc",
                "node_id": "MDQ6VXNlcjMzOTUzOTM2",
                "organizations_url": "https://api.github.com/users/dundargoc/orgs",
                "received_events_url": "https://api.github.com/users/dundargoc/received_events",
                "repos_url": "https://api.github.com/users/dundargoc/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dundargoc/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dundargoc/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dundargoc"
            }
        }
    ],
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/27216/comments",
    "commits_url": "https://api.github.com/repos/neovim/neovim/pulls/27216/commits",
    "created_at": "2024-01-26T15:34:53Z",
    "diff_url": "https://github.com/neovim/neovim/pull/27216.diff",
    "draft": true,
    "head": {
        "label": "dundargoc:refactor/nested-lazy-loading",
        "ref": "refactor/nested-lazy-loading",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/dundargoc/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/dundargoc/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/dundargoc/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/dundargoc/neovim/branches{/branch}",
            "clone_url": "https://github.com/dundargoc/neovim.git",
            "collaborators_url": "https://api.github.com/repos/dundargoc/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/dundargoc/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/dundargoc/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/dundargoc/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/dundargoc/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/dundargoc/neovim/contributors",
            "created_at": "2021-06-20T10:14:48Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/dundargoc/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/dundargoc/neovim/downloads",
            "events_url": "https://api.github.com/repos/dundargoc/neovim/events",
            "fork": true,
            "forks": 0,
            "forks_count": 0,
            "forks_url": "https://api.github.com/repos/dundargoc/neovim/forks",
            "full_name": "dundargoc/neovim",
            "git_commits_url": "https://api.github.com/repos/dundargoc/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/dundargoc/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/dundargoc/neovim/git/tags{/sha}",
            "git_url": "git://github.com/dundargoc/neovim.git",
            "has_discussions": false,
            "has_downloads": true,
            "has_issues": true,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": false,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/dundargoc/neovim/hooks",
            "html_url": "https://github.com/dundargoc/neovim",
            "id": 378614899,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/dundargoc/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/dundargoc/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/dundargoc/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/dundargoc/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/dundargoc/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/dundargoc/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/dundargoc/neovim/merges",
            "milestones_url": "https://api.github.com/repos/dundargoc/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "MDEwOlJlcG9zaXRvcnkzNzg2MTQ4OTk=",
            "notifications_url": "https://api.github.com/repos/dundargoc/neovim/notifications{?since,all,participating}",
            "open_issues": 0,
            "open_issues_count": 0,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33953936?v=4",
                "events_url": "https://api.github.com/users/dundargoc/events{/privacy}",
                "followers_url": "https://api.github.com/users/dundargoc/followers",
                "following_url": "https://api.github.com/users/dundargoc/following{/other_user}",
                "gists_url": "https://api.github.com/users/dundargoc/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dundargoc",
                "id": 33953936,
                "login": "dundargoc",
                "node_id": "MDQ6VXNlcjMzOTUzOTM2",
                "organizations_url": "https://api.github.com/users/dundargoc/orgs",
                "received_events_url": "https://api.github.com/users/dundargoc/received_events",
                "repos_url": "https://api.github.com/users/dundargoc/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dundargoc/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dundargoc/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dundargoc"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/dundargoc/neovim/pulls{/number}",
            "pushed_at": "2024-01-29T20:02:03Z",
            "releases_url": "https://api.github.com/repos/dundargoc/neovim/releases{/id}",
            "size": 248250,
            "ssh_url": "git@github.com:dundargoc/neovim.git",
            "stargazers_count": 1,
            "stargazers_url": "https://api.github.com/repos/dundargoc/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/dundargoc/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/dundargoc/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/dundargoc/neovim/subscription",
            "svn_url": "https://github.com/dundargoc/neovim",
            "tags_url": "https://api.github.com/repos/dundargoc/neovim/tags",
            "teams_url": "https://api.github.com/repos/dundargoc/neovim/teams",
            "topics": [],
            "trees_url": "https://api.github.com/repos/dundargoc/neovim/git/trees{/sha}",
            "updated_at": "2023-07-31T17:43:26Z",
            "url": "https://api.github.com/repos/dundargoc/neovim",
            "visibility": "public",
            "watchers": 1,
            "watchers_count": 1,
            "web_commit_signoff_required": false
        },
        "sha": "79bea0199d836a10e5677592611da57d1e13ab40",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/33953936?v=4",
            "events_url": "https://api.github.com/users/dundargoc/events{/privacy}",
            "followers_url": "https://api.github.com/users/dundargoc/followers",
            "following_url": "https://api.github.com/users/dundargoc/following{/other_user}",
            "gists_url": "https://api.github.com/users/dundargoc/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/dundargoc",
            "id": 33953936,
            "login": "dundargoc",
            "node_id": "MDQ6VXNlcjMzOTUzOTM2",
            "organizations_url": "https://api.github.com/users/dundargoc/orgs",
            "received_events_url": "https://api.github.com/users/dundargoc/received_events",
            "repos_url": "https://api.github.com/users/dundargoc/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/dundargoc/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dundargoc/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/dundargoc"
        }
    },
    "html_url": "https://github.com/neovim/neovim/pull/27216",
    "id": 1697353433,
    "issue_url": "https://api.github.com/repos/neovim/neovim/issues/27216",
    "labels": [
        {
            "color": "C5DEF5",
            "default": false,
            "description": "changes that are not features or bugfixes",
            "id": 106949155,
            "name": "refactor",
            "node_id": "MDU6TGFiZWwxMDY5NDkxNTU=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/refactor"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "stdlib",
            "id": 573222693,
            "name": "lua",
            "node_id": "MDU6TGFiZWw1NzMyMjI2OTM=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/lua"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": null,
            "id": 662566370,
            "name": "lsp",
            "node_id": "MDU6TGFiZWw2NjI1NjYzNzA=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/lsp"
        },
        {
            "color": "c5def5",
            "default": false,
            "description": "",
            "id": 1799626557,
            "name": "treesitter",
            "node_id": "MDU6TGFiZWwxNzk5NjI2NTU3",
            "url": "https://api.github.com/repos/neovim/neovim/labels/treesitter"
        }
    ],
    "locked": false,
    "merge_commit_sha": "0aef3c4ef41a82bea888bd7a9dedc3ebc9da7756",
    "merged_at": null,
    "milestone": null,
    "node_id": "PR_kwDOAPphoM5lK47Z",
    "number": 27216,
    "patch_url": "https://github.com/neovim/neovim/pull/27216.patch",
    "requested_reviewers": [],
    "requested_teams": [],
    "review_comment_url": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}",
    "review_comments_url": "https://api.github.com/repos/neovim/neovim/pulls/27216/comments",
    "state": "open",
    "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/79bea0199d836a10e5677592611da57d1e13ab40",
    "title": "refactor: create function for deferred loading",
    "updated_at": "2024-01-29T20:22:16Z",
    "url": "https://api.github.com/repos/neovim/neovim/pulls/27216",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/33953936?v=4",
        "events_url": "https://api.github.com/users/dundargoc/events{/privacy}",
        "followers_url": "https://api.github.com/users/dundargoc/followers",
        "following_url": "https://api.github.com/users/dundargoc/following{/other_user}",
        "gists_url": "https://api.github.com/users/dundargoc/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/dundargoc",
        "id": 33953936,
        "login": "dundargoc",
        "node_id": "MDQ6VXNlcjMzOTUzOTM2",
        "organizations_url": "https://api.github.com/users/dundargoc/orgs",
        "received_events_url": "https://api.github.com/users/dundargoc/received_events",
        "repos_url": "https://api.github.com/users/dundargoc/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/dundargoc/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/dundargoc/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/dundargoc"
    }
}