{
    "_links": {
        "comments": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/20158/comments"
        },
        "commits": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/20158/commits"
        },
        "html": {
            "href": "https://github.com/neovim/neovim/pull/20158"
        },
        "issue": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/20158"
        },
        "review_comment": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}"
        },
        "review_comments": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/20158/comments"
        },
        "self": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/20158"
        },
        "statuses": {
            "href": "https://api.github.com/repos/neovim/neovim/statuses/31f441b8e74b543c1555f4608a6274926cf24c8f"
        }
    },
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "auto_merge": null,
    "base": {
        "label": "neovim:master",
        "ref": "master",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/neovim/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/neovim/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/neovim/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/neovim/neovim/branches{/branch}",
            "clone_url": "https://github.com/neovim/neovim.git",
            "collaborators_url": "https://api.github.com/repos/neovim/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/neovim/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/neovim/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/neovim/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/neovim/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/neovim/neovim/contributors",
            "created_at": "2014-01-31T13:39:22Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/neovim/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/neovim/neovim/downloads",
            "events_url": "https://api.github.com/repos/neovim/neovim/events",
            "fork": false,
            "forks": 5766,
            "forks_count": 5766,
            "forks_url": "https://api.github.com/repos/neovim/neovim/forks",
            "full_name": "neovim/neovim",
            "git_commits_url": "https://api.github.com/repos/neovim/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/neovim/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/neovim/neovim/git/tags{/sha}",
            "git_url": "git://github.com/neovim/neovim.git",
            "has_discussions": true,
            "has_downloads": true,
            "has_issues": true,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/neovim/neovim/hooks",
            "html_url": "https://github.com/neovim/neovim",
            "id": 16408992,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/neovim/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/neovim/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/neovim/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/neovim/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/neovim/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/neovim/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/neovim/neovim/merges",
            "milestones_url": "https://api.github.com/repos/neovim/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "MDEwOlJlcG9zaXRvcnkxNjQwODk5Mg==",
            "notifications_url": "https://api.github.com/repos/neovim/neovim/notifications{?since,all,participating}",
            "open_issues": 1818,
            "open_issues_count": 1818,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
                "events_url": "https://api.github.com/users/neovim/events{/privacy}",
                "followers_url": "https://api.github.com/users/neovim/followers",
                "following_url": "https://api.github.com/users/neovim/following{/other_user}",
                "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/neovim",
                "id": 6471485,
                "login": "neovim",
                "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
                "organizations_url": "https://api.github.com/users/neovim/orgs",
                "received_events_url": "https://api.github.com/users/neovim/received_events",
                "repos_url": "https://api.github.com/users/neovim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
                "type": "Organization",
                "url": "https://api.github.com/users/neovim",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/neovim/neovim/pulls{/number}",
            "pushed_at": "2024-12-23T21:39:36Z",
            "releases_url": "https://api.github.com/repos/neovim/neovim/releases{/id}",
            "size": 300480,
            "ssh_url": "git@github.com:neovim/neovim.git",
            "stargazers_count": 84495,
            "stargazers_url": "https://api.github.com/repos/neovim/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/neovim/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/neovim/neovim/subscription",
            "svn_url": "https://github.com/neovim/neovim",
            "tags_url": "https://api.github.com/repos/neovim/neovim/tags",
            "teams_url": "https://api.github.com/repos/neovim/neovim/teams",
            "topics": [
                "api",
                "c",
                "lua",
                "neovim",
                "nvim",
                "text-editor",
                "vim"
            ],
            "trees_url": "https://api.github.com/repos/neovim/neovim/git/trees{/sha}",
            "updated_at": "2024-12-24T02:11:47Z",
            "url": "https://api.github.com/repos/neovim/neovim",
            "visibility": "public",
            "watchers": 84495,
            "watchers_count": 84495,
            "web_commit_signoff_required": false
        },
        "sha": "abe2d90693e5cec3428c0162c48f0ea38972ff31",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
            "events_url": "https://api.github.com/users/neovim/events{/privacy}",
            "followers_url": "https://api.github.com/users/neovim/followers",
            "following_url": "https://api.github.com/users/neovim/following{/other_user}",
            "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/neovim",
            "id": 6471485,
            "login": "neovim",
            "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
            "organizations_url": "https://api.github.com/users/neovim/orgs",
            "received_events_url": "https://api.github.com/users/neovim/received_events",
            "repos_url": "https://api.github.com/users/neovim/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
            "type": "Organization",
            "url": "https://api.github.com/users/neovim",
            "user_view_type": "public"
        }
    },
    "body": "Currently we have `get_node_text` which gets the text corresponding to a node using the values from `node:start()` and `node:end_()`. When `#offset!` is used in a query (for example for injections or text objects) the range of the match will not equal the range of the node.\r\n\r\nIn https://github.com/nvim-treesitter/nvim-treesitter/pull/3486 for example the metadata is now included in the matches of the query. So with this change here one could then simply do `get_range_text(match.metadata.range)` to get the text using the same logic as `get_node_text`.\r\n\r\nTagging @clason since I briefly asked about this on matrix.",
    "closed_at": "2024-12-19T14:50:45Z",
    "comment_data": [
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/20158#discussion_r967887773"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/20158"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/967887773"
                }
            },
            "author_association": "MEMBER",
            "body": "- should there be some (extremely brief) hint about the fact that a \"range\" maps to the input text (which is usually a buffer)? Or is that understood? Maybe we need a tag like `treesitter-range` to link to?\r\n- typo : \"rangen\"",
            "commit_id": "31f441b8e74b543c1555f4608a6274926cf24c8f",
            "created_at": "2022-09-11T21:03:12Z",
            "diff_hunk": "@@ -208,12 +208,34 @@ end\n ---@param opts table Optional parameters.\n ---          - concat: (boolean default true) Concatenate result in a string\n function M.get_node_text(node, source, opts)\n-  opts = opts or {}\n-  local concat = vim.F.if_nil(opts.concat, true)\n \n   local start_row, start_col, start_byte = node:start()\n   local end_row, end_col, end_byte = node:end_()\n \n+  return M.get_range_text({start_row, start_col, start_byte, end_row, end_col, end_byte}, source, opts)\n+end\n+\n+--- Gets the text corresponding to a given rangen",
            "html_url": "https://github.com/neovim/neovim/pull/20158#discussion_r967887773",
            "id": 967887773,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM45sMud",
            "original_commit_id": "f25e7e27fc9baa7cd927efd0abf533b040fddfd1",
            "original_line": 218,
            "original_position": 13,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter/query.lua",
            "position": null,
            "pull_request_review_id": 1103353891,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/20158",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/967887773/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2022-09-11T21:03:31Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/967887773",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/20158#discussion_r968061065"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/20158"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/968061065"
                }
            },
            "author_association": "CONTRIBUTOR",
            "body": "Maybe it would be good to also specify why this is different than `nvim_buf_get_text`, at least if source is a number? I wonder if it's more clear if instead there is a `get_vim_range` as in nvim-treesitter and then we use that with `nvim_buf_get_text` directly?\r\n\r\nFixed the typo at least.",
            "commit_id": "31f441b8e74b543c1555f4608a6274926cf24c8f",
            "created_at": "2022-09-12T07:19:00Z",
            "diff_hunk": "@@ -208,12 +208,34 @@ end\n ---@param opts table Optional parameters.\n ---          - concat: (boolean default true) Concatenate result in a string\n function M.get_node_text(node, source, opts)\n-  opts = opts or {}\n-  local concat = vim.F.if_nil(opts.concat, true)\n \n   local start_row, start_col, start_byte = node:start()\n   local end_row, end_col, end_byte = node:end_()\n \n+  return M.get_range_text({start_row, start_col, start_byte, end_row, end_col, end_byte}, source, opts)\n+end\n+\n+--- Gets the text corresponding to a given rangen",
            "html_url": "https://github.com/neovim/neovim/pull/20158#discussion_r968061065",
            "id": 968061065,
            "in_reply_to_id": 967887773,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM45s3CJ",
            "original_commit_id": "f25e7e27fc9baa7cd927efd0abf533b040fddfd1",
            "original_line": 218,
            "original_position": 13,
            "original_start_line": null,
            "path": "runtime/lua/vim/treesitter/query.lua",
            "position": null,
            "pull_request_review_id": 1103587454,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/20158",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/968061065/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2022-09-12T07:19:00Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/968061065",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/23341710?v=4",
                "events_url": "https://api.github.com/users/AckslD/events{/privacy}",
                "followers_url": "https://api.github.com/users/AckslD/followers",
                "following_url": "https://api.github.com/users/AckslD/following{/other_user}",
                "gists_url": "https://api.github.com/users/AckslD/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/AckslD",
                "id": 23341710,
                "login": "AckslD",
                "node_id": "MDQ6VXNlcjIzMzQxNzEw",
                "organizations_url": "https://api.github.com/users/AckslD/orgs",
                "received_events_url": "https://api.github.com/users/AckslD/received_events",
                "repos_url": "https://api.github.com/users/AckslD/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/AckslD/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/AckslD/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/AckslD",
                "user_view_type": "public"
            }
        }
    ],
    "comment_regular_data": [
        {
            "author_association": "MEMBER",
            "body": "I think we want to park this until after 0.8, when we get a cleaner picture of which utilities are generally useful and which only in the context of nvim-treesitter.\r\n\r\nThis should also be a part of a more general refactor on how ranges are handled; ideally, we can _reduce_ the surface API of these utility functions, not increase them (e.g., by marking some of them as private, or combining them).\r\n\r\nIn any case, this behavior should be controlled by an option as you may want the original node range.",
            "created_at": "2022-09-11T18:25:09Z",
            "html_url": "https://github.com/neovim/neovim/pull/20158#issuecomment-1243017333",
            "id": 1243017333,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/20158",
            "node_id": "IC_kwDOAPphoM5KFvB1",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 2,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 2,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1243017333/reactions"
            },
            "updated_at": "2022-09-11T18:25:09Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1243017333",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Thanks for your feedback! After sleeping on this, I'm wondering if the better approach (at least for the usecase I had) would be to support a third optional argument to eg `get_node_text` which is the `metadata` of the node. If this is not `nil` and has an entry `range`, this is then used instead of `node:start` and `node:end_`?\r\n\r\nThen one could do for example:\r\n```lua\r\nfor id, node, metadata in query:iter_captures(tree:root(), bufnr, first, last) do\r\n  local text = get_node_text(node, bufnr, metadata) -- text here then takes #offset! into account\r\nend\r\n```\r\n\r\nHow does that sound? Then the user does not need to explicitly touch the ranges anyway.",
            "created_at": "2022-09-12T07:23:31Z",
            "html_url": "https://github.com/neovim/neovim/pull/20158#issuecomment-1243321377",
            "id": 1243321377,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/20158",
            "node_id": "IC_kwDOAPphoM5KG5Qh",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1243321377/reactions"
            },
            "updated_at": "2022-09-12T07:23:31Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1243321377",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/23341710?v=4",
                "events_url": "https://api.github.com/users/AckslD/events{/privacy}",
                "followers_url": "https://api.github.com/users/AckslD/followers",
                "following_url": "https://api.github.com/users/AckslD/following{/other_user}",
                "gists_url": "https://api.github.com/users/AckslD/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/AckslD",
                "id": 23341710,
                "login": "AckslD",
                "node_id": "MDQ6VXNlcjIzMzQxNzEw",
                "organizations_url": "https://api.github.com/users/AckslD/orgs",
                "received_events_url": "https://api.github.com/users/AckslD/received_events",
                "repos_url": "https://api.github.com/users/AckslD/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/AckslD/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/AckslD/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/AckslD",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "We usually treat optional arguments as an `opts` keyword-value table. This should be the pattern here if we go that route.\r\n\r\nBut, yes, adding options is preferable to adding another function.",
            "created_at": "2022-09-12T07:35:29Z",
            "html_url": "https://github.com/neovim/neovim/pull/20158#issuecomment-1243333350",
            "id": 1243333350,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/20158",
            "node_id": "IC_kwDOAPphoM5KG8Lm",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1243333350/reactions"
            },
            "updated_at": "2022-09-12T07:35:29Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1243333350",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Why make it only the `pattern`? Could be both but seems like it would be useful to also include the metadata since it already have the offset range computed. Ie `pattern` would be just\r\n```lua\r\n{ \"offset!\", 1, \"0\", \"1\", \"0\", \"-1\" }\r\n```\r\nwhereas metadata would include\r\n```lua\r\n{range = { 14, 7, 14, 14 }}\r\n```\r\n",
            "created_at": "2022-09-12T08:26:27Z",
            "html_url": "https://github.com/neovim/neovim/pull/20158#issuecomment-1243389772",
            "id": 1243389772,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/20158",
            "node_id": "IC_kwDOAPphoM5KHJ9M",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1243389772/reactions"
            },
            "updated_at": "2022-09-12T08:26:27Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1243389772",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/23341710?v=4",
                "events_url": "https://api.github.com/users/AckslD/events{/privacy}",
                "followers_url": "https://api.github.com/users/AckslD/followers",
                "following_url": "https://api.github.com/users/AckslD/following{/other_user}",
                "gists_url": "https://api.github.com/users/AckslD/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/AckslD",
                "id": 23341710,
                "login": "AckslD",
                "node_id": "MDQ6VXNlcjIzMzQxNzEw",
                "organizations_url": "https://api.github.com/users/AckslD/orgs",
                "received_events_url": "https://api.github.com/users/AckslD/received_events",
                "repos_url": "https://api.github.com/users/AckslD/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/AckslD/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/AckslD/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/AckslD",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I meant \"design pattern\".",
            "created_at": "2022-09-12T08:27:12Z",
            "html_url": "https://github.com/neovim/neovim/pull/20158#issuecomment-1243390644",
            "id": 1243390644,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/20158",
            "node_id": "IC_kwDOAPphoM5KHKK0",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1243390644/reactions"
            },
            "updated_at": "2022-09-12T08:27:12Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1243390644",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Does it makes sense if I make an update to this MR with a suggestion for an optional `opts` which can include the metadata to `get_node_text`, or would you rather not make such changes at this point?",
            "created_at": "2022-09-12T10:53:22Z",
            "html_url": "https://github.com/neovim/neovim/pull/20158#issuecomment-1243562148",
            "id": 1243562148,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/20158",
            "node_id": "IC_kwDOAPphoM5KH0Ck",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1243562148/reactions"
            },
            "updated_at": "2022-09-12T10:53:22Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1243562148",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/23341710?v=4",
                "events_url": "https://api.github.com/users/AckslD/events{/privacy}",
                "followers_url": "https://api.github.com/users/AckslD/followers",
                "following_url": "https://api.github.com/users/AckslD/following{/other_user}",
                "gists_url": "https://api.github.com/users/AckslD/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/AckslD",
                "id": 23341710,
                "login": "AckslD",
                "node_id": "MDQ6VXNlcjIzMzQxNzEw",
                "organizations_url": "https://api.github.com/users/AckslD/orgs",
                "received_events_url": "https://api.github.com/users/AckslD/received_events",
                "repos_url": "https://api.github.com/users/AckslD/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/AckslD/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/AckslD/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/AckslD",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "This would be necessary in any case, but I don't think we want to merge this before 0.8 (end of month) either way. (Full transparency: which doesn't guarantee that we'll merge it afterwards, although I'm not opposed to this PR on principle.)",
            "created_at": "2022-09-12T10:56:07Z",
            "html_url": "https://github.com/neovim/neovim/pull/20158#issuecomment-1243565029",
            "id": 1243565029,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/20158",
            "node_id": "IC_kwDOAPphoM5KH0vl",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1243565029/reactions"
            },
            "updated_at": "2022-09-12T10:57:04Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1243565029",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Based on what we discussed in https://github.com/nvim-treesitter/nvim-treesitter/pull/3487 I no longer think it makes sense to add `metadata` as part of an optional `opts` to `get_node_text`. The reason is that this would get the text corresponding to a _capture_ and not the _node_ as the name of the function indicates.",
            "created_at": "2022-09-15T11:28:42Z",
            "html_url": "https://github.com/neovim/neovim/pull/20158#issuecomment-1247973832",
            "id": 1247973832,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/20158",
            "node_id": "IC_kwDOAPphoM5KYpHI",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1247973832/reactions"
            },
            "updated_at": "2022-09-15T11:28:42Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1247973832",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/23341710?v=4",
                "events_url": "https://api.github.com/users/AckslD/events{/privacy}",
                "followers_url": "https://api.github.com/users/AckslD/followers",
                "following_url": "https://api.github.com/users/AckslD/following{/other_user}",
                "gists_url": "https://api.github.com/users/AckslD/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/AckslD",
                "id": 23341710,
                "login": "AckslD",
                "node_id": "MDQ6VXNlcjIzMzQxNzEw",
                "organizations_url": "https://api.github.com/users/AckslD/orgs",
                "received_events_url": "https://api.github.com/users/AckslD/received_events",
                "repos_url": "https://api.github.com/users/AckslD/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/AckslD/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/AckslD/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/AckslD",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": ">  I wonder if it's more clear if instead there is a get_vim_range as in nvim-treesitter and then we use that with nvim_buf_get_text directly?\r\n\r\nThat sounds like a potentially more powerful/generalized approach if it will avoid lots of extra functions.",
            "created_at": "2022-09-21T13:02:08Z",
            "html_url": "https://github.com/neovim/neovim/pull/20158#issuecomment-1253679316",
            "id": 1253679316,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/20158",
            "node_id": "IC_kwDOAPphoM5KuaDU",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1253679316/reactions"
            },
            "updated_at": "2022-09-21T13:02:08Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1253679316",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Now that Nvim 0.8 is released and the dust has settled somewhat, we should circle back to this (in particular because the next step is to update nvim-treesitter to use the newly upstreamed core APIs, and I want to do this only once, so any significant refactoring should happen _before_). \r\n\r\nBut before we make any changes, we need to take a step back and discuss what interface we want here. The various `node_or_range` functions are mixing abstractions to a degree I'm uncomfortable with. There's also some commits from https://github.com/nvim-treesitter/playground/pull/99 which should be included in this discussion.\r\n\r\nBasically, what we want is to be able to **extract the text corresponding to some tree-sitter object**. For this, we need to **find the buffer positions corresponding to the object**. In particular, this requires **translating from \"tree-sitter coordinates\" to \"buffer coordinates\"**. The last is related to similar functions for LSP and Lua in general (especially involving multibyte characters), so we should treat this as part of a general-purpose utility (\"find buffer range from coordinates\", extending `vim.region` -- naming should be made consistent and, if differences are important (e.g., contiguous vs. block-shaped), documented).\r\n\r\nRegarding **objects**, we want to handle (at least) these individually:\r\n1. **nodes** (which are wrappers for objects held by the tree-sitter library);\r\n2. **captures** (which are Lua tables extracted from nodes via a query and can be modified by directives stored in its `metadata` field);\r\n3. **matches** (which are mappings from node to capture, as one node could be part of multiple captures and vice versa) -- although `iter_matches` only seems used once in the code and shares much code with `iter_captures`, so maybe this level is not necessary (and can in fact be removed?)\r\n4. **patterns**?\r\n\r\nThe goal would be to compose the current features via a _minimal_ set of functions (and possibly fill out the \"feature matrix\"). For commonly used functions (like `get_{node,captures}_at_cursor`) that users may want to call often, we could still add a convenient wrapper. \r\n\r\nIn general, refactoring everything to return/accept a `range` (tuple of `{start_row,start_col,end_row,end_col}`) only is good; whether these ranges should be corrected using metadata attached to a matching capture should be either done through a separate function or controlled through an `opts` field. A useful first step would be to see how these functions are used in the `nvim-treesitter` ecosystem to make sure we are able to cover the important use cases without undue friction.\r\n\r\n@neovim/treesitter ",
            "created_at": "2022-10-16T11:23:24Z",
            "html_url": "https://github.com/neovim/neovim/pull/20158#issuecomment-1279949631",
            "id": 1279949631,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/20158",
            "node_id": "IC_kwDOAPphoM5MSns_",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 1,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1279949631/reactions"
            },
            "updated_at": "2022-10-16T12:13:58Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1279949631",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "(patterns/matches are related to predicates and directives, so that's more of question towards generalizing those @lewis6991 )",
            "created_at": "2022-10-16T11:28:58Z",
            "html_url": "https://github.com/neovim/neovim/pull/20158#issuecomment-1279950524",
            "id": 1279950524,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/20158",
            "node_id": "IC_kwDOAPphoM5MSn68",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1279950524/reactions"
            },
            "updated_at": "2022-10-16T11:28:58Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1279950524",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2361214?v=4",
                "events_url": "https://api.github.com/users/clason/events{/privacy}",
                "followers_url": "https://api.github.com/users/clason/followers",
                "following_url": "https://api.github.com/users/clason/following{/other_user}",
                "gists_url": "https://api.github.com/users/clason/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/clason",
                "id": 2361214,
                "login": "clason",
                "node_id": "MDQ6VXNlcjIzNjEyMTQ=",
                "organizations_url": "https://api.github.com/users/clason/orgs",
                "received_events_url": "https://api.github.com/users/clason/received_events",
                "repos_url": "https://api.github.com/users/clason/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/clason/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/clason/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/clason",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "@AckslD do you plan to continue this?",
            "created_at": "2023-07-04T12:55:22Z",
            "html_url": "https://github.com/neovim/neovim/pull/20158#issuecomment-1620201040",
            "id": 1620201040,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/20158",
            "node_id": "IC_kwDOAPphoM5gkk5Q",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1620201040/reactions"
            },
            "updated_at": "2023-07-04T12:55:22Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1620201040",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "@justinmk, I'd be happy to continue this but I'm not fully sure if there are more recent views on what this api should look like. Happy to discuss this though. However, I won't really have any time the coming month or so.",
            "created_at": "2023-07-05T17:31:15Z",
            "html_url": "https://github.com/neovim/neovim/pull/20158#issuecomment-1622191863",
            "id": 1622191863,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/20158",
            "node_id": "IC_kwDOAPphoM5gsK73",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1622191863/reactions"
            },
            "updated_at": "2023-07-05T17:31:15Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/1622191863",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/23341710?v=4",
                "events_url": "https://api.github.com/users/AckslD/events{/privacy}",
                "followers_url": "https://api.github.com/users/AckslD/followers",
                "following_url": "https://api.github.com/users/AckslD/following{/other_user}",
                "gists_url": "https://api.github.com/users/AckslD/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/AckslD",
                "id": 23341710,
                "login": "AckslD",
                "node_id": "MDQ6VXNlcjIzMzQxNzEw",
                "organizations_url": "https://api.github.com/users/AckslD/orgs",
                "received_events_url": "https://api.github.com/users/AckslD/received_events",
                "repos_url": "https://api.github.com/users/AckslD/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/AckslD/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/AckslD/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/AckslD",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "There have been some changes since this.\r\n\r\nE.g. https://github.com/neovim/neovim/blob/31d6885deba01fe0e7262dca58c94220c2fe32fc/runtime/lua/vim/treesitter/_range.lua exists now.\r\n\r\nIt looks like `node_for_range` might address the use-case here, https://github.com/neovim/neovim/commit/bd3b6ec8360e0dd6edfe74c3d0013fd2b98b989e\r\nsince I presume its result could be passed to `get_node_text`.\r\n\r\nThe long-term story about ranges and positions is tracked in https://github.com/neovim/neovim/issues/25509\r\n\r\nIf there is still something missing, please open a new PR after considering the existing surface area and explain what's missing.",
            "created_at": "2024-12-19T14:50:46Z",
            "html_url": "https://github.com/neovim/neovim/pull/20158#issuecomment-2554420560",
            "id": 2554420560,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/20158",
            "node_id": "IC_kwDOAPphoM6YQV1Q",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2554420560/reactions"
            },
            "updated_at": "2024-12-19T14:50:46Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2554420560",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        }
    ],
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/20158/comments",
    "commits_url": "https://api.github.com/repos/neovim/neovim/pulls/20158/commits",
    "created_at": "2022-09-11T18:20:27Z",
    "diff_url": "https://github.com/neovim/neovim/pull/20158.diff",
    "draft": false,
    "head": {
        "label": "AckslD:get_range_text",
        "ref": "get_range_text",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/AckslD/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/AckslD/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/AckslD/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/AckslD/neovim/branches{/branch}",
            "clone_url": "https://github.com/AckslD/neovim.git",
            "collaborators_url": "https://api.github.com/repos/AckslD/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/AckslD/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/AckslD/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/AckslD/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/AckslD/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/AckslD/neovim/contributors",
            "created_at": "2021-12-16T17:45:56Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/AckslD/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/AckslD/neovim/downloads",
            "events_url": "https://api.github.com/repos/AckslD/neovim/events",
            "fork": true,
            "forks": 0,
            "forks_count": 0,
            "forks_url": "https://api.github.com/repos/AckslD/neovim/forks",
            "full_name": "AckslD/neovim",
            "git_commits_url": "https://api.github.com/repos/AckslD/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/AckslD/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/AckslD/neovim/git/tags{/sha}",
            "git_url": "git://github.com/AckslD/neovim.git",
            "has_discussions": false,
            "has_downloads": true,
            "has_issues": false,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/AckslD/neovim/hooks",
            "html_url": "https://github.com/AckslD/neovim",
            "id": 439078469,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/AckslD/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/AckslD/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/AckslD/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/AckslD/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/AckslD/neovim/labels{/name}",
            "language": null,
            "languages_url": "https://api.github.com/repos/AckslD/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/AckslD/neovim/merges",
            "milestones_url": "https://api.github.com/repos/AckslD/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "R_kgDOGivORQ",
            "notifications_url": "https://api.github.com/repos/AckslD/neovim/notifications{?since,all,participating}",
            "open_issues": 0,
            "open_issues_count": 0,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/23341710?v=4",
                "events_url": "https://api.github.com/users/AckslD/events{/privacy}",
                "followers_url": "https://api.github.com/users/AckslD/followers",
                "following_url": "https://api.github.com/users/AckslD/following{/other_user}",
                "gists_url": "https://api.github.com/users/AckslD/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/AckslD",
                "id": 23341710,
                "login": "AckslD",
                "node_id": "MDQ6VXNlcjIzMzQxNzEw",
                "organizations_url": "https://api.github.com/users/AckslD/orgs",
                "received_events_url": "https://api.github.com/users/AckslD/received_events",
                "repos_url": "https://api.github.com/users/AckslD/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/AckslD/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/AckslD/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/AckslD",
                "user_view_type": "public"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/AckslD/neovim/pulls{/number}",
            "pushed_at": "2022-09-20T11:15:59Z",
            "releases_url": "https://api.github.com/repos/AckslD/neovim/releases{/id}",
            "size": 196619,
            "ssh_url": "git@github.com:AckslD/neovim.git",
            "stargazers_count": 0,
            "stargazers_url": "https://api.github.com/repos/AckslD/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/AckslD/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/AckslD/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/AckslD/neovim/subscription",
            "svn_url": "https://github.com/AckslD/neovim",
            "tags_url": "https://api.github.com/repos/AckslD/neovim/tags",
            "teams_url": "https://api.github.com/repos/AckslD/neovim/teams",
            "topics": [],
            "trees_url": "https://api.github.com/repos/AckslD/neovim/git/trees{/sha}",
            "updated_at": "2021-12-16T17:45:57Z",
            "url": "https://api.github.com/repos/AckslD/neovim",
            "visibility": "public",
            "watchers": 0,
            "watchers_count": 0,
            "web_commit_signoff_required": false
        },
        "sha": "31f441b8e74b543c1555f4608a6274926cf24c8f",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/23341710?v=4",
            "events_url": "https://api.github.com/users/AckslD/events{/privacy}",
            "followers_url": "https://api.github.com/users/AckslD/followers",
            "following_url": "https://api.github.com/users/AckslD/following{/other_user}",
            "gists_url": "https://api.github.com/users/AckslD/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/AckslD",
            "id": 23341710,
            "login": "AckslD",
            "node_id": "MDQ6VXNlcjIzMzQxNzEw",
            "organizations_url": "https://api.github.com/users/AckslD/orgs",
            "received_events_url": "https://api.github.com/users/AckslD/received_events",
            "repos_url": "https://api.github.com/users/AckslD/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/AckslD/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/AckslD/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/AckslD",
            "user_view_type": "public"
        }
    },
    "html_url": "https://github.com/neovim/neovim/pull/20158",
    "id": 1052566388,
    "issue_url": "https://api.github.com/repos/neovim/neovim/issues/20158",
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": "",
            "id": 1799626557,
            "name": "treesitter",
            "node_id": "MDU6TGFiZWwxNzk5NjI2NTU3",
            "url": "https://api.github.com/repos/neovim/neovim/labels/treesitter"
        }
    ],
    "locked": false,
    "merge_commit_sha": null,
    "merged_at": null,
    "milestone": null,
    "node_id": "PR_kwDOAPphoM4-vON0",
    "number": 20158,
    "patch_url": "https://github.com/neovim/neovim/pull/20158.patch",
    "requested_reviewers": [],
    "requested_teams": [],
    "review_comment_url": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}",
    "review_comments_url": "https://api.github.com/repos/neovim/neovim/pulls/20158/comments",
    "state": "closed",
    "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/31f441b8e74b543c1555f4608a6274926cf24c8f",
    "title": "feat(query): extracts get_range_text from get_node_text",
    "updated_at": "2024-12-19T14:51:03Z",
    "url": "https://api.github.com/repos/neovim/neovim/pulls/20158",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/23341710?v=4",
        "events_url": "https://api.github.com/users/AckslD/events{/privacy}",
        "followers_url": "https://api.github.com/users/AckslD/followers",
        "following_url": "https://api.github.com/users/AckslD/following{/other_user}",
        "gists_url": "https://api.github.com/users/AckslD/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/AckslD",
        "id": 23341710,
        "login": "AckslD",
        "node_id": "MDQ6VXNlcjIzMzQxNzEw",
        "organizations_url": "https://api.github.com/users/AckslD/orgs",
        "received_events_url": "https://api.github.com/users/AckslD/received_events",
        "repos_url": "https://api.github.com/users/AckslD/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/AckslD/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/AckslD/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/AckslD",
        "user_view_type": "public"
    }
}