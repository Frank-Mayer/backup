{
    "_links": {
        "comments": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/28713/comments"
        },
        "commits": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/28713/commits"
        },
        "html": {
            "href": "https://github.com/neovim/neovim/pull/28713"
        },
        "issue": {
            "href": "https://api.github.com/repos/neovim/neovim/issues/28713"
        },
        "review_comment": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}"
        },
        "review_comments": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/28713/comments"
        },
        "self": {
            "href": "https://api.github.com/repos/neovim/neovim/pulls/28713"
        },
        "statuses": {
            "href": "https://api.github.com/repos/neovim/neovim/statuses/53f97eb0575c0c0de442eced8bde39d795a1224b"
        }
    },
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "auto_merge": null,
    "base": {
        "label": "neovim:master",
        "ref": "master",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/neovim/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/neovim/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/neovim/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/neovim/neovim/branches{/branch}",
            "clone_url": "https://github.com/neovim/neovim.git",
            "collaborators_url": "https://api.github.com/repos/neovim/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/neovim/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/neovim/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/neovim/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/neovim/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/neovim/neovim/contributors",
            "created_at": "2014-01-31T13:39:22Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/neovim/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/neovim/neovim/downloads",
            "events_url": "https://api.github.com/repos/neovim/neovim/events",
            "fork": false,
            "forks": 5317,
            "forks_count": 5317,
            "forks_url": "https://api.github.com/repos/neovim/neovim/forks",
            "full_name": "neovim/neovim",
            "git_commits_url": "https://api.github.com/repos/neovim/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/neovim/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/neovim/neovim/git/tags{/sha}",
            "git_url": "git://github.com/neovim/neovim.git",
            "has_discussions": true,
            "has_downloads": true,
            "has_issues": true,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/neovim/neovim/hooks",
            "html_url": "https://github.com/neovim/neovim",
            "id": 16408992,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/neovim/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/neovim/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/neovim/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/neovim/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/neovim/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/neovim/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/neovim/neovim/merges",
            "milestones_url": "https://api.github.com/repos/neovim/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "MDEwOlJlcG9zaXRvcnkxNjQwODk5Mg==",
            "notifications_url": "https://api.github.com/repos/neovim/neovim/notifications{?since,all,participating}",
            "open_issues": 1721,
            "open_issues_count": 1721,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
                "events_url": "https://api.github.com/users/neovim/events{/privacy}",
                "followers_url": "https://api.github.com/users/neovim/followers",
                "following_url": "https://api.github.com/users/neovim/following{/other_user}",
                "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/neovim",
                "id": 6471485,
                "login": "neovim",
                "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
                "organizations_url": "https://api.github.com/users/neovim/orgs",
                "received_events_url": "https://api.github.com/users/neovim/received_events",
                "repos_url": "https://api.github.com/users/neovim/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
                "type": "Organization",
                "url": "https://api.github.com/users/neovim"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/neovim/neovim/pulls{/number}",
            "pushed_at": "2024-05-14T00:42:07Z",
            "releases_url": "https://api.github.com/repos/neovim/neovim/releases{/id}",
            "size": 269835,
            "ssh_url": "git@github.com:neovim/neovim.git",
            "stargazers_count": 77016,
            "stargazers_url": "https://api.github.com/repos/neovim/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/neovim/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/neovim/neovim/subscription",
            "svn_url": "https://github.com/neovim/neovim",
            "tags_url": "https://api.github.com/repos/neovim/neovim/tags",
            "teams_url": "https://api.github.com/repos/neovim/neovim/teams",
            "topics": [
                "api",
                "c",
                "lua",
                "neovim",
                "nvim",
                "text-editor",
                "vim"
            ],
            "trees_url": "https://api.github.com/repos/neovim/neovim/git/trees{/sha}",
            "updated_at": "2024-05-14T00:39:42Z",
            "url": "https://api.github.com/repos/neovim/neovim",
            "visibility": "public",
            "watchers": 77016,
            "watchers_count": 77016,
            "web_commit_signoff_required": false
        },
        "sha": "b6fdde5224250ec5dc3d5dcfec32d62a887173ff",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/6471485?v=4",
            "events_url": "https://api.github.com/users/neovim/events{/privacy}",
            "followers_url": "https://api.github.com/users/neovim/followers",
            "following_url": "https://api.github.com/users/neovim/following{/other_user}",
            "gists_url": "https://api.github.com/users/neovim/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/neovim",
            "id": 6471485,
            "login": "neovim",
            "node_id": "MDEyOk9yZ2FuaXphdGlvbjY0NzE0ODU=",
            "organizations_url": "https://api.github.com/users/neovim/orgs",
            "received_events_url": "https://api.github.com/users/neovim/received_events",
            "repos_url": "https://api.github.com/users/neovim/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/neovim/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/neovim/subscriptions",
            "type": "Organization",
            "url": "https://api.github.com/users/neovim"
        }
    },
    "body": "Problem:  Fix added in #28676 worked accidentally(used variables were\r\n          themselves uninitialized at this point during startup) and\r\n          does not always work.\r\nSolution: Reset attributes when clearing regions during startup.",
    "closed_at": null,
    "comment_data": [
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/28713#discussion_r1597527633"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/28713"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1597527633"
                }
            },
            "author_association": "MEMBER",
            "body": "Looked at this one more time because I still felt uneasy with some inexplicable debugging I did before. #28676 only worked accidentally for 'termguicolors' because `normal_bg` is initialized to -1, whereas its cterm counterpart is initialized to 0 and still produced a black screen for the added test here(both are still at their init value during startup...).\r\n\r\nAgain not sure about the validity/usefulness of this test. IDK why it produces `^m` here, but it does fail on master where that `m` dissapears and there is no further difference in the test output.",
            "commit_id": "53f97eb0575c0c0de442eced8bde39d795a1224b",
            "created_at": "2024-05-12T00:40:19Z",
            "diff_hunk": "@@ -2003,38 +2003,49 @@ describe('TUI', function()\n     ]])\n   end)\n \n-  it('invalidated regions are cleared with terminal background attr', function()\n-    local screen = Screen.new(50, 10)\n-    screen:set_default_attr_ids({ [1] = { foreground = Screen.colors.Black } })\n-    screen:attach()\n-    fn.termopen({\n-      nvim_prog,\n-      '--clean',\n-      '--cmd',\n-      'set termguicolors',\n-      '--cmd',\n-      'sleep 10',\n-    }, {\n-      env = {\n-        VIMRUNTIME = os.getenv('VIMRUNTIME'),\n-      },\n-    })\n-    screen:expect({\n-      grid = [[\n-        {1:^                                                  }|\n-        {1:                                                  }|*8\n-                                                          |\n-      ]],\n-    })\n-    screen:try_resize(51, 11)\n-    screen:expect({\n-      grid = [[\n-        {1:^                                                   }|\n-        {1:                                                   }|*9\n-                                                           |\n-      ]],\n-    })\n-  end)\n+  for i, guicolors in ipairs({ \"notermguicolors\", \"termguicolors\" }) do\n+    it('has no black flicker when clearing regions during startup with ' .. guicolors, function()\n+      local screen = Screen.new(50, 10)\n+      screen:set_default_attr_ids({\n+        [1] = { foreground = Screen.colors.Black },\n+        [2] = { reverse = true },\n+      })\n+      screen:attach()\n+      fn.termopen({\n+        nvim_prog,\n+        '--clean',\n+        '--cmd',\n+        'set ' .. guicolors,\n+        '--cmd',\n+        'sleep 2',\n+      }, {\n+        env = {\n+          VIMRUNTIME = os.getenv('VIMRUNTIME'),\n+        },\n+      })\n+      screen:expect({\n+        grid = i == 1 and [[\n+          ^m                                                 |",
            "html_url": "https://github.com/neovim/neovim/pull/28713#discussion_r1597527633",
            "id": 1597527633,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5fOFZR",
            "original_commit_id": "6c7cc06a6105dcbbac8dab736ccc23219232d1fc",
            "original_line": 2028,
            "original_position": 58,
            "original_start_line": null,
            "path": "test/functional/terminal/tui_spec.lua",
            "position": null,
            "pull_request_review_id": 2051272313,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/28713",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1597527633/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-05-12T00:47:33Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1597527633",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/28713#discussion_r1597642766"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/28713"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1597642766"
                }
            },
            "author_association": "MEMBER",
            "body": "\r\n```suggestion\r\n\r\n  // Setting the default colors is delayed until after startup to avoid flickering\r\n  // with the default colorscheme background. Consequently, any flush that happens\r\n  // during startup would result in clearing invalidated regions with zeroed\r\n  // clear_attrs, perceived as a black flicker. Initialize clear_attrs with -1\r\n  // instead to make clear_region()->update_attrs() use the current terminal background.\r\n  // #28667 #28668\r\n```",
            "commit_id": "53f97eb0575c0c0de442eced8bde39d795a1224b",
            "created_at": "2024-05-12T13:55:18Z",
            "diff_hunk": "@@ -166,14 +166,13 @@ void tui_start(TUIData **tui_p, int *width, int *height, char **term, bool *rgb)\n   tui->seen_error_exit = 0;\n   tui->loop = &main_loop;\n   tui->url = -1;\n-  // Because setting the default colors is delayed until after startup to avoid\n-  // flickering with the default colorscheme background, any flush that happens\n-  // during startup in turn would result in clearing invalidated regions with\n-  // uninitialized attrs(black). Instead initialize clear_attrs with current\n-  // terminal background so that it is at least not perceived as flickering, even\n-  // though it may be different from the colorscheme that is set during startup.\n-  tui->clear_attrs.rgb_bg_color = normal_bg;\n-  tui->clear_attrs.cterm_bg_color = (int16_t)cterm_normal_bg_color;\n+  // Setting the default colors is delayed until after startup to avoid flickering\n+  // with the default colorscheme background. Consequently, any flush that happens\n+  // during startup would result in clearing invalidated regions with zeroed\n+  // clear_attrs, perceived as a black flicker. Initialize clear_attrs with -1\n+  // instead to make clear_region()->update_attrs() use the current terminal background.",
            "html_url": "https://github.com/neovim/neovim/pull/28713#discussion_r1597642766",
            "id": 1597642766,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5fOhgO",
            "original_commit_id": "01666957b11467e8bc1ef4330477fb08be9d7ef8",
            "original_line": 173,
            "original_position": 16,
            "original_start_line": 169,
            "path": "src/nvim/tui/tui.c",
            "position": null,
            "pull_request_review_id": 2051383147,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/28713",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1597642766/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": "RIGHT",
            "subject_type": "line",
            "updated_at": "2024-05-12T14:02:19Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1597642766",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8965202?v=4",
                "events_url": "https://api.github.com/users/gpanders/events{/privacy}",
                "followers_url": "https://api.github.com/users/gpanders/followers",
                "following_url": "https://api.github.com/users/gpanders/following{/other_user}",
                "gists_url": "https://api.github.com/users/gpanders/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/gpanders",
                "id": 8965202,
                "login": "gpanders",
                "node_id": "MDQ6VXNlcjg5NjUyMDI=",
                "organizations_url": "https://api.github.com/users/gpanders/orgs",
                "received_events_url": "https://api.github.com/users/gpanders/received_events",
                "repos_url": "https://api.github.com/users/gpanders/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/gpanders/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/gpanders/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/gpanders"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/28713#discussion_r1597643315"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/28713"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1597643315"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n    it('has no black flicker when clearing regions during startup with ' .. guicolors .. ' #28667 #28668', function()\r\n```",
            "commit_id": "53f97eb0575c0c0de442eced8bde39d795a1224b",
            "created_at": "2024-05-12T13:57:42Z",
            "diff_hunk": "@@ -2003,38 +2003,49 @@ describe('TUI', function()\n     ]])\n   end)\n \n-  it('invalidated regions are cleared with terminal background attr', function()\n-    local screen = Screen.new(50, 10)\n-    screen:set_default_attr_ids({ [1] = { foreground = Screen.colors.Black } })\n-    screen:attach()\n-    fn.termopen({\n-      nvim_prog,\n-      '--clean',\n-      '--cmd',\n-      'set termguicolors',\n-      '--cmd',\n-      'sleep 10',\n-    }, {\n-      env = {\n-        VIMRUNTIME = os.getenv('VIMRUNTIME'),\n-      },\n-    })\n-    screen:expect({\n-      grid = [[\n-        {1:^                                                  }|\n-        {1:                                                  }|*8\n-                                                          |\n-      ]],\n-    })\n-    screen:try_resize(51, 11)\n-    screen:expect({\n-      grid = [[\n-        {1:^                                                   }|\n-        {1:                                                   }|*9\n-                                                           |\n-      ]],\n-    })\n-  end)\n+  for i, guicolors in ipairs({ 'notermguicolors', 'termguicolors' }) do\n+    it('has no black flicker when clearing regions during startup with ' .. guicolors, function()",
            "html_url": "https://github.com/neovim/neovim/pull/28713#discussion_r1597643315",
            "id": 1597643315,
            "line": 2008,
            "node_id": "PRRC_kwDOAPphoM5fOhoz",
            "original_commit_id": "01666957b11467e8bc1ef4330477fb08be9d7ef8",
            "original_line": 2008,
            "original_position": 37,
            "original_start_line": null,
            "path": "test/functional/terminal/tui_spec.lua",
            "position": 38,
            "pull_request_review_id": 2051383147,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/28713",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1597643315/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-05-12T14:02:19Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1597643315",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8965202?v=4",
                "events_url": "https://api.github.com/users/gpanders/events{/privacy}",
                "followers_url": "https://api.github.com/users/gpanders/followers",
                "following_url": "https://api.github.com/users/gpanders/following{/other_user}",
                "gists_url": "https://api.github.com/users/gpanders/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/gpanders",
                "id": 8965202,
                "login": "gpanders",
                "node_id": "MDQ6VXNlcjg5NjUyMDI=",
                "organizations_url": "https://api.github.com/users/gpanders/orgs",
                "received_events_url": "https://api.github.com/users/gpanders/received_events",
                "repos_url": "https://api.github.com/users/gpanders/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/gpanders/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/gpanders/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/gpanders"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/28713#discussion_r1597644029"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/28713"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1597644029"
                }
            },
            "author_association": "MEMBER",
            "body": "Should this be `0` instead? In `update_attrs` we have:\r\n\r\n```c\r\n    bg = (attrs.cterm_bg_color\r\n          ? attrs.cterm_bg_color - 1 : (tui->clear_attrs.cterm_bg_color - 1));\r\n    if (bg != -1) {\r\n      UNIBI_SET_NUM_VAR(tui->params[0], bg);\r\n      unibi_out(tui, unibi_set_a_background);\r\n    }\r\n```\r\n\r\nBut if `clear_attrs.cterm_bg_color` is `-1,` then `bg` ends up being `-2`, the `if` condition fails, and we still write a sequence to the terminal. It's a nonsense sequence, but it explains the `m` character (if I change `cterm_bg_color` to `0`, the test you wrote fails because the `m` is missing).",
            "commit_id": "53f97eb0575c0c0de442eced8bde39d795a1224b",
            "created_at": "2024-05-12T14:02:08Z",
            "diff_hunk": "@@ -166,14 +166,13 @@ void tui_start(TUIData **tui_p, int *width, int *height, char **term, bool *rgb)\n   tui->seen_error_exit = 0;\n   tui->loop = &main_loop;\n   tui->url = -1;\n-  // Because setting the default colors is delayed until after startup to avoid\n-  // flickering with the default colorscheme background, any flush that happens\n-  // during startup in turn would result in clearing invalidated regions with\n-  // uninitialized attrs(black). Instead initialize clear_attrs with current\n-  // terminal background so that it is at least not perceived as flickering, even\n-  // though it may be different from the colorscheme that is set during startup.\n-  tui->clear_attrs.rgb_bg_color = normal_bg;\n-  tui->clear_attrs.cterm_bg_color = (int16_t)cterm_normal_bg_color;\n+  // Setting the default colors is delayed until after startup to avoid flickering\n+  // with the default colorscheme background. Consequently, any flush that happens\n+  // during startup would result in clearing invalidated regions with zeroed\n+  // clear_attrs, perceived as a black flicker. Initialize clear_attrs with -1\n+  // instead to make clear_region()->update_attrs() use the current terminal background.\n+  tui->clear_attrs.cterm_bg_color = -1;",
            "html_url": "https://github.com/neovim/neovim/pull/28713#discussion_r1597644029",
            "id": 1597644029,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5fOhz9",
            "original_commit_id": "01666957b11467e8bc1ef4330477fb08be9d7ef8",
            "original_line": 174,
            "original_position": 17,
            "original_start_line": null,
            "path": "src/nvim/tui/tui.c",
            "position": null,
            "pull_request_review_id": 2051383147,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/28713",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1597644029/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-05-12T14:02:19Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1597644029",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8965202?v=4",
                "events_url": "https://api.github.com/users/gpanders/events{/privacy}",
                "followers_url": "https://api.github.com/users/gpanders/followers",
                "following_url": "https://api.github.com/users/gpanders/following{/other_user}",
                "gists_url": "https://api.github.com/users/gpanders/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/gpanders",
                "id": 8965202,
                "login": "gpanders",
                "node_id": "MDQ6VXNlcjg5NjUyMDI=",
                "organizations_url": "https://api.github.com/users/gpanders/orgs",
                "received_events_url": "https://api.github.com/users/gpanders/received_events",
                "repos_url": "https://api.github.com/users/gpanders/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/gpanders/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/gpanders/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/gpanders"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/28713#discussion_r1597652863"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/28713"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1597652863"
                }
            },
            "author_association": "MEMBER",
            "body": "Yeah this seemed suspect to me as well, and although what you say seems to make sense, my changes were result driven. If I set it to `0` I can still reproduce a black screen with `set notermguicolors` during startup. But I guess the nonsense sequence and `^m` result means the fix should be further tweaked still...",
            "commit_id": "53f97eb0575c0c0de442eced8bde39d795a1224b",
            "created_at": "2024-05-12T14:52:49Z",
            "diff_hunk": "@@ -166,14 +166,13 @@ void tui_start(TUIData **tui_p, int *width, int *height, char **term, bool *rgb)\n   tui->seen_error_exit = 0;\n   tui->loop = &main_loop;\n   tui->url = -1;\n-  // Because setting the default colors is delayed until after startup to avoid\n-  // flickering with the default colorscheme background, any flush that happens\n-  // during startup in turn would result in clearing invalidated regions with\n-  // uninitialized attrs(black). Instead initialize clear_attrs with current\n-  // terminal background so that it is at least not perceived as flickering, even\n-  // though it may be different from the colorscheme that is set during startup.\n-  tui->clear_attrs.rgb_bg_color = normal_bg;\n-  tui->clear_attrs.cterm_bg_color = (int16_t)cterm_normal_bg_color;\n+  // Setting the default colors is delayed until after startup to avoid flickering\n+  // with the default colorscheme background. Consequently, any flush that happens\n+  // during startup would result in clearing invalidated regions with zeroed\n+  // clear_attrs, perceived as a black flicker. Initialize clear_attrs with -1\n+  // instead to make clear_region()->update_attrs() use the current terminal background.\n+  tui->clear_attrs.cterm_bg_color = -1;",
            "html_url": "https://github.com/neovim/neovim/pull/28713#discussion_r1597652863",
            "id": 1597652863,
            "in_reply_to_id": 1597644029,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5fOj9_",
            "original_commit_id": "01666957b11467e8bc1ef4330477fb08be9d7ef8",
            "original_line": 174,
            "original_position": 17,
            "original_start_line": null,
            "path": "src/nvim/tui/tui.c",
            "position": null,
            "pull_request_review_id": 2051392448,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/28713",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1597652863/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-05-12T14:58:37Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1597652863",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/28713#discussion_r1597654775"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/28713"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1597654775"
                }
            },
            "author_association": "MEMBER",
            "body": ">If I set it to 0 I can still reproduce a black screen with set notermguicolors during startup.\r\n\r\nInteresting, I cannot, and have never been able to, even before #28676. What are you doing to reproduce it? I am using\r\n\r\n```vim\r\nset notgc\r\ncolorscheme blue\r\nau VimEnter * sleep 1\r\n```\r\n\r\nwith `nvim --clean -u init.vim` and see no black screen (before and after #28676). If I remove `set notgc` then I see the black screen before #28676 but not after.",
            "commit_id": "53f97eb0575c0c0de442eced8bde39d795a1224b",
            "created_at": "2024-05-12T15:04:06Z",
            "diff_hunk": "@@ -166,14 +166,13 @@ void tui_start(TUIData **tui_p, int *width, int *height, char **term, bool *rgb)\n   tui->seen_error_exit = 0;\n   tui->loop = &main_loop;\n   tui->url = -1;\n-  // Because setting the default colors is delayed until after startup to avoid\n-  // flickering with the default colorscheme background, any flush that happens\n-  // during startup in turn would result in clearing invalidated regions with\n-  // uninitialized attrs(black). Instead initialize clear_attrs with current\n-  // terminal background so that it is at least not perceived as flickering, even\n-  // though it may be different from the colorscheme that is set during startup.\n-  tui->clear_attrs.rgb_bg_color = normal_bg;\n-  tui->clear_attrs.cterm_bg_color = (int16_t)cterm_normal_bg_color;\n+  // Setting the default colors is delayed until after startup to avoid flickering\n+  // with the default colorscheme background. Consequently, any flush that happens\n+  // during startup would result in clearing invalidated regions with zeroed\n+  // clear_attrs, perceived as a black flicker. Initialize clear_attrs with -1\n+  // instead to make clear_region()->update_attrs() use the current terminal background.\n+  tui->clear_attrs.cterm_bg_color = -1;",
            "html_url": "https://github.com/neovim/neovim/pull/28713#discussion_r1597654775",
            "id": 1597654775,
            "in_reply_to_id": 1597644029,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5fOkb3",
            "original_commit_id": "01666957b11467e8bc1ef4330477fb08be9d7ef8",
            "original_line": 174,
            "original_position": 17,
            "original_start_line": null,
            "path": "src/nvim/tui/tui.c",
            "position": null,
            "pull_request_review_id": 2051394117,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/28713",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1597654775/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-05-12T15:04:07Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1597654775",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8965202?v=4",
                "events_url": "https://api.github.com/users/gpanders/events{/privacy}",
                "followers_url": "https://api.github.com/users/gpanders/followers",
                "following_url": "https://api.github.com/users/gpanders/following{/other_user}",
                "gists_url": "https://api.github.com/users/gpanders/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/gpanders",
                "id": 8965202,
                "login": "gpanders",
                "node_id": "MDQ6VXNlcjg5NjUyMDI=",
                "organizations_url": "https://api.github.com/users/gpanders/orgs",
                "received_events_url": "https://api.github.com/users/gpanders/received_events",
                "repos_url": "https://api.github.com/users/gpanders/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/gpanders/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/gpanders/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/gpanders"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/28713#discussion_r1597657239"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/28713"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1597657239"
                }
            },
            "author_association": "MEMBER",
            "body": "Hmm just realized it may not be possible to reproduce on master. I first noticed it after rebasing my ext_ui branch and debugged it there. You can reproduce it by applying this diff(EDITED to simpler repro, anything that calls `ui_flush()` in `_defaults.lua` would cause this):\r\n```diff\r\ndiff --git a/runtime/lua/vim/_defaults.lua b/runtime/lua/vim/_defaults.lua\r\nindex 4684902410..fd47efbbe8 100644\r\n--- a/runtime/lua/vim/_defaults.lua\r\n+++ b/runtime/lua/vim/_defaults.lua\r\n@@ -1,3 +1,4 @@\r\n+vim.cmd.redrawtabline()\r\n --- Default user commands\r\n do\r\n   vim.api.nvim_create_user_command('Inspect', function(cmd)\r\n```\r\n\r\nand running\r\n\r\n    build/bin/nvim --clean +\"se notermguicolors\" +\"sleep 2\"\r\n\r\nThe timing of `nlua_init_defaults()`(which is earlier and where I run `vim.ui_attach` currently on that branch) vs startup cmd/scripts parsing seems significant here.\r\n\r\nNot sure what that means, just noticed that `-1` gets rid of the black screen also in that case, but as it turns out for the wrong reasons. Still would like to look for a way that also prevents black screen in that case if possible.",
            "commit_id": "53f97eb0575c0c0de442eced8bde39d795a1224b",
            "created_at": "2024-05-12T15:19:38Z",
            "diff_hunk": "@@ -166,14 +166,13 @@ void tui_start(TUIData **tui_p, int *width, int *height, char **term, bool *rgb)\n   tui->seen_error_exit = 0;\n   tui->loop = &main_loop;\n   tui->url = -1;\n-  // Because setting the default colors is delayed until after startup to avoid\n-  // flickering with the default colorscheme background, any flush that happens\n-  // during startup in turn would result in clearing invalidated regions with\n-  // uninitialized attrs(black). Instead initialize clear_attrs with current\n-  // terminal background so that it is at least not perceived as flickering, even\n-  // though it may be different from the colorscheme that is set during startup.\n-  tui->clear_attrs.rgb_bg_color = normal_bg;\n-  tui->clear_attrs.cterm_bg_color = (int16_t)cterm_normal_bg_color;\n+  // Setting the default colors is delayed until after startup to avoid flickering\n+  // with the default colorscheme background. Consequently, any flush that happens\n+  // during startup would result in clearing invalidated regions with zeroed\n+  // clear_attrs, perceived as a black flicker. Initialize clear_attrs with -1\n+  // instead to make clear_region()->update_attrs() use the current terminal background.\n+  tui->clear_attrs.cterm_bg_color = -1;",
            "html_url": "https://github.com/neovim/neovim/pull/28713#discussion_r1597657239",
            "id": 1597657239,
            "in_reply_to_id": 1597644029,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5fOlCX",
            "original_commit_id": "01666957b11467e8bc1ef4330477fb08be9d7ef8",
            "original_line": 174,
            "original_position": 17,
            "original_start_line": null,
            "path": "src/nvim/tui/tui.c",
            "position": null,
            "pull_request_review_id": 2051396310,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/28713",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1597657239/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-05-12T16:53:08Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1597657239",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/28713#discussion_r1597675969"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/28713"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1597675969"
                }
            },
            "author_association": "MEMBER",
            "body": "I still cannot reproduce the black screen with your patch using your command. The screen maintains my terminal's background color the whole time.",
            "commit_id": "53f97eb0575c0c0de442eced8bde39d795a1224b",
            "created_at": "2024-05-12T16:59:08Z",
            "diff_hunk": "@@ -166,14 +166,13 @@ void tui_start(TUIData **tui_p, int *width, int *height, char **term, bool *rgb)\n   tui->seen_error_exit = 0;\n   tui->loop = &main_loop;\n   tui->url = -1;\n-  // Because setting the default colors is delayed until after startup to avoid\n-  // flickering with the default colorscheme background, any flush that happens\n-  // during startup in turn would result in clearing invalidated regions with\n-  // uninitialized attrs(black). Instead initialize clear_attrs with current\n-  // terminal background so that it is at least not perceived as flickering, even\n-  // though it may be different from the colorscheme that is set during startup.\n-  tui->clear_attrs.rgb_bg_color = normal_bg;\n-  tui->clear_attrs.cterm_bg_color = (int16_t)cterm_normal_bg_color;\n+  // Setting the default colors is delayed until after startup to avoid flickering\n+  // with the default colorscheme background. Consequently, any flush that happens\n+  // during startup would result in clearing invalidated regions with zeroed\n+  // clear_attrs, perceived as a black flicker. Initialize clear_attrs with -1\n+  // instead to make clear_region()->update_attrs() use the current terminal background.\n+  tui->clear_attrs.cterm_bg_color = -1;",
            "html_url": "https://github.com/neovim/neovim/pull/28713#discussion_r1597675969",
            "id": 1597675969,
            "in_reply_to_id": 1597644029,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5fOpnB",
            "original_commit_id": "01666957b11467e8bc1ef4330477fb08be9d7ef8",
            "original_line": 174,
            "original_position": 17,
            "original_start_line": null,
            "path": "src/nvim/tui/tui.c",
            "position": null,
            "pull_request_review_id": 2051417784,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/28713",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1597675969/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-05-12T16:59:08Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1597675969",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8965202?v=4",
                "events_url": "https://api.github.com/users/gpanders/events{/privacy}",
                "followers_url": "https://api.github.com/users/gpanders/followers",
                "following_url": "https://api.github.com/users/gpanders/following{/other_user}",
                "gists_url": "https://api.github.com/users/gpanders/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/gpanders",
                "id": 8965202,
                "login": "gpanders",
                "node_id": "MDQ6VXNlcjg5NjUyMDI=",
                "organizations_url": "https://api.github.com/users/gpanders/orgs",
                "received_events_url": "https://api.github.com/users/gpanders/received_events",
                "repos_url": "https://api.github.com/users/gpanders/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/gpanders/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/gpanders/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/gpanders"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/28713#discussion_r1597676902"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/28713"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1597676902"
                }
            },
            "author_association": "MEMBER",
            "body": "Hmm no looking at `main.c` the fact that this is executed in `_defaults.lua` seems irrelevant. Should be able to reproduce this with `--cmd`/`+` as well.\r\n\r\nStill unsure about what was going on here but I changed the fix yet again to one that works in all cases and I think makes (more) sense.",
            "commit_id": "53f97eb0575c0c0de442eced8bde39d795a1224b",
            "created_at": "2024-05-12T17:06:19Z",
            "diff_hunk": "@@ -166,14 +166,13 @@ void tui_start(TUIData **tui_p, int *width, int *height, char **term, bool *rgb)\n   tui->seen_error_exit = 0;\n   tui->loop = &main_loop;\n   tui->url = -1;\n-  // Because setting the default colors is delayed until after startup to avoid\n-  // flickering with the default colorscheme background, any flush that happens\n-  // during startup in turn would result in clearing invalidated regions with\n-  // uninitialized attrs(black). Instead initialize clear_attrs with current\n-  // terminal background so that it is at least not perceived as flickering, even\n-  // though it may be different from the colorscheme that is set during startup.\n-  tui->clear_attrs.rgb_bg_color = normal_bg;\n-  tui->clear_attrs.cterm_bg_color = (int16_t)cterm_normal_bg_color;\n+  // Setting the default colors is delayed until after startup to avoid flickering\n+  // with the default colorscheme background. Consequently, any flush that happens\n+  // during startup would result in clearing invalidated regions with zeroed\n+  // clear_attrs, perceived as a black flicker. Initialize clear_attrs with -1\n+  // instead to make clear_region()->update_attrs() use the current terminal background.\n+  tui->clear_attrs.cterm_bg_color = -1;",
            "html_url": "https://github.com/neovim/neovim/pull/28713#discussion_r1597676902",
            "id": 1597676902,
            "in_reply_to_id": 1597644029,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5fOp1m",
            "original_commit_id": "01666957b11467e8bc1ef4330477fb08be9d7ef8",
            "original_line": 174,
            "original_position": 17,
            "original_start_line": null,
            "path": "src/nvim/tui/tui.c",
            "position": null,
            "pull_request_review_id": 2051418568,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/28713",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1597676902/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-05-13T17:06:01Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1597676902",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/28713#discussion_r1597750785"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/28713"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1597750785"
                }
            },
            "author_association": "MEMBER",
            "body": "```suggestion\r\n        intermediate = true,\r\n```",
            "commit_id": "53f97eb0575c0c0de442eced8bde39d795a1224b",
            "created_at": "2024-05-13T00:25:27Z",
            "diff_hunk": "@@ -2003,38 +2003,43 @@ describe('TUI', function()\n     ]])\n   end)\n \n-  it('invalidated regions are cleared with terminal background attr', function()\n-    local screen = Screen.new(50, 10)\n-    screen:set_default_attr_ids({ [1] = { foreground = Screen.colors.Black } })\n-    screen:attach()\n-    fn.termopen({\n-      nvim_prog,\n-      '--clean',\n-      '--cmd',\n-      'set termguicolors',\n-      '--cmd',\n-      'sleep 10',\n-    }, {\n-      env = {\n-        VIMRUNTIME = os.getenv('VIMRUNTIME'),\n-      },\n-    })\n-    screen:expect({\n-      grid = [[\n-        {1:^                                                  }|\n-        {1:                                                  }|*8\n-                                                          |\n-      ]],\n-    })\n-    screen:try_resize(51, 11)\n-    screen:expect({\n-      grid = [[\n-        {1:^                                                   }|\n-        {1:                                                   }|*9\n-                                                           |\n-      ]],\n-    })\n-  end)\n+  -- #28667, #28668\n+  for _, guicolors in ipairs({ 'notermguicolors', 'termguicolors' }) do\n+    it('has no black flicker when clearing regions during startup with ' .. guicolors, function()\n+      local screen = Screen.new(50, 10)\n+      screen:set_default_attr_ids({\n+        [1] = { foreground = Screen.colors.Black },\n+        [2] = { reverse = true },\n+      })\n+      screen:attach()\n+      fn.termopen({\n+        nvim_prog,\n+        '--clean',\n+        '--cmd',\n+        'set ' .. guicolors,\n+        '--cmd',\n+        'sleep 10',\n+      }, {\n+        env = {\n+          VIMRUNTIME = os.getenv('VIMRUNTIME'),\n+        },\n+      })\n+      screen:expect({\n+        grid = [[\n+          ^                                                  |\n+                                                            |*9\n+        ]],\n+        intermediate = true",
            "html_url": "https://github.com/neovim/neovim/pull/28713#discussion_r1597750785",
            "id": 1597750785,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5fO74B",
            "original_commit_id": "785c08144d51f26398e2491939e821dbb1f26016",
            "original_line": 2032,
            "original_position": 62,
            "original_start_line": null,
            "path": "test/functional/terminal/tui_spec.lua",
            "position": null,
            "pull_request_review_id": 2051498739,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/28713",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1597750785/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-05-13T00:25:27Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1597750785",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/35768171?v=4",
                "events_url": "https://api.github.com/users/zeertzjq/events{/privacy}",
                "followers_url": "https://api.github.com/users/zeertzjq/followers",
                "following_url": "https://api.github.com/users/zeertzjq/following{/other_user}",
                "gists_url": "https://api.github.com/users/zeertzjq/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zeertzjq",
                "id": 35768171,
                "login": "zeertzjq",
                "node_id": "MDQ6VXNlcjM1NzY4MTcx",
                "organizations_url": "https://api.github.com/users/zeertzjq/orgs",
                "received_events_url": "https://api.github.com/users/zeertzjq/received_events",
                "repos_url": "https://api.github.com/users/zeertzjq/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zeertzjq/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zeertzjq/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zeertzjq"
            }
        },
        {
            "_links": {
                "html": {
                    "href": "https://github.com/neovim/neovim/pull/28713#discussion_r1597752114"
                },
                "pull_request": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/28713"
                },
                "self": {
                    "href": "https://api.github.com/repos/neovim/neovim/pulls/comments/1597752114"
                }
            },
            "author_association": "MEMBER",
            "body": "(Not sure why `intermediate` is needed here btw)",
            "commit_id": "53f97eb0575c0c0de442eced8bde39d795a1224b",
            "created_at": "2024-05-13T00:30:38Z",
            "diff_hunk": "@@ -2003,38 +2003,43 @@ describe('TUI', function()\n     ]])\n   end)\n \n-  it('invalidated regions are cleared with terminal background attr', function()\n-    local screen = Screen.new(50, 10)\n-    screen:set_default_attr_ids({ [1] = { foreground = Screen.colors.Black } })\n-    screen:attach()\n-    fn.termopen({\n-      nvim_prog,\n-      '--clean',\n-      '--cmd',\n-      'set termguicolors',\n-      '--cmd',\n-      'sleep 10',\n-    }, {\n-      env = {\n-        VIMRUNTIME = os.getenv('VIMRUNTIME'),\n-      },\n-    })\n-    screen:expect({\n-      grid = [[\n-        {1:^                                                  }|\n-        {1:                                                  }|*8\n-                                                          |\n-      ]],\n-    })\n-    screen:try_resize(51, 11)\n-    screen:expect({\n-      grid = [[\n-        {1:^                                                   }|\n-        {1:                                                   }|*9\n-                                                           |\n-      ]],\n-    })\n-  end)\n+  -- #28667, #28668\n+  for _, guicolors in ipairs({ 'notermguicolors', 'termguicolors' }) do\n+    it('has no black flicker when clearing regions during startup with ' .. guicolors, function()\n+      local screen = Screen.new(50, 10)\n+      screen:set_default_attr_ids({\n+        [1] = { foreground = Screen.colors.Black },\n+        [2] = { reverse = true },\n+      })\n+      screen:attach()\n+      fn.termopen({\n+        nvim_prog,\n+        '--clean',\n+        '--cmd',\n+        'set ' .. guicolors,\n+        '--cmd',\n+        'sleep 10',\n+      }, {\n+        env = {\n+          VIMRUNTIME = os.getenv('VIMRUNTIME'),\n+        },\n+      })\n+      screen:expect({\n+        grid = [[\n+          ^                                                  |\n+                                                            |*9\n+        ]],\n+        intermediate = true",
            "html_url": "https://github.com/neovim/neovim/pull/28713#discussion_r1597752114",
            "id": 1597752114,
            "in_reply_to_id": 1597750785,
            "line": null,
            "node_id": "PRRC_kwDOAPphoM5fO8My",
            "original_commit_id": "785c08144d51f26398e2491939e821dbb1f26016",
            "original_line": 2032,
            "original_position": 62,
            "original_start_line": null,
            "path": "test/functional/terminal/tui_spec.lua",
            "position": null,
            "pull_request_review_id": 2051500559,
            "pull_request_url": "https://api.github.com/repos/neovim/neovim/pulls/28713",
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1597752114/reactions"
            },
            "side": "RIGHT",
            "start_line": null,
            "start_side": null,
            "subject_type": "line",
            "updated_at": "2024-05-13T00:31:42Z",
            "url": "https://api.github.com/repos/neovim/neovim/pulls/comments/1597752114",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal"
            }
        }
    ],
    "comment_regular_data": [
        {
            "author_association": "MEMBER",
            "body": "@luukvbaal IIUC the current behavior on master is fine as-is and this PR fixes an issue when a redraw is performed in `_defaults.lua`? So kicking this to the 0.11 milestone should be ok?",
            "created_at": "2024-05-13T19:47:30Z",
            "html_url": "https://github.com/neovim/neovim/pull/28713#issuecomment-2108673441",
            "id": 2108673441,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28713",
            "node_id": "IC_kwDOAPphoM59r82h",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2108673441/reactions"
            },
            "updated_at": "2024-05-13T19:47:30Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2108673441",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8965202?v=4",
                "events_url": "https://api.github.com/users/gpanders/events{/privacy}",
                "followers_url": "https://api.github.com/users/gpanders/followers",
                "following_url": "https://api.github.com/users/gpanders/following{/other_user}",
                "gists_url": "https://api.github.com/users/gpanders/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/gpanders",
                "id": 8965202,
                "login": "gpanders",
                "node_id": "MDQ6VXNlcjg5NjUyMDI=",
                "organizations_url": "https://api.github.com/users/gpanders/orgs",
                "received_events_url": "https://api.github.com/users/gpanders/received_events",
                "repos_url": "https://api.github.com/users/gpanders/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/gpanders/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/gpanders/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/gpanders"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Flush, not redraw. But yeah for reference: I noticed the test repro still producing a black screen on my ext_ui branch, which calls `vim.ui_attach()->ui_flush()` at the top of `_defaults.lua`. Adding any flush before the tty shenannigans in `_defaults.lua` may still produce a black screen(don't ask me why).\r\n\r\nThat isn't to say that I know for sure that that is the only way to still produce a black screen during start up. So in that sense this fix seems safer but if no one dares press merge before 0.10, after works too. ",
            "created_at": "2024-05-13T21:13:51Z",
            "html_url": "https://github.com/neovim/neovim/pull/28713#issuecomment-2108810140",
            "id": 2108810140,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28713",
            "node_id": "IC_kwDOAPphoM59seOc",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2108810140/reactions"
            },
            "updated_at": "2024-05-13T21:13:51Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2108810140",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal"
            }
        },
        {
            "author_association": "MEMBER",
            "body": ">(don't ask me why)\r\n\r\nThis is really the root of my hesitation to merge this pre 0.10. If it doesn't fix any user facing bugs (that we know of) in master then it should be safe to slow down and find a root cause. I'd like to understand this too, but I don't have the bandwidth to chase it down in the next day or two, so my preference is to kick the can to the 0.11 release cycle.",
            "created_at": "2024-05-13T21:18:13Z",
            "html_url": "https://github.com/neovim/neovim/pull/28713#issuecomment-2108816659",
            "id": 2108816659,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28713",
            "node_id": "IC_kwDOAPphoM59sf0T",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2108816659/reactions"
            },
            "updated_at": "2024-05-13T21:18:13Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2108816659",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8965202?v=4",
                "events_url": "https://api.github.com/users/gpanders/events{/privacy}",
                "followers_url": "https://api.github.com/users/gpanders/followers",
                "following_url": "https://api.github.com/users/gpanders/following{/other_user}",
                "gists_url": "https://api.github.com/users/gpanders/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/gpanders",
                "id": 8965202,
                "login": "gpanders",
                "node_id": "MDQ6VXNlcjg5NjUyMDI=",
                "organizations_url": "https://api.github.com/users/gpanders/orgs",
                "received_events_url": "https://api.github.com/users/gpanders/received_events",
                "repos_url": "https://api.github.com/users/gpanders/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/gpanders/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/gpanders/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/gpanders"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Yeah fair. I kind of lost interest in debugging the behavior on master further once I found this alternative solution and established that #28676 made incorrect assumptions.\r\n\r\nFiguring out why trying to force `clear_region()->update_attrs()` to use the default background by initializing to 0/-1(which it turned #28676 actually amounted to), may still be interesting but I'm not sure how useful that actually still is give it's accidental nature. The updated test output(actual blank screen vs some attr) also seems more reliable.",
            "created_at": "2024-05-13T22:20:24Z",
            "html_url": "https://github.com/neovim/neovim/pull/28713#issuecomment-2108900573",
            "id": 2108900573,
            "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28713",
            "node_id": "IC_kwDOAPphoM59s0Td",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2108900573/reactions"
            },
            "updated_at": "2024-05-13T22:20:24Z",
            "url": "https://api.github.com/repos/neovim/neovim/issues/comments/2108900573",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal"
            }
        }
    ],
    "comments_url": "https://api.github.com/repos/neovim/neovim/issues/28713/comments",
    "commits_url": "https://api.github.com/repos/neovim/neovim/pulls/28713/commits",
    "created_at": "2024-05-12T00:39:50Z",
    "diff_url": "https://github.com/neovim/neovim/pull/28713.diff",
    "draft": false,
    "head": {
        "label": "luukvbaal:tuiflush",
        "ref": "tuiflush",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/luukvbaal/neovim/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/luukvbaal/neovim/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/luukvbaal/neovim/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/luukvbaal/neovim/branches{/branch}",
            "clone_url": "https://github.com/luukvbaal/neovim.git",
            "collaborators_url": "https://api.github.com/repos/luukvbaal/neovim/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/luukvbaal/neovim/comments{/number}",
            "commits_url": "https://api.github.com/repos/luukvbaal/neovim/commits{/sha}",
            "compare_url": "https://api.github.com/repos/luukvbaal/neovim/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/luukvbaal/neovim/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/luukvbaal/neovim/contributors",
            "created_at": "2022-07-05T23:21:47Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/luukvbaal/neovim/deployments",
            "description": "Vim-fork focused on extensibility and usability",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/luukvbaal/neovim/downloads",
            "events_url": "https://api.github.com/repos/luukvbaal/neovim/events",
            "fork": true,
            "forks": 0,
            "forks_count": 0,
            "forks_url": "https://api.github.com/repos/luukvbaal/neovim/forks",
            "full_name": "luukvbaal/neovim",
            "git_commits_url": "https://api.github.com/repos/luukvbaal/neovim/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/luukvbaal/neovim/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/luukvbaal/neovim/git/tags{/sha}",
            "git_url": "git://github.com/luukvbaal/neovim.git",
            "has_discussions": false,
            "has_downloads": true,
            "has_issues": false,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": true,
            "homepage": "https://neovim.io",
            "hooks_url": "https://api.github.com/repos/luukvbaal/neovim/hooks",
            "html_url": "https://github.com/luukvbaal/neovim",
            "id": 510922471,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/luukvbaal/neovim/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/luukvbaal/neovim/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/luukvbaal/neovim/issues{/number}",
            "keys_url": "https://api.github.com/repos/luukvbaal/neovim/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/luukvbaal/neovim/labels{/name}",
            "language": "Vim Script",
            "languages_url": "https://api.github.com/repos/luukvbaal/neovim/languages",
            "license": {
                "key": "other",
                "name": "Other",
                "node_id": "MDc6TGljZW5zZTA=",
                "spdx_id": "NOASSERTION",
                "url": null
            },
            "merges_url": "https://api.github.com/repos/luukvbaal/neovim/merges",
            "milestones_url": "https://api.github.com/repos/luukvbaal/neovim/milestones{/number}",
            "mirror_url": null,
            "name": "neovim",
            "node_id": "R_kgDOHnQO5w",
            "notifications_url": "https://api.github.com/repos/luukvbaal/neovim/notifications{?since,all,participating}",
            "open_issues": 0,
            "open_issues_count": 0,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
                "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
                "followers_url": "https://api.github.com/users/luukvbaal/followers",
                "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
                "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luukvbaal",
                "id": 31730729,
                "login": "luukvbaal",
                "node_id": "MDQ6VXNlcjMxNzMwNzI5",
                "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
                "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
                "repos_url": "https://api.github.com/users/luukvbaal/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luukvbaal"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/luukvbaal/neovim/pulls{/number}",
            "pushed_at": "2024-05-13T11:07:33Z",
            "releases_url": "https://api.github.com/repos/luukvbaal/neovim/releases{/id}",
            "size": 266266,
            "ssh_url": "git@github.com:luukvbaal/neovim.git",
            "stargazers_count": 0,
            "stargazers_url": "https://api.github.com/repos/luukvbaal/neovim/stargazers",
            "statuses_url": "https://api.github.com/repos/luukvbaal/neovim/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/luukvbaal/neovim/subscribers",
            "subscription_url": "https://api.github.com/repos/luukvbaal/neovim/subscription",
            "svn_url": "https://github.com/luukvbaal/neovim",
            "tags_url": "https://api.github.com/repos/luukvbaal/neovim/tags",
            "teams_url": "https://api.github.com/repos/luukvbaal/neovim/teams",
            "topics": [],
            "trees_url": "https://api.github.com/repos/luukvbaal/neovim/git/trees{/sha}",
            "updated_at": "2024-05-11T09:52:11Z",
            "url": "https://api.github.com/repos/luukvbaal/neovim",
            "visibility": "public",
            "watchers": 0,
            "watchers_count": 0,
            "web_commit_signoff_required": false
        },
        "sha": "53f97eb0575c0c0de442eced8bde39d795a1224b",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
            "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
            "followers_url": "https://api.github.com/users/luukvbaal/followers",
            "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
            "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/luukvbaal",
            "id": 31730729,
            "login": "luukvbaal",
            "node_id": "MDQ6VXNlcjMxNzMwNzI5",
            "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
            "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
            "repos_url": "https://api.github.com/users/luukvbaal/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/luukvbaal"
        }
    },
    "html_url": "https://github.com/neovim/neovim/pull/28713",
    "id": 1865119154,
    "issue_url": "https://api.github.com/repos/neovim/neovim/issues/28713",
    "labels": [
        {
            "color": "c5def5",
            "default": false,
            "description": "",
            "id": 197254545,
            "name": "tui",
            "node_id": "MDU6TGFiZWwxOTcyNTQ1NDU=",
            "url": "https://api.github.com/repos/neovim/neovim/labels/tui"
        }
    ],
    "locked": false,
    "merge_commit_sha": "750e4da396ffd0c7194a44f6985782c91f15313e",
    "merged_at": null,
    "milestone": {
        "closed_at": null,
        "closed_issues": 1,
        "created_at": "2023-12-07T23:09:35Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
            "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
            "followers_url": "https://api.github.com/users/justinmk/followers",
            "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
            "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/justinmk",
            "id": 1359421,
            "login": "justinmk",
            "node_id": "MDQ6VXNlcjEzNTk0MjE=",
            "organizations_url": "https://api.github.com/users/justinmk/orgs",
            "received_events_url": "https://api.github.com/users/justinmk/received_events",
            "repos_url": "https://api.github.com/users/justinmk/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/justinmk"
        },
        "description": "",
        "due_on": "2024-10-31T07:00:00Z",
        "html_url": "https://github.com/neovim/neovim/milestone/41",
        "id": 10283236,
        "labels_url": "https://api.github.com/repos/neovim/neovim/milestones/41/labels",
        "node_id": "MI_kwDOAPphoM4AnOjk",
        "number": 41,
        "open_issues": 60,
        "state": "open",
        "title": "0.11",
        "updated_at": "2024-05-13T19:47:36Z",
        "url": "https://api.github.com/repos/neovim/neovim/milestones/41"
    },
    "node_id": "PR_kwDOAPphoM5vK3Wy",
    "number": 28713,
    "patch_url": "https://github.com/neovim/neovim/pull/28713.patch",
    "requested_reviewers": [
        {
            "avatar_url": "https://avatars.githubusercontent.com/u/8965202?v=4",
            "events_url": "https://api.github.com/users/gpanders/events{/privacy}",
            "followers_url": "https://api.github.com/users/gpanders/followers",
            "following_url": "https://api.github.com/users/gpanders/following{/other_user}",
            "gists_url": "https://api.github.com/users/gpanders/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/gpanders",
            "id": 8965202,
            "login": "gpanders",
            "node_id": "MDQ6VXNlcjg5NjUyMDI=",
            "organizations_url": "https://api.github.com/users/gpanders/orgs",
            "received_events_url": "https://api.github.com/users/gpanders/received_events",
            "repos_url": "https://api.github.com/users/gpanders/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/gpanders/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/gpanders/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/gpanders"
        }
    ],
    "requested_teams": [],
    "review_comment_url": "https://api.github.com/repos/neovim/neovim/pulls/comments{/number}",
    "review_comments_url": "https://api.github.com/repos/neovim/neovim/pulls/28713/comments",
    "state": "open",
    "statuses_url": "https://api.github.com/repos/neovim/neovim/statuses/53f97eb0575c0c0de442eced8bde39d795a1224b",
    "title": "fix(tui): reset clear_region attributes during startup",
    "updated_at": "2024-05-13T22:20:25Z",
    "url": "https://api.github.com/repos/neovim/neovim/pulls/28713",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/31730729?v=4",
        "events_url": "https://api.github.com/users/luukvbaal/events{/privacy}",
        "followers_url": "https://api.github.com/users/luukvbaal/followers",
        "following_url": "https://api.github.com/users/luukvbaal/following{/other_user}",
        "gists_url": "https://api.github.com/users/luukvbaal/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/luukvbaal",
        "id": 31730729,
        "login": "luukvbaal",
        "node_id": "MDQ6VXNlcjMxNzMwNzI5",
        "organizations_url": "https://api.github.com/users/luukvbaal/orgs",
        "received_events_url": "https://api.github.com/users/luukvbaal/received_events",
        "repos_url": "https://api.github.com/users/luukvbaal/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/luukvbaal/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/luukvbaal/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/luukvbaal"
    }
}