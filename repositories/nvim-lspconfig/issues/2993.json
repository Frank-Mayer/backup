{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Description\r\n\r\npyright ships with localization for its diagnostics. To detect the language the user prefers, it uses the well known environment variables (see https://github.com/microsoft/pyright/blob/main/docs/configuration.md#locale-configuration)\r\n\r\nThis means that the setup provided by lspconfig does not easily allow to change the diagnostics back to English, which I would prefer because it is easier to find support for the original diagnostic strings and some of the translations are rather, well, ... unusual.\r\n\r\nThe first thing I tried was to set cmd to `cmd = {\"LANG=en\", \"pyright-langserver\", \"--stdio\"}`, but that fails with something like command not found\r\n\r\nThen I tried to put this into a script - \r\n```sh\r\nLANGUAGE=en pyright-langserver --stdio\r\n```\r\nand added that as cmd. Now LspInfo reports it like that:\r\n\r\n```\r\n[...]\r\nOther clients that match the filetype: python\r\n \r\n Config: pyright\r\n \tfiletypes:         python\r\n \troot directory:    /Users/Sven/.config/nvim\r\n \tcmd:               /Users/Sven/bin/launch_pyright.sh\r\n \tcmd is executable: true\r\n \tautostart:         true\r\n \tcustom handlers:   \r\n```\r\n\r\nbut it does not do anything, no diagnostics, no completion support, no nothing.\r\n\r\nStarting nvim with the language environment variable works, but that breaks other things like spelling and so on, so I would prefer to run neovim with German (in my case) while starting pyright with English.\r\n\r\nNow I'm out of options, therefore I'd like to know if it were possible to soehow pass environment variables via lspconfig or similar.\r\n\r\nThanks\r\n \r\n\r\n",
    "closed_at": "2024-01-31T13:27:23Z",
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "```lua\r\n cmd_env = {    Language = 'en' },\r\n```",
            "created_at": "2024-01-31T13:27:23Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/2993#issuecomment-1919102804",
            "id": 1919102804,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/2993",
            "node_id": "IC_kwDODTQC185yYy9U",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1919102804/reactions"
            },
            "updated_at": "2024-01-31T13:27:23Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1919102804",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
                "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
                "followers_url": "https://api.github.com/users/glepnir/followers",
                "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
                "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glepnir",
                "id": 41671631,
                "login": "glepnir",
                "node_id": "MDQ6VXNlcjQxNjcxNjMx",
                "organizations_url": "https://api.github.com/users/glepnir/orgs",
                "received_events_url": "https://api.github.com/users/glepnir/received_events",
                "repos_url": "https://api.github.com/users/glepnir/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glepnir"
            }
        },
        {
            "author_association": "NONE",
            "body": "except that it doesn't work.\r\n\r\nI have \r\n```lua\r\nreturn {\r\n  cmd = {'pyright-langserver', '--stdio'},\r\n  cmd_env = { LANGUAGE = \"en_US.UTF-8\" },\r\n  filetypes = { \"python\" },\r\n  settings = {\r\n    python = {\r\n      analysis = {\r\n        autoSearchPaths = true,\r\n        diagnosticMode = \"openFilesOnly\",\r\n        useLibraryCodeForTypes = true\r\n      }\r\n    }\r\n  },\r\n  single_file_support = true,\r\n}\r\n```\r\n\r\nwhich is used, but the diagnostics are still in German",
            "created_at": "2024-01-31T13:49:05Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/2993#issuecomment-1919138972",
            "id": 1919138972,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/2993",
            "node_id": "IC_kwDODTQC185yY7yc",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1919138972/reactions"
            },
            "updated_at": "2024-01-31T13:49:05Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1919138972",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/635904?v=4",
                "events_url": "https://api.github.com/users/svenXY/events{/privacy}",
                "followers_url": "https://api.github.com/users/svenXY/followers",
                "following_url": "https://api.github.com/users/svenXY/following{/other_user}",
                "gists_url": "https://api.github.com/users/svenXY/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/svenXY",
                "id": 635904,
                "login": "svenXY",
                "node_id": "MDQ6VXNlcjYzNTkwNA==",
                "organizations_url": "https://api.github.com/users/svenXY/orgs",
                "received_events_url": "https://api.github.com/users/svenXY/received_events",
                "repos_url": "https://api.github.com/users/svenXY/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/svenXY/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/svenXY/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/svenXY"
            }
        },
        {
            "author_association": "NONE",
            "body": "interestingly enough, it works with LANG, but not with LANGUAGE, even though the pyright config documenation suggests that LANGUAGE shoul work as well...\r\n\r\nThanks for the helpful information. Solved.",
            "created_at": "2024-01-31T13:51:16Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/2993#issuecomment-1919142539",
            "id": 1919142539,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/2993",
            "node_id": "IC_kwDODTQC185yY8qL",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1919142539/reactions"
            },
            "updated_at": "2024-01-31T13:51:16Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1919142539",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/635904?v=4",
                "events_url": "https://api.github.com/users/svenXY/events{/privacy}",
                "followers_url": "https://api.github.com/users/svenXY/followers",
                "following_url": "https://api.github.com/users/svenXY/following{/other_user}",
                "gists_url": "https://api.github.com/users/svenXY/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/svenXY",
                "id": 635904,
                "login": "svenXY",
                "node_id": "MDQ6VXNlcjYzNTkwNA==",
                "organizations_url": "https://api.github.com/users/svenXY/orgs",
                "received_events_url": "https://api.github.com/users/svenXY/received_events",
                "repos_url": "https://api.github.com/users/svenXY/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/svenXY/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/svenXY/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/svenXY"
            }
        }
    ],
    "comments": 3,
    "comments_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/2993/comments",
    "created_at": "2024-01-31T13:08:15Z",
    "events_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/2993/events",
    "html_url": "https://github.com/neovim/nvim-lspconfig/issues/2993",
    "id": 2110059539,
    "labels": [
        {
            "color": "f9d0c4",
            "default": true,
            "description": "Something isn't working",
            "id": 1674892761,
            "name": "bug",
            "node_id": "MDU6TGFiZWwxNjc0ODkyNzYx",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/labels/bug"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/2993/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDODTQC1859xPQT",
    "number": 2993,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/2993/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/nvim-lspconfig",
    "state": "closed",
    "state_reason": "completed",
    "timeline_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/2993/timeline",
    "title": "changing the diagnistics language in pyright",
    "updated_at": "2024-01-31T13:51:16Z",
    "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/2993",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/635904?v=4",
        "events_url": "https://api.github.com/users/svenXY/events{/privacy}",
        "followers_url": "https://api.github.com/users/svenXY/followers",
        "following_url": "https://api.github.com/users/svenXY/following{/other_user}",
        "gists_url": "https://api.github.com/users/svenXY/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/svenXY",
        "id": 635904,
        "login": "svenXY",
        "node_id": "MDQ6VXNlcjYzNTkwNA==",
        "organizations_url": "https://api.github.com/users/svenXY/orgs",
        "received_events_url": "https://api.github.com/users/svenXY/received_events",
        "repos_url": "https://api.github.com/users/svenXY/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/svenXY/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/svenXY/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/svenXY"
    }
}