{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Description\n\nWhen I try to open a file in in a project that I have the LSP server installed for, no servers are being started. `:LspStart` does nothing. Here is what's shown on `:LspInfo`:\n\n```\n==============================================================================\nlspconfig: require(\"lspconfig.health\").check()\n\nLSP configs active in this session (globally) ~\n- Configured servers: \n- OK Deprecated servers: (none)\n\nLSP configs active in this buffer (bufnr: 4) ~\n- Language client log: ~/.local/state/nvim/lsp.log\n- Detected filetype: `typescript`\n- 0 client(s) attached to this buffer\n\nDocs for active configs: ~\n```\n\nThe example above is from an Angular (TypeScript) file. The same happens for files in Go and Python projects.\n\nI tried setting up debug logging for the LSP with `vim.lsp.set_log_level(\"debug\")` at the top of my `init.lua`, but all that's printed to the `:LspLog` is this:\n\n```\n[START][2024-12-23 15:08:17] LSP logging initiated\n[INFO][2024-12-23 15:08:17] .../lua/vim/lsp.lua:799\t\"exit_handler\"\t{}\n```\n\nI'm using lspconfig, mason, and lspsaga installed with packer. My `init.lua` file loads mason first, then lspconfig, then lspsaga.\n\nHere is my mason config:\n\n```lua\nlocal status, mason = pcall(require, \"mason\")\nif not status then\n  return\nend\n\nlocal status2, mason_lspconfig = pcall(require, \"mason-lspconfig\")\nif not status2 then\n  return\nend\n\nmason.setup({log_level = vim.log.levels.DEBUG})\n\nlocal handle = io.popen(\"uname\")\nlocal osname = handle:read(\"*a\")\nhandle:close()\n\nlocal ensure_installed = {\n  \"bashls\",\n  \"dockerls\",\n  \"docker_compose_language_service\",\n  \"jsonls\",\n  \"lua_ls\",\n  \"pylsp\",\n  \"yamlls\",\n}\nif osname == \"Darwin\" then\n  ensure_installed = {\n    \"angular-language-server\",\n    \"bashls\",\n    \"cssls\",\n    \"dockerls\",\n    \"docker_compose_language_service\",\n    \"gopls\",\n    \"html\",\n    \"jsonls\",\n    \"lua_ls\",\n    \"marksman\",\n    \"pylsp\",\n    \"r_language_server\",\n    \"ts_ls\",\n    \"yamlls\",\n  }\nend\n\nlocal function isempty(s)\n  return s == nil or s == \"\"\nend\n\nlocal function use_if_defined(val, fallback)\n  return val ~= nil and val or fallback\nend\n\n-- custom python provider\nlocal conda_prefix = os.getenv(\"CONDA_PREFIX\")\nif not isempty(conda_prefix) then\n\tvim.g.python_host_prog = use_if_defined(vim.g.python_host_prog, conda_prefix .. \"/bin/python\")\n\tvim.g.python3_host_prog = use_if_defined(vim.g.python3_host_prog, conda_prefix .. \"/bin/python\")\nelse\n\tvim.g.python_host_prog = use_if_defined(vim.g.python_host_prog, \"python\")\n\tvim.g.python3_host_prog = use_if_defined(vim.g.python3_host_prog, \"python3\")\nend\n\nmason_lspconfig.setup({\n  ensure_installed = ensure_installed,\n})\n```\n\nHere is my lspsaga config:\n\n```lua\n-- import lspsaga safely\nlocal saga_status, saga = pcall(require, \"lspsaga\")\nif not saga_status then\n  return\nend\n\nsaga.setup({\n  -- keybinds for navigation in lspsaga window\n  scroll_preview = { scroll_down = \"<C-f>\", scroll_up = \"<C-b>\" },\n  -- use enter to open file with definition preview\n  definition = {\n    edit = \"<CR>\",\n  },\n  ui = {\n    colors = {\n      normal_bg = \"#022746\",\n    },\n  },\n})\n```\n\nHere is my lspconfig config:\n\n```lua\nlocal utils = require(\"chris.utils\")\n\nlocal status, lspconfig = pcall(require, \"lspconfig\")\nif not status then\n  return\nend\n\nlocal status2, cmp_nvim_lsp = pcall(require, \"cmp_nvim_lsp\")\nif not status2 then\n  return\nend\n\nlocal status3, typescript = pcall(require, \"ts_ls\")\nif not status3 then\n  return\nend\n\nlocal keymap = vim.keymap\n\n-- enable keybinds for available LSP server\nlocal on_attach = function(client, buffer)\n  -- keybind options\n  local opts = { noremap = true, silent = true, buffer = buffer }\n\n  -- set keybinds\n  keymap.set(\"n\", \"gf\", \"<cmd>Lspsaga lsp_finder<CR>\", opts) -- show definition, references\n  keymap.set(\"n\", \"gD\", \"<Cmd>lua vim.lsp.buf.declaration()<CR>\", opts) -- got to declaration\n  keymap.set(\"n\", \"gd\", \"<cmd>Lspsaga goto_definition<CR>\", opts) -- see definition and make edits in window\n  keymap.set(\"n\", \"gi\", \"<cmd>lua vim.lsp.buf.implementation()<CR>\", opts) -- go to implementation\n  keymap.set(\"n\", \"<leader>ca\", \"<cmd>Lspsaga code_action<CR>\", opts) -- see available code actions\n  keymap.set(\"n\", \"<leader>rn\", \"<cmd>Lspsaga rename<CR>\", opts) -- smart rename\n  keymap.set(\"n\", \"<leader>D\", \"<cmd>Lspsaga show_line_diagnostics<CR>\", opts) -- show  diagnostics for line\n  keymap.set(\"n\", \"<leader>d\", \"<cmd>Lspsaga show_cursor_diagnostics<CR>\", opts) -- show diagnostics for cursor\n  keymap.set(\"n\", \"[d\", \"<cmd>Lspsaga diagnostic_jump_prev<CR>\", opts) -- jump to previous diagnostic in buffer\n  keymap.set(\"n\", \"]d\", \"<cmd>Lspsaga diagnostic_jump_next<CR>\", opts) -- jump to next diagnostic in buffer\n  keymap.set(\"n\", \"K\", \"<cmd>Lspsaga hover_doc<CR>\", opts) -- show documentation for what is under cursor\n  keymap.set(\"n\", \"<leader>o\", \"<cmd>LSoutlineToggle<CR>\", opts) -- see outline on right hand side\n\n  -- typescript specific keymaps (e.g. rename file and update imports)\n  if client.name == \"tsserver\" or client.name == \"ts_ls\" then\n    keymap.set(\"n\", \"<leader>rf\", \":TypescriptRenameFile<CR>\") -- rename file and update imports\n    keymap.set(\"n\", \"<leader>oi\", \":TypescriptOrganizeImports<CR>\") -- organize imports (not in youtube nvim video)\n    keymap.set(\"n\", \"<leader>ru\", \":TypescriptRemoveUnused<CR>\") -- remove unused variables (not in youtube nvim video)\n  end\nend\n\nlocal capabilities = cmp_nvim_lsp.default_capabilities()\n\n\n-- individual LSP setups\n\nlspconfig[\"angularls\"].setup({\n  capabilities = capabilities,\n  on_attach = on_attach,\n  single_file_support = false,\n})\n\nlspconfig[\"bashls\"].setup({\n  capabilities = capabilities,\n  on_attach = on_attach,\n})\n\nlspconfig[\"cssls\"].setup({\n  capabilities = capabilities,\n  on_attach = on_attach,\n})\n\nlspconfig[\"dockerls\"].setup({\n  capabilities = capabilities,\n  on_attach = on_attach,\n})\n\nlspconfig[\"docker_compose_language_service\"].setup({\n  capabilities = capabilities,\n  on_attach = on_attach,\n})\n\nlspconfig[\"gopls\"].setup({\n  capabilities = utils.merge_tables(capabilities, {\n    workspace = {\n      didChangeWatchedFiles = {\n        dynamicRegistration = true,\n      },\n    },\n  }),\n  on_attach = on_attach,\n  cmd = {\"gopls\"},\n  filetypes = { \"go\", \"gomod\", \"gowork\", \"gotmpl\" },\n  root_dir = vim.fs.root(0, { \"go.work\", \"go.mod\", \".git\" }),\n  settings = {\n    gopls = {\n      analyses = {\n        unusedparams = true,\n      },\n      staticcheck = true,\n      gofumpt = true,\n    },\n  },\n})\n\nlspconfig[\"html\"].setup({\n  capabilities = capabilities,\n  on_attach = on_attach,\n})\n\nlspconfig[\"jsonls\"].setup({\n  capabilities = capabilities,\n  on_attach = on_attach,\n})\n\nlspconfig[\"lua_ls\"].setup({\n  capabilities = capabilities,\n  on_attach = on_attach,\n  settings = { -- custom settings for lua\n    Lua = {\n      -- make the language server recognize \"vim\" global\n      diagnostics = {\n        globals = { \"vim\" },\n      },\n      workspace = {\n        -- make language server aware of runtime files\n        library = {\n          [vim.fn.expand(\"$VIMRUNTIME/lua\")] = true,\n          [vim.fn.stdpath(\"config\") .. \"/lua\"] = true,\n        },\n      },\n    },\n  },\n})\n\nlspconfig[\"marksman\"].setup({\n  capabilities = capabilities,\n  on_attach = on_attach,\n})\n\nlspconfig[\"pylsp\"].setup({\n  capabilities = capabilities,\n  on_attach = on_attach,\n  settings = {\n    pylsp = {\n      plugins = {\n        pycodestyle = {\n          maxLineLength = 100,\n        },\n      },\n    },\n  },\n})\n\nlspconfig[\"r_language_server\"].setup({\n  capabilities = capabilities,\n  on_attach = on_attach,\n})\n\ntypescript.setup({\n  server = {\n    capabilities = capabilities,\n    on_attach = on_attach,\n  },\n})\n\nlspconfig[\"yamlls\"].setup({\n  capabilities = capabilities,\n  on_attach = on_attach,\n})\n```",
    "closed_at": "2024-12-23T23:22:33Z",
    "closed_by": {
        "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
        "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
        "followers_url": "https://api.github.com/users/justinmk/followers",
        "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
        "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/justinmk",
        "id": 1359421,
        "login": "justinmk",
        "node_id": "MDQ6VXNlcjEzNTk0MjE=",
        "organizations_url": "https://api.github.com/users/justinmk/orgs",
        "received_events_url": "https://api.github.com/users/justinmk/received_events",
        "repos_url": "https://api.github.com/users/justinmk/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/justinmk",
        "user_view_type": "public"
    },
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "> I'm using lspconfig, mason, and lspsaga installed with packer.\n\nYou have a lot of stuff installed. This repo doesn't require any of that. Not going to debug your config.",
            "created_at": "2024-12-23T23:22:33Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3526#issuecomment-2560422639",
            "id": 2560422639,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3526",
            "node_id": "IC_kwDODTQC186YnPLv",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2560422639/reactions"
            },
            "updated_at": "2024-12-23T23:22:33Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2560422639",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk",
                "user_view_type": "public"
            }
        },
        {
            "author_association": "NONE",
            "body": "I don't think the issue has to do with mason or lspsaga, I was just including them here for background. I get the same behavior when I uninstall every plugin except lspconfig and only load my lspconfig config from init.lua. I read through the troublehsooting steps in the README and AFAICT none of those applied.",
            "created_at": "2024-12-23T23:36:09Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3526#issuecomment-2560431945",
            "id": 2560431945,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3526",
            "node_id": "IC_kwDODTQC186YnRdJ",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2560431945/reactions"
            },
            "updated_at": "2024-12-23T23:36:17Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2560431945",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/40970945?v=4",
                "events_url": "https://api.github.com/users/chrispyles/events{/privacy}",
                "followers_url": "https://api.github.com/users/chrispyles/followers",
                "following_url": "https://api.github.com/users/chrispyles/following{/other_user}",
                "gists_url": "https://api.github.com/users/chrispyles/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/chrispyles",
                "id": 40970945,
                "login": "chrispyles",
                "node_id": "MDQ6VXNlcjQwOTcwOTQ1",
                "organizations_url": "https://api.github.com/users/chrispyles/orgs",
                "received_events_url": "https://api.github.com/users/chrispyles/received_events",
                "repos_url": "https://api.github.com/users/chrispyles/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/chrispyles/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/chrispyles/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/chrispyles",
                "user_view_type": "public"
            }
        }
    ],
    "comments": 2,
    "comments_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3526/comments",
    "created_at": "2024-12-23T23:20:51Z",
    "events_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3526/events",
    "html_url": "https://github.com/neovim/nvim-lspconfig/issues/3526",
    "id": 2756842566,
    "labels": [
        {
            "color": "f9d0c4",
            "default": true,
            "description": "Something isn't working",
            "id": 1674892761,
            "name": "bug",
            "node_id": "MDU6TGFiZWwxNjc0ODkyNzYx",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/labels/bug"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3526/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDODTQC186kUhRG",
    "number": 3526,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3526/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/nvim-lspconfig",
    "state": "closed",
    "state_reason": "not_planned",
    "sub_issues_summary": {
        "completed": 0,
        "percent_completed": 0,
        "total": 0
    },
    "timeline_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3526/timeline",
    "title": "No language servers are being started for any language",
    "updated_at": "2024-12-23T23:36:17Z",
    "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/3526",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/40970945?v=4",
        "events_url": "https://api.github.com/users/chrispyles/events{/privacy}",
        "followers_url": "https://api.github.com/users/chrispyles/followers",
        "following_url": "https://api.github.com/users/chrispyles/following{/other_user}",
        "gists_url": "https://api.github.com/users/chrispyles/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/chrispyles",
        "id": 40970945,
        "login": "chrispyles",
        "node_id": "MDQ6VXNlcjQwOTcwOTQ1",
        "organizations_url": "https://api.github.com/users/chrispyles/orgs",
        "received_events_url": "https://api.github.com/users/chrispyles/received_events",
        "repos_url": "https://api.github.com/users/chrispyles/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/chrispyles/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/chrispyles/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/chrispyles",
        "user_view_type": "public"
    }
}