{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "body": "hi,\r\n\r\nSome things I miss from coc.nvim:\r\n- having whole project diagnostics open in the quickfix\r\n- file specific diagnostics in locationlist\r\n\r\nThen I suppose this is out of scope for the plugin, but coc.nvim has mappings to go to next diagnostic from current line. In case you have such a snippet, I am eager :p \r\n",
    "closed_at": "2020-01-29T11:56:04Z",
    "comment_data": [
        {
            "author_association": "NONE",
            "body": "Here's a snippet for how to do it for *all servers* by changing the default callback. You could also do this on a per client level with `setup { callbacks = { [\"textDocument/publishDiagnostics\"] = ... } }`\r\n\r\n```lua\r\ndo\r\n  local method = 'textDocument/publishDiagnostics'\r\n  local default_callback = vim.lsp.callbacks[method]\r\n  vim.lsp.callbacks[method] = function(err, method, result, client_id)\r\n    default_callback(err, method, result, client_id)\r\n    if result and result.diagnostics then\r\n      for _, v in ipairs(result.diagnostics) do\r\n        v.uri = v.uri or result.uri\r\n      end\r\n      vim.lsp.util.set_qflist(result.diagnostics)\r\n    end\r\n  end\r\nend\r\n```\r\n\r\nThe reason I loop and set uri is because `set_qflist` expects a list of `Location`s and the diagnostics usually are set for a single (in this case the current) file.",
            "created_at": "2019-12-09T20:05:19Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/69#issuecomment-563412235",
            "id": 563412235,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/69",
            "node_id": "MDEyOklzc3VlQ29tbWVudDU2MzQxMjIzNQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 14,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 14,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/563412235/reactions"
            },
            "updated_at": "2019-12-09T20:22:17Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/563412235",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/296363?v=4",
                "events_url": "https://api.github.com/users/norcalli/events{/privacy}",
                "followers_url": "https://api.github.com/users/norcalli/followers",
                "following_url": "https://api.github.com/users/norcalli/following{/other_user}",
                "gists_url": "https://api.github.com/users/norcalli/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/norcalli",
                "id": 296363,
                "login": "norcalli",
                "node_id": "MDQ6VXNlcjI5NjM2Mw==",
                "organizations_url": "https://api.github.com/users/norcalli/orgs",
                "received_events_url": "https://api.github.com/users/norcalli/received_events",
                "repos_url": "https://api.github.com/users/norcalli/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/norcalli/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/norcalli/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/norcalli"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "is `textDocument/publishDiagnostics` sent passively, or does it require some request to be sent first?",
            "created_at": "2019-12-10T05:25:19Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/69#issuecomment-563840918",
            "id": 563840918,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/69",
            "node_id": "MDEyOklzc3VlQ29tbWVudDU2Mzg0MDkxOA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/563840918/reactions"
            },
            "updated_at": "2019-12-10T05:25:19Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/563840918",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1359421?v=4",
                "events_url": "https://api.github.com/users/justinmk/events{/privacy}",
                "followers_url": "https://api.github.com/users/justinmk/followers",
                "following_url": "https://api.github.com/users/justinmk/following{/other_user}",
                "gists_url": "https://api.github.com/users/justinmk/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/justinmk",
                "id": 1359421,
                "login": "justinmk",
                "node_id": "MDQ6VXNlcjEzNTk0MjE=",
                "organizations_url": "https://api.github.com/users/justinmk/orgs",
                "received_events_url": "https://api.github.com/users/justinmk/received_events",
                "repos_url": "https://api.github.com/users/justinmk/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/justinmk/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/justinmk/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/justinmk"
            }
        },
        {
            "author_association": "NONE",
            "body": "It's a notification, which means server sent one way communique.",
            "created_at": "2019-12-10T05:44:58Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/69#issuecomment-563867313",
            "id": 563867313,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/69",
            "node_id": "MDEyOklzc3VlQ29tbWVudDU2Mzg2NzMxMw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/563867313/reactions"
            },
            "updated_at": "2019-12-10T05:44:58Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/563867313",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/296363?v=4",
                "events_url": "https://api.github.com/users/norcalli/events{/privacy}",
                "followers_url": "https://api.github.com/users/norcalli/followers",
                "following_url": "https://api.github.com/users/norcalli/following{/other_user}",
                "gists_url": "https://api.github.com/users/norcalli/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/norcalli",
                "id": 296363,
                "login": "norcalli",
                "node_id": "MDQ6VXNlcjI5NjM2Mw==",
                "organizations_url": "https://api.github.com/users/norcalli/orgs",
                "received_events_url": "https://api.github.com/users/norcalli/received_events",
                "repos_url": "https://api.github.com/users/norcalli/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/norcalli/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/norcalli/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/norcalli"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "thanks for the snippet. Seems like it stopped working (callback member disappeared ?).\r\nAlso the snippet displayed the buffer line in quickfix rather than the error (more useful, especially when the screen is too narrow to display the virtualtext).",
            "created_at": "2019-12-18T10:09:36Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/69#issuecomment-566965659",
            "id": 566965659,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/69",
            "node_id": "MDEyOklzc3VlQ29tbWVudDU2Njk2NTY1OQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/566965659/reactions"
            },
            "updated_at": "2019-12-18T10:09:36Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/566965659",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/886074?v=4",
                "events_url": "https://api.github.com/users/teto/events{/privacy}",
                "followers_url": "https://api.github.com/users/teto/followers",
                "following_url": "https://api.github.com/users/teto/following{/other_user}",
                "gists_url": "https://api.github.com/users/teto/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/teto",
                "id": 886074,
                "login": "teto",
                "node_id": "MDQ6VXNlcjg4NjA3NA==",
                "organizations_url": "https://api.github.com/users/teto/orgs",
                "received_events_url": "https://api.github.com/users/teto/received_events",
                "repos_url": "https://api.github.com/users/teto/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/teto/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/teto/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/teto"
            }
        },
        {
            "author_association": "NONE",
            "body": "@teto could you expand on what \"callback member disappeared\" means? The specific error message would be good.\r\n\r\nAnd yeah, that's a good point, the `set_qflist` was something I designed originally for locations and didn't consider that they could be reused with custom messages (such as from diagnostics). I'll see about adding that as a modification of the utility function or in addition to it.\r\n\r\nIf you're interested in doing it yourself and maybe contributing to neovim builtin lsp, I would recommend looking at https://github.com/neovim/neovim/blob/master/runtime/lua/vim/lsp/util.lua#L595 for how it's currently being implemented. The simplest modification would be to make the line that reads `text = line` to consider the custom message in `row`.",
            "created_at": "2019-12-18T10:23:03Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/69#issuecomment-566970705",
            "id": 566970705,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/69",
            "node_id": "MDEyOklzc3VlQ29tbWVudDU2Njk3MDcwNQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/566970705/reactions"
            },
            "updated_at": "2019-12-18T10:23:16Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/566970705",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/296363?v=4",
                "events_url": "https://api.github.com/users/norcalli/events{/privacy}",
                "followers_url": "https://api.github.com/users/norcalli/followers",
                "following_url": "https://api.github.com/users/norcalli/following{/other_user}",
                "gists_url": "https://api.github.com/users/norcalli/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/norcalli",
                "id": 296363,
                "login": "norcalli",
                "node_id": "MDQ6VXNlcjI5NjM2Mw==",
                "organizations_url": "https://api.github.com/users/norcalli/orgs",
                "received_events_url": "https://api.github.com/users/norcalli/received_events",
                "repos_url": "https://api.github.com/users/norcalli/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/norcalli/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/norcalli/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/norcalli"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "nevermind it worked again. thanks for the pointer. I might have a look, I have a few PRs in the pipeline I would liketo merge first.",
            "created_at": "2019-12-18T11:07:36Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/69#issuecomment-566986525",
            "id": 566986525,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/69",
            "node_id": "MDEyOklzc3VlQ29tbWVudDU2Njk4NjUyNQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/566986525/reactions"
            },
            "updated_at": "2019-12-18T11:07:36Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/566986525",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/886074?v=4",
                "events_url": "https://api.github.com/users/teto/events{/privacy}",
                "followers_url": "https://api.github.com/users/teto/followers",
                "following_url": "https://api.github.com/users/teto/following{/other_user}",
                "gists_url": "https://api.github.com/users/teto/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/teto",
                "id": 886074,
                "login": "teto",
                "node_id": "MDQ6VXNlcjg4NjA3NA==",
                "organizations_url": "https://api.github.com/users/teto/orgs",
                "received_events_url": "https://api.github.com/users/teto/received_events",
                "repos_url": "https://api.github.com/users/teto/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/teto/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/teto/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/teto"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "works now on master ty.",
            "created_at": "2020-01-29T11:56:04Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/69#issuecomment-579722609",
            "id": 579722609,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/69",
            "node_id": "MDEyOklzc3VlQ29tbWVudDU3OTcyMjYwOQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/579722609/reactions"
            },
            "updated_at": "2020-01-29T11:56:04Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/579722609",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/886074?v=4",
                "events_url": "https://api.github.com/users/teto/events{/privacy}",
                "followers_url": "https://api.github.com/users/teto/followers",
                "following_url": "https://api.github.com/users/teto/following{/other_user}",
                "gists_url": "https://api.github.com/users/teto/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/teto",
                "id": 886074,
                "login": "teto",
                "node_id": "MDQ6VXNlcjg4NjA3NA==",
                "organizations_url": "https://api.github.com/users/teto/orgs",
                "received_events_url": "https://api.github.com/users/teto/received_events",
                "repos_url": "https://api.github.com/users/teto/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/teto/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/teto/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/teto"
            }
        },
        {
            "author_association": "NONE",
            "body": "@norcalli thanks for the snippet!!!\r\n@teto I use vim-qf to \"tame the quickfix\" as the plugin claims, this is what I've come up that is very similar to coc\r\n```\r\nPlug 'romainl/vim-qf'\r\n\r\n...\r\n\r\nnmap <leader>qq\t<Plug>(qf_qf_toggle)\r\nnmap gn\t\t<Plug>(qf_qf_next)\r\nnmap gp\t\t<Plug>(qf_qf_previous)\r\n\r\n```",
            "created_at": "2020-02-05T13:16:40Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/69#issuecomment-582402317",
            "id": 582402317,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/69",
            "node_id": "MDEyOklzc3VlQ29tbWVudDU4MjQwMjMxNw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 2,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 2,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/582402317/reactions"
            },
            "updated_at": "2020-02-05T13:17:41Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/582402317",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6237457?v=4",
                "events_url": "https://api.github.com/users/donotnoot/events{/privacy}",
                "followers_url": "https://api.github.com/users/donotnoot/followers",
                "following_url": "https://api.github.com/users/donotnoot/following{/other_user}",
                "gists_url": "https://api.github.com/users/donotnoot/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/donotnoot",
                "id": 6237457,
                "login": "donotnoot",
                "node_id": "MDQ6VXNlcjYyMzc0NTc=",
                "organizations_url": "https://api.github.com/users/donotnoot/orgs",
                "received_events_url": "https://api.github.com/users/donotnoot/received_events",
                "repos_url": "https://api.github.com/users/donotnoot/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/donotnoot/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/donotnoot/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/donotnoot"
            }
        },
        {
            "author_association": "NONE",
            "body": "@norcalli thanks for your snippet! It actually creates multiple quick lists with the same diagnostics. I don't suppose it should do that. A single quick fix list should be created for ~~project-wide~~ all open buffers diagnostics and I assume multiple location lists for several buffers.\r\nI am very new to Lua, although I have found it to be easier to understand and write. Here is my [lua config](https://github.com/sparkcanon/nvim/tree/nvim-lsp/lua). I would really appreciate some pointers to achieve this.",
            "created_at": "2020-02-26T20:49:38Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/69#issuecomment-591636318",
            "id": 591636318,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/69",
            "node_id": "MDEyOklzc3VlQ29tbWVudDU5MTYzNjMxOA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/591636318/reactions"
            },
            "updated_at": "2020-02-26T21:33:12Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/591636318",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41004069?v=4",
                "events_url": "https://api.github.com/users/sparkcanon/events{/privacy}",
                "followers_url": "https://api.github.com/users/sparkcanon/followers",
                "following_url": "https://api.github.com/users/sparkcanon/following{/other_user}",
                "gists_url": "https://api.github.com/users/sparkcanon/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/sparkcanon",
                "id": 41004069,
                "login": "sparkcanon",
                "node_id": "MDQ6VXNlcjQxMDA0MDY5",
                "organizations_url": "https://api.github.com/users/sparkcanon/orgs",
                "received_events_url": "https://api.github.com/users/sparkcanon/received_events",
                "repos_url": "https://api.github.com/users/sparkcanon/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/sparkcanon/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/sparkcanon/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/sparkcanon"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Thank you for the snippet! However, either `set_qflist` has changed, or the format of the diagnostics tables, so I had to tweak it a little bit to get it to work:\r\n\r\n```lua\r\ndo\r\n  local method = \"textDocument/publishDiagnostics\"\r\n  local default_callback = vim.lsp.callbacks[method]\r\n  vim.lsp.callbacks[method] = function(err, method, result, client_id)\r\n    default_callback(err, method, result, client_id)\r\n    if result and result.diagnostics then\r\n      for _, v in ipairs(result.diagnostics) do\r\n        v.bufnr = client_id\r\n        v.lnum = v.range.start.line + 1\r\n        v.col = v.range.start.character + 1\r\n        v.text = v.message\r\n      end\r\n      vim.lsp.util.set_qflist(result.diagnostics)\r\n    end\r\n  end\r\nend\r\n```\r\n\r\nIf anyone else ends up needing to tweak this: figure out the structure of the diagnostics tables by putting `print(vim.inspect(v))` inside the for loop (you might have to run `:messages` to display the results). Run `:help setqflist` to see what keys you need to set.",
            "created_at": "2020-04-20T21:21:49Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/69#issuecomment-616816555",
            "id": 616816555,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/69",
            "node_id": "MDEyOklzc3VlQ29tbWVudDYxNjgxNjU1NQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 10,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 10,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/616816555/reactions"
            },
            "updated_at": "2020-04-20T21:22:46Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/616816555",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/2734517?v=4",
                "events_url": "https://api.github.com/users/dlukes/events{/privacy}",
                "followers_url": "https://api.github.com/users/dlukes/followers",
                "following_url": "https://api.github.com/users/dlukes/following{/other_user}",
                "gists_url": "https://api.github.com/users/dlukes/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/dlukes",
                "id": 2734517,
                "login": "dlukes",
                "node_id": "MDQ6VXNlcjI3MzQ1MTc=",
                "organizations_url": "https://api.github.com/users/dlukes/orgs",
                "received_events_url": "https://api.github.com/users/dlukes/received_events",
                "repos_url": "https://api.github.com/users/dlukes/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/dlukes/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dlukes/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/dlukes"
            }
        },
        {
            "author_association": "NONE",
            "body": "Thanks for the snippets! I had some warning due to an incorrect `bufnr`, but managed to bypass it by setting `v.bufnr = vim.uri_to_bufnr(result.uri)` instead of `client_id`.",
            "created_at": "2021-01-06T04:44:42Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/69#issuecomment-755074670",
            "id": 755074670,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/69",
            "node_id": "MDEyOklzc3VlQ29tbWVudDc1NTA3NDY3MA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/755074670/reactions"
            },
            "updated_at": "2021-01-06T04:44:42Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/755074670",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/33261531?v=4",
                "events_url": "https://api.github.com/users/9leks/events{/privacy}",
                "followers_url": "https://api.github.com/users/9leks/followers",
                "following_url": "https://api.github.com/users/9leks/following{/other_user}",
                "gists_url": "https://api.github.com/users/9leks/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/9leks",
                "id": 33261531,
                "login": "9leks",
                "node_id": "MDQ6VXNlcjMzMjYxNTMx",
                "organizations_url": "https://api.github.com/users/9leks/orgs",
                "received_events_url": "https://api.github.com/users/9leks/received_events",
                "repos_url": "https://api.github.com/users/9leks/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/9leks/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/9leks/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/9leks"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "@tekannor you might be interested in `:help vim.lsp.diagnostic.set_loclist()`",
            "created_at": "2021-01-06T04:47:12Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/69#issuecomment-755075330",
            "id": 755075330,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/69",
            "node_id": "MDEyOklzc3VlQ29tbWVudDc1NTA3NTMzMA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 1,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/755075330/reactions"
            },
            "updated_at": "2021-01-06T04:47:21Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/755075330",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/13316262?v=4",
                "events_url": "https://api.github.com/users/mjlbach/events{/privacy}",
                "followers_url": "https://api.github.com/users/mjlbach/followers",
                "following_url": "https://api.github.com/users/mjlbach/following{/other_user}",
                "gists_url": "https://api.github.com/users/mjlbach/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mjlbach",
                "id": 13316262,
                "login": "mjlbach",
                "node_id": "MDQ6VXNlcjEzMzE2MjYy",
                "organizations_url": "https://api.github.com/users/mjlbach/orgs",
                "received_events_url": "https://api.github.com/users/mjlbach/received_events",
                "repos_url": "https://api.github.com/users/mjlbach/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mjlbach/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mjlbach/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mjlbach"
            }
        },
        {
            "author_association": "NONE",
            "body": "OK, I think I found a solution. I tried the above method, but it seems to just overwrite the quickfix list, so any previous errors get lost.\r\n\r\nThis method uses `get_all()`, so every diagnostic will be used.\r\n\r\nAlso, I think the above method is missing some arguments when forwarding to the default handler? I've added them in but it doesn't actually make a difference for my config.\r\n\r\n```lua\r\ndo\r\n  local method = \"textDocument/publishDiagnostics\"\r\n  local default_handler = vim.lsp.handlers[method]\r\n  vim.lsp.handlers[method] = function(err, method, result, client_id, bufnr, config)\r\n    default_handler(err, method, result, client_id, bufnr, config)\r\n    local diagnostics = vim.lsp.diagnostic.get_all()\r\n    local qflist = {}\r\n    for bufnr, diagnostic in pairs(diagnostics) do\r\n      for _, d in ipairs(diagnostic) do\r\n        d.bufnr = bufnr\r\n        d.lnum = d.range.start.line + 1\r\n        d.col = d.range.start.character + 1\r\n        d.text = d.message\r\n        table.insert(qflist, d)\r\n      end\r\n    end\r\n    vim.lsp.util.set_qflist(qflist)\r\n  end\r\nend\r\n```",
            "created_at": "2021-03-03T08:39:24Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/69#issuecomment-789541466",
            "id": 789541466,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/69",
            "node_id": "MDEyOklzc3VlQ29tbWVudDc4OTU0MTQ2Ng==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 9,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 9,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/789541466/reactions"
            },
            "updated_at": "2021-03-03T11:42:13Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/789541466",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/37321607?v=4",
                "events_url": "https://api.github.com/users/willmcpherson2/events{/privacy}",
                "followers_url": "https://api.github.com/users/willmcpherson2/followers",
                "following_url": "https://api.github.com/users/willmcpherson2/following{/other_user}",
                "gists_url": "https://api.github.com/users/willmcpherson2/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/willmcpherson2",
                "id": 37321607,
                "login": "willmcpherson2",
                "node_id": "MDQ6VXNlcjM3MzIxNjA3",
                "organizations_url": "https://api.github.com/users/willmcpherson2/orgs",
                "received_events_url": "https://api.github.com/users/willmcpherson2/received_events",
                "repos_url": "https://api.github.com/users/willmcpherson2/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/willmcpherson2/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/willmcpherson2/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/willmcpherson2"
            }
        },
        {
            "author_association": "NONE",
            "body": "I've created a plugin for rendering workspace diagnostics in quickfix and live updating it as diagnostics changes: https://github.com/onsails/vimway-lsp-diag.nvim",
            "created_at": "2021-07-25T08:33:28Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/69#issuecomment-886167141",
            "id": 886167141,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/69",
            "node_id": "IC_kwDODTQC18400dZl",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/886167141/reactions"
            },
            "updated_at": "2021-07-25T08:33:28Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/886167141",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/107261?v=4",
                "events_url": "https://api.github.com/users/onsails/events{/privacy}",
                "followers_url": "https://api.github.com/users/onsails/followers",
                "following_url": "https://api.github.com/users/onsails/following{/other_user}",
                "gists_url": "https://api.github.com/users/onsails/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/onsails",
                "id": 107261,
                "login": "onsails",
                "node_id": "MDQ6VXNlcjEwNzI2MQ==",
                "organizations_url": "https://api.github.com/users/onsails/orgs",
                "received_events_url": "https://api.github.com/users/onsails/received_events",
                "repos_url": "https://api.github.com/users/onsails/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/onsails/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/onsails/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/onsails"
            }
        },
        {
            "author_association": "NONE",
            "body": "A DiagnosticChanged event was recently added, so the snippet can be simplified to:\r\n\r\n```lua\r\nvim.api.nvim_create_autocmd({ \"DiagnosticChanged\" }, {\r\n    group = vim.api.nvim_create_augroup(\"user_diagnostic_qflist\", {}),\r\n    callback = function(args)\r\n    -- Use pcall because I was getting inconsistent errors when quitting vim.\r\n    -- Possibly timing errors from trying to get/create diagnostics/qflists\r\n    -- that don't exist anymore. DiagnosticChanged fires at some strange times.\r\n    local has_diagnostics, diagnostics = pcall(vim.diagnostic.get)\r\n    local has_qflist, qflist = pcall(vim.fn.getqflist, { title = 0, id = 0, items = 0 })\r\n    if not has_diagnostics or not has_qflist then return end\r\n\r\n    -- Sometimes the event fires with an empty diagnostic list in the data.\r\n    -- This conditional prevents re-creating the qflist with the same\r\n    -- diagnostics, which reverts selection to the first item.\r\n    if\r\n      #args.data.diagnostics == 0\r\n      and #diagnostics > 0\r\n      and qflist.title == \"All Diagnostics\"\r\n      and #qflist.items == #diagnostics\r\n    then\r\n      return\r\n    end\r\n\r\n    vim.schedule(function()\r\n      -- If the last qflist was created by this autocmd, replace it so other\r\n      -- lists (e.g., vimgrep results) aren't buried due to diagnostic changes.\r\n      pcall(vim.fn.setqflist, {}, qflist.title == \"All Diagnostics\" and \"r\" or \" \", {\r\n        title = \"All Diagnostics\",\r\n        items = vim.diagnostic.toqflist(diagnostics),\r\n      })\r\n\r\n      -- Don't steal focus from other qflists. For example, when working\r\n      -- through vimgrep results, you likely want :cnext to take you to the\r\n      -- next match, rather than the next diagnostic. Use :cnew to switch to\r\n      -- the diagnostic qflist when you want it.\r\n      if qflist.id ~= 0 and qflist.title ~= \"All Diagnostics\" then pcall(vim.cmd.cold) end\r\n    end)\r\n  end,\r\n})\r\n```\r\n\r\nThe above snippet has the benefit of being fired during changes to diagnostics from nvim-lint, null-ls, etc. It also has an improvement that prevents burying other qflists with a bunch of diagnostic ones.",
            "created_at": "2024-01-04T21:26:13Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/69#issuecomment-1877781941",
            "id": 1877781941,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/69",
            "node_id": "IC_kwDODTQC185v7K21",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1877781941/reactions"
            },
            "updated_at": "2024-05-22T19:20:24Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1877781941",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10986395?v=4",
                "events_url": "https://api.github.com/users/benelan/events{/privacy}",
                "followers_url": "https://api.github.com/users/benelan/followers",
                "following_url": "https://api.github.com/users/benelan/following{/other_user}",
                "gists_url": "https://api.github.com/users/benelan/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/benelan",
                "id": 10986395,
                "login": "benelan",
                "node_id": "MDQ6VXNlcjEwOTg2Mzk1",
                "organizations_url": "https://api.github.com/users/benelan/orgs",
                "received_events_url": "https://api.github.com/users/benelan/received_events",
                "repos_url": "https://api.github.com/users/benelan/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/benelan/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/benelan/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/benelan"
            }
        }
    ],
    "comments": 15,
    "comments_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/69/comments",
    "created_at": "2019-12-09T19:21:19Z",
    "events_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/69/events",
    "html_url": "https://github.com/neovim/nvim-lspconfig/issues/69",
    "id": 535183703,
    "labels": [
        {
            "color": "c2e0c6",
            "default": true,
            "description": "New feature or request",
            "id": 1674892767,
            "name": "enhancement",
            "node_id": "MDU6TGFiZWwxNjc0ODkyNzY3",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/labels/enhancement"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/69/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWU1MzUxODM3MDM=",
    "number": 69,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 4,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 4,
        "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/69/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/nvim-lspconfig",
    "state": "closed",
    "state_reason": "completed",
    "timeline_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/69/timeline",
    "title": "add diagnostics to quicklist",
    "updated_at": "2024-05-22T19:20:24Z",
    "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/69",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/886074?v=4",
        "events_url": "https://api.github.com/users/teto/events{/privacy}",
        "followers_url": "https://api.github.com/users/teto/followers",
        "following_url": "https://api.github.com/users/teto/following{/other_user}",
        "gists_url": "https://api.github.com/users/teto/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/teto",
        "id": 886074,
        "login": "teto",
        "node_id": "MDQ6VXNlcjg4NjA3NA==",
        "organizations_url": "https://api.github.com/users/teto/orgs",
        "received_events_url": "https://api.github.com/users/teto/received_events",
        "repos_url": "https://api.github.com/users/teto/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/teto/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/teto/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/teto"
    }
}