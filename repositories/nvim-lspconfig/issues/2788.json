{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Description\r\n\r\njust boot my nvim, and error occured, but it doesn't affect the lsp, just a warnning message.\r\n\r\n![image](https://github.com/neovim/nvim-lspconfig/assets/57939102/d5db3592-6bbc-4dd3-a348-bfc6f8836b9e)\r\n\r\n\r\n### Neovim version\r\n\r\nNVIM v0.9.1\r\nBuild type: Release\r\nLuaJIT 2.1.0-beta3\r\n\r\n   system vimrc file: \"$VIM/sysinit.vim\"\r\n  fall-back for $VIM: \"/usr/local/share/nvim\"\r\n\r\nRun :checkhealth for more info\r\n\r\n\r\n### Nvim-lspconfig version\r\n\r\na27356f1\r\n\r\n### Operating system and version\r\n\r\nmacOS 13.5.1\r\n\r\n### Affected language servers\r\n\r\nlua,golsp\r\n\r\n### Steps to reproduce\r\n\r\n1. just boot my nvim.\r\n\r\n### Actual behavior\r\n\r\n`attempt to call a nil value` warnning message.\r\n\r\n### Expected behavior\r\n\r\nno warnning message.\r\n\r\n### Minimal config\r\n\r\n```Lua\r\nlocal M = {\r\n    'neovim/nvim-lspconfig',\r\n    event = { 'BufReadPre', 'BufNewFile' },\r\n    dependencies = {\r\n        'hrsh7th/cmp-nvim-lsp',\r\n    },\r\n}\r\n\r\nfunction M.config()\r\n    require('neodev').setup({})\r\n    local nvim_lsp = require('lspconfig')\r\n    -- local configs = require 'lspconfig/configs'\r\n    -- ------------------\r\n\r\n    local on_attach = function(_, bufnr)\r\n        -- require(\"lsp-format\").on_attach(client)\r\n        -- require(\"nvim-navic\").attach(client, bufnr)\r\n\r\n        -- enable inlay hint\r\n        -- vim.lsp.buf.inlay_hint(0, true)\r\n\r\n        -- vim.api.nvim_buf_set_option(bufnr, 'omnifunc', 'v:lua.vim.lsp.omnifunc')\r\n\r\n    end\r\n    -- nvim-cmp supports additional completion capabilities\r\n    local capabilities = vim.lsp.protocol.make_client_capabilities()\r\n    capabilities = require('cmp_nvim_lsp').default_capabilities(capabilities)\r\n    capabilities.textDocument.foldingRange = {\r\n        dynamicRegistration = false,\r\n        lineFoldingOnly = true,\r\n    }\r\n\r\n\r\n    -- -------------------------- common lsp server ----------------------\r\n    local servers = {\r\n        'bashls',\r\n        'sqlls',\r\n        'clangd',\r\n        'texlab',\r\n        'dockerls',\r\n        'vuels',\r\n    }\r\n\r\n    for _, lsp in ipairs(servers) do\r\n        nvim_lsp[lsp].setup({\r\n            on_attach = on_attach,\r\n            capabilities = capabilities,\r\n            root_dir = function()\r\n                return vim.fn.getcwd()\r\n            end,\r\n        })\r\n    end\r\n\r\n    -- -------------------- go lsp settings -- --------------------\r\n    nvim_lsp.gopls.setup({\r\n        on_attach = on_attach,\r\n        capabilities = capabilities,\r\n        root_dir = nvim_lsp.util.root_pattern('go.mod'),\r\n        settings = {\r\n            gopls = {\r\n                gofumpt = true,\r\n                usePlaceholders = true,\r\n                completeUnimported = true,\r\n                experimentalPostfixCompletions = true,\r\n                analyses = {\r\n                    unusedparams = true,\r\n                    shadow = true,\r\n                },\r\n                hints = {\r\n                    assignVariableTypes = true,\r\n                    compositeLiteralFields = true,\r\n                    compositeLiteralTypes = true,\r\n                    constantValues = true,\r\n                    functionTypeParameters = true,\r\n                    parameterNames = true,\r\n                    rangeVariableTypes = true,\r\n                },\r\n                staticcheck = true,\r\n            },\r\n        },\r\n    })\r\n   \r\n\r\n    -- -------------------- lua lsp settings -- --------------------\r\n    local settings = {\r\n        Lua = {\r\n            hint = { enable = true },\r\n            runtime = { version = 'LuaJIT' },\r\n            completion = {\r\n                callSnippet = 'Replace',\r\n            },\r\n            diagnostics = {\r\n                globals = {\r\n                    'vim',\r\n                    'use',\r\n                    'describe',\r\n                    'it',\r\n                    'assert',\r\n                    'before_each',\r\n                    'after_each',\r\n                },\r\n            },\r\n            disable = {\r\n                'lowercase-global',\r\n                'undefined-global',\r\n                'unused-local',\r\n                'unused-function',\r\n                'unused-vararg',\r\n                'trailing-space',\r\n            },\r\n        },\r\n    }\r\n\r\n    nvim_lsp.lua_ls.setup({\r\n        on_attach = function(client, bufnr)\r\n            client.server_capabilities.document_formatting = false\r\n            client.server_capabilities.document_range_formatting = false\r\n            on_attach(client, bufnr)\r\n        end,\r\n        settings = settings,\r\n        flags = { debounce_text_changes = 150 },\r\n        capabilities = capabilities,\r\n    })\r\n  \r\nend\r\n\r\nreturn M\r\n```\r\n\r\n\r\n### LSP log\r\n\r\nno log.",
    "closed_at": "2023-08-29T09:55:30Z",
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "could you try this min config https://github.com/neovim/nvim-lspconfig/blob/master/test/minimal_init.lua",
            "created_at": "2023-08-28T11:45:09Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/2788#issuecomment-1695550953",
            "id": 1695550953,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/2788",
            "node_id": "IC_kwDODTQC185lEA3p",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1695550953/reactions"
            },
            "updated_at": "2023-08-28T11:45:09Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1695550953",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
                "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
                "followers_url": "https://api.github.com/users/glepnir/followers",
                "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
                "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glepnir",
                "id": 41671631,
                "login": "glepnir",
                "node_id": "MDQ6VXNlcjQxNjcxNjMx",
                "organizations_url": "https://api.github.com/users/glepnir/orgs",
                "received_events_url": "https://api.github.com/users/glepnir/received_events",
                "repos_url": "https://api.github.com/users/glepnir/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glepnir"
            }
        },
        {
            "author_association": "NONE",
            "body": "@glepnir same.\r\n\r\nUpgrade my neovim to nightly version, and the warnning message is gone. :)",
            "created_at": "2023-08-29T01:16:07Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/2788#issuecomment-1696629653",
            "id": 1696629653,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/2788",
            "node_id": "IC_kwDODTQC185lIIOV",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1696629653/reactions"
            },
            "updated_at": "2023-08-29T01:16:07Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1696629653",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/57939102?v=4",
                "events_url": "https://api.github.com/users/AGou-ops/events{/privacy}",
                "followers_url": "https://api.github.com/users/AGou-ops/followers",
                "following_url": "https://api.github.com/users/AGou-ops/following{/other_user}",
                "gists_url": "https://api.github.com/users/AGou-ops/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/AGou-ops",
                "id": 57939102,
                "login": "AGou-ops",
                "node_id": "MDQ6VXNlcjU3OTM5MTAy",
                "organizations_url": "https://api.github.com/users/AGou-ops/orgs",
                "received_events_url": "https://api.github.com/users/AGou-ops/received_events",
                "repos_url": "https://api.github.com/users/AGou-ops/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/AGou-ops/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/AGou-ops/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/AGou-ops"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "close then.",
            "created_at": "2023-08-29T09:55:30Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/2788#issuecomment-1697127005",
            "id": 1697127005,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/2788",
            "node_id": "IC_kwDODTQC185lKBpd",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1697127005/reactions"
            },
            "updated_at": "2023-08-29T09:55:30Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1697127005",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
                "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
                "followers_url": "https://api.github.com/users/glepnir/followers",
                "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
                "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glepnir",
                "id": 41671631,
                "login": "glepnir",
                "node_id": "MDQ6VXNlcjQxNjcxNjMx",
                "organizations_url": "https://api.github.com/users/glepnir/orgs",
                "received_events_url": "https://api.github.com/users/glepnir/received_events",
                "repos_url": "https://api.github.com/users/glepnir/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glepnir"
            }
        }
    ],
    "comments": 3,
    "comments_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/2788/comments",
    "created_at": "2023-08-28T10:02:08Z",
    "events_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/2788/events",
    "html_url": "https://github.com/neovim/nvim-lspconfig/issues/2788",
    "id": 1869433272,
    "labels": [
        {
            "color": "f9d0c4",
            "default": true,
            "description": "Something isn't working",
            "id": 1674892761,
            "name": "bug",
            "node_id": "MDU6TGFiZWwxNjc0ODkyNzYx",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/labels/bug"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/2788/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDODTQC185vbUm4",
    "number": 2788,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/2788/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/nvim-lspconfig",
    "state": "closed",
    "state_reason": "completed",
    "timeline_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/2788/timeline",
    "title": "attempt to call a nil value",
    "updated_at": "2023-08-29T09:55:31Z",
    "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/2788",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/57939102?v=4",
        "events_url": "https://api.github.com/users/AGou-ops/events{/privacy}",
        "followers_url": "https://api.github.com/users/AGou-ops/followers",
        "following_url": "https://api.github.com/users/AGou-ops/following{/other_user}",
        "gists_url": "https://api.github.com/users/AGou-ops/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/AGou-ops",
        "id": 57939102,
        "login": "AGou-ops",
        "node_id": "MDQ6VXNlcjU3OTM5MTAy",
        "organizations_url": "https://api.github.com/users/AGou-ops/orgs",
        "received_events_url": "https://api.github.com/users/AGou-ops/received_events",
        "repos_url": "https://api.github.com/users/AGou-ops/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/AGou-ops/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/AGou-ops/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/AGou-ops"
    }
}