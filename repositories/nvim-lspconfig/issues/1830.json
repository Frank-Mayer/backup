{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Description\r\n\r\nWhen I use the minimal config and press `gd` to go to definition of a React JSX component, it does not go to the file, but only goes the line with the import within the same file.\r\n\r\n### Neovim version\r\n\r\nNVIM v0.7.0-dev+1387-gd73bf3138\r\nBuild type: Release\r\nLuaJIT 2.1.0-beta3\r\n\r\n### Nvim-lspconfig version\r\n\r\nfd7843ad04cbc8ee2181bed9c3e83839b0d0b285\r\n\r\n### Operating system and version\r\n\r\nmacOS 12.3\r\n\r\n### Affected language servers\r\n\r\ntsserver 0.9.7\r\n\r\n### Steps to reproduce\r\n\r\n1. [Setup a minimal config](https://github.com/neovim/nvim-lspconfig/blob/master/test/minimal_init.lua)\r\n2. Have tsserver installed npm install -g typescript typescript-language-server\r\n3. [Clone this repo](https://github.com/RyanzpLee/test-monorepo-lsp) and rename test_node_modules to `node_modules` to simulate a global node modules that gets shared across all apps in `apps/`\r\n4. Go to `apps/app1/src/page1.jsx` and put your cursor on `<NiceComponentOverlay />`\r\n5. Use `<cmd>lua vim.lsp.buf.definition()<CR>` which should be mapped to gd\r\n6. it will only jump to line 2 where it is imported.\r\n7. Expected behaviour is to jump to `apps/app1/src/pages/page1/components/NiceComponentOverlay/NiceComponentOverlay.jsx`\r\n8. Remove `test-monorepo-lsp/node_modules/typescript`\r\n9. Repeat steps 4 - 5 for desired behaviour\r\n\r\nWhen using coc.nvim or vscode and going to definition, it works straight away and I want this function to be working the same.\r\n\r\n### Actual behavior\r\n\r\nJumps to the line 2 where the component is imported. Pressing `gd` on this line again does not take it to the file either.\r\n\r\nWhen looking for references with `<cmd>lua vim.lsp.buf.references()<CR>` the file definition does show up, so this is a potential workaround but not the expected workflow.\r\n\r\n### Expected behavior\r\n\r\nExpect to jump to the correct file defintion in `apps/app1/src/pages/page1/components/NiceComponentOverlay/NiceComponentOverlay.jsx`\r\n\r\n### Minimal config\r\n\r\n```Lua\r\nlocal on_windows = vim.loop.os_uname().version:match 'Windows'\r\n\r\nlocal function join_paths(...)\r\n  local path_sep = on_windows and '\\\\' or '/'\r\n  local result = table.concat({ ... }, path_sep)\r\n  return result\r\nend\r\n\r\nvim.cmd [[set runtimepath=$VIMRUNTIME]]\r\n\r\nlocal temp_dir = vim.loop.os_getenv 'TEMP' or '/tmp'\r\n\r\nvim.cmd('set packpath=' .. join_paths(temp_dir, 'nvim', 'site'))\r\n\r\nlocal package_root = join_paths(temp_dir, 'nvim', 'site', 'pack')\r\nlocal install_path = join_paths(package_root, 'packer', 'start', 'packer.nvim')\r\nlocal compile_path = join_paths(install_path, 'plugin', 'packer_compiled.lua')\r\n\r\nlocal function load_plugins()\r\n  require('packer').startup {\r\n    {\r\n      'wbthomason/packer.nvim',\r\n      'neovim/nvim-lspconfig',\r\n    },\r\n    config = {\r\n      package_root = package_root,\r\n      compile_path = compile_path,\r\n    },\r\n  }\r\nend\r\n\r\n_G.load_config = function()\r\n  vim.lsp.set_log_level 'trace'\r\n  if vim.fn.has 'nvim-0.5.1' == 1 then\r\n    require('vim.lsp.log').set_format_func(vim.inspect)\r\n  end\r\n  local nvim_lsp = require 'lspconfig'\r\n  local on_attach = function(_, bufnr)\r\n    local function buf_set_keymap(...)\r\n      vim.api.nvim_buf_set_keymap(bufnr, ...)\r\n    end\r\n    local function buf_set_option(...)\r\n      vim.api.nvim_buf_set_option(bufnr, ...)\r\n    end\r\n\r\n    buf_set_option('omnifunc', 'v:lua.vim.lsp.omnifunc')\r\n\r\n    -- Mappings.\r\n    local opts = { noremap = true, silent = true }\r\n    buf_set_keymap('n', 'gD', '<Cmd>lua vim.lsp.buf.declaration()<CR>', opts)\r\n    buf_set_keymap('n', 'gd', '<Cmd>lua vim.lsp.buf.definition()<CR>', opts)\r\n    buf_set_keymap('n', 'K', '<Cmd>lua vim.lsp.buf.hover()<CR>', opts)\r\n    buf_set_keymap('n', 'gi', '<cmd>lua vim.lsp.buf.implementation()<CR>', opts)\r\n    buf_set_keymap('n', '<C-k>', '<cmd>lua vim.lsp.buf.signature_help()<CR>', opts)\r\n    buf_set_keymap('n', '<space>wa', '<cmd>lua vim.lsp.buf.add_workspace_folder()<CR>', opts)\r\n    buf_set_keymap('n', '<space>wr', '<cmd>lua vim.lsp.buf.remove_workspace_folder()<CR>', opts)\r\n    buf_set_keymap('n', '<space>wl', '<cmd>lua print(vim.inspect(vim.lsp.buf.list_workspace_folders()))<CR>', opts)\r\n    buf_set_keymap('n', '<space>D', '<cmd>lua vim.lsp.buf.type_definition()<CR>', opts)\r\n    buf_set_keymap('n', '<space>rn', '<cmd>lua vim.lsp.buf.rename()<CR>', opts)\r\n    buf_set_keymap('n', 'gr', '<cmd>lua vim.lsp.buf.references()<CR>', opts)\r\n    buf_set_keymap('n', '<space>e', '<cmd>lua vim.lsp.diagnostic.show_line_diagnostics()<CR>', opts)\r\n    buf_set_keymap('n', '[d', '<cmd>lua vim.lsp.diagnostic.goto_prev()<CR>', opts)\r\n    buf_set_keymap('n', ']d', '<cmd>lua vim.lsp.diagnostic.goto_next()<CR>', opts)\r\n    buf_set_keymap('n', '<space>q', '<cmd>lua vim.lsp.diagnostic.set_loclist()<CR>', opts)\r\n  end\r\n\r\n  -- Add the server that troubles you here\r\n  local name = 'tsserver'\r\n -- local cmd = { 'pyright-langserver', '--stdio' } -- needed for elixirls, omnisharp, sumneko_lua\r\n  if not name then\r\n    print 'You have not defined a server name, please edit minimal_init.lua'\r\n  end\r\n  if not nvim_lsp[name].document_config.default_config.cmd and not cmd then\r\n    print [[You have not defined a server default cmd for a server\r\n      that requires it please edit minimal_init.lua]]\r\n  end\r\n\r\n  nvim_lsp[name].setup {\r\n    cmd = cmd,\r\n    on_attach = on_attach,\r\n  }\r\n\r\n  print [[You can find your log at $HOME/.cache/nvim/lsp.log. Please paste in a github issue under a details tag as described in the issue template.]]\r\nend\r\n\r\nif vim.fn.isdirectory(install_path) == 0 then\r\n  vim.fn.system { 'git', 'clone', 'https://github.com/wbthomason/packer.nvim', install_path }\r\n  load_plugins()\r\n  require('packer').sync()\r\n  vim.cmd [[autocmd User PackerComplete ++once lua load_config()]]\r\nelse\r\n  load_plugins()\r\n  require('packer').sync()\r\n  _G.load_config()\r\nend\r\n```\r\n\r\n\r\n### LSP log\r\n\r\nhttps://gist.github.com/RyanzpLee/2eb5621b8b84d2c673460ffb8b584fa4",
    "closed_at": "2022-04-10T17:52:46Z",
    "comment_data": [
        {
            "author_association": "CONTRIBUTOR",
            "body": "Yep, you'll need to override the root pattern to support whatever logic you want. One option for your config, just use the git directory:\r\n\r\n```lua\r\nlocal util = require 'lspconfig.util'\r\n\r\nrequire('lspconfig').tsserver.setup{\r\n   root_dir = util.root_pattern('.git')(fname)\r\n}\r\n```",
            "created_at": "2022-04-10T17:52:46Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/1830#issuecomment-1094336479",
            "id": 1094336479,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/1830",
            "node_id": "IC_kwDODTQC185BOj_f",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1094336479/reactions"
            },
            "updated_at": "2022-04-10T17:52:46Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1094336479",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/13316262?v=4",
                "events_url": "https://api.github.com/users/mjlbach/events{/privacy}",
                "followers_url": "https://api.github.com/users/mjlbach/followers",
                "following_url": "https://api.github.com/users/mjlbach/following{/other_user}",
                "gists_url": "https://api.github.com/users/mjlbach/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mjlbach",
                "id": 13316262,
                "login": "mjlbach",
                "node_id": "MDQ6VXNlcjEzMzE2MjYy",
                "organizations_url": "https://api.github.com/users/mjlbach/orgs",
                "received_events_url": "https://api.github.com/users/mjlbach/received_events",
                "repos_url": "https://api.github.com/users/mjlbach/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mjlbach/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mjlbach/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mjlbach"
            }
        },
        {
            "author_association": "NONE",
            "body": "Hi @mjlbach, could you explain what `fname` is please? I tried replacing `nvim_lsp[name].setup...` the custom root_dir but the go to definition still does not work. When I set the root_dir do I want it to be at the monorepo root, or the root of the individual app?\r\n```lua\r\nlocal util = require 'lspconfig.util'\r\n\r\nnvim_lsp.tsserver.setup{\r\n    root_dir = util.root_pattern('.git')(fname),\r\n    cmd = cmd,\r\n    on_attach = on_attach,\r\n  }\r\n```",
            "created_at": "2022-04-10T18:23:10Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/1830#issuecomment-1094341470",
            "id": 1094341470,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/1830",
            "node_id": "IC_kwDODTQC185BOlNe",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1094341470/reactions"
            },
            "updated_at": "2022-04-10T18:23:10Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1094341470",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/69594457?v=4",
                "events_url": "https://api.github.com/users/RyanzpLee/events{/privacy}",
                "followers_url": "https://api.github.com/users/RyanzpLee/followers",
                "following_url": "https://api.github.com/users/RyanzpLee/following{/other_user}",
                "gists_url": "https://api.github.com/users/RyanzpLee/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/RyanzpLee",
                "id": 69594457,
                "login": "RyanzpLee",
                "node_id": "MDQ6VXNlcjY5NTk0NDU3",
                "organizations_url": "https://api.github.com/users/RyanzpLee/orgs",
                "received_events_url": "https://api.github.com/users/RyanzpLee/received_events",
                "repos_url": "https://api.github.com/users/RyanzpLee/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/RyanzpLee/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/RyanzpLee/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/RyanzpLee"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "Copy/paste error `root_dir = util.root_pattern('.git')`, fname is an argument that is passed to the function reference. You can write it explicitly if you want, but it's equivalent\r\n\r\nlocal util = require 'lspconfig.util'\r\n\r\n```\r\nnvim_lsp.tsserver.setup{\r\n    root_dir = util.root_pattern('.git'),\r\n    cmd = cmd,\r\n    on_attach = on_attach,\r\n  }\r\n```\r\n\r\nor \r\n```\r\nnvim_lsp.tsserver.setup{\r\n    root_dir = function(fname)\r\n        return util.root_pattern('.git')(fname)\r\n    end,\r\n    cmd = cmd,\r\n    on_attach = on_attach,\r\n  }\r\n```",
            "created_at": "2022-04-10T19:03:45Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/1830#issuecomment-1094349242",
            "id": 1094349242,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/1830",
            "node_id": "IC_kwDODTQC185BOnG6",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1094349242/reactions"
            },
            "updated_at": "2022-04-10T19:03:45Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1094349242",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/13316262?v=4",
                "events_url": "https://api.github.com/users/mjlbach/events{/privacy}",
                "followers_url": "https://api.github.com/users/mjlbach/followers",
                "following_url": "https://api.github.com/users/mjlbach/following{/other_user}",
                "gists_url": "https://api.github.com/users/mjlbach/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mjlbach",
                "id": 13316262,
                "login": "mjlbach",
                "node_id": "MDQ6VXNlcjEzMzE2MjYy",
                "organizations_url": "https://api.github.com/users/mjlbach/orgs",
                "received_events_url": "https://api.github.com/users/mjlbach/received_events",
                "repos_url": "https://api.github.com/users/mjlbach/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mjlbach/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mjlbach/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mjlbach"
            }
        },
        {
            "author_association": "NONE",
            "body": "Ahh makes sense. So that seems to set the root directory to the monorepo root (as well as find_git_ancestor(), but the 'go to definition' function still does not work properly as you can see here in this recording. It only works if I remove the typescript module from the node modules folder. Any ideas why this is still the case?\r\nhttps://streamable.com/5mp81j",
            "created_at": "2022-04-10T19:26:23Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/1830#issuecomment-1094353273",
            "id": 1094353273,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/1830",
            "node_id": "IC_kwDODTQC185BOoF5",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1094353273/reactions"
            },
            "updated_at": "2022-04-10T19:26:23Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1094353273",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/69594457?v=4",
                "events_url": "https://api.github.com/users/RyanzpLee/events{/privacy}",
                "followers_url": "https://api.github.com/users/RyanzpLee/followers",
                "following_url": "https://api.github.com/users/RyanzpLee/following{/other_user}",
                "gists_url": "https://api.github.com/users/RyanzpLee/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/RyanzpLee",
                "id": 69594457,
                "login": "RyanzpLee",
                "node_id": "MDQ6VXNlcjY5NTk0NDU3",
                "organizations_url": "https://api.github.com/users/RyanzpLee/orgs",
                "received_events_url": "https://api.github.com/users/RyanzpLee/received_events",
                "repos_url": "https://api.github.com/users/RyanzpLee/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/RyanzpLee/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/RyanzpLee/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/RyanzpLee"
            }
        },
        {
            "author_association": "NONE",
            "body": "@mjlbach Just attaching this asciinema recording showing that the 'go to definition' functionality works when the root node_modules folder is removed(renamed).\r\nhttps://asciinema.org/a/vAn6bmxHSaE2j8asE5F5hC41D",
            "created_at": "2022-04-10T21:18:28Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/1830#issuecomment-1094371634",
            "id": 1094371634,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/1830",
            "node_id": "IC_kwDODTQC185BOsky",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1094371634/reactions"
            },
            "updated_at": "2022-04-10T21:18:28Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1094371634",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/69594457?v=4",
                "events_url": "https://api.github.com/users/RyanzpLee/events{/privacy}",
                "followers_url": "https://api.github.com/users/RyanzpLee/followers",
                "following_url": "https://api.github.com/users/RyanzpLee/following{/other_user}",
                "gists_url": "https://api.github.com/users/RyanzpLee/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/RyanzpLee",
                "id": 69594457,
                "login": "RyanzpLee",
                "node_id": "MDQ6VXNlcjY5NTk0NDU3",
                "organizations_url": "https://api.github.com/users/RyanzpLee/orgs",
                "received_events_url": "https://api.github.com/users/RyanzpLee/received_events",
                "repos_url": "https://api.github.com/users/RyanzpLee/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/RyanzpLee/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/RyanzpLee/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/RyanzpLee"
            }
        },
        {
            "author_association": "CONTRIBUTOR",
            "body": "You can try reporting it upstream to https://github.com/typescript-language-server/typescript-language-server, it's not expected that coc/vscode will behave the same as neovim's built in client, as they are able to use tsserver (running in-process javascript, sidestepping the lack of an exposed LSP interface) directly whereas we need to go through the wrapper. This seems like language server behavior rather than anything we are doing clientside.",
            "created_at": "2022-04-10T21:32:19Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/1830#issuecomment-1094374507",
            "id": 1094374507,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/1830",
            "node_id": "IC_kwDODTQC185BOtRr",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1094374507/reactions"
            },
            "updated_at": "2022-04-10T21:32:53Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1094374507",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/13316262?v=4",
                "events_url": "https://api.github.com/users/mjlbach/events{/privacy}",
                "followers_url": "https://api.github.com/users/mjlbach/followers",
                "following_url": "https://api.github.com/users/mjlbach/following{/other_user}",
                "gists_url": "https://api.github.com/users/mjlbach/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/mjlbach",
                "id": 13316262,
                "login": "mjlbach",
                "node_id": "MDQ6VXNlcjEzMzE2MjYy",
                "organizations_url": "https://api.github.com/users/mjlbach/orgs",
                "received_events_url": "https://api.github.com/users/mjlbach/received_events",
                "repos_url": "https://api.github.com/users/mjlbach/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/mjlbach/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/mjlbach/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/mjlbach"
            }
        },
        {
            "author_association": "NONE",
            "body": "Hmmm that's interesting to know then thank you for your help! I'll try reporting it upstream like you say and see what can be done about it. \r\n\r\nAt the end of the day I suppose I can just continue to use nvim-lsp for side projects and use coc for this particular project. ",
            "created_at": "2022-04-10T21:38:17Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/1830#issuecomment-1094375426",
            "id": 1094375426,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/1830",
            "node_id": "IC_kwDODTQC185BOtgC",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1094375426/reactions"
            },
            "updated_at": "2022-04-10T21:38:17Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1094375426",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/69594457?v=4",
                "events_url": "https://api.github.com/users/RyanzpLee/events{/privacy}",
                "followers_url": "https://api.github.com/users/RyanzpLee/followers",
                "following_url": "https://api.github.com/users/RyanzpLee/following{/other_user}",
                "gists_url": "https://api.github.com/users/RyanzpLee/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/RyanzpLee",
                "id": 69594457,
                "login": "RyanzpLee",
                "node_id": "MDQ6VXNlcjY5NTk0NDU3",
                "organizations_url": "https://api.github.com/users/RyanzpLee/orgs",
                "received_events_url": "https://api.github.com/users/RyanzpLee/received_events",
                "repos_url": "https://api.github.com/users/RyanzpLee/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/RyanzpLee/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/RyanzpLee/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/RyanzpLee"
            }
        },
        {
            "author_association": "NONE",
            "body": "> it's not expected that coc/vscode will behave the same as neovim's built in client\r\n\r\nSure, there can always be differences due to there being an LSP layer used but generally it's still the same tsserver API that is used in all cases. So I would generally expect those things to work the same in all editors.\r\n\r\nI haven't investigated this case yet BTW.",
            "created_at": "2022-04-11T09:46:41Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/1830#issuecomment-1094829733",
            "id": 1094829733,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/1830",
            "node_id": "IC_kwDODTQC185BQcal",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1094829733/reactions"
            },
            "updated_at": "2022-04-11T09:46:41Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1094829733",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/153197?v=4",
                "events_url": "https://api.github.com/users/rchl/events{/privacy}",
                "followers_url": "https://api.github.com/users/rchl/followers",
                "following_url": "https://api.github.com/users/rchl/following{/other_user}",
                "gists_url": "https://api.github.com/users/rchl/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/rchl",
                "id": 153197,
                "login": "rchl",
                "node_id": "MDQ6VXNlcjE1MzE5Nw==",
                "organizations_url": "https://api.github.com/users/rchl/orgs",
                "received_events_url": "https://api.github.com/users/rchl/received_events",
                "repos_url": "https://api.github.com/users/rchl/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/rchl/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rchl/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/rchl"
            }
        },
        {
            "author_association": "NONE",
            "body": "I think it's just a matter of different versions of Typescript being used.\r\n\r\nVSCode uses bundled version of Typescript by default which is typically the latest version at the time the VSCode was released.\r\n\r\nWhen using workspace version of Typescript, you are using an older version of Typescript which doesn't work as expected in that case.\r\n\r\nYou can force VSCode to use the workspace version of Typescript in which case you should also be able to reproduce your issue there:\r\n\r\n![Screenshot 2022-04-11 at 11 55 38](https://user-images.githubusercontent.com/153197/162714305-73202eb3-5b8f-4169-8b26-af54bf6b3233.png)\r\n\r\n",
            "created_at": "2022-04-11T09:56:50Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/1830#issuecomment-1094842894",
            "id": 1094842894,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/1830",
            "node_id": "IC_kwDODTQC185BQfoO",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1094842894/reactions"
            },
            "updated_at": "2022-04-11T09:57:37Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1094842894",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/153197?v=4",
                "events_url": "https://api.github.com/users/rchl/events{/privacy}",
                "followers_url": "https://api.github.com/users/rchl/followers",
                "following_url": "https://api.github.com/users/rchl/following{/other_user}",
                "gists_url": "https://api.github.com/users/rchl/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/rchl",
                "id": 153197,
                "login": "rchl",
                "node_id": "MDQ6VXNlcjE1MzE5Nw==",
                "organizations_url": "https://api.github.com/users/rchl/orgs",
                "received_events_url": "https://api.github.com/users/rchl/received_events",
                "repos_url": "https://api.github.com/users/rchl/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/rchl/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rchl/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/rchl"
            }
        },
        {
            "author_association": "NONE",
            "body": "@rchl Interesting! I didn't know you could force the version of Typescript in vscode. I recreate the issue with 4.4.3 in VSCode as you say, so from the sounds of it I just need to bump the version up a more recent version, which hopefully I can do. \r\n\r\nOr alternatively, there may be a way to force nvim-lsp to use for example my machine's global installation of typescript and that should fix the issue?\r\n\r\nThank you for investigating that!",
            "created_at": "2022-04-11T10:16:12Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/1830#issuecomment-1094866987",
            "id": 1094866987,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/1830",
            "node_id": "IC_kwDODTQC185BQlgr",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1094866987/reactions"
            },
            "updated_at": "2022-04-11T10:18:12Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1094866987",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/69594457?v=4",
                "events_url": "https://api.github.com/users/RyanzpLee/events{/privacy}",
                "followers_url": "https://api.github.com/users/RyanzpLee/followers",
                "following_url": "https://api.github.com/users/RyanzpLee/following{/other_user}",
                "gists_url": "https://api.github.com/users/RyanzpLee/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/RyanzpLee",
                "id": 69594457,
                "login": "RyanzpLee",
                "node_id": "MDQ6VXNlcjY5NTk0NDU3",
                "organizations_url": "https://api.github.com/users/RyanzpLee/orgs",
                "received_events_url": "https://api.github.com/users/RyanzpLee/received_events",
                "repos_url": "https://api.github.com/users/RyanzpLee/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/RyanzpLee/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/RyanzpLee/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/RyanzpLee"
            }
        },
        {
            "author_association": "NONE",
            "body": "You can specify which tsserver you want to use with [--tsserver-path](https://github.com/typescript-language-server/typescript-language-server/blob/master/README.md#cli-options) but ideally you would use the same version of typescript within your project and for your IDE so that you don't end up with different behavior between the two.",
            "created_at": "2022-04-11T10:21:20Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/1830#issuecomment-1094872683",
            "id": 1094872683,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/1830",
            "node_id": "IC_kwDODTQC185BQm5r",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 1,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 1,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1094872683/reactions"
            },
            "updated_at": "2022-04-11T10:21:33Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1094872683",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/153197?v=4",
                "events_url": "https://api.github.com/users/rchl/events{/privacy}",
                "followers_url": "https://api.github.com/users/rchl/followers",
                "following_url": "https://api.github.com/users/rchl/following{/other_user}",
                "gists_url": "https://api.github.com/users/rchl/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/rchl",
                "id": 153197,
                "login": "rchl",
                "node_id": "MDQ6VXNlcjE1MzE5Nw==",
                "organizations_url": "https://api.github.com/users/rchl/orgs",
                "received_events_url": "https://api.github.com/users/rchl/received_events",
                "repos_url": "https://api.github.com/users/rchl/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/rchl/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/rchl/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/rchl"
            }
        },
        {
            "author_association": "NONE",
            "body": "Sorry to revive this thread, but I am having similar issue with `tsserver` LSP. \r\n\r\nMy `go to definition` works fine, but `go to reference` only works if I have previously opened up the file (very similarly to this issue https://github.com/typescript-language-server/typescript-language-server/issues/271). I am also using monorepo (nx) that uses ts path mappings. \r\n\r\nSo when I try to `gr` on the `foo` here:\r\n```ts\r\n// libs/core/foo.ts\r\nexport const foo = 'bar';\r\n```\r\n\r\nthat is somewhere else used for example as:\r\n```ts\r\n// apps/someapp/main.ts\r\nimport { foo } from \"@myorg/core\"\r\nconsole.log(foo)\r\n```\r\n\r\nthe LSP fails to find the reference unless I have previously opened the `apps/someapp/main.ts` file...\r\n\r\n\r\n\r\nDid anyone manage to make it work right? ",
            "created_at": "2024-01-11T14:13:45Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/1830#issuecomment-1887254880",
            "id": 1887254880,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/1830",
            "node_id": "IC_kwDODTQC185wfTlg",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 4,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 4,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1887254880/reactions"
            },
            "updated_at": "2024-01-11T14:13:45Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1887254880",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/9354213?v=4",
                "events_url": "https://api.github.com/users/faileon/events{/privacy}",
                "followers_url": "https://api.github.com/users/faileon/followers",
                "following_url": "https://api.github.com/users/faileon/following{/other_user}",
                "gists_url": "https://api.github.com/users/faileon/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/faileon",
                "id": 9354213,
                "login": "faileon",
                "node_id": "MDQ6VXNlcjkzNTQyMTM=",
                "organizations_url": "https://api.github.com/users/faileon/orgs",
                "received_events_url": "https://api.github.com/users/faileon/received_events",
                "repos_url": "https://api.github.com/users/faileon/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/faileon/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/faileon/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/faileon"
            }
        },
        {
            "author_association": "NONE",
            "body": "> Sorry to revive this thread, but I am having similar issue with `tsserver` LSP.\r\n> \r\n> My `go to definition` works fine, but `go to reference` only works if I have previously opened up the file (very similarly to this issue [typescript-language-server/typescript-language-server#271](https://github.com/typescript-language-server/typescript-language-server/issues/271)). I am also using monorepo (nx) that uses ts path mappings.\r\n> \r\n> So when I try to `gr` on the `foo` here:\r\n> \r\n> ```ts\r\n> // libs/core/foo.ts\r\n> export const foo = 'bar';\r\n> ```\r\n> \r\n> that is somewhere else used for example as:\r\n> \r\n> ```ts\r\n> // apps/someapp/main.ts\r\n> import { foo } from \"@myorg/core\"\r\n> console.log(foo)\r\n> ```\r\n> \r\n> the LSP fails to find the reference unless I have previously opened the `apps/someapp/main.ts` file...\r\n> \r\n> Did anyone manage to make it work right?\r\n\r\nI fallen in same problem. Go to reference for tsserver LSP works only when I open all libs in my monorepo (nx) setup. In VsCode all works out of the box and I can't solution how to setup LSP in neovim.",
            "created_at": "2024-05-17T18:37:25Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/1830#issuecomment-2118181126",
            "id": 2118181126,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/1830",
            "node_id": "IC_kwDODTQC185-QOEG",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2118181126/reactions"
            },
            "updated_at": "2024-05-17T18:37:25Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2118181126",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/24943089?v=4",
                "events_url": "https://api.github.com/users/Tantol/events{/privacy}",
                "followers_url": "https://api.github.com/users/Tantol/followers",
                "following_url": "https://api.github.com/users/Tantol/following{/other_user}",
                "gists_url": "https://api.github.com/users/Tantol/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/Tantol",
                "id": 24943089,
                "login": "Tantol",
                "node_id": "MDQ6VXNlcjI0OTQzMDg5",
                "organizations_url": "https://api.github.com/users/Tantol/orgs",
                "received_events_url": "https://api.github.com/users/Tantol/received_events",
                "repos_url": "https://api.github.com/users/Tantol/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/Tantol/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/Tantol/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/Tantol"
            }
        },
        {
            "author_association": "NONE",
            "body": "> > Sorry to revive this thread, but I am having similar issue with `tsserver` LSP.\r\n> > My `go to definition` works fine, but `go to reference` only works if I have previously opened up the file (very similarly to this issue [typescript-language-server/typescript-language-server#271](https://github.com/typescript-language-server/typescript-language-server/issues/271)). I am also using monorepo (nx) that uses ts path mappings.\r\n> > So when I try to `gr` on the `foo` here:\r\n> > ```ts\r\n> > // libs/core/foo.ts\r\n> > export const foo = 'bar';\r\n> > ```\r\n> > \r\n> > \r\n> >     \r\n> >       \r\n> >     \r\n> > \r\n> >       \r\n> >     \r\n> > \r\n> >     \r\n> >   \r\n> > that is somewhere else used for example as:\r\n> > ```ts\r\n> > // apps/someapp/main.ts\r\n> > import { foo } from \"@myorg/core\"\r\n> > console.log(foo)\r\n> > ```\r\n> > \r\n> > \r\n> >     \r\n> >       \r\n> >     \r\n> > \r\n> >       \r\n> >     \r\n> > \r\n> >     \r\n> >   \r\n> > the LSP fails to find the reference unless I have previously opened the `apps/someapp/main.ts` file...\r\n> > Did anyone manage to make it work right?\r\n> \r\n> I fallen in same problem. Go to reference for tsserver LSP works only when I open all libs in my monorepo (nx) setup. In VsCode all works out of the box and I can't solution how to setup LSP in neovim.\r\n\r\nCheck out this thread https://github.com/pmizio/typescript-tools.nvim/issues/124#issuecomment-2118117142",
            "created_at": "2024-05-17T18:45:36Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/1830#issuecomment-2118191641",
            "id": 2118191641,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/1830",
            "node_id": "IC_kwDODTQC185-QQoZ",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2118191641/reactions"
            },
            "updated_at": "2024-05-17T18:45:36Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/2118191641",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/9354213?v=4",
                "events_url": "https://api.github.com/users/faileon/events{/privacy}",
                "followers_url": "https://api.github.com/users/faileon/followers",
                "following_url": "https://api.github.com/users/faileon/following{/other_user}",
                "gists_url": "https://api.github.com/users/faileon/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/faileon",
                "id": 9354213,
                "login": "faileon",
                "node_id": "MDQ6VXNlcjkzNTQyMTM=",
                "organizations_url": "https://api.github.com/users/faileon/orgs",
                "received_events_url": "https://api.github.com/users/faileon/received_events",
                "repos_url": "https://api.github.com/users/faileon/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/faileon/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/faileon/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/faileon"
            }
        }
    ],
    "comments": 14,
    "comments_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/1830/comments",
    "created_at": "2022-04-10T15:48:07Z",
    "events_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/1830/events",
    "html_url": "https://github.com/neovim/nvim-lspconfig/issues/1830",
    "id": 1199080346,
    "labels": [
        {
            "color": "f9d0c4",
            "default": true,
            "description": "Something isn't working",
            "id": 1674892761,
            "name": "bug",
            "node_id": "MDU6TGFiZWwxNjc0ODkyNzYx",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/labels/bug"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/1830/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDODTQC185HeIOa",
    "number": 1830,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/1830/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/nvim-lspconfig",
    "state": "closed",
    "state_reason": "completed",
    "timeline_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/1830/timeline",
    "title": "Go to definition does not work in monorepo",
    "updated_at": "2024-05-17T18:45:37Z",
    "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/1830",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/69594457?v=4",
        "events_url": "https://api.github.com/users/RyanzpLee/events{/privacy}",
        "followers_url": "https://api.github.com/users/RyanzpLee/followers",
        "following_url": "https://api.github.com/users/RyanzpLee/following{/other_user}",
        "gists_url": "https://api.github.com/users/RyanzpLee/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/RyanzpLee",
        "id": 69594457,
        "login": "RyanzpLee",
        "node_id": "MDQ6VXNlcjY5NTk0NDU3",
        "organizations_url": "https://api.github.com/users/RyanzpLee/orgs",
        "received_events_url": "https://api.github.com/users/RyanzpLee/received_events",
        "repos_url": "https://api.github.com/users/RyanzpLee/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/RyanzpLee/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/RyanzpLee/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/RyanzpLee"
    }
}