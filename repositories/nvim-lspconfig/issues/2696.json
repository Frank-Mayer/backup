{
    "active_lock_reason": null,
    "assignee": null,
    "assignees": [],
    "author_association": "NONE",
    "body": "### Description\n\nThe current logic for reusing the server could give some errors in rust if using a `.rust-toolchain.toml`. If one project has one version of rust, and the other project has another version, then it could report errors if it reuses the server. \n\n### Neovim version\n\nNVIM v0.10.0-dev-565+g3688735c2\r\nBuild type: Release\r\nLuaJIT 2.1.0-beta3\n\n### Nvim-lspconfig version\n\n0011c435282f043a018e23393cae06ed926c3f4a\n\n### Operating system and version\n\nmacOS 13.4.1\n\n### Affected language servers\n\nrust-analyzer\n\n### Steps to reproduce\n\nClone this repo: https://github.com/seblj/foo\r\n\r\n1. `nvim -u minimal_init.lua`\r\n2. `:e foo/one/src/main.rs`\r\n3. With for it to start the server\r\n4. `:e foo/two/src/main.rs`\r\n5. Wait for it to index\r\n6. See all the errors about \r\n\r\n<img width=\"805\" alt=\"Screenshot 2023-07-03 at 22 38 23\" src=\"https://github.com/neovim/nvim-lspconfig/assets/5160701/bdcc5b4b-f37b-470b-868d-56a2a42ab778\">\n\n### Actual behavior\n\nIt reuses the server even though the toolchain specifies that it should have a different version. This leads to a bunch of errors.\n\n### Expected behavior\n\nIt should not reuse the server, and instead verify the version and start a new instance if it's not the same version as the current one\r\n\r\nVSCode seems to handle this just fine, although I am not sure how they do it.\n\n### Minimal config\n\n```Lua\nlocal on_windows = vim.loop.os_uname().version:match(\"Windows\")\r\n\r\nlocal function join_paths(...)\r\n\tlocal path_sep = on_windows and \"\\\\\" or \"/\"\r\n\tlocal result = table.concat({ ... }, path_sep)\r\n\treturn result\r\nend\r\n\r\nvim.cmd([[set runtimepath=$VIMRUNTIME]])\r\n\r\nlocal temp_dir = vim.loop.os_getenv(\"TEMP\") or \"/tmp\"\r\n\r\nvim.cmd(\"set packpath=\" .. join_paths(temp_dir, \"nvim\", \"site\"))\r\n\r\nlocal package_root = join_paths(temp_dir, \"nvim\", \"site\", \"pack\")\r\nlocal lspconfig_path = join_paths(package_root, \"test\", \"start\", \"nvim-lspconfig\")\r\n\r\nif vim.fn.isdirectory(lspconfig_path) ~= 1 then\r\n\tvim.fn.system({ \"git\", \"clone\", \"https://github.com/neovim/nvim-lspconfig\", lspconfig_path })\r\nend\r\n\r\nvim.lsp.set_log_level(\"trace\")\r\nrequire(\"vim.lsp.log\").set_format_func(vim.inspect)\r\nlocal nvim_lsp = require(\"lspconfig\")\r\nlocal on_attach = function(_, bufnr)\r\n\tlocal function buf_set_option(...)\r\n\t\tvim.api.nvim_buf_set_option(bufnr, ...)\r\n\tend\r\n\r\n\tbuf_set_option(\"omnifunc\", \"v:lua.vim.lsp.omnifunc\")\r\n\r\n\t-- Mappings.\r\n\tlocal opts = { buffer = bufnr, noremap = true, silent = true }\r\n\tvim.keymap.set(\"n\", \"gD\", vim.lsp.buf.declaration, opts)\r\n\tvim.keymap.set(\"n\", \"gd\", vim.lsp.buf.definition, opts)\r\n\tvim.keymap.set(\"n\", \"K\", vim.lsp.buf.hover, opts)\r\n\tvim.keymap.set(\"n\", \"gi\", vim.lsp.buf.implementation, opts)\r\n\tvim.keymap.set(\"n\", \"<C-k>\", vim.lsp.buf.signature_help, opts)\r\n\tvim.keymap.set(\"n\", \"<space>wa\", vim.lsp.buf.add_workspace_folder, opts)\r\n\tvim.keymap.set(\"n\", \"<space>wr\", vim.lsp.buf.remove_workspace_folder, opts)\r\n\tvim.keymap.set(\"n\", \"<space>wl\", function()\r\n\t\tprint(vim.inspect(vim.lsp.buf.list_workspace_folders()))\r\n\tend, opts)\r\n\tvim.keymap.set(\"n\", \"<space>D\", vim.lsp.buf.type_definition, opts)\r\n\tvim.keymap.set(\"n\", \"<space>rn\", vim.lsp.buf.rename, opts)\r\n\tvim.keymap.set(\"n\", \"gr\", vim.lsp.buf.references, opts)\r\n\tvim.keymap.set(\"n\", \"<space>e\", vim.diagnostic.open_float, opts)\r\n\tvim.keymap.set(\"n\", \"[d\", vim.diagnostic.goto_prev, opts)\r\n\tvim.keymap.set(\"n\", \"]d\", vim.diagnostic.goto_next, opts)\r\n\tvim.keymap.set(\"n\", \"<space>q\", vim.diagnostic.setloclist, opts)\r\nend\r\n\r\nnvim_lsp[\"rust_analyzer\"].setup({ on_attach = on_attach })\n```\n\n\n### LSP log\n\nhttps://gist.github.com/seblj/d675fb3078d1121b96d51e4198697170",
    "closed_at": "2023-07-04T10:54:17Z",
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "can't reproduce \r\n\r\n![image](https://github.com/neovim/nvim-lspconfig/assets/41671631/af6e952e-f10f-4c00-b493-8cc5504572b5)\r\n",
            "created_at": "2023-07-04T07:13:07Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/2696#issuecomment-1619648889",
            "id": 1619648889,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/2696",
            "node_id": "IC_kwDODTQC185gieF5",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1619648889/reactions"
            },
            "updated_at": "2023-07-04T07:13:07Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1619648889",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
                "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
                "followers_url": "https://api.github.com/users/glepnir/followers",
                "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
                "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glepnir",
                "id": 41671631,
                "login": "glepnir",
                "node_id": "MDQ6VXNlcjQxNjcxNjMx",
                "organizations_url": "https://api.github.com/users/glepnir/orgs",
                "received_events_url": "https://api.github.com/users/glepnir/received_events",
                "repos_url": "https://api.github.com/users/glepnir/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glepnir"
            }
        },
        {
            "author_association": "NONE",
            "body": "Did you try the minimal config? Because the screenshot is not from minimal config",
            "created_at": "2023-07-04T07:54:43Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/2696#issuecomment-1619725805",
            "id": 1619725805,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/2696",
            "node_id": "IC_kwDODTQC185giw3t",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1619725805/reactions"
            },
            "updated_at": "2023-07-04T07:54:43Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1619725805",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5160701?v=4",
                "events_url": "https://api.github.com/users/seblj/events{/privacy}",
                "followers_url": "https://api.github.com/users/seblj/followers",
                "following_url": "https://api.github.com/users/seblj/following{/other_user}",
                "gists_url": "https://api.github.com/users/seblj/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seblj",
                "id": 5160701,
                "login": "seblj",
                "node_id": "MDQ6VXNlcjUxNjA3MDE=",
                "organizations_url": "https://api.github.com/users/seblj/orgs",
                "received_events_url": "https://api.github.com/users/seblj/received_events",
                "repos_url": "https://api.github.com/users/seblj/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seblj/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seblj/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seblj"
            }
        },
        {
            "author_association": "NONE",
            "body": "And it's important that you open `foo/one/src/main.rs` before `foo/two/src/main.rs`",
            "created_at": "2023-07-04T07:55:53Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/2696#issuecomment-1619728222",
            "id": 1619728222,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/2696",
            "node_id": "IC_kwDODTQC185gixde",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1619728222/reactions"
            },
            "updated_at": "2023-07-04T07:55:53Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1619728222",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5160701?v=4",
                "events_url": "https://api.github.com/users/seblj/events{/privacy}",
                "followers_url": "https://api.github.com/users/seblj/followers",
                "following_url": "https://api.github.com/users/seblj/following{/other_user}",
                "gists_url": "https://api.github.com/users/seblj/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seblj",
                "id": 5160701,
                "login": "seblj",
                "node_id": "MDQ6VXNlcjUxNjA3MDE=",
                "organizations_url": "https://api.github.com/users/seblj/orgs",
                "received_events_url": "https://api.github.com/users/seblj/received_events",
                "repos_url": "https://api.github.com/users/seblj/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seblj/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seblj/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seblj"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "> And it's important that you open `foo/one/src/main.rs` before `foo/two/src/main.rs`\r\n\r\nyep open one before two. my config just simple . my rust_analyzer config also simple.  did you try latest rust-analyzer \r\n\r\n```lua\r\nlspconfig.rust_analyzer.setup({\r\n  on_attach = M._attach,\r\n  settings = {\r\n    ['rust-analyzer'] = {\r\n      imports = {\r\n        granularity = {\r\n          group = 'module',\r\n        },\r\n        prefix = 'self',\r\n      },\r\n      cargo = {\r\n        buildScripts = {\r\n          enable = true,\r\n        },\r\n      },\r\n      procMacro = {\r\n        enable = true,\r\n      },\r\n    },\r\n  },\r\n})\r\n```",
            "created_at": "2023-07-04T08:03:28Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/2696#issuecomment-1619740901",
            "id": 1619740901,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/2696",
            "node_id": "IC_kwDODTQC185gi0jl",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1619740901/reactions"
            },
            "updated_at": "2023-07-04T08:04:02Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1619740901",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
                "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
                "followers_url": "https://api.github.com/users/glepnir/followers",
                "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
                "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glepnir",
                "id": 41671631,
                "login": "glepnir",
                "node_id": "MDQ6VXNlcjQxNjcxNjMx",
                "organizations_url": "https://api.github.com/users/glepnir/orgs",
                "received_events_url": "https://api.github.com/users/glepnir/received_events",
                "repos_url": "https://api.github.com/users/glepnir/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glepnir"
            }
        },
        {
            "author_association": "NONE",
            "body": "Yes, but try with default rust_analyzer config. Comment out the settings you have for it",
            "created_at": "2023-07-04T08:04:53Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/2696#issuecomment-1619743653",
            "id": 1619743653,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/2696",
            "node_id": "IC_kwDODTQC185gi1Ol",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1619743653/reactions"
            },
            "updated_at": "2023-07-04T08:04:53Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1619743653",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5160701?v=4",
                "events_url": "https://api.github.com/users/seblj/events{/privacy}",
                "followers_url": "https://api.github.com/users/seblj/followers",
                "following_url": "https://api.github.com/users/seblj/following{/other_user}",
                "gists_url": "https://api.github.com/users/seblj/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seblj",
                "id": 5160701,
                "login": "seblj",
                "node_id": "MDQ6VXNlcjUxNjA3MDE=",
                "organizations_url": "https://api.github.com/users/seblj/orgs",
                "received_events_url": "https://api.github.com/users/seblj/received_events",
                "repos_url": "https://api.github.com/users/seblj/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seblj/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seblj/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seblj"
            }
        },
        {
            "author_association": "NONE",
            "body": "The problem is because the two folders are using different versions of `rust-analyzer`, because `foo/one` is using `rust-analyzer 1.70.0 (90c54180 2023-05-31)`, and `foo/two` is using `rust-analyzer 1.72.0-nightly (8084f397 2023-06-25)` because of `rust-toolchain.toml`.\r\n\r\nAnd if you open `foo/one/src/main.rs` first, then the stable version of `rust-analyzer` is used, and also used for `foo/two/src/main.rs` which I expect should be using the nightly version because of `rust-toolchain.rs`.",
            "created_at": "2023-07-04T08:11:25Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/2696#issuecomment-1619754834",
            "id": 1619754834,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/2696",
            "node_id": "IC_kwDODTQC185gi39S",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1619754834/reactions"
            },
            "updated_at": "2023-07-04T08:12:49Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1619754834",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5160701?v=4",
                "events_url": "https://api.github.com/users/seblj/events{/privacy}",
                "followers_url": "https://api.github.com/users/seblj/followers",
                "following_url": "https://api.github.com/users/seblj/following{/other_user}",
                "gists_url": "https://api.github.com/users/seblj/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seblj",
                "id": 5160701,
                "login": "seblj",
                "node_id": "MDQ6VXNlcjUxNjA3MDE=",
                "organizations_url": "https://api.github.com/users/seblj/orgs",
                "received_events_url": "https://api.github.com/users/seblj/received_events",
                "repos_url": "https://api.github.com/users/seblj/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seblj/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seblj/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seblj"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "I know your point but for min test can't reproduce.\r\n![Untitled](https://github.com/neovim/nvim-lspconfig/assets/41671631/a6d11008-f699-4416-bc57-3a94083da3f2)\r\n\r\n",
            "created_at": "2023-07-04T08:18:18Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/2696#issuecomment-1619766570",
            "id": 1619766570,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/2696",
            "node_id": "IC_kwDODTQC185gi60q",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1619766570/reactions"
            },
            "updated_at": "2023-07-04T08:18:18Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1619766570",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
                "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
                "followers_url": "https://api.github.com/users/glepnir/followers",
                "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
                "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glepnir",
                "id": 41671631,
                "login": "glepnir",
                "node_id": "MDQ6VXNlcjQxNjcxNjMx",
                "organizations_url": "https://api.github.com/users/glepnir/orgs",
                "received_events_url": "https://api.github.com/users/glepnir/received_events",
                "repos_url": "https://api.github.com/users/glepnir/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glepnir"
            }
        },
        {
            "author_association": "NONE",
            "body": "What is your version of rust-analyzer in the two folders? Here is mine:\r\n\r\n<img width=\"596\" alt=\"Screenshot 2023-07-04 at 10 23 39\" src=\"https://github.com/neovim/nvim-lspconfig/assets/5160701/7fd83b97-c4f5-4924-b0a5-8cd0c2824b6d\">\r\n\r\n<img width=\"605\" alt=\"Screenshot 2023-07-04 at 10 24 18\" src=\"https://github.com/neovim/nvim-lspconfig/assets/5160701/14fb8e85-63b6-413a-a699-3a73d4f4c8ed\">\r\n\r\n\r\nhttps://github.com/neovim/nvim-lspconfig/assets/5160701/9f68fe1f-f712-4c79-a7c3-0aceade0f1cb\r\n\r\nAnd did you also remove all the settings for `rust-analyzer` so it's only: \r\n`require(\"lspconfig\")[\"rust_analyzer\"].setup({ on_attach = on_attach })`?",
            "created_at": "2023-07-04T08:26:26Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/2696#issuecomment-1619782214",
            "id": 1619782214,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/2696",
            "node_id": "IC_kwDODTQC185gi-pG",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1619782214/reactions"
            },
            "updated_at": "2023-07-04T08:26:26Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1619782214",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5160701?v=4",
                "events_url": "https://api.github.com/users/seblj/events{/privacy}",
                "followers_url": "https://api.github.com/users/seblj/followers",
                "following_url": "https://api.github.com/users/seblj/following{/other_user}",
                "gists_url": "https://api.github.com/users/seblj/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seblj",
                "id": 5160701,
                "login": "seblj",
                "node_id": "MDQ6VXNlcjUxNjA3MDE=",
                "organizations_url": "https://api.github.com/users/seblj/orgs",
                "received_events_url": "https://api.github.com/users/seblj/received_events",
                "repos_url": "https://api.github.com/users/seblj/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seblj/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seblj/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seblj"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "your version is too old. new is `07-02`",
            "created_at": "2023-07-04T08:39:14Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/2696#issuecomment-1619802182",
            "id": 1619802182,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/2696",
            "node_id": "IC_kwDODTQC185gjDhG",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1619802182/reactions"
            },
            "updated_at": "2023-07-04T08:39:14Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1619802182",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
                "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
                "followers_url": "https://api.github.com/users/glepnir/followers",
                "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
                "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glepnir",
                "id": 41671631,
                "login": "glepnir",
                "node_id": "MDQ6VXNlcjQxNjcxNjMx",
                "organizations_url": "https://api.github.com/users/glepnir/orgs",
                "received_events_url": "https://api.github.com/users/glepnir/received_events",
                "repos_url": "https://api.github.com/users/glepnir/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glepnir"
            }
        },
        {
            "author_association": "NONE",
            "body": "Can you please navigate to the two directories and say what the version of rust-analyzer is in those two directories?\r\n\r\nAnd how do you install rust-analyzer? I install it through `rustup` with `rustup component add rust-analyzer`\r\n\r\nI suspect that you have default rust nightly on or something, and the the nightly rust-analyzer will attach to both buffers, and then the issue will go away. However, I don't think that is expected, as it might add other issues",
            "created_at": "2023-07-04T08:59:34Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/2696#issuecomment-1619836575",
            "id": 1619836575,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/2696",
            "node_id": "IC_kwDODTQC185gjL6f",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1619836575/reactions"
            },
            "updated_at": "2023-07-04T09:03:01Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1619836575",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5160701?v=4",
                "events_url": "https://api.github.com/users/seblj/events{/privacy}",
                "followers_url": "https://api.github.com/users/seblj/followers",
                "following_url": "https://api.github.com/users/seblj/following{/other_user}",
                "gists_url": "https://api.github.com/users/seblj/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seblj",
                "id": 5160701,
                "login": "seblj",
                "node_id": "MDQ6VXNlcjUxNjA3MDE=",
                "organizations_url": "https://api.github.com/users/seblj/orgs",
                "received_events_url": "https://api.github.com/users/seblj/received_events",
                "repos_url": "https://api.github.com/users/seblj/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seblj/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seblj/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seblj"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "just use package management install `rust-analyzer`  . my default of rust is `stable`  for check version both in stable. \r\n\r\ncheck your pic . you start two rust-analyzer one in `1.70` two in `1.72` . you use component add two version rust-analyzer. \r\n\r\njust install one .\r\n\r\n![image](https://github.com/neovim/nvim-lspconfig/assets/41671631/a1432378-fc2f-489d-84a3-ef8b9594bd98)\r\n",
            "created_at": "2023-07-04T09:26:38Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/2696#issuecomment-1619883756",
            "id": 1619883756,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/2696",
            "node_id": "IC_kwDODTQC185gjXbs",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1619883756/reactions"
            },
            "updated_at": "2023-07-04T09:26:38Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1619883756",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/41671631?v=4",
                "events_url": "https://api.github.com/users/glepnir/events{/privacy}",
                "followers_url": "https://api.github.com/users/glepnir/followers",
                "following_url": "https://api.github.com/users/glepnir/following{/other_user}",
                "gists_url": "https://api.github.com/users/glepnir/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/glepnir",
                "id": 41671631,
                "login": "glepnir",
                "node_id": "MDQ6VXNlcjQxNjcxNjMx",
                "organizations_url": "https://api.github.com/users/glepnir/orgs",
                "received_events_url": "https://api.github.com/users/glepnir/received_events",
                "repos_url": "https://api.github.com/users/glepnir/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/glepnir/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/glepnir/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/glepnir"
            }
        },
        {
            "author_association": "NONE",
            "body": "Alright, I can try using nightly rust-analyzer for stable project",
            "created_at": "2023-07-04T10:54:17Z",
            "html_url": "https://github.com/neovim/nvim-lspconfig/issues/2696#issuecomment-1620022941",
            "id": 1620022941,
            "issue_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/2696",
            "node_id": "IC_kwDODTQC185gj5ad",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1620022941/reactions"
            },
            "updated_at": "2023-07-04T10:54:17Z",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/comments/1620022941",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5160701?v=4",
                "events_url": "https://api.github.com/users/seblj/events{/privacy}",
                "followers_url": "https://api.github.com/users/seblj/followers",
                "following_url": "https://api.github.com/users/seblj/following{/other_user}",
                "gists_url": "https://api.github.com/users/seblj/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/seblj",
                "id": 5160701,
                "login": "seblj",
                "node_id": "MDQ6VXNlcjUxNjA3MDE=",
                "organizations_url": "https://api.github.com/users/seblj/orgs",
                "received_events_url": "https://api.github.com/users/seblj/received_events",
                "repos_url": "https://api.github.com/users/seblj/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/seblj/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/seblj/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/seblj"
            }
        }
    ],
    "comments": 12,
    "comments_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/2696/comments",
    "created_at": "2023-07-03T20:40:32Z",
    "events_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/2696/events",
    "html_url": "https://github.com/neovim/nvim-lspconfig/issues/2696",
    "id": 1786788390,
    "labels": [
        {
            "color": "f9d0c4",
            "default": true,
            "description": "Something isn't working",
            "id": 1674892761,
            "name": "bug",
            "node_id": "MDU6TGFiZWwxNjc0ODkyNzYx",
            "url": "https://api.github.com/repos/neovim/nvim-lspconfig/labels/bug"
        }
    ],
    "labels_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/2696/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "I_kwDODTQC185qgDom",
    "number": 2696,
    "performed_via_github_app": null,
    "reactions": {
        "+1": 0,
        "-1": 0,
        "confused": 0,
        "eyes": 0,
        "heart": 0,
        "hooray": 0,
        "laugh": 0,
        "rocket": 0,
        "total_count": 0,
        "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/2696/reactions"
    },
    "repository_url": "https://api.github.com/repos/neovim/nvim-lspconfig",
    "state": "closed",
    "state_reason": "completed",
    "timeline_url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/2696/timeline",
    "title": "rust-analyzer: do not reuse server if rust-toolchain has different version",
    "updated_at": "2023-07-04T10:54:18Z",
    "url": "https://api.github.com/repos/neovim/nvim-lspconfig/issues/2696",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/5160701?v=4",
        "events_url": "https://api.github.com/users/seblj/events{/privacy}",
        "followers_url": "https://api.github.com/users/seblj/followers",
        "following_url": "https://api.github.com/users/seblj/following{/other_user}",
        "gists_url": "https://api.github.com/users/seblj/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/seblj",
        "id": 5160701,
        "login": "seblj",
        "node_id": "MDQ6VXNlcjUxNjA3MDE=",
        "organizations_url": "https://api.github.com/users/seblj/orgs",
        "received_events_url": "https://api.github.com/users/seblj/received_events",
        "repos_url": "https://api.github.com/users/seblj/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/seblj/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/seblj/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/seblj"
    }
}